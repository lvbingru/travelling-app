__DEV__ = 
true;


__BUNDLE_START_TIME__ = Date.now();
(
function(global){
var modules=Object.create(null);
var inGuard=false;

function define(id,factory){
modules[id] = {
factory:factory,
module:{exports:{}},
isInitialized:false,
hasError:false};}



function require(id){
var mod=modules[id];
if(mod && mod.isInitialized){
return mod.module.exports;}


return requireImpl(id);}


function requireImpl(id){
if(global.ErrorUtils && !inGuard){
inGuard = true;
var returnValue;
try{
returnValue = requireImpl.apply(this,arguments);}
catch(e) {
global.ErrorUtils.reportFatalError(e);}

inGuard = false;
return returnValue;}


var mod=modules[id];
if(!mod){
var msg='Requiring unknown module "' + id + '"';
if(__DEV__){
msg += '. If you are sure the module is there, try restarting the packager.';}

throw new Error(msg);}


if(mod.hasError){
throw new Error(
'Requiring module "' + id + '" which threw an exception');}



try{


mod.isInitialized = true;



mod.factory.call(global,global,require,mod.module,mod.module.exports);}
catch(e) {
mod.hasError = true;
mod.isInitialized = false;
throw e;}


return mod.module.exports;}


global.__d = define;
global.require = require;})(
this);
Object.

















assign = function(target,sources){
if(__DEV__){
if(target == null){
throw new TypeError('Object.assign target cannot be null or undefined');}

if(typeof target !== 'object' && typeof target !== 'function'){
throw new TypeError(
'In this environment the target of assign MUST be an object.' + 
'This error is a performance optimization and not spec compliant.');}}




for(var nextIndex=1;nextIndex < arguments.length;nextIndex++) {
var nextSource=arguments[nextIndex];
if(nextSource == null){
continue;}


if(__DEV__){
if(typeof nextSource !== 'object' && 
typeof nextSource !== 'function'){
throw new TypeError(
'In this environment the target of assign MUST be an object.' + 
'This error is a performance optimization and not spec compliant.');}}








for(var key in nextSource) {
if(__DEV__){
var hasOwnProperty=Object.prototype.hasOwnProperty;
if(!hasOwnProperty.call(nextSource,key)){
throw new TypeError(
'One of the sources to assign has an enumerable key on the ' + 
'prototype chain. This is an edge case that we do not support. ' + 
'This error is a performance optimization and not spec compliant.');}}



target[key] = nextSource[key];}}



return target;};
(















function(global){
'use strict';

var inspect=(function(){























function inspect(obj,opts){
var ctx={
seen:[],
stylize:stylizeNoColor};

return formatValue(ctx,obj,opts.depth);}


function stylizeNoColor(str,styleType){
return str;}


function arrayToHash(array){
var hash={};

array.forEach(function(val,idx){
hash[val] = true;});


return hash;}



function formatValue(ctx,value,recurseTimes){

var primitive=formatPrimitive(ctx,value);
if(primitive){
return primitive;}



var keys=Object.keys(value);
var visibleKeys=arrayToHash(keys);



if(isError(value) && (
keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)){
return formatError(value);}



if(keys.length === 0){
if(isFunction(value)){
var name=value.name?': ' + value.name:'';
return ctx.stylize('[Function' + name + ']','special');}

if(isRegExp(value)){
return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}

if(isDate(value)){
return ctx.stylize(Date.prototype.toString.call(value),'date');}

if(isError(value)){
return formatError(value);}}



var base='',array=false,braces=['{','}'];


if(isArray(value)){
array = true;
braces = ['[',']'];}



if(isFunction(value)){
var n=value.name?': ' + value.name:'';
base = ' [Function' + n + ']';}



if(isRegExp(value)){
base = ' ' + RegExp.prototype.toString.call(value);}



if(isDate(value)){
base = ' ' + Date.prototype.toUTCString.call(value);}



if(isError(value)){
base = ' ' + formatError(value);}


if(keys.length === 0 && (!array || value.length == 0)){
return braces[0] + base + braces[1];}


if(recurseTimes < 0){
if(isRegExp(value)){
return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else 
{
return ctx.stylize('[Object]','special');}}



ctx.seen.push(value);

var output;
if(array){
output = formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else 
{
output = keys.map(function(key){
return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}



ctx.seen.pop();

return reduceToSingleString(output,base,braces);}



function formatPrimitive(ctx,value){
if(isUndefined(value))
return ctx.stylize('undefined','undefined');
if(isString(value)){
var simple='\'' + JSON.stringify(value).replace(/^"|"$/g,'').
replace(/'/g,"\\'").
replace(/\\"/g,'"') + '\'';
return ctx.stylize(simple,'string');}

if(isNumber(value))
return ctx.stylize('' + value,'number');
if(isBoolean(value))
return ctx.stylize('' + value,'boolean');

if(isNull(value))
return ctx.stylize('null','null');}



function formatError(value){
return '[' + Error.prototype.toString.call(value) + ']';}



function formatArray(ctx,value,recurseTimes,visibleKeys,keys){
var output=[];
for(var i=0,l=value.length;i < l;++i) {
if(hasOwnProperty(value,String(i))){
output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,
String(i),true));}else 
{
output.push('');}}


keys.forEach(function(key){
if(!key.match(/^\d+$/)){
output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,
key,true));}});


return output;}



function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){
var name,str,desc;
desc = Object.getOwnPropertyDescriptor(value,key) || {value:value[key]};
if(desc.get){
if(desc.set){
str = ctx.stylize('[Getter/Setter]','special');}else 
{
str = ctx.stylize('[Getter]','special');}}else 

{
if(desc.set){
str = ctx.stylize('[Setter]','special');}}


if(!hasOwnProperty(visibleKeys,key)){
name = '[' + key + ']';}

if(!str){
if(ctx.seen.indexOf(desc.value) < 0){
if(isNull(recurseTimes)){
str = formatValue(ctx,desc.value,null);}else 
{
str = formatValue(ctx,desc.value,recurseTimes - 1);}

if(str.indexOf('\n') > -1){
if(array){
str = str.split('\n').map(function(line){
return '  ' + line;}).
join('\n').substr(2);}else 
{
str = '\n' + str.split('\n').map(function(line){
return '   ' + line;}).
join('\n');}}}else 


{
str = ctx.stylize('[Circular]','special');}}


if(isUndefined(name)){
if(array && key.match(/^\d+$/)){
return str;}

name = JSON.stringify('' + key);
if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){
name = name.substr(1,name.length - 2);
name = ctx.stylize(name,'name');}else 
{
name = name.replace(/'/g,"\\'").
replace(/\\"/g,'"').
replace(/(^"|"$)/g,"'");
name = ctx.stylize(name,'string');}}



return name + ': ' + str;}



function reduceToSingleString(output,base,braces){
var numLinesEst=0;
var length=output.reduce(function(prev,cur){
numLinesEst++;
if(cur.indexOf('\n') >= 0)numLinesEst++;
return prev + cur.replace(/\u001b\[\d\d?m/g,'').length + 1;},
0);

if(length > 60){
return braces[0] + (
base === ''?'':base + '\n ') + 
' ' + 
output.join(',\n  ') + 
' ' + 
braces[1];}


return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];}





function isArray(ar){
return Array.isArray(ar);}


function isBoolean(arg){
return typeof arg === 'boolean';}


function isNull(arg){
return arg === null;}


function isNullOrUndefined(arg){
return arg == null;}


function isNumber(arg){
return typeof arg === 'number';}


function isString(arg){
return typeof arg === 'string';}


function isSymbol(arg){
return typeof arg === 'symbol';}


function isUndefined(arg){
return arg === void 0;}


function isRegExp(re){
return isObject(re) && objectToString(re) === '[object RegExp]';}


function isObject(arg){
return typeof arg === 'object' && arg !== null;}


function isDate(d){
return isObject(d) && objectToString(d) === '[object Date]';}


function isError(e){
return isObject(e) && (
objectToString(e) === '[object Error]' || e instanceof Error);}


function isFunction(arg){
return typeof arg === 'function';}


function isPrimitive(arg){
return arg === null || 
typeof arg === 'boolean' || 
typeof arg === 'number' || 
typeof arg === 'string' || 
typeof arg === 'symbol' || 
typeof arg === 'undefined';}


function objectToString(o){
return Object.prototype.toString.call(o);}


function hasOwnProperty(obj,prop){
return Object.prototype.hasOwnProperty.call(obj,prop);}


return inspect;})();



var OBJECT_COLUMN_NAME='(index)';
var LOG_LEVELS={
trace:0,
log:1,
info:2,
warn:3,
error:4};


function setupConsole(global){

var originalConsole=global.console;

if(!global.nativeLoggingHook){
return;}


function getNativeLogFunction(level){
return function(){
var str=Array.prototype.map.call(arguments,function(arg){
return inspect(arg,{depth:10});}).
join(', ');
if(str.slice(0,10) === "'Warning: " && level >= LOG_LEVELS.error){



level = LOG_LEVELS.warn;}

global.nativeLoggingHook(str,level);};}



var repeat=function(element,n){
return Array.apply(null,Array(n)).map(function(){return element;});};


function consoleTablePolyfill(rows){

if(!Array.isArray(rows)){
var data=rows;
rows = [];
for(var key in data) {
if(data.hasOwnProperty(key)){
var row=data[key];
row[OBJECT_COLUMN_NAME] = key;
rows.push(row);}}}



if(rows.length === 0){
global.nativeLoggingHook('',LOG_LEVELS.log);
return;}


var columns=Object.keys(rows[0]).sort();
var stringRows=[];
var columnWidths=[];



columns.forEach(function(k,i){
columnWidths[i] = k.length;
for(var j=0;j < rows.length;j++) {
var cellStr=rows[j][k].toString();
stringRows[j] = stringRows[j] || [];
stringRows[j][i] = cellStr;
columnWidths[i] = Math.max(columnWidths[i],cellStr.length);}});





var joinRow=function(row,space){
var cells=row.map(function(cell,i){
var extraSpaces=repeat(' ',columnWidths[i] - cell.length).join('');
return cell + extraSpaces;});

space = space || ' ';
return cells.join(space + '|' + space);};


var separators=columnWidths.map(function(columnWidth){
return repeat('-',columnWidth).join('');});

var separatorRow=joinRow(separators,'-');
var header=joinRow(columns);
var table=[header,separatorRow];

for(var i=0;i < rows.length;i++) {
table.push(joinRow(stringRows[i]));}






global.nativeLoggingHook('\n' + table.join('\n'),LOG_LEVELS.log);}


global.console = {
error:getNativeLogFunction(LOG_LEVELS.error),
info:getNativeLogFunction(LOG_LEVELS.info),
log:getNativeLogFunction(LOG_LEVELS.log),
warn:getNativeLogFunction(LOG_LEVELS.warn),
trace:getNativeLogFunction(LOG_LEVELS.trace),
table:consoleTablePolyfill};





if(__DEV__ && originalConsole){
Object.keys(global.console).forEach(function(methodName){
var reactNativeMethod=global.console[methodName];
if(originalConsole[methodName]){
global.console[methodName] = function(){
originalConsole[methodName].apply(originalConsole,arguments);
reactNativeMethod.apply(global.console,arguments);};}});}}






if(typeof module !== 'undefined'){
module.exports = setupConsole;}else 
{
setupConsole(global);}})(


this);
(















function(global){
var ErrorUtils={
_inGuard:0,
_globalHandler:null,
setGlobalHandler:function(fun){
ErrorUtils._globalHandler = fun;},

reportError:function(error){
ErrorUtils._globalHandler && ErrorUtils._globalHandler(error);},

reportFatalError:function(error){
ErrorUtils._globalHandler && ErrorUtils._globalHandler(error,true);},

applyWithGuard:function(fun,context,args){
try{
ErrorUtils._inGuard++;
return fun.apply(context,args);}
catch(e) {
ErrorUtils.reportError(e);}finally 
{
ErrorUtils._inGuard--;}},


applyWithGuardIfNeeded:function(fun,context,args){
if(ErrorUtils.inGuard()){
return fun.apply(context,args);}else 
{
ErrorUtils.applyWithGuard(fun,context,args);}},


inGuard:function(){
return ErrorUtils._inGuard;},

guard:function(fun,name,context){
if(typeof fun !== 'function'){
console.warn('A function must be passed to ErrorUtils.guard, got ',fun);
return null;}

name = name || fun.name || '<generated guard>';
function guarded(){
return (
ErrorUtils.applyWithGuard(
fun,
context || this,
arguments,
null,
name));}




return guarded;}};


global.ErrorUtils = ErrorUtils;





function setupErrorGuard(){
var onError=function(e){
global.console.error(
'Error: ' + 
'\n stack: ' + e.stack + 
'\n line: ' + e.line + 
'\n message: ' + e.message,
e);};


global.ErrorUtils.setGlobalHandler(onError);}


setupErrorGuard();})(
this);
if(











!String.prototype.startsWith){
String.prototype.startsWith = function(search){
'use strict';
if(this == null){
throw TypeError();}

var string=String(this);
var pos=arguments.length > 1?
Number(arguments[1]) || 0:0;
var start=Math.min(Math.max(pos,0),string.length);
return string.indexOf(String(search),pos) === start;};}



if(!String.prototype.endsWith){
String.prototype.endsWith = function(search){
'use strict';
if(this == null){
throw TypeError();}

var string=String(this);
var stringLength=string.length;
var searchString=String(search);
var pos=arguments.length > 1?
Number(arguments[1]) || 0:stringLength;
var end=Math.min(Math.max(pos,0),stringLength);
var start=end - searchString.length;
if(start < 0){
return false;}

return string.lastIndexOf(searchString,start) === start;};}



if(!String.prototype.contains){
String.prototype.contains = function(search){
'use strict';
if(this == null){
throw TypeError();}

var string=String(this);
var pos=arguments.length > 1?
Number(arguments[1]) || 0:0;
return string.indexOf(String(search),pos) !== -1;};}



if(!String.prototype.repeat){
String.prototype.repeat = function(count){
'use strict';
if(this == null){
throw TypeError();}

var string=String(this);
count = Number(count) || 0;
if(count < 0 || count === Infinity){
throw RangeError();}

if(count === 1){
return string;}

var result='';
while(count) {
if(count & 1){
result += string;}

if(count >>= 1){
string += string;}}


return result;};}
(









function(undefined){

function findIndex(predicate,context){
if(this == null){
throw new TypeError(
'Array.prototype.findIndex called on null or undefined');}


if(typeof predicate !== 'function'){
throw new TypeError('predicate must be a function');}

var list=Object(this);
var length=list.length >>> 0;
for(var i=0;i < length;i++) {
if(predicate.call(context,list[i],i,list)){
return i;}}


return -1;}


if(!Array.prototype.findIndex){
Object.defineProperty(Array.prototype,'findIndex',{
enumerable:false,
writable:true,
configurable:true,
value:findIndex});}




if(!Array.prototype.find){
Object.defineProperty(Array.prototype,'find',{
enumerable:false,
writable:true,
configurable:true,
value:function(predicate,context){
if(this == null){
throw new TypeError(
'Array.prototype.find called on null or undefined');}


var index=findIndex.call(this,predicate,context);
return index === -1?undefined:this[index];}});}})();
__d('AwesomeProject/index.ios.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');
var AppRegistry=React.AppRegistry;

var Home=require('AwesomeProject/Root.js');
var config=require('AwesomeProject/src/config.js');
config.platform = 'ios';

AppRegistry.registerComponent('AwesomeProject',function(){return Home;});
});
__d('react-native/Libraries/react-native/react-native.js',function(global, require, module, exports) {  'use strict';


















var ReactNative=Object.assign(Object.create(require('React')),{

ActivityIndicatorIOS:require('ActivityIndicatorIOS'),
DatePickerIOS:require('DatePickerIOS'),
DrawerLayoutAndroid:require('DrawerLayoutAndroid'),
Image:require('Image'),
ListView:require('ListView'),
MapView:require('MapView'),
Modal:require('Modal'),
Navigator:require('Navigator'),
NavigatorIOS:require('NavigatorIOS'),
PickerIOS:require('PickerIOS'),
ProgressBarAndroid:require('ProgressBarAndroid'),
ProgressViewIOS:require('ProgressViewIOS'),
ScrollView:require('ScrollView'),
SegmentedControlIOS:require('SegmentedControlIOS'),
SliderIOS:require('SliderIOS'),
SnapshotViewIOS:require('SnapshotViewIOS'),
Switch:require('Switch'),
SwitchAndroid:require('SwitchAndroid'),
SwitchIOS:require('SwitchIOS'),
TabBarIOS:require('TabBarIOS'),
Text:require('Text'),
TextInput:require('TextInput'),
ToastAndroid:require('ToastAndroid'),
ToolbarAndroid:require('ToolbarAndroid'),
TouchableHighlight:require('TouchableHighlight'),
TouchableNativeFeedback:require('TouchableNativeFeedback'),
TouchableOpacity:require('TouchableOpacity'),
TouchableWithoutFeedback:require('TouchableWithoutFeedback'),
View:require('View'),
ViewPagerAndroid:require('ViewPagerAndroid'),
WebView:require('WebView'),


ActionSheetIOS:require('ActionSheetIOS'),
AdSupportIOS:require('AdSupportIOS'),
AlertIOS:require('AlertIOS'),
Animated:require('Animated'),
AppRegistry:require('AppRegistry'),
AppStateIOS:require('AppStateIOS'),
AsyncStorage:require('AsyncStorage'),
BackAndroid:require('BackAndroid'),
CameraRoll:require('CameraRoll'),
Dimensions:require('Dimensions'),
Easing:require('Easing'),
ImagePickerIOS:require('ImagePickerIOS'),
InteractionManager:require('InteractionManager'),
LayoutAnimation:require('LayoutAnimation'),
LinkingIOS:require('LinkingIOS'),
NetInfo:require('NetInfo'),
PanResponder:require('PanResponder'),
PixelRatio:require('PixelRatio'),
PushNotificationIOS:require('PushNotificationIOS'),
Settings:require('Settings'),
StatusBarIOS:require('StatusBarIOS'),
StyleSheet:require('StyleSheet'),
VibrationIOS:require('VibrationIOS'),


DeviceEventEmitter:require('RCTDeviceEventEmitter'),
NativeAppEventEmitter:require('RCTNativeAppEventEmitter'),
NativeModules:require('NativeModules'),
Platform:require('Platform'),
processColor:require('processColor'),
requireNativeComponent:require('requireNativeComponent'),


EdgeInsetsPropType:require('EdgeInsetsPropType'),
PointPropType:require('PointPropType'),


addons:{
LinkedStateMixin:require('LinkedStateMixin'),
Perf:undefined,
PureRenderMixin:require('ReactComponentWithPureRenderMixin'),
TestModule:require('NativeModules').TestModule,
TestUtils:undefined,
batchedUpdates:require('ReactUpdates').batchedUpdates,
cloneWithProps:require('cloneWithProps'),
createFragment:require('ReactFragment').create,
update:require('update')}});



if(__DEV__){
ReactNative.addons.Perf = require('ReactDefaultPerf');
ReactNative.addons.TestUtils = require('ReactTestUtils');}


module.exports = ReactNative;
});
__d('React',function(global, require, module, exports) {  'use strict';












module.exports = require('ReactNative');
});
__d('ReactNative',function(global, require, module, exports) {  'use strict';














var ReactNativeDefaultInjection=require('ReactNativeDefaultInjection');

var ReactChildren=require('ReactChildren');
var ReactClass=require('ReactClass');
var ReactComponent=require('ReactComponent');
var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactElement=require('ReactElement');
var ReactElementValidator=require('ReactElementValidator');
var ReactInstanceHandles=require('ReactInstanceHandles');
var ReactNativeMount=require('ReactNativeMount');
var ReactPropTypes=require('ReactPropTypes');
var ReactUpdates=require('ReactUpdates');

var deprecated=require('deprecated');
var findNodeHandle=require('findNodeHandle');
var invariant=require('invariant');
var onlyChild=require('onlyChild');
var warning=require('warning');

ReactNativeDefaultInjection.inject();

var createElement=ReactElement.createElement;
var createFactory=ReactElement.createFactory;
var cloneElement=ReactElement.cloneElement;

if(__DEV__){
createElement = ReactElementValidator.createElement;
createFactory = ReactElementValidator.createFactory;
cloneElement = ReactElementValidator.cloneElement;}


var resolveDefaultProps=function(element){

var defaultProps=element.type.defaultProps;
var props=element.props;
for(var propName in defaultProps) {
if(props[propName] === undefined){
props[propName] = defaultProps[propName];}}};





var augmentElement=function(element){
if(__DEV__){
invariant(
false,
'This optimized path should never be used in DEV mode because ' + 
'it does not provide validation. Check your JSX transform.');}


element._owner = ReactCurrentOwner.current;
if(element.type.defaultProps){
resolveDefaultProps(element);}

return element;};


var render=function(
element,
mountInto,
callback)
{
return ReactNativeMount.renderComponent(element,mountInto,callback);};


var ReactNative={
hasReactNativeInitialized:false,
Children:{
map:ReactChildren.map,
forEach:ReactChildren.forEach,
count:ReactChildren.count,
only:onlyChild},

Component:ReactComponent,
PropTypes:ReactPropTypes,
createClass:ReactClass.createClass,
createElement:createElement,
createFactory:createFactory,
cloneElement:cloneElement,
_augmentElement:augmentElement,
findNodeHandle:findNodeHandle,
render:render,
unmountComponentAtNode:ReactNativeMount.unmountComponentAtNode,


unstable_batchedUpdates:ReactUpdates.batchedUpdates,



__spread:Object.assign,

unmountComponentAtNodeAndRemoveContainer:ReactNativeMount.unmountComponentAtNodeAndRemoveContainer,
isValidClass:ReactElement.isValidFactory,
isValidElement:ReactElement.isValidElement,


renderComponent:function(
element,
mountInto,
callback)
{
warning('Use React.render instead of React.renderComponent');
return ReactNative.render(element,mountInto,callback);}};






if(
typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' && 
typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function'){
__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
CurrentOwner:ReactCurrentOwner,
InstanceHandles:ReactInstanceHandles,
Mount:ReactNativeMount,
Reconciler:require('ReactReconciler'),
TextComponent:require('ReactNativeTextComponent')});}



module.exports = ReactNative;
});
__d('ReactNativeDefaultInjection',function(global, require, module, exports) {  'use strict';















require('InitializeJavaScriptAppEngine');
var EventPluginHub=require('EventPluginHub');
var EventPluginUtils=require('EventPluginUtils');
var IOSDefaultEventPluginOrder=require('IOSDefaultEventPluginOrder');
var IOSNativeBridgeEventPlugin=require('IOSNativeBridgeEventPlugin');
var NodeHandle=require('NodeHandle');
var ReactComponentEnvironment=require('ReactComponentEnvironment');
var ReactDefaultBatchingStrategy=require('ReactDefaultBatchingStrategy');
var ReactEmptyComponent=require('ReactEmptyComponent');
var ReactInstanceHandles=require('ReactInstanceHandles');
var ReactNativeComponentEnvironment=require('ReactNativeComponentEnvironment');
var ReactNativeGlobalInteractionHandler=require('ReactNativeGlobalInteractionHandler');
var ReactNativeGlobalResponderHandler=require('ReactNativeGlobalResponderHandler');
var ReactNativeMount=require('ReactNativeMount');
var ReactNativeTextComponent=require('ReactNativeTextComponent');
var ReactNativeComponent=require('ReactNativeComponent');
var ReactUpdates=require('ReactUpdates');
var ResponderEventPlugin=require('ResponderEventPlugin');
var UniversalWorkerNodeHandle=require('UniversalWorkerNodeHandle');

var createReactNativeComponentClass=require('createReactNativeComponentClass');
var invariant=require('invariant');


require('RCTEventEmitter');
require('RCTLog');
require('JSTimersExecution');

function inject(){



EventPluginHub.injection.injectEventPluginOrder(IOSDefaultEventPluginOrder);
EventPluginHub.injection.injectInstanceHandle(ReactInstanceHandles);

ResponderEventPlugin.injection.injectGlobalResponderHandler(
ReactNativeGlobalResponderHandler);


ResponderEventPlugin.injection.injectGlobalInteractionHandler(
ReactNativeGlobalInteractionHandler);






EventPluginHub.injection.injectEventPluginsByName({
'ResponderEventPlugin':ResponderEventPlugin,
'IOSNativeBridgeEventPlugin':IOSNativeBridgeEventPlugin});


ReactUpdates.injection.injectReconcileTransaction(
ReactNativeComponentEnvironment.ReactReconcileTransaction);


ReactUpdates.injection.injectBatchingStrategy(
ReactDefaultBatchingStrategy);


ReactComponentEnvironment.injection.injectEnvironment(
ReactNativeComponentEnvironment);



var RCTView=createReactNativeComponentClass({
validAttributes:{},
uiViewClassName:'RCTView'});

ReactEmptyComponent.injection.injectEmptyComponent(RCTView);

EventPluginUtils.injection.injectMount(ReactNativeMount);

ReactNativeComponent.injection.injectTextComponentClass(
ReactNativeTextComponent);

ReactNativeComponent.injection.injectGenericComponentClass(function(tag){

var info='';
if(typeof tag === 'string' && /^[a-z]/.test(tag)){
info += ' Each component name should start with an uppercase letter.';}

invariant(false,'Expected a component class, got %s.%s',tag,info);});


NodeHandle.injection.injectImplementation(UniversalWorkerNodeHandle);}


module.exports = {
inject:inject};
});
__d('InitializeJavaScriptAppEngine',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};























require('regenerator/runtime.js');

if(typeof GLOBAL === 'undefined'){
GLOBAL = this;}


if(typeof window === 'undefined'){
window = GLOBAL;}


function handleError(e,isFatal){
try{
require('ExceptionsManager').handleException(e,isFatal);}
catch(ee) {
console.log('Failed to print error: ',ee.message);}}


















function polyfillGlobal(name,newValue){var scope=arguments.length <= 2 || arguments[2] === undefined?GLOBAL:arguments[2];
var descriptor=Object.getOwnPropertyDescriptor(scope,name) || {




writable:true};


if(scope[name] !== undefined){
var backupName='original' + name[0].toUpperCase() + name.substr(1);
Object.defineProperty(scope,backupName,_extends({},descriptor,{value:scope[name]}));}


Object.defineProperty(scope,name,_extends({},descriptor,{value:newValue}));}


function setUpRedBoxErrorHandler(){
var ErrorUtils=require('ErrorUtils');
ErrorUtils.setGlobalHandler(handleError);}


function setUpRedBoxConsoleErrorHandler(){

var ExceptionsManager=require('ExceptionsManager');
var Platform=require('Platform');

if(__DEV__ && Platform.OS === 'ios'){
ExceptionsManager.installConsoleErrorReporter();}}



function setUpFlowChecker(){
if(__DEV__){
var checkFlowAtRuntime=require('checkFlowAtRuntime');
checkFlowAtRuntime();}}










function setUpTimers(){
var JSTimers=require('JSTimers');
GLOBAL.setTimeout = JSTimers.setTimeout;
GLOBAL.setInterval = JSTimers.setInterval;
GLOBAL.setImmediate = JSTimers.setImmediate;
GLOBAL.clearTimeout = JSTimers.clearTimeout;
GLOBAL.clearInterval = JSTimers.clearInterval;
GLOBAL.clearImmediate = JSTimers.clearImmediate;
GLOBAL.cancelAnimationFrame = JSTimers.clearInterval;
GLOBAL.requestAnimationFrame = function(cb){

return JSTimers.requestAnimationFrame(cb);};}



function setUpAlert(){
var RCTAlertManager=require('NativeModules').AlertManager;
if(!GLOBAL.alert){
GLOBAL.alert = function(text){
var alertOpts={
title:'Alert',
message:'' + text,
buttons:[{'cancel':'OK'}]};

RCTAlertManager.alertWithArgs(alertOpts,function(){});};}}




function setUpPromise(){


GLOBAL.Promise = require('Promise');}


function setUpXHR(){


polyfillGlobal('XMLHttpRequest',require('XMLHttpRequest'));
polyfillGlobal('FormData',require('FormData'));

var fetchPolyfill=require('fetch');
polyfillGlobal('fetch',fetchPolyfill.fetch);
polyfillGlobal('Headers',fetchPolyfill.Headers);
polyfillGlobal('Request',fetchPolyfill.Request);
polyfillGlobal('Response',fetchPolyfill.Response);}


function setUpGeolocation(){
GLOBAL.navigator = GLOBAL.navigator || {};
polyfillGlobal('geolocation',require('Geolocation'),GLOBAL.navigator);}


function setUpWebSockets(){
polyfillGlobal('WebSocket',require('WebSocket'));}


function setUpProfile(){
console.profile = console.profile || GLOBAL.nativeTraceBeginSection || function(){};
console.profileEnd = console.profileEnd || GLOBAL.nativeTraceEndSection || function(){};
if(__DEV__){
require('BridgeProfiling').swizzleReactPerf();}}



function setUpProcessEnv(){
GLOBAL.process = GLOBAL.process || {};
GLOBAL.process.env = GLOBAL.process.env || {};
if(!GLOBAL.process.env.NODE_ENV){
GLOBAL.process.env.NODE_ENV = __DEV__?'development':'production';}}



function setUpNumber(){
Number.EPSILON = Number.EPSILON || Math.pow(2,-52);
Number.MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2,53) - 1;
Number.MIN_SAFE_INTEGER = Number.MIN_SAFE_INTEGER || -(Math.pow(2,53) - 1);}


setUpProcessEnv();
setUpRedBoxErrorHandler();
setUpTimers();
setUpAlert();
setUpPromise();
setUpXHR();
setUpRedBoxConsoleErrorHandler();
setUpGeolocation();
setUpWebSockets();
setUpProfile();
setUpFlowChecker();
setUpNumber();



require('RCTDebugComponentOwnership');
require('RCTDeviceEventEmitter');
require('PerformanceLogger');
});
__d('regenerator/runtime.js',function(global, require, module, exports) {  !









(function(global){
"use strict";

var hasOwn=Object.prototype.hasOwnProperty;
var undefined;
var $Symbol=typeof Symbol === "function"?Symbol:{};
var iteratorSymbol=$Symbol.iterator || "@@iterator";
var toStringTagSymbol=$Symbol.toStringTag || "@@toStringTag";

var inModule=typeof module === "object";
var runtime=global.regeneratorRuntime;
if(runtime){
if(inModule){


module.exports = runtime;}



return;}




runtime = global.regeneratorRuntime = inModule?module.exports:{};

function wrap(innerFn,outerFn,self,tryLocsList){

var generator=Object.create((outerFn || Generator).prototype);
var context=new Context(tryLocsList || []);



generator._invoke = makeInvokeMethod(innerFn,self,context);

return generator;}

runtime.wrap = wrap;











function tryCatch(fn,obj,arg){
try{
return {type:"normal",arg:fn.call(obj,arg)};}
catch(err) {
return {type:"throw",arg:err};}}



var GenStateSuspendedStart="suspendedStart";
var GenStateSuspendedYield="suspendedYield";
var GenStateExecuting="executing";
var GenStateCompleted="completed";



var ContinueSentinel={};





function Generator(){}
function GeneratorFunction(){}
function GeneratorFunctionPrototype(){}

var Gp=GeneratorFunctionPrototype.prototype = Generator.prototype;
GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
GeneratorFunctionPrototype.constructor = GeneratorFunction;
GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = "GeneratorFunction";



function defineIteratorMethods(prototype){
["next","throw","return"].forEach(function(method){
prototype[method] = function(arg){
return this._invoke(method,arg);};});}




runtime.isGeneratorFunction = function(genFun){
var ctor=typeof genFun === "function" && genFun.constructor;
return ctor?
ctor === GeneratorFunction || 


(ctor.displayName || ctor.name) === "GeneratorFunction":
false;};


runtime.mark = function(genFun){
if(Object.setPrototypeOf){
Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else 
{
genFun.__proto__ = GeneratorFunctionPrototype;
if(!(toStringTagSymbol in genFun)){
genFun[toStringTagSymbol] = "GeneratorFunction";}}


genFun.prototype = Object.create(Gp);
return genFun;};







runtime.awrap = function(arg){
return new AwaitArgument(arg);};


function AwaitArgument(arg){
this.arg = arg;}


function AsyncIterator(generator){
function invoke(method,arg,resolve,reject){
var record=tryCatch(generator[method],generator,arg);
if(record.type === "throw"){
reject(record.arg);}else 
{
var result=record.arg;
var value=result.value;
if(value instanceof AwaitArgument){
return Promise.resolve(value.arg).then(function(value){
invoke("next",value,resolve,reject);},
function(err){
invoke("throw",err,resolve,reject);});}



return Promise.resolve(value).then(function(unwrapped){















result.value = unwrapped;
resolve(result);},
reject);}}



if(typeof process === "object" && process.domain){
invoke = process.domain.bind(invoke);}


var previousPromise;

function enqueue(method,arg){
function callInvokeWithMethodAndArg(){
return new Promise(function(resolve,reject){
invoke(method,arg,resolve,reject);});}



return previousPromise = 












previousPromise?previousPromise.then(
callInvokeWithMethodAndArg,


callInvokeWithMethodAndArg):
callInvokeWithMethodAndArg();}




this._invoke = enqueue;}


defineIteratorMethods(AsyncIterator.prototype);




runtime.async = function(innerFn,outerFn,self,tryLocsList){
var iter=new AsyncIterator(
wrap(innerFn,outerFn,self,tryLocsList));


return runtime.isGeneratorFunction(outerFn)?
iter:
iter.next().then(function(result){
return result.done?result.value:iter.next();});};



function makeInvokeMethod(innerFn,self,context){
var state=GenStateSuspendedStart;

return function invoke(method,arg){
if(state === GenStateExecuting){
throw new Error("Generator is already running");}


if(state === GenStateCompleted){
if(method === "throw"){
throw arg;}




return doneResult();}


while(true) {
var delegate=context.delegate;
if(delegate){
if(method === "return" || 
method === "throw" && delegate.iterator[method] === undefined){


context.delegate = null;



var returnMethod=delegate.iterator["return"];
if(returnMethod){
var record=tryCatch(returnMethod,delegate.iterator,arg);
if(record.type === "throw"){


method = "throw";
arg = record.arg;
continue;}}



if(method === "return"){


continue;}}



var record=tryCatch(
delegate.iterator[method],
delegate.iterator,
arg);


if(record.type === "throw"){
context.delegate = null;



method = "throw";
arg = record.arg;
continue;}





method = "next";
arg = undefined;

var info=record.arg;
if(info.done){
context[delegate.resultName] = info.value;
context.next = delegate.nextLoc;}else 
{
state = GenStateSuspendedYield;
return info;}


context.delegate = null;}


if(method === "next"){
if(state === GenStateSuspendedYield){
context.sent = arg;}else 
{
context.sent = undefined;}}else 


if(method === "throw"){
if(state === GenStateSuspendedStart){
state = GenStateCompleted;
throw arg;}


if(context.dispatchException(arg)){


method = "next";
arg = undefined;}}else 


if(method === "return"){
context.abrupt("return",arg);}


state = GenStateExecuting;

var record=tryCatch(innerFn,self,context);
if(record.type === "normal"){


state = context.done?
GenStateCompleted:
GenStateSuspendedYield;

var info={
value:record.arg,
done:context.done};


if(record.arg === ContinueSentinel){
if(context.delegate && method === "next"){


arg = undefined;}}else 

{
return info;}}else 


if(record.type === "throw"){
state = GenStateCompleted;


method = "throw";
arg = record.arg;}}};}







defineIteratorMethods(Gp);

Gp[iteratorSymbol] = function(){
return this;};


Gp[toStringTagSymbol] = "Generator";

Gp.toString = function(){
return "[object Generator]";};


function pushTryEntry(locs){
var entry={tryLoc:locs[0]};

if(1 in locs){
entry.catchLoc = locs[1];}


if(2 in locs){
entry.finallyLoc = locs[2];
entry.afterLoc = locs[3];}


this.tryEntries.push(entry);}


function resetTryEntry(entry){
var record=entry.completion || {};
record.type = "normal";
delete record.arg;
entry.completion = record;}


function Context(tryLocsList){



this.tryEntries = [{tryLoc:"root"}];
tryLocsList.forEach(pushTryEntry,this);
this.reset(true);}


runtime.keys = function(object){
var keys=[];
for(var key in object) {
keys.push(key);}

keys.reverse();



return function next(){
while(keys.length) {
var key=keys.pop();
if(key in object){
next.value = key;
next.done = false;
return next;}}






next.done = true;
return next;};};



function values(iterable){
if(iterable){
var iteratorMethod=iterable[iteratorSymbol];
if(iteratorMethod){
return iteratorMethod.call(iterable);}


if(typeof iterable.next === "function"){
return iterable;}


if(!isNaN(iterable.length)){
var i=-1,next=function next(){
while(++i < iterable.length) {
if(hasOwn.call(iterable,i)){
next.value = iterable[i];
next.done = false;
return next;}}



next.value = undefined;
next.done = true;

return next;};


return next.next = next;}}




return {next:doneResult};}

runtime.values = values;

function doneResult(){
return {value:undefined,done:true};}


Context.prototype = {
constructor:Context,

reset:function(skipTempReset){
this.prev = 0;
this.next = 0;
this.sent = undefined;
this.done = false;
this.delegate = null;

this.tryEntries.forEach(resetTryEntry);

if(!skipTempReset){
for(var name in this) {

if(name.charAt(0) === "t" && 
hasOwn.call(this,name) && 
!isNaN(+name.slice(1))){
this[name] = undefined;}}}},





stop:function(){
this.done = true;

var rootEntry=this.tryEntries[0];
var rootRecord=rootEntry.completion;
if(rootRecord.type === "throw"){
throw rootRecord.arg;}


return this.rval;},


dispatchException:function(exception){
if(this.done){
throw exception;}


var context=this;
function handle(loc,caught){
record.type = "throw";
record.arg = exception;
context.next = loc;
return !!caught;}


for(var i=this.tryEntries.length - 1;i >= 0;--i) {
var entry=this.tryEntries[i];
var record=entry.completion;

if(entry.tryLoc === "root"){



return handle("end");}


if(entry.tryLoc <= this.prev){
var hasCatch=hasOwn.call(entry,"catchLoc");
var hasFinally=hasOwn.call(entry,"finallyLoc");

if(hasCatch && hasFinally){
if(this.prev < entry.catchLoc){
return handle(entry.catchLoc,true);}else 
if(this.prev < entry.finallyLoc){
return handle(entry.finallyLoc);}}else 


if(hasCatch){
if(this.prev < entry.catchLoc){
return handle(entry.catchLoc,true);}}else 


if(hasFinally){
if(this.prev < entry.finallyLoc){
return handle(entry.finallyLoc);}}else 


{
throw new Error("try statement without catch or finally");}}}},





abrupt:function(type,arg){
for(var i=this.tryEntries.length - 1;i >= 0;--i) {
var entry=this.tryEntries[i];
if(entry.tryLoc <= this.prev && 
hasOwn.call(entry,"finallyLoc") && 
this.prev < entry.finallyLoc){
var finallyEntry=entry;
break;}}



if(finallyEntry && (
type === "break" || 
type === "continue") && 
finallyEntry.tryLoc <= arg && 
arg <= finallyEntry.finallyLoc){


finallyEntry = null;}


var record=finallyEntry?finallyEntry.completion:{};
record.type = type;
record.arg = arg;

if(finallyEntry){
this.next = finallyEntry.finallyLoc;}else 
{
this.complete(record);}


return ContinueSentinel;},


complete:function(record,afterLoc){
if(record.type === "throw"){
throw record.arg;}


if(record.type === "break" || 
record.type === "continue"){
this.next = record.arg;}else 
if(record.type === "return"){
this.rval = record.arg;
this.next = "end";}else 
if(record.type === "normal" && afterLoc){
this.next = afterLoc;}},



finish:function(finallyLoc){
for(var i=this.tryEntries.length - 1;i >= 0;--i) {
var entry=this.tryEntries[i];
if(entry.finallyLoc === finallyLoc){
this.complete(entry.completion,entry.afterLoc);
resetTryEntry(entry);
return ContinueSentinel;}}},




"catch":function(tryLoc){
for(var i=this.tryEntries.length - 1;i >= 0;--i) {
var entry=this.tryEntries[i];
if(entry.tryLoc === tryLoc){
var record=entry.completion;
if(record.type === "throw"){
var thrown=record.arg;
resetTryEntry(entry);}

return thrown;}}





throw new Error("illegal catch attempt");},


delegateYield:function(iterable,resultName,nextLoc){
this.delegate = {
iterator:values(iterable),
resultName:resultName,
nextLoc:nextLoc};


return ContinueSentinel;}};})(






typeof global === "object"?global:
typeof window === "object"?window:
typeof self === "object"?self:this);
});
__d('ExceptionsManager',function(global, require, module, exports) {  'use strict';












var RCTExceptionsManager=require('NativeModules').ExceptionsManager;

var loadSourceMap=require('loadSourceMap');
var parseErrorStack=require('parseErrorStack');
var stringifySafe=require('stringifySafe');

var sourceMapPromise;

var exceptionID=0;

function reportException(e,isFatal,stack){
var currentExceptionID=++exceptionID;
if(RCTExceptionsManager){
if(!stack){
stack = parseErrorStack(e);}

if(isFatal){
RCTExceptionsManager.reportFatalException(e.message,stack,currentExceptionID);}else 
{
RCTExceptionsManager.reportSoftException(e.message,stack,currentExceptionID);}

if(__DEV__){
(sourceMapPromise = sourceMapPromise || loadSourceMap()).
then(function(map){
var prettyStack=parseErrorStack(e,map);
RCTExceptionsManager.updateExceptionMessage(e.message,prettyStack,currentExceptionID);}).

catch(function(error){


console.warn('Unable to load source map: ' + error.message);});}}}





function handleException(e,isFatal){




if(!e.message){
e = new Error(e);}

var stack=parseErrorStack(e);
var msg=
'Error: ' + e.message + 
'\n stack: \n' + stackToString(stack) + 
'\n URL: ' + e.sourceURL + 
'\n line: ' + e.line + 
'\n message: ' + e.message;
if(console.errorOriginal){
console.errorOriginal(msg);}else 
{
console.error(msg);}

reportException(e,isFatal,stack);}






function installConsoleErrorReporter(){
if(console.reportException){
return;}

console.reportException = reportException;
console.errorOriginal = console.error.bind(console);
console.error = function reactConsoleError(){



console.errorOriginal.apply(null,arguments);
if(!console.reportErrorsAsExceptions){
return;}

var str=Array.prototype.map.call(arguments,stringifySafe).join(', ');
if(str.slice(0,10) === '"Warning: '){



return;}

var error=new Error('console.error: ' + str);
error.framesToPop = 1;
reportException(error,false);};

if(console.reportErrorsAsExceptions === undefined){
console.reportErrorsAsExceptions = true;}}



function stackToString(stack){
var maxLength=Math.max.apply(null,stack.map(function(frame){return frame.methodName.length;}));
return stack.map(function(frame){return stackFrameToString(frame,maxLength);}).join('\n');}


function stackFrameToString(stackFrame,maxLength){
var fileNameParts=stackFrame.file.split('/');
var fileName=fileNameParts[fileNameParts.length - 1];

if(fileName.length > 18){
fileName = fileName.substr(0,17) + '\u2026';}


var spaces=fillSpaces(maxLength - stackFrame.methodName.length);
return '  ' + stackFrame.methodName + spaces + '  ' + fileName + ':' + stackFrame.lineNumber;}


function fillSpaces(n){
return new Array(n + 1).join(' ');}


module.exports = {handleException:handleException,installConsoleErrorReporter:installConsoleErrorReporter};
});
__d('NativeModules',function(global, require, module, exports) {  'use strict';












var NativeModules=require('BatchedBridge').RemoteModules;

var nativeModulePrefixNormalizer=require('nativeModulePrefixNormalizer');

nativeModulePrefixNormalizer(NativeModules);

module.exports = NativeModules;
});
__d('BatchedBridge',function(global, require, module, exports) {  'use strict';











var MessageQueue=require('MessageQueue');

var BatchedBridge=new MessageQueue(
__fbBatchedBridgeConfig.remoteModuleConfig,
__fbBatchedBridgeConfig.localModulesConfig);


module.exports = BatchedBridge;
});
__d('MessageQueue',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _objectWithoutProperties(obj,keys){var target={};for(var i in obj) {if(keys.indexOf(i) >= 0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i] = obj[i];}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}














var BridgeProfiling=require('BridgeProfiling');
var ErrorUtils=require('ErrorUtils');
var JSTimersExecution=require('JSTimersExecution');
var ReactUpdates=require('ReactUpdates');

var invariant=require('invariant');
var keyMirror=require('keyMirror');
var stringifySafe=require('stringifySafe');

var MODULE_IDS=0;
var METHOD_IDS=1;
var PARAMS=2;
var MIN_TIME_BETWEEN_FLUSHES_MS=5;

var SPY_MODE=false;

var MethodTypes=keyMirror({
local:null,
remote:null,
remoteAsync:null});


var guard=function(fn){
try{
fn();}
catch(error) {
ErrorUtils.reportFatalError(error);}};var 



MessageQueue=(function(){

function MessageQueue(remoteModules,localModules,customRequire){var _this=this;_classCallCheck(this,MessageQueue);
this.RemoteModules = {};

this._require = customRequire || require;
this._queue = [[],[],[]];
this._moduleTable = {};
this._methodTable = {};
this._callbacks = [];
this._callbackID = 0;
this._lastFlush = 0;

[
'invokeCallbackAndReturnFlushedQueue',
'callFunctionReturnFlushedQueue',
'flushedQueue'].
forEach(function(fn){return _this[fn] = _this[fn].bind(_this);});

this._genModules(remoteModules);
localModules && this._genLookupTables(
localModules,this._moduleTable,this._methodTable);

this._debugInfo = {};
this._remoteModuleTable = {};
this._remoteMethodTable = {};
this._genLookupTables(
remoteModules,this._remoteModuleTable,this._remoteMethodTable);}_createClass(MessageQueue,[{key:'callFunctionReturnFlushedQueue',value:





function callFunctionReturnFlushedQueue(module,method,args){var _this2=this;
guard(function(){
_this2.__callFunction(module,method,args);
_this2.__callImmediates();});


return this.flushedQueue();}},{key:'invokeCallbackAndReturnFlushedQueue',value:


function invokeCallbackAndReturnFlushedQueue(cbID,args){var _this3=this;
guard(function(){
_this3.__invokeCallback(cbID,args);
_this3.__callImmediates();});


return this.flushedQueue();}},{key:'flushedQueue',value:


function flushedQueue(){
this.__callImmediates();

var queue=this._queue;
this._queue = [[],[],[]];
return queue[0].length?queue:null;}},{key:'__callImmediates',value:






function __callImmediates(){
BridgeProfiling.profile('JSTimersExecution.callImmediates()');
guard(function(){return JSTimersExecution.callImmediates();});
BridgeProfiling.profileEnd();}},{key:'__nativeCall',value:


function __nativeCall(module,method,params,onFail,onSucc){
if(onFail || onSucc){

this._callbackID > 1 << 5 && (
this._debugInfo[this._callbackID >> 5] = null);

this._debugInfo[this._callbackID >> 1] = [module,method];
onFail && params.push(this._callbackID);
this._callbacks[this._callbackID++] = onFail;
onSucc && params.push(this._callbackID);
this._callbacks[this._callbackID++] = onSucc;}

this._queue[MODULE_IDS].push(module);
this._queue[METHOD_IDS].push(method);
this._queue[PARAMS].push(params);

var now=new Date().getTime();
if(global.nativeFlushQueueImmediate && 
now - this._lastFlush >= MIN_TIME_BETWEEN_FLUSHES_MS){
global.nativeFlushQueueImmediate(this._queue);
this._queue = [[],[],[]];
this._lastFlush = now;}

if(__DEV__ && SPY_MODE && isFinite(module)){
console.log('JS->N : ' + this._remoteModuleTable[module] + '.' + 
this._remoteMethodTable[module][method] + '(' + JSON.stringify(params) + ')');}}},{key:'__callFunction',value:



function __callFunction(module,method,args){
BridgeProfiling.profile(function(){return module + '.' + method + '(' + stringifySafe(args) + ')';});
this._lastFlush = new Date().getTime();
if(isFinite(module)){
method = this._methodTable[module][method];
module = this._moduleTable[module];}

if(__DEV__ && SPY_MODE){
console.log('N->JS : ' + module + '.' + method + '(' + JSON.stringify(args) + ')');}

module = this._require(module);
module[method].apply(module,args);
BridgeProfiling.profileEnd();}},{key:'__invokeCallback',value:


function __invokeCallback(cbID,args){
BridgeProfiling.profile(
function(){return 'MessageQueue.invokeCallback(' + cbID + ', ' + stringifySafe(args) + ')';});
this._lastFlush = new Date().getTime();
var callback=this._callbacks[cbID];
if(!callback || __DEV__){
var debug=this._debugInfo[cbID >> 1];
var _module2=debug && this._remoteModuleTable[debug[0]];
var method=debug && this._remoteMethodTable[debug[0]][debug[1]];
invariant(
callback,'Callback with id ' + 
cbID + ': ' + _module2 + '.' + method + '() not found');

if(callback && SPY_MODE){
console.log('N->JS : <callback for ' + _module2 + '.' + method + '>(' + JSON.stringify(args) + ')');}}


this._callbacks[cbID & ~1] = null;
this._callbacks[cbID | 1] = null;
callback.apply(null,args);
BridgeProfiling.profileEnd();}},{key:'_genLookupTables',value:





function _genLookupTables(localModules,moduleTable,methodTable){
var moduleNames=Object.keys(localModules);
for(var i=0,l=moduleNames.length;i < l;i++) {
var moduleName=moduleNames[i];
var methods=localModules[moduleName].methods || {};
var moduleID=localModules[moduleName].moduleID;
moduleTable[moduleID] = moduleName;
methodTable[moduleID] = {};

var methodNames=Object.keys(methods);
for(var j=0,k=methodNames.length;j < k;j++) {
var methodName=methodNames[j];
var methodConfig=methods[methodName];
methodTable[moduleID][methodConfig.methodID] = methodName;}}}},{key:'_genModules',value:




function _genModules(remoteModules){
var moduleNames=Object.keys(remoteModules);
for(var i=0,l=moduleNames.length;i < l;i++) {
var moduleName=moduleNames[i];
var moduleConfig=remoteModules[moduleName];
this.RemoteModules[moduleName] = this._genModule({},moduleConfig);}}},{key:'_genModule',value:



function _genModule(module,moduleConfig){
var methods=moduleConfig.methods || {};
var methodNames=Object.keys(methods);
for(var i=0,l=methodNames.length;i < l;i++) {
var methodName=methodNames[i];
var methodConfig=methods[methodName];
module[methodName] = this._genMethod(
moduleConfig.moduleID,
methodConfig.methodID,
methodConfig.type || MethodTypes.remote);}


Object.assign(module,moduleConfig.constants);
return module;}},{key:'_genMethod',value:


function _genMethod(module,method,type){
if(type === MethodTypes.local){
return null;}


var fn=null;
var self=this;
if(type === MethodTypes.remoteAsync){
fn = function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key < _len;_key++) {args[_key] = arguments[_key];}
return new Promise(function(resolve,reject){
self.__nativeCall(module,method,args,resolve,function(errorData){
var error=createErrorFromErrorData(errorData);
reject(error);});});};}else 



{
fn = function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2 < _len2;_key2++) {args[_key2] = arguments[_key2];}
var lastArg=args.length > 0?args[args.length - 1]:null;
var secondLastArg=args.length > 1?args[args.length - 2]:null;
var hasSuccCB=typeof lastArg === 'function';
var hasErrorCB=typeof secondLastArg === 'function';
hasErrorCB && invariant(
hasSuccCB,
'Cannot have a non-function arg after a function arg.');

var numCBs=hasSuccCB + hasErrorCB;
var onSucc=hasSuccCB?lastArg:null;
var onFail=hasErrorCB?secondLastArg:null;
args = args.slice(0,args.length - numCBs);
return self.__nativeCall(module,method,args,onFail,onSucc);};}


fn.type = type;
return fn;}}]);return MessageQueue;})();




function createErrorFromErrorData(errorData){var 

message=

errorData.message;var extraErrorInfo=_objectWithoutProperties(errorData,['message']);
var error=new Error(message);
error.framesToPop = 1;
return Object.assign(error,extraErrorInfo);}


module.exports = MessageQueue;
});
__d('BridgeProfiling',function(global, require, module, exports) {  'use strict';












var GLOBAL=GLOBAL || this;
var TRACE_TAG_REACT_APPS=1 << 17;

var _enabled=false;
var _ReactPerf=null;
function ReactPerf(){
if(!_ReactPerf){
_ReactPerf = require('ReactPerf');}

return _ReactPerf;}


var BridgeProfiling={
setEnabled:function(enabled){
_enabled = enabled;

ReactPerf().enableMeasure = enabled;},


profile:function(profileName){
if(_enabled){
profileName = typeof profileName === 'function'?
profileName():profileName;
console.profile(TRACE_TAG_REACT_APPS,profileName);}},



profileEnd:function(){
if(_enabled){
console.profileEnd(TRACE_TAG_REACT_APPS);}},



reactPerfMeasure:function(objName,fnName,func){
return function(component){
if(!_enabled){
return func.apply(this,arguments);}


var name=objName === 'ReactCompositeComponent' && this.getName() || '';
BridgeProfiling.profile(objName + '.' + fnName + '(' + name + ')');
var ret=func.apply(this,arguments);
BridgeProfiling.profileEnd();
return ret;};},



swizzleReactPerf:function(){
ReactPerf().injection.injectMeasure(BridgeProfiling.reactPerfMeasure);}};



module.exports = BridgeProfiling;
});
__d('ReactPerf',function(global, require, module, exports) {  'use strict';

















var ReactPerf={




enableMeasure:false,





storedMeasure:_noMeasure,






measureMethods:function(object,objectName,methodNames){
if(__DEV__){
for(var key in methodNames) {
if(!methodNames.hasOwnProperty(key)){
continue;}

object[key] = ReactPerf.measure(
objectName,
methodNames[key],
object[key]);}}},













measure:function(objName,fnName,func){
if(__DEV__){
var measuredFunc=null;
var wrapper=function(){
if(ReactPerf.enableMeasure){
if(!measuredFunc){
measuredFunc = ReactPerf.storedMeasure(objName,fnName,func);}

return measuredFunc.apply(this,arguments);}

return func.apply(this,arguments);};

wrapper.displayName = objName + '_' + fnName;
return wrapper;}

return func;},


injection:{



injectMeasure:function(measure){
ReactPerf.storedMeasure = measure;}}};












function _noMeasure(objName,fnName,func){
return func;}


module.exports = ReactPerf;
});
__d('ErrorUtils',function(global, require, module, exports) {  var 











GLOBAL=this;













module.exports = GLOBAL.ErrorUtils;
});
__d('JSTimersExecution',function(global, require, module, exports) {  'use strict';











var invariant=require('invariant');
var keyMirror=require('keyMirror');
var performanceNow=require('performanceNow');
var warning=require('warning');






var JSTimersExecution={
GUID:1,
Type:keyMirror({
setTimeout:null,
setInterval:null,
requestAnimationFrame:null,
setImmediate:null}),



callbacks:[],
types:[],
timerIDs:[],
immediates:[],






callTimer:function(timerID){
warning(timerID <= JSTimersExecution.GUID,'Tried to call timer with ID ' + timerID + ' but no such timer exists');
var timerIndex=JSTimersExecution.timerIDs.indexOf(timerID);





if(timerIndex === -1){
return;}

var type=JSTimersExecution.types[timerIndex];
var callback=JSTimersExecution.callbacks[timerIndex];


if(type === JSTimersExecution.Type.setTimeout || 
type === JSTimersExecution.Type.setImmediate || 
type === JSTimersExecution.Type.requestAnimationFrame){
JSTimersExecution._clearIndex(timerIndex);}


try{
if(type === JSTimersExecution.Type.setTimeout || 
type === JSTimersExecution.Type.setInterval || 
type === JSTimersExecution.Type.setImmediate){
callback();}else 
if(type === JSTimersExecution.Type.requestAnimationFrame){
var currentTime=performanceNow();
callback(currentTime);}else 
{
console.error('Tried to call a callback with invalid type: ' + type);
return;}}

catch(e) {

JSTimersExecution.errors = JSTimersExecution.errors || [];
JSTimersExecution.errors.push(e);}},







callTimers:function(timerIDs){
invariant(timerIDs.length !== 0,'Probably shouldn\'t call "callTimers" with no timerIDs');

JSTimersExecution.errors = null;
timerIDs.forEach(JSTimersExecution.callTimer);

var errors=JSTimersExecution.errors;
if(errors){
var errorCount=errors.length;
if(errorCount > 1){


for(var ii=1;ii < errorCount;ii++) {
require('JSTimers').setTimeout(
(function(error){throw error;}).bind(null,errors[ii]),
0);}}



throw errors[0];}},







callImmediates:function(){
JSTimersExecution.errors = null;
while(JSTimersExecution.immediates.length !== 0) {
JSTimersExecution.callTimer(JSTimersExecution.immediates.shift());}

if(JSTimersExecution.errors){
JSTimersExecution.errors.forEach(function(error){return (
require('JSTimers').setTimeout(function(){throw error;},0));});}},




_clearIndex:function(i){
JSTimersExecution.timerIDs[i] = null;
JSTimersExecution.callbacks[i] = null;
JSTimersExecution.types[i] = null;}};



module.exports = JSTimersExecution;
});
__d('invariant',function(global, require, module, exports) {  "use strict";























var invariant=function(condition,format,a,b,c,d,e,f){
if(__DEV__){
if(format === undefined){
throw new Error('invariant requires an error message argument');}}



if(!condition){
var error;
if(format === undefined){
error = new Error(
'Minified exception occurred; use the non-minified dev environment ' + 
'for the full error message and additional helpful warnings.');}else 

{
var args=[a,b,c,d,e,f];
var argIndex=0;
error = new Error(
'Invariant Violation: ' + 
format.replace(/%s/g,function(){return args[argIndex++];}));}



error.framesToPop = 1;
throw error;}};



module.exports = invariant;
});
__d('keyMirror',function(global, require, module, exports) {  'use strict';













var invariant=require('invariant');



















var keyMirror=function(obj){
var ret={};
var key;
invariant(
obj instanceof Object && !Array.isArray(obj),
'keyMirror(...): Argument must be an object.');

for(key in obj) {
if(!obj.hasOwnProperty(key)){
continue;}

ret[key] = key;}

return ret;};


module.exports = keyMirror;
});
__d('performanceNow',function(global, require, module, exports) {  var 











performance=require('performance');






if(!performance || !performance.now){
performance = Date;}


var performanceNow=performance.now.bind(performance);

module.exports = performanceNow;
});
__d('performance',function(global, require, module, exports) {  "use strict";













var ExecutionEnvironment=require('ExecutionEnvironment');

var performance;

if(ExecutionEnvironment.canUseDOM){
performance = 
window.performance || 
window.msPerformance || 
window.webkitPerformance;}


module.exports = performance || {};
});
__d('ExecutionEnvironment',function(global, require, module, exports) {  "use strict";























var canUseDOM=false;







var ExecutionEnvironment={

canUseDOM:canUseDOM,

canUseWorkers:typeof Worker !== 'undefined',

canUseEventListeners:
canUseDOM && !!(window.addEventListener || window.attachEvent),

canUseViewport:canUseDOM && !!window.screen,

isInWorker:!canUseDOM};



module.exports = ExecutionEnvironment;
});
__d('warning',function(global, require, module, exports) {  "use strict";












var emptyFunction=require('emptyFunction');








var warning=emptyFunction;

if(__DEV__){
warning = function(condition,format){for(var _len=arguments.length,args=Array(_len > 2?_len - 2:0),_key=2;_key < _len;_key++) {args[_key - 2] = arguments[_key];}
if(format === undefined){
throw new Error(
'`warning(condition, format, ...args)` requires a warning ' + 
'message argument');}



if(format.indexOf('Failed Composite propType: ') === 0){
return;}


if(!condition){
var argIndex=0;
var message='Warning: ' + format.replace(/%s/g,function(){return args[argIndex++];});
if(typeof console !== 'undefined'){
console.error(message);}

try{



throw new Error(message);}
catch(x) {}}};}




module.exports = warning;
});
__d('emptyFunction',function(global, require, module, exports) {  function 










makeEmptyFunction(arg){
return function(){
return arg;};}








function emptyFunction(){}

emptyFunction.thatReturns = makeEmptyFunction;
emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
emptyFunction.thatReturnsNull = makeEmptyFunction(null);
emptyFunction.thatReturnsThis = function(){return this;};
emptyFunction.thatReturnsArgument = function(arg){return arg;};

module.exports = emptyFunction;
});
__d('JSTimers',function(global, require, module, exports) {  'use strict';













var RCTTiming=require('NativeModules').Timing;
var JSTimersExecution=require('JSTimersExecution');






var JSTimers={
Types:JSTimersExecution.Types,





_getFreeIndex:function(){
var freeIndex=JSTimersExecution.timerIDs.indexOf(null);
if(freeIndex === -1){
freeIndex = JSTimersExecution.timerIDs.length;}

return freeIndex;},






setTimeout:function(func,duration){for(var _len=arguments.length,args=Array(_len > 2?_len - 2:0),_key=2;_key < _len;_key++) {args[_key - 2] = arguments[_key];}
var newID=JSTimersExecution.GUID++;
var freeIndex=JSTimers._getFreeIndex();
JSTimersExecution.timerIDs[freeIndex] = newID;
JSTimersExecution.callbacks[freeIndex] = function(){
return func.apply(undefined,args);};

JSTimersExecution.types[freeIndex] = JSTimersExecution.Type.setTimeout;
RCTTiming.createTimer(newID,duration || 0,Date.now(),false);
return newID;},






setInterval:function(func,duration){for(var _len2=arguments.length,args=Array(_len2 > 2?_len2 - 2:0),_key2=2;_key2 < _len2;_key2++) {args[_key2 - 2] = arguments[_key2];}
var newID=JSTimersExecution.GUID++;
var freeIndex=JSTimers._getFreeIndex();
JSTimersExecution.timerIDs[freeIndex] = newID;
JSTimersExecution.callbacks[freeIndex] = function(){
return func.apply(undefined,args);};

JSTimersExecution.types[freeIndex] = JSTimersExecution.Type.setInterval;
RCTTiming.createTimer(newID,duration || 0,Date.now(),true);
return newID;},






setImmediate:function(func){for(var _len3=arguments.length,args=Array(_len3 > 1?_len3 - 1:0),_key3=1;_key3 < _len3;_key3++) {args[_key3 - 1] = arguments[_key3];}
var newID=JSTimersExecution.GUID++;
var freeIndex=JSTimers._getFreeIndex();
JSTimersExecution.timerIDs[freeIndex] = newID;
JSTimersExecution.callbacks[freeIndex] = function(){
return func.apply(undefined,args);};

JSTimersExecution.types[freeIndex] = JSTimersExecution.Type.setImmediate;
JSTimersExecution.immediates.push(newID);
return newID;},





requestAnimationFrame:function(func){
var newID=JSTimersExecution.GUID++;
var freeIndex=JSTimers._getFreeIndex();
JSTimersExecution.timerIDs[freeIndex] = newID;
JSTimersExecution.callbacks[freeIndex] = func;
JSTimersExecution.types[freeIndex] = JSTimersExecution.Type.requestAnimationFrame;
RCTTiming.createTimer(newID,1,Date.now(),false);
return newID;},


clearTimeout:function(timerID){
JSTimers._clearTimerID(timerID);},


clearInterval:function(timerID){
JSTimers._clearTimerID(timerID);},


clearImmediate:function(timerID){
JSTimers._clearTimerID(timerID);
JSTimersExecution.immediates.splice(
JSTimersExecution.immediates.indexOf(timerID),
1);},



cancelAnimationFrame:function(timerID){
JSTimers._clearTimerID(timerID);},


_clearTimerID:function(timerID){


if(timerID == null){
return;}


var index=JSTimersExecution.timerIDs.indexOf(timerID);

if(index !== -1){
JSTimersExecution._clearIndex(index);
if(JSTimersExecution.types[index] !== JSTimersExecution.Type.setImmediate){
RCTTiming.deleteTimer(timerID);}}}};





module.exports = JSTimers;
});
__d('ReactUpdates',function(global, require, module, exports) {  'use strict';












var CallbackQueue=require('CallbackQueue');
var PooledClass=require('PooledClass');
var ReactPerf=require('ReactPerf');
var ReactReconciler=require('ReactReconciler');
var Transaction=require('Transaction');

var assign=require('Object.assign');
var invariant=require('invariant');

var dirtyComponents=[];
var asapCallbackQueue=CallbackQueue.getPooled();
var asapEnqueued=false;

var batchingStrategy=null;

function ensureInjected(){
invariant(
ReactUpdates.ReactReconcileTransaction && batchingStrategy,
'ReactUpdates: must inject a reconcile transaction class and batching ' + 
'strategy');}



var NESTED_UPDATES={
initialize:function(){
this.dirtyComponentsLength = dirtyComponents.length;},

close:function(){
if(this.dirtyComponentsLength !== dirtyComponents.length){





dirtyComponents.splice(0,this.dirtyComponentsLength);
flushBatchedUpdates();}else 
{
dirtyComponents.length = 0;}}};




var UPDATE_QUEUEING={
initialize:function(){
this.callbackQueue.reset();},

close:function(){
this.callbackQueue.notifyAll();}};



var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];

function ReactUpdatesFlushTransaction(){
this.reinitializeTransaction();
this.dirtyComponentsLength = null;
this.callbackQueue = CallbackQueue.getPooled();
this.reconcileTransaction = 
ReactUpdates.ReactReconcileTransaction.getPooled();}


assign(
ReactUpdatesFlushTransaction.prototype,
Transaction.Mixin,{
getTransactionWrappers:function(){
return TRANSACTION_WRAPPERS;},


destructor:function(){
this.dirtyComponentsLength = null;
CallbackQueue.release(this.callbackQueue);
this.callbackQueue = null;
ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);
this.reconcileTransaction = null;},


perform:function(method,scope,a){


return Transaction.Mixin.perform.call(
this,
this.reconcileTransaction.perform,
this.reconcileTransaction,
method,
scope,
a);}});




PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);

function batchedUpdates(callback,a,b,c,d,e){
ensureInjected();
batchingStrategy.batchedUpdates(callback,a,b,c,d,e);}









function mountOrderComparator(c1,c2){
return c1._mountOrder - c2._mountOrder;}


function runBatchedUpdates(transaction){
var len=transaction.dirtyComponentsLength;
invariant(
len === dirtyComponents.length,
'Expected flush transaction\'s stored dirty-components length (%s) to ' + 
'match dirty-components array length (%s).',
len,
dirtyComponents.length);





dirtyComponents.sort(mountOrderComparator);

for(var i=0;i < len;i++) {



var component=dirtyComponents[i];




var callbacks=component._pendingCallbacks;
component._pendingCallbacks = null;

ReactReconciler.performUpdateIfNecessary(
component,
transaction.reconcileTransaction);


if(callbacks){
for(var j=0;j < callbacks.length;j++) {
transaction.callbackQueue.enqueue(
callbacks[j],
component.getPublicInstance());}}}}






var flushBatchedUpdates=function(){




while(dirtyComponents.length || asapEnqueued) {
if(dirtyComponents.length){
var transaction=ReactUpdatesFlushTransaction.getPooled();
transaction.perform(runBatchedUpdates,null,transaction);
ReactUpdatesFlushTransaction.release(transaction);}


if(asapEnqueued){
asapEnqueued = false;
var queue=asapCallbackQueue;
asapCallbackQueue = CallbackQueue.getPooled();
queue.notifyAll();
CallbackQueue.release(queue);}}};



flushBatchedUpdates = ReactPerf.measure(
'ReactUpdates',
'flushBatchedUpdates',
flushBatchedUpdates);






function enqueueUpdate(component){
ensureInjected();







if(!batchingStrategy.isBatchingUpdates){
batchingStrategy.batchedUpdates(enqueueUpdate,component);
return;}


dirtyComponents.push(component);}






function asap(callback,context){
invariant(
batchingStrategy.isBatchingUpdates,
'ReactUpdates.asap: Can\'t enqueue an asap callback in a context where' + 
'updates are not being batched.');

asapCallbackQueue.enqueue(callback,context);
asapEnqueued = true;}


var ReactUpdatesInjection={
injectReconcileTransaction:function(ReconcileTransaction){
invariant(
ReconcileTransaction,
'ReactUpdates: must provide a reconcile transaction class');

ReactUpdates.ReactReconcileTransaction = ReconcileTransaction;},


injectBatchingStrategy:function(_batchingStrategy){
invariant(
_batchingStrategy,
'ReactUpdates: must provide a batching strategy');

invariant(
typeof _batchingStrategy.batchedUpdates === 'function',
'ReactUpdates: must provide a batchedUpdates() function');

invariant(
typeof _batchingStrategy.isBatchingUpdates === 'boolean',
'ReactUpdates: must provide an isBatchingUpdates boolean attribute');

batchingStrategy = _batchingStrategy;}};



var ReactUpdates={






ReactReconcileTransaction:null,

batchedUpdates:batchedUpdates,
enqueueUpdate:enqueueUpdate,
flushBatchedUpdates:flushBatchedUpdates,
injection:ReactUpdatesInjection,
asap:asap};


module.exports = ReactUpdates;
});
__d('CallbackQueue',function(global, require, module, exports) {  'use strict';












var PooledClass=require('PooledClass');

var assign=require('Object.assign');
var invariant=require('invariant');












function CallbackQueue(){
this._callbacks = null;
this._contexts = null;}


assign(CallbackQueue.prototype,{








enqueue:function(callback,context){
this._callbacks = this._callbacks || [];
this._contexts = this._contexts || [];
this._callbacks.push(callback);
this._contexts.push(context);},








notifyAll:function(){
var callbacks=this._callbacks;
var contexts=this._contexts;
if(callbacks){
invariant(
callbacks.length === contexts.length,
'Mismatched list of contexts in callback queue');

this._callbacks = null;
this._contexts = null;
for(var i=0;i < callbacks.length;i++) {
callbacks[i].call(contexts[i]);}

callbacks.length = 0;
contexts.length = 0;}},








reset:function(){
this._callbacks = null;
this._contexts = null;},





destructor:function(){
this.reset();}});




PooledClass.addPoolingTo(CallbackQueue);

module.exports = CallbackQueue;
});
__d('PooledClass',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');








var oneArgumentPooler=function(copyFieldsFrom){
var Klass=this;
if(Klass.instancePool.length){
var instance=Klass.instancePool.pop();
Klass.call(instance,copyFieldsFrom);
return instance;}else 
{
return new Klass(copyFieldsFrom);}};



var twoArgumentPooler=function(a1,a2){
var Klass=this;
if(Klass.instancePool.length){
var instance=Klass.instancePool.pop();
Klass.call(instance,a1,a2);
return instance;}else 
{
return new Klass(a1,a2);}};



var threeArgumentPooler=function(a1,a2,a3){
var Klass=this;
if(Klass.instancePool.length){
var instance=Klass.instancePool.pop();
Klass.call(instance,a1,a2,a3);
return instance;}else 
{
return new Klass(a1,a2,a3);}};



var fourArgumentPooler=function(a1,a2,a3,a4){
var Klass=this;
if(Klass.instancePool.length){
var instance=Klass.instancePool.pop();
Klass.call(instance,a1,a2,a3,a4);
return instance;}else 
{
return new Klass(a1,a2,a3,a4);}};



var fiveArgumentPooler=function(a1,a2,a3,a4,a5){
var Klass=this;
if(Klass.instancePool.length){
var instance=Klass.instancePool.pop();
Klass.call(instance,a1,a2,a3,a4,a5);
return instance;}else 
{
return new Klass(a1,a2,a3,a4,a5);}};



var standardReleaser=function(instance){
var Klass=this;
invariant(
instance instanceof Klass,
'Trying to release an instance into a pool of a different type.');

if(instance.destructor){
instance.destructor();}

if(Klass.instancePool.length < Klass.poolSize){
Klass.instancePool.push(instance);}};



var DEFAULT_POOL_SIZE=10;
var DEFAULT_POOLER=oneArgumentPooler;










var addPoolingTo=function(CopyConstructor,pooler){
var NewKlass=CopyConstructor;
NewKlass.instancePool = [];
NewKlass.getPooled = pooler || DEFAULT_POOLER;
if(!NewKlass.poolSize){
NewKlass.poolSize = DEFAULT_POOL_SIZE;}

NewKlass.release = standardReleaser;
return NewKlass;};


var PooledClass={
addPoolingTo:addPoolingTo,
oneArgumentPooler:oneArgumentPooler,
twoArgumentPooler:twoArgumentPooler,
threeArgumentPooler:threeArgumentPooler,
fourArgumentPooler:fourArgumentPooler,
fiveArgumentPooler:fiveArgumentPooler};


module.exports = PooledClass;
});
__d('Object.assign',function(global, require, module, exports) {  'use strict';














function assign(target,sources){
if(target == null){
throw new TypeError('Object.assign target cannot be null or undefined');}


var to=Object(target);
var hasOwnProperty=Object.prototype.hasOwnProperty;

for(var nextIndex=1;nextIndex < arguments.length;nextIndex++) {
var nextSource=arguments[nextIndex];
if(nextSource == null){
continue;}


var from=Object(nextSource);






for(var key in from) {
if(hasOwnProperty.call(from,key)){
to[key] = from[key];}}}




return to;}


module.exports = assign;
});
__d('ReactReconciler',function(global, require, module, exports) {  'use strict';












var ReactRef=require('ReactRef');





function attachRefs(){
ReactRef.attachRefs(this,this._currentElement);}


var ReactReconciler={











mountComponent:function(internalInstance,rootID,transaction,context){
var markup=internalInstance.mountComponent(rootID,transaction,context);
if(internalInstance._currentElement.ref != null){
transaction.getReactMountReady().enqueue(attachRefs,internalInstance);}

return markup;},








unmountComponent:function(internalInstance){
ReactRef.detachRefs(internalInstance,internalInstance._currentElement);
internalInstance.unmountComponent();},











receiveComponent:function(
internalInstance,nextElement,transaction,context)
{
var prevElement=internalInstance._currentElement;
if(nextElement === prevElement && 
nextElement._owner != null)

{










return;}


var refsChanged=ReactRef.shouldUpdateRefs(
prevElement,
nextElement);


if(refsChanged){
ReactRef.detachRefs(internalInstance,prevElement);}


internalInstance.receiveComponent(nextElement,transaction,context);

if(refsChanged){
transaction.getReactMountReady().enqueue(attachRefs,internalInstance);}},










performUpdateIfNecessary:function(
internalInstance,
transaction)
{
internalInstance.performUpdateIfNecessary(transaction);}};




module.exports = ReactReconciler;
});
__d('ReactRef',function(global, require, module, exports) {  'use strict';












var ReactOwner=require('ReactOwner');

var ReactRef={};

function attachRef(ref,component,owner){
if(typeof ref === 'function'){
ref(component.getPublicInstance());}else 
{

ReactOwner.addComponentAsRefTo(component,ref,owner);}}



function detachRef(ref,component,owner){
if(typeof ref === 'function'){
ref(null);}else 
{

ReactOwner.removeComponentAsRefFrom(component,ref,owner);}}



ReactRef.attachRefs = function(instance,element){
var ref=element.ref;
if(ref != null){
attachRef(ref,instance,element._owner);}};



ReactRef.shouldUpdateRefs = function(prevElement,nextElement){












return (
nextElement._owner !== prevElement._owner || 
nextElement.ref !== prevElement.ref);};



ReactRef.detachRefs = function(instance,element){
var ref=element.ref;
if(ref != null){
detachRef(ref,instance,element._owner);}};



module.exports = ReactRef;
});
__d('ReactOwner',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');































var ReactOwner={






isValidOwner:function(object){
return !!(
object && 
typeof object.attachRef === 'function' && 
typeof object.detachRef === 'function');},












addComponentAsRefTo:function(component,ref,owner){
invariant(
ReactOwner.isValidOwner(owner),
'addComponentAsRefTo(...): Only a ReactOwner can have refs. This ' + 
'usually means that you\'re trying to add a ref to a component that ' + 
'doesn\'t have an owner (that is, was not created inside of another ' + 
'component\'s `render` method). Try rendering this component inside of ' + 
'a new top-level component which will hold the ref.');

owner.attachRef(ref,component);},











removeComponentAsRefFrom:function(component,ref,owner){
invariant(
ReactOwner.isValidOwner(owner),
'removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This ' + 
'usually means that you\'re trying to remove a ref to a component that ' + 
'doesn\'t have an owner (that is, was not created inside of another ' + 
'component\'s `render` method). Try rendering this component inside of ' + 
'a new top-level component which will hold the ref.');



if(owner.getPublicInstance().refs[ref] === component.getPublicInstance()){
owner.detachRef(ref);}}};





module.exports = ReactOwner;
});
__d('Transaction',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');






























































var Mixin={







reinitializeTransaction:function(){
this.transactionWrappers = this.getTransactionWrappers();
if(!this.wrapperInitData){
this.wrapperInitData = [];}else 
{
this.wrapperInitData.length = 0;}

this._isInTransaction = false;},


_isInTransaction:false,





getTransactionWrappers:null,

isInTransaction:function(){
return !!this._isInTransaction;},



















perform:function(method,scope,a,b,c,d,e,f){
invariant(
!this.isInTransaction(),
'Transaction.perform(...): Cannot initialize a transaction when there ' + 
'is already an outstanding transaction.');

var errorThrown;
var ret;
try{
this._isInTransaction = true;




errorThrown = true;
this.initializeAll(0);
ret = method.call(scope,a,b,c,d,e,f);
errorThrown = false;}finally 
{
try{
if(errorThrown){


try{
this.closeAll(0);}
catch(err) {}}else 

{


this.closeAll(0);}}finally 

{
this._isInTransaction = false;}}


return ret;},


initializeAll:function(startIndex){
var transactionWrappers=this.transactionWrappers;
for(var i=startIndex;i < transactionWrappers.length;i++) {
var wrapper=transactionWrappers[i];
try{




this.wrapperInitData[i] = Transaction.OBSERVED_ERROR;
this.wrapperInitData[i] = wrapper.initialize?
wrapper.initialize.call(this):
null;}finally 
{
if(this.wrapperInitData[i] === Transaction.OBSERVED_ERROR){



try{
this.initializeAll(i + 1);}
catch(err) {}}}}},












closeAll:function(startIndex){
invariant(
this.isInTransaction(),
'Transaction.closeAll(): Cannot close transaction when none are open.');

var transactionWrappers=this.transactionWrappers;
for(var i=startIndex;i < transactionWrappers.length;i++) {
var wrapper=transactionWrappers[i];
var initData=this.wrapperInitData[i];
var errorThrown;
try{




errorThrown = true;
if(initData !== Transaction.OBSERVED_ERROR && wrapper.close){
wrapper.close.call(this,initData);}

errorThrown = false;}finally 
{
if(errorThrown){



try{
this.closeAll(i + 1);}
catch(e) {}}}}




this.wrapperInitData.length = 0;}};



var Transaction={

Mixin:Mixin,




OBSERVED_ERROR:{}};



module.exports = Transaction;
});
__d('stringifySafe',function(global, require, module, exports) {  'use strict';
















function stringifySafe(arg){
var ret;
var type=typeof arg;
if(arg === undefined){
ret = 'undefined';}else 
if(arg === null){
ret = 'null';}else 
if(type === 'string'){
ret = '"' + arg + '"';}else 
if(type === 'function'){
try{
ret = arg.toString();}
catch(e) {
ret = '[function unknown]';}}else 

{


try{
ret = JSON.stringify(arg);}
catch(e) {
if(typeof arg.toString === 'function'){
try{
ret = arg.toString();}
catch(E) {}}}}



return ret || '["' + type + '" failed to stringify]';}


module.exports = stringifySafe;
});
__d('nativeModulePrefixNormalizer',function(global, require, module, exports) {  'use strict';













function nativeModulePrefixNormalizer(
modules)
{
Object.keys(modules).forEach(function(moduleName){
var strippedName=moduleName.replace(/^(RCT|RK)/,'');
if(modules['RCT' + strippedName] && modules['RK' + strippedName]){
throw new Error(
'Module cannot be registered as both RCT and RK: ' + moduleName);}


if(strippedName !== moduleName){
modules[strippedName] = modules[moduleName];
delete modules[moduleName];}});}




module.exports = nativeModulePrefixNormalizer;
});
__d('loadSourceMap',function(global, require, module, exports) {  'use strict';













var Promise=require('Promise');
var NativeModules=require('NativeModules');
var SourceMapConsumer=require('SourceMap').SourceMapConsumer;
var SourceMapURL=require('react-native/Libraries/JavaScriptAppEngine/Initialization/source-map-url.js');

var RCTSourceCode=NativeModules.SourceCode;
var RCTNetworking=NativeModules.Networking;

function loadSourceMap(){
return fetchSourceMap().
then(function(map){return new SourceMapConsumer(map);});}


function fetchSourceMap(){
if(global.RAW_SOURCE_MAP){
return Promise.resolve(global.RAW_SOURCE_MAP);}


if(!RCTSourceCode){
return Promise.reject(new Error('RCTSourceCode module is not available'));}


if(!RCTNetworking){

return Promise.reject(new Error('RCTNetworking module is not available'));}


return new Promise(RCTSourceCode.getScriptText).
then(extractSourceMapURL).
then(function(url){
if(url === null){
return Promise.reject(new Error('No source map URL found. May be running from bundled file.'));}

return Promise.resolve(url);}).

then(fetch).
then(function(response){return response.text();});}


function extractSourceMapURL(_ref){var url=_ref.url;var text=_ref.text;var fullSourceMappingURL=_ref.fullSourceMappingURL;
if(fullSourceMappingURL){
return fullSourceMappingURL;}

var mapURL=SourceMapURL.getFrom(text);
if(!mapURL){
return null;}

var baseURL=url.match(/(.+:\/\/.*?)\//)[1];
return baseURL + mapURL;}


module.exports = loadSourceMap;
});
__d('Promise',function(global, require, module, exports) {  'use strict';























global.setImmediate = require('setImmediate');
var Promise=require('promise/setimmediate/es6-extensions.js');
require('promise/setimmediate/done.js');




Promise.prototype.finally = function(onSettled){
return this.then(onSettled,onSettled);};



module.exports = Promise;
});
__d('setImmediate',function(global, require, module, exports) {  module.
















exports = global.setImmediate || 
require('ImmediateImplementation').setImmediate;
});
__d('ImmediateImplementation',function(global, require, module, exports) {  /**
 * @generated SignedSource<<57d0446bbd1186485d372efe6b323dca>>
 *
 * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 * !! This file is a check-in of a static_upstream project!      !!
 * !!                                                            !!
 * !! You should not modify this file directly. Instead:         !!
 * !! 1) Use `fjs use-upstream` to temporarily replace this with !!
 * !!    the latest version from upstream.                       !!
 * !! 2) Make your changes, test them, etc.                      !!
 * !! 3) Use `fjs push-upstream` to copy your changes back to    !!
 * !!    static_upstream.                                        !!
 * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 *
 * Copyright (c) 2012 Barnesandnoble.com, llc, Donavon West, and Domenic
 * Denicola
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * @preserve-header
 * @providesModule ImmediateImplementation
 */

(function(global,undefined){
"use strict";

var nextHandle=1;
var tasksByHandle={};
var queueHead={};
var queueTail=queueHead;
var currentlyRunningATask=false;
var doc=global.document;
var setImmediate;

function addFromSetImmediateArguments(args){
var handler=args[0];
args = Array.prototype.slice.call(args,1);
tasksByHandle[nextHandle] = function(){
handler.apply(undefined,args);};

queueTail = queueTail.next = {handle:nextHandle++};
return queueTail.handle;}


function flushQueue(){
var next,task;
while(!currentlyRunningATask && (next = queueHead.next)) {
queueHead = next;
if(task = tasksByHandle[next.handle]){
currentlyRunningATask = true;
try{
task();
currentlyRunningATask = false;}finally 
{
clearImmediate(next.handle);
if(currentlyRunningATask){
currentlyRunningATask = false;






if(queueHead.next){
setImmediate(flushQueue);}}}}}}







function clearImmediate(handle){
delete tasksByHandle[handle];}


function canUsePostMessage(){


if(global.postMessage && !global.importScripts){
var postMessageIsAsynchronous=true;

var onMessage=function(){
postMessageIsAsynchronous = false;
if(global.removeEventListener){
global.removeEventListener("message",onMessage,false);}else 
{
global.detachEvent("onmessage",onMessage);}};



if(global.addEventListener){
global.addEventListener("message",onMessage,false);}else 
if(global.attachEvent){
global.attachEvent("onmessage",onMessage);}else 
{
return false;}


global.postMessage("","*");
return postMessageIsAsynchronous;}}



function installPostMessageImplementation(){


var messagePrefix="setImmediate$" + Math.random() + "$";
var onGlobalMessage=function(event){
if(event.source === global && 
typeof event.data === "string" && 
event.data.indexOf(messagePrefix) === 0){
flushQueue();}};



if(global.addEventListener){
global.addEventListener("message",onGlobalMessage,false);}else 
{
global.attachEvent("onmessage",onGlobalMessage);}


setImmediate = function(){
var handle=addFromSetImmediateArguments(arguments);
global.postMessage(messagePrefix + handle,"*");
return handle;};}



function installMessageChannelImplementation(){
var channel=new MessageChannel();
channel.port1.onmessage = flushQueue;
setImmediate = function(){
var handle=addFromSetImmediateArguments(arguments);
channel.port2.postMessage(handle);
return handle;};}



function installReadyStateChangeImplementation(){
var html=doc.documentElement;
setImmediate = function(){
var handle=addFromSetImmediateArguments(arguments);


var script=doc.createElement("script");
script.onreadystatechange = function(){
script.onreadystatechange = null;
html.removeChild(script);
script = null;
flushQueue();};

html.appendChild(script);
return handle;};}



function installSetTimeoutImplementation(){
setImmediate = function(){
setTimeout(flushQueue,0);
return addFromSetImmediateArguments(arguments);};}



if(canUsePostMessage()){

installPostMessageImplementation();}else 

if(global.MessageChannel){

installMessageChannelImplementation();}else 

if(doc && "onreadystatechange" in doc.createElement("script")){

installReadyStateChangeImplementation();}else 

{

installSetTimeoutImplementation();}


exports.setImmediate = setImmediate;
exports.clearImmediate = clearImmediate;})(
Function("return this")());
});
__d('promise/setimmediate/es6-extensions.js',function(global, require, module, exports) {  'use strict';



var Promise=require('promise/setimmediate/core.js');

module.exports = Promise;



var TRUE=valuePromise(true);
var FALSE=valuePromise(false);
var NULL=valuePromise(null);
var UNDEFINED=valuePromise(undefined);
var ZERO=valuePromise(0);
var EMPTYSTRING=valuePromise('');

function valuePromise(value){
var p=new Promise(Promise._99);
p._37 = 1;
p._12 = value;
return p;}

Promise.resolve = function(value){
if(value instanceof Promise)return value;

if(value === null)return NULL;
if(value === undefined)return UNDEFINED;
if(value === true)return TRUE;
if(value === false)return FALSE;
if(value === 0)return ZERO;
if(value === '')return EMPTYSTRING;

if(typeof value === 'object' || typeof value === 'function'){
try{
var then=value.then;
if(typeof then === 'function'){
return new Promise(then.bind(value));}}

catch(ex) {
return new Promise(function(resolve,reject){
reject(ex);});}}



return valuePromise(value);};


Promise.all = function(arr){
var args=Array.prototype.slice.call(arr);

return new Promise(function(resolve,reject){
if(args.length === 0)return resolve([]);
var remaining=args.length;
function res(i,val){
if(val && (typeof val === 'object' || typeof val === 'function')){
if(val instanceof Promise && val.then === Promise.prototype.then){
while(val._37 === 3) {
val = val._12;}

if(val._37 === 1)return res(i,val._12);
if(val._37 === 2)reject(val._12);
val.then(function(val){
res(i,val);},
reject);
return;}else 
{
var then=val.then;
if(typeof then === 'function'){
var p=new Promise(then.bind(val));
p.then(function(val){
res(i,val);},
reject);
return;}}}



args[i] = val;
if(--remaining === 0){
resolve(args);}}


for(var i=0;i < args.length;i++) {
res(i,args[i]);}});};




Promise.reject = function(value){
return new Promise(function(resolve,reject){
reject(value);});};



Promise.race = function(values){
return new Promise(function(resolve,reject){
values.forEach(function(value){
Promise.resolve(value).then(resolve,reject);});});};






Promise.prototype['catch'] = function(onRejected){
return this.then(null,onRejected);};
});
__d('promise/setimmediate/core.js',function(global, require, module, exports) {  'use strict';



function noop(){}


















var LAST_ERROR=null;
var IS_ERROR={};
function getThen(obj){
try{
return obj.then;}
catch(ex) {
LAST_ERROR = ex;
return IS_ERROR;}}



function tryCallOne(fn,a){
try{
return fn(a);}
catch(ex) {
LAST_ERROR = ex;
return IS_ERROR;}}


function tryCallTwo(fn,a,b){
try{
fn(a,b);}
catch(ex) {
LAST_ERROR = ex;
return IS_ERROR;}}



module.exports = Promise;

function Promise(fn){
if(typeof this !== 'object'){
throw new TypeError('Promises must be constructed via new');}

if(typeof fn !== 'function'){
throw new TypeError('not a function');}

this._37 = 0;
this._12 = null;
this._59 = [];
if(fn === noop)return;
doResolve(fn,this);}

Promise._99 = noop;

Promise.prototype.then = function(onFulfilled,onRejected){
if(this.constructor !== Promise){
return safeThen(this,onFulfilled,onRejected);}

var res=new Promise(noop);
handle(this,new Handler(onFulfilled,onRejected,res));
return res;};


function safeThen(self,onFulfilled,onRejected){
return new self.constructor(function(resolve,reject){
var res=new Promise(noop);
res.then(resolve,reject);
handle(self,new Handler(onFulfilled,onRejected,res));});}

;
function handle(self,deferred){
while(self._37 === 3) {
self = self._12;}

if(self._37 === 0){
self._59.push(deferred);
return;}

setImmediate(function(){
var cb=self._37 === 1?deferred.onFulfilled:deferred.onRejected;
if(cb === null){
if(self._37 === 1){
resolve(deferred.promise,self._12);}else 
{
reject(deferred.promise,self._12);}

return;}

var ret=tryCallOne(cb,self._12);
if(ret === IS_ERROR){
reject(deferred.promise,LAST_ERROR);}else 
{
resolve(deferred.promise,ret);}});}



function resolve(self,newValue){

if(newValue === self){
return reject(
self,
new TypeError('A promise cannot be resolved with itself.'));}


if(
newValue && (
typeof newValue === 'object' || typeof newValue === 'function'))
{
var then=getThen(newValue);
if(then === IS_ERROR){
return reject(self,LAST_ERROR);}

if(
then === self.then && 
newValue instanceof Promise)
{
self._37 = 3;
self._12 = newValue;
finale(self);
return;}else 
if(typeof then === 'function'){
doResolve(then.bind(newValue),self);
return;}}


self._37 = 1;
self._12 = newValue;
finale(self);}


function reject(self,newValue){
self._37 = 2;
self._12 = newValue;
finale(self);}

function finale(self){
for(var i=0;i < self._59.length;i++) {
handle(self,self._59[i]);}

self._59 = null;}


function Handler(onFulfilled,onRejected,promise){
this.onFulfilled = typeof onFulfilled === 'function'?onFulfilled:null;
this.onRejected = typeof onRejected === 'function'?onRejected:null;
this.promise = promise;}








function doResolve(fn,promise){
var done=false;
var res=tryCallTwo(fn,function(value){
if(done)return;
done = true;
resolve(promise,value);},
function(reason){
if(done)return;
done = true;
reject(promise,reason);});

if(!done && res === IS_ERROR){
done = true;
reject(promise,LAST_ERROR);}}
});
__d('promise/setimmediate/done.js',function(global, require, module, exports) {  'use strict';

var Promise=require('promise/setimmediate/core.js');

module.exports = Promise;
Promise.prototype.done = function(onFulfilled,onRejected){
var self=arguments.length?this.then.apply(this,arguments):this;
self.then(null,function(err){
setTimeout(function(){
throw err;},
0);});};
});
__d('SourceMap',function(global, require, module, exports) {  var 























scope={};
wrapper.call(scope);

module.exports = scope.sourceMap;

function wrapper(){














function define(moduleName,deps,payload){
if(typeof moduleName != "string"){
throw new TypeError('Expected string, got: ' + moduleName);}


if(arguments.length == 2){
payload = deps;}


if(moduleName in define.modules){
throw new Error("Module already defined: " + moduleName);}

define.modules[moduleName] = payload;}
;




define.modules = {};










function Domain(){
this.modules = {};
this._currentModule = null;}


(function(){
















Domain.prototype.require = function(deps,callback){
if(Array.isArray(deps)){
var params=deps.map(function(dep){
return this.lookup(dep);},
this);
if(callback){
callback.apply(null,params);}

return undefined;}else 

{
return this.lookup(deps);}};



function normalize(path){
var bits=path.split('/');
var i=1;
while(i < bits.length) {
if(bits[i] === '..'){
bits.splice(i - 1,1);}else 
if(bits[i] === '.'){
bits.splice(i,1);}else 
{
i++;}}


return bits.join('/');}


function join(a,b){
a = a.trim();
b = b.trim();
if(/^\//.test(b)){
return b;}else 
{
return a.replace(/\/*$/,'/') + b;}}



function dirname(path){
var bits=path.split('/');
bits.pop();
return bits.join('/');}








Domain.prototype.lookup = function(moduleName){
if(/^\./.test(moduleName)){
moduleName = normalize(join(dirname(this._currentModule),moduleName));}


if(moduleName in this.modules){
var module=this.modules[moduleName];
return module;}


if(!(moduleName in define.modules)){
throw new Error("Module not defined: " + moduleName);}


var module=define.modules[moduleName];

if(typeof module == "function"){
var exports={};
var previousModule=this._currentModule;
this._currentModule = moduleName;
module(this.require.bind(this),exports,{id:moduleName,uri:""});
this._currentModule = previousModule;
module = exports;}



this.modules[moduleName] = module;

return module;};})();




define.Domain = Domain;
define.globalDomain = new Domain();
var require=define.globalDomain.require.bind(define.globalDomain);






define('source-map/source-map-generator',['require','exports','module','source-map/base64-vlq','source-map/util','source-map/array-set'],function(require,exports,module){

var base64VLQ=require('./base64-vlq');
var util=require('./util');
var ArraySet=require('./array-set').ArraySet;









function SourceMapGenerator(aArgs){
this._file = util.getArg(aArgs,'file');
this._sourceRoot = util.getArg(aArgs,'sourceRoot',null);
this._sources = new ArraySet();
this._names = new ArraySet();
this._mappings = [];
this._sourcesContents = null;}


SourceMapGenerator.prototype._version = 3;






SourceMapGenerator.fromSourceMap = 
function SourceMapGenerator_fromSourceMap(aSourceMapConsumer){
var sourceRoot=aSourceMapConsumer.sourceRoot;
var generator=new SourceMapGenerator({
file:aSourceMapConsumer.file,
sourceRoot:sourceRoot});

aSourceMapConsumer.eachMapping(function(mapping){
var newMapping={
generated:{
line:mapping.generatedLine,
column:mapping.generatedColumn}};



if(mapping.source){
newMapping.source = mapping.source;
if(sourceRoot){
newMapping.source = util.relative(sourceRoot,newMapping.source);}


newMapping.original = {
line:mapping.originalLine,
column:mapping.originalColumn};


if(mapping.name){
newMapping.name = mapping.name;}}



generator.addMapping(newMapping);});

aSourceMapConsumer.sources.forEach(function(sourceFile){
var content=aSourceMapConsumer.sourceContentFor(sourceFile);
if(content){
generator.setSourceContent(sourceFile,content);}});


return generator;};












SourceMapGenerator.prototype.addMapping = 
function SourceMapGenerator_addMapping(aArgs){
var generated=util.getArg(aArgs,'generated');
var original=util.getArg(aArgs,'original',null);
var source=util.getArg(aArgs,'source',null);
var name=util.getArg(aArgs,'name',null);

this._validateMapping(generated,original,source,name);

if(source && !this._sources.has(source)){
this._sources.add(source);}


if(name && !this._names.has(name)){
this._names.add(name);}


this._mappings.push({
generatedLine:generated.line,
generatedColumn:generated.column,
originalLine:original != null && original.line,
originalColumn:original != null && original.column,
source:source,
name:name});};






SourceMapGenerator.prototype.setSourceContent = 
function SourceMapGenerator_setSourceContent(aSourceFile,aSourceContent){
var source=aSourceFile;
if(this._sourceRoot){
source = util.relative(this._sourceRoot,source);}


if(aSourceContent !== null){


if(!this._sourcesContents){
this._sourcesContents = {};}

this._sourcesContents[util.toSetString(source)] = aSourceContent;}else 
{


delete this._sourcesContents[util.toSetString(source)];
if(Object.keys(this._sourcesContents).length === 0){
this._sourcesContents = null;}}};














SourceMapGenerator.prototype.applySourceMap = 
function SourceMapGenerator_applySourceMap(aSourceMapConsumer,aSourceFile){

if(!aSourceFile){
aSourceFile = aSourceMapConsumer.file;}

var sourceRoot=this._sourceRoot;

if(sourceRoot){
aSourceFile = util.relative(sourceRoot,aSourceFile);}



var newSources=new ArraySet();
var newNames=new ArraySet();


this._mappings.forEach(function(mapping){
if(mapping.source === aSourceFile && mapping.originalLine){

var original=aSourceMapConsumer.originalPositionFor({
line:mapping.originalLine,
column:mapping.originalColumn});

if(original.source !== null){

if(sourceRoot){
mapping.source = util.relative(sourceRoot,original.source);}else 
{
mapping.source = original.source;}

mapping.originalLine = original.line;
mapping.originalColumn = original.column;
if(original.name !== null && mapping.name !== null){


mapping.name = original.name;}}}




var source=mapping.source;
if(source && !newSources.has(source)){
newSources.add(source);}


var name=mapping.name;
if(name && !newNames.has(name)){
newNames.add(name);}},


this);
this._sources = newSources;
this._names = newNames;


aSourceMapConsumer.sources.forEach(function(sourceFile){
var content=aSourceMapConsumer.sourceContentFor(sourceFile);
if(content){
if(sourceRoot){
sourceFile = util.relative(sourceRoot,sourceFile);}

this.setSourceContent(sourceFile,content);}},

this);};













SourceMapGenerator.prototype._validateMapping = 
function SourceMapGenerator_validateMapping(aGenerated,aOriginal,aSource,
aName){
if(aGenerated && 'line' in aGenerated && 'column' in aGenerated && 
aGenerated.line > 0 && aGenerated.column >= 0 && 
!aOriginal && !aSource && !aName){

return;}else 

if(aGenerated && 'line' in aGenerated && 'column' in aGenerated && 
aOriginal && 'line' in aOriginal && 'column' in aOriginal && 
aGenerated.line > 0 && aGenerated.column >= 0 && 
aOriginal.line > 0 && aOriginal.column >= 0 && 
aSource){

return;}else 

{
throw new Error('Invalid mapping: ' + JSON.stringify({
generated:aGenerated,
source:aSource,
orginal:aOriginal,
name:aName}));}};








SourceMapGenerator.prototype._serializeMappings = 
function SourceMapGenerator_serializeMappings(){
var previousGeneratedColumn=0;
var previousGeneratedLine=1;
var previousOriginalColumn=0;
var previousOriginalLine=0;
var previousName=0;
var previousSource=0;
var result='';
var mapping;






this._mappings.sort(util.compareByGeneratedPositions);

for(var i=0,len=this._mappings.length;i < len;i++) {
mapping = this._mappings[i];

if(mapping.generatedLine !== previousGeneratedLine){
previousGeneratedColumn = 0;
while(mapping.generatedLine !== previousGeneratedLine) {
result += ';';
previousGeneratedLine++;}}else 


{
if(i > 0){
if(!util.compareByGeneratedPositions(mapping,this._mappings[i - 1])){
continue;}

result += ',';}}



result += base64VLQ.encode(mapping.generatedColumn - 
previousGeneratedColumn);
previousGeneratedColumn = mapping.generatedColumn;

if(mapping.source){
result += base64VLQ.encode(this._sources.indexOf(mapping.source) - 
previousSource);
previousSource = this._sources.indexOf(mapping.source);


result += base64VLQ.encode(mapping.originalLine - 1 - 
previousOriginalLine);
previousOriginalLine = mapping.originalLine - 1;

result += base64VLQ.encode(mapping.originalColumn - 
previousOriginalColumn);
previousOriginalColumn = mapping.originalColumn;

if(mapping.name){
result += base64VLQ.encode(this._names.indexOf(mapping.name) - 
previousName);
previousName = this._names.indexOf(mapping.name);}}}




return result;};


SourceMapGenerator.prototype._generateSourcesContent = 
function SourceMapGenerator_generateSourcesContent(aSources,aSourceRoot){
return aSources.map(function(source){
if(!this._sourcesContents){
return null;}

if(aSourceRoot){
source = util.relative(aSourceRoot,source);}

var key=util.toSetString(source);
return Object.prototype.hasOwnProperty.call(this._sourcesContents,
key)?
this._sourcesContents[key]:
null;},
this);};





SourceMapGenerator.prototype.toJSON = 
function SourceMapGenerator_toJSON(){
var map={
version:this._version,
file:this._file,
sources:this._sources.toArray(),
names:this._names.toArray(),
mappings:this._serializeMappings()};

if(this._sourceRoot){
map.sourceRoot = this._sourceRoot;}

if(this._sourcesContents){
map.sourcesContent = this._generateSourcesContent(map.sources,map.sourceRoot);}


return map;};





SourceMapGenerator.prototype.toString = 
function SourceMapGenerator_toString(){
return JSON.stringify(this);};


exports.SourceMapGenerator = SourceMapGenerator;});






































define('source-map/base64-vlq',['require','exports','module','source-map/base64'],function(require,exports,module){

var base64=require('./base64');













var VLQ_BASE_SHIFT=5;


var VLQ_BASE=1 << VLQ_BASE_SHIFT;


var VLQ_BASE_MASK=VLQ_BASE - 1;


var VLQ_CONTINUATION_BIT=VLQ_BASE;







function toVLQSigned(aValue){
return aValue < 0?
(-aValue << 1) + 1:
(aValue << 1) + 0;}








function fromVLQSigned(aValue){
var isNegative=(aValue & 1) === 1;
var shifted=aValue >> 1;
return isNegative?
-shifted:
shifted;}





exports.encode = function base64VLQ_encode(aValue){
var encoded="";
var digit;

var vlq=toVLQSigned(aValue);

do {
digit = vlq & VLQ_BASE_MASK;
vlq >>>= VLQ_BASE_SHIFT;
if(vlq > 0){


digit |= VLQ_CONTINUATION_BIT;}

encoded += base64.encode(digit);}while(
vlq > 0);

return encoded;};






exports.decode = function base64VLQ_decode(aStr){
var i=0;
var strLen=aStr.length;
var result=0;
var shift=0;
var continuation,digit;

do {
if(i >= strLen){
throw new Error("Expected more digits in base 64 VLQ value.");}

digit = base64.decode(aStr.charAt(i++));
continuation = !!(digit & VLQ_CONTINUATION_BIT);
digit &= VLQ_BASE_MASK;
result = result + (digit << shift);
shift += VLQ_BASE_SHIFT;}while(
continuation);

return {
value:fromVLQSigned(result),
rest:aStr.slice(i)};};});










define('source-map/base64',['require','exports','module'],function(require,exports,module){

var charToIntMap={};
var intToCharMap={};

'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.
split('').
forEach(function(ch,index){
charToIntMap[ch] = index;
intToCharMap[index] = ch;});





exports.encode = function base64_encode(aNumber){
if(aNumber in intToCharMap){
return intToCharMap[aNumber];}

throw new TypeError("Must be between 0 and 63: " + aNumber);};





exports.decode = function base64_decode(aChar){
if(aChar in charToIntMap){
return charToIntMap[aChar];}

throw new TypeError("Not a valid base 64 digit: " + aChar);};});









define('source-map/util',['require','exports','module'],function(require,exports,module){











function getArg(aArgs,aName,aDefaultValue){
if(aName in aArgs){
return aArgs[aName];}else 
if(arguments.length === 3){
return aDefaultValue;}else 
{
throw new Error('"' + aName + '" is a required argument.');}}


exports.getArg = getArg;

var urlRegexp=/([\w+\-.]+):\/\/((\w+:\w+)@)?([\w.]+)?(:(\d+))?(\S+)?/;
var dataUrlRegexp=/^data:.+\,.+/;

function urlParse(aUrl){
var match=aUrl.match(urlRegexp);
if(!match){
return null;}

return {
scheme:match[1],
auth:match[3],
host:match[4],
port:match[6],
path:match[7]};}


exports.urlParse = urlParse;

function urlGenerate(aParsedUrl){
var url=aParsedUrl.scheme + "://";
if(aParsedUrl.auth){
url += aParsedUrl.auth + "@";}

if(aParsedUrl.host){
url += aParsedUrl.host;}

if(aParsedUrl.port){
url += ":" + aParsedUrl.port;}

if(aParsedUrl.path){
url += aParsedUrl.path;}

return url;}

exports.urlGenerate = urlGenerate;

function join(aRoot,aPath){
var url;

if(aPath.match(urlRegexp) || aPath.match(dataUrlRegexp)){
return aPath;}


if(aPath.charAt(0) === '/' && (url = urlParse(aRoot))){
url.path = aPath;
return urlGenerate(url);}


return aRoot.replace(/\/$/,'') + '/' + aPath;}

exports.join = join;










function toSetString(aStr){
return '$' + aStr;}

exports.toSetString = toSetString;

function fromSetString(aStr){
return aStr.substr(1);}

exports.fromSetString = fromSetString;

function relative(aRoot,aPath){
aRoot = aRoot.replace(/\/$/,'');

var url=urlParse(aRoot);
if(aPath.charAt(0) == "/" && url && url.path == "/"){
return aPath.slice(1);}


return aPath.indexOf(aRoot + '/') === 0?
aPath.substr(aRoot.length + 1):
aPath;}

exports.relative = relative;

function strcmp(aStr1,aStr2){
var s1=aStr1 || "";
var s2=aStr2 || "";
return (s1 > s2) - (s1 < s2);}










function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){
var cmp;

cmp = strcmp(mappingA.source,mappingB.source);
if(cmp){
return cmp;}


cmp = mappingA.originalLine - mappingB.originalLine;
if(cmp){
return cmp;}


cmp = mappingA.originalColumn - mappingB.originalColumn;
if(cmp || onlyCompareOriginal){
return cmp;}


cmp = strcmp(mappingA.name,mappingB.name);
if(cmp){
return cmp;}


cmp = mappingA.generatedLine - mappingB.generatedLine;
if(cmp){
return cmp;}


return mappingA.generatedColumn - mappingB.generatedColumn;}
;
exports.compareByOriginalPositions = compareByOriginalPositions;










function compareByGeneratedPositions(mappingA,mappingB,onlyCompareGenerated){
var cmp;

cmp = mappingA.generatedLine - mappingB.generatedLine;
if(cmp){
return cmp;}


cmp = mappingA.generatedColumn - mappingB.generatedColumn;
if(cmp || onlyCompareGenerated){
return cmp;}


cmp = strcmp(mappingA.source,mappingB.source);
if(cmp){
return cmp;}


cmp = mappingA.originalLine - mappingB.originalLine;
if(cmp){
return cmp;}


cmp = mappingA.originalColumn - mappingB.originalColumn;
if(cmp){
return cmp;}


return strcmp(mappingA.name,mappingB.name);}
;
exports.compareByGeneratedPositions = compareByGeneratedPositions;});








define('source-map/array-set',['require','exports','module','source-map/util'],function(require,exports,module){

var util=require('./util');







function ArraySet(){
this._array = [];
this._set = {};}





ArraySet.fromArray = function ArraySet_fromArray(aArray,aAllowDuplicates){
var set=new ArraySet();
for(var i=0,len=aArray.length;i < len;i++) {
set.add(aArray[i],aAllowDuplicates);}

return set;};







ArraySet.prototype.add = function ArraySet_add(aStr,aAllowDuplicates){
var isDuplicate=this.has(aStr);
var idx=this._array.length;
if(!isDuplicate || aAllowDuplicates){
this._array.push(aStr);}

if(!isDuplicate){
this._set[util.toSetString(aStr)] = idx;}};








ArraySet.prototype.has = function ArraySet_has(aStr){
return Object.prototype.hasOwnProperty.call(this._set,
util.toSetString(aStr));};







ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr){
if(this.has(aStr)){
return this._set[util.toSetString(aStr)];}

throw new Error('"' + aStr + '" is not in the set.');};







ArraySet.prototype.at = function ArraySet_at(aIdx){
if(aIdx >= 0 && aIdx < this._array.length){
return this._array[aIdx];}

throw new Error('No element indexed by ' + aIdx);};







ArraySet.prototype.toArray = function ArraySet_toArray(){
return this._array.slice();};


exports.ArraySet = ArraySet;});








define('source-map/source-map-consumer',['require','exports','module','source-map/util','source-map/binary-search','source-map/array-set','source-map/base64-vlq'],function(require,exports,module){

var util=require('./util');
var binarySearch=require('./binary-search');
var ArraySet=require('./array-set').ArraySet;
var base64VLQ=require('./base64-vlq');































function SourceMapConsumer(aSourceMap){
var sourceMap=aSourceMap;
if(typeof aSourceMap === 'string'){
sourceMap = JSON.parse(aSourceMap.replace(/^\)\]\}'/,''));}


var version=util.getArg(sourceMap,'version');
var sources=util.getArg(sourceMap,'sources');


var names=util.getArg(sourceMap,'names',[]);
var sourceRoot=util.getArg(sourceMap,'sourceRoot',null);
var sourcesContent=util.getArg(sourceMap,'sourcesContent',null);
var mappings=util.getArg(sourceMap,'mappings');
var file=util.getArg(sourceMap,'file',null);



if(version != this._version){
throw new Error('Unsupported version: ' + version);}






this._names = ArraySet.fromArray(names,true);
this._sources = ArraySet.fromArray(sources,true);

this.sourceRoot = sourceRoot;
this.sourcesContent = sourcesContent;
this._mappings = mappings;
this.file = file;}









SourceMapConsumer.fromSourceMap = 
function SourceMapConsumer_fromSourceMap(aSourceMap){
var smc=Object.create(SourceMapConsumer.prototype);

smc._names = ArraySet.fromArray(aSourceMap._names.toArray(),true);
smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(),true);
smc.sourceRoot = aSourceMap._sourceRoot;
smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),
smc.sourceRoot);
smc.file = aSourceMap._file;

smc.__generatedMappings = aSourceMap._mappings.slice().
sort(util.compareByGeneratedPositions);
smc.__originalMappings = aSourceMap._mappings.slice().
sort(util.compareByOriginalPositions);

return smc;};





SourceMapConsumer.prototype._version = 3;




Object.defineProperty(SourceMapConsumer.prototype,'sources',{
get:function(){
return this._sources.toArray().map(function(s){
return this.sourceRoot?util.join(this.sourceRoot,s):s;},
this);}});

































SourceMapConsumer.prototype.__generatedMappings = null;
Object.defineProperty(SourceMapConsumer.prototype,'_generatedMappings',{
get:function(){
if(!this.__generatedMappings){
this.__generatedMappings = [];
this.__originalMappings = [];
this._parseMappings(this._mappings,this.sourceRoot);}


return this.__generatedMappings;}});



SourceMapConsumer.prototype.__originalMappings = null;
Object.defineProperty(SourceMapConsumer.prototype,'_originalMappings',{
get:function(){
if(!this.__originalMappings){
this.__generatedMappings = [];
this.__originalMappings = [];
this._parseMappings(this._mappings,this.sourceRoot);}


return this.__originalMappings;}});








SourceMapConsumer.prototype._parseMappings = 
function SourceMapConsumer_parseMappings(aStr,aSourceRoot){
var generatedLine=1;
var previousGeneratedColumn=0;
var previousOriginalLine=0;
var previousOriginalColumn=0;
var previousSource=0;
var previousName=0;
var mappingSeparator=/^[,;]/;
var str=aStr;
var mapping;
var temp;

while(str.length > 0) {
if(str.charAt(0) === ';'){
generatedLine++;
str = str.slice(1);
previousGeneratedColumn = 0;}else 

if(str.charAt(0) === ','){
str = str.slice(1);}else 

{
mapping = {};
mapping.generatedLine = generatedLine;


temp = base64VLQ.decode(str);
mapping.generatedColumn = previousGeneratedColumn + temp.value;
previousGeneratedColumn = mapping.generatedColumn;
str = temp.rest;

if(str.length > 0 && !mappingSeparator.test(str.charAt(0))){

temp = base64VLQ.decode(str);
mapping.source = this._sources.at(previousSource + temp.value);
previousSource += temp.value;
str = temp.rest;
if(str.length === 0 || mappingSeparator.test(str.charAt(0))){
throw new Error('Found a source, but no line and column');}



temp = base64VLQ.decode(str);
mapping.originalLine = previousOriginalLine + temp.value;
previousOriginalLine = mapping.originalLine;

mapping.originalLine += 1;
str = temp.rest;
if(str.length === 0 || mappingSeparator.test(str.charAt(0))){
throw new Error('Found a source and line, but no column');}



temp = base64VLQ.decode(str);
mapping.originalColumn = previousOriginalColumn + temp.value;
previousOriginalColumn = mapping.originalColumn;
str = temp.rest;

if(str.length > 0 && !mappingSeparator.test(str.charAt(0))){

temp = base64VLQ.decode(str);
mapping.name = this._names.at(previousName + temp.value);
previousName += temp.value;
str = temp.rest;}}



this.__generatedMappings.push(mapping);
if(typeof mapping.originalLine === 'number'){
this.__originalMappings.push(mapping);}}}




this.__originalMappings.sort(util.compareByOriginalPositions);};






SourceMapConsumer.prototype._findMapping = 
function SourceMapConsumer_findMapping(aNeedle,aMappings,aLineName,
aColumnName,aComparator){





if(aNeedle[aLineName] <= 0){
throw new TypeError('Line must be greater than or equal to 1, got ' + 
aNeedle[aLineName]);}

if(aNeedle[aColumnName] < 0){
throw new TypeError('Column must be greater than or equal to 0, got ' + 
aNeedle[aColumnName]);}


return binarySearch.search(aNeedle,aMappings,aComparator);};

















SourceMapConsumer.prototype.originalPositionFor = 
function SourceMapConsumer_originalPositionFor(aArgs){
var needle={
generatedLine:util.getArg(aArgs,'line'),
generatedColumn:util.getArg(aArgs,'column')};


var mapping=this._findMapping(needle,
this._generatedMappings,
"generatedLine",
"generatedColumn",
util.compareByGeneratedPositions);

if(mapping){
var source=util.getArg(mapping,'source',null);
if(source && this.sourceRoot){
source = util.join(this.sourceRoot,source);}

return {
source:source,
line:util.getArg(mapping,'originalLine',null),
column:util.getArg(mapping,'originalColumn',null),
name:util.getArg(mapping,'name',null)};}



return {
source:null,
line:null,
column:null,
name:null};};








SourceMapConsumer.prototype.sourceContentFor = 
function SourceMapConsumer_sourceContentFor(aSource){
if(!this.sourcesContent){
return null;}


if(this.sourceRoot){
aSource = util.relative(this.sourceRoot,aSource);}


if(this._sources.has(aSource)){
return this.sourcesContent[this._sources.indexOf(aSource)];}


var url;
if(this.sourceRoot && (
url = util.urlParse(this.sourceRoot))){




var fileUriAbsPath=aSource.replace(/^file:\/\//,"");
if(url.scheme == "file" && 
this._sources.has(fileUriAbsPath)){
return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];}


if((!url.path || url.path == "/") && 
this._sources.has("/" + aSource)){
return this.sourcesContent[this._sources.indexOf("/" + aSource)];}}



throw new Error('"' + aSource + '" is not in the SourceMap.');};
















SourceMapConsumer.prototype.generatedPositionFor = 
function SourceMapConsumer_generatedPositionFor(aArgs){
var needle={
source:util.getArg(aArgs,'source'),
originalLine:util.getArg(aArgs,'line'),
originalColumn:util.getArg(aArgs,'column')};


if(this.sourceRoot){
needle.source = util.relative(this.sourceRoot,needle.source);}


var mapping=this._findMapping(needle,
this._originalMappings,
"originalLine",
"originalColumn",
util.compareByOriginalPositions);

if(mapping){
return {
line:util.getArg(mapping,'generatedLine',null),
column:util.getArg(mapping,'generatedColumn',null)};}



return {
line:null,
column:null};};



SourceMapConsumer.GENERATED_ORDER = 1;
SourceMapConsumer.ORIGINAL_ORDER = 2;

















SourceMapConsumer.prototype.eachMapping = 
function SourceMapConsumer_eachMapping(aCallback,aContext,aOrder){
var context=aContext || null;
var order=aOrder || SourceMapConsumer.GENERATED_ORDER;

var mappings;
switch(order){
case SourceMapConsumer.GENERATED_ORDER:
mappings = this._generatedMappings;
break;
case SourceMapConsumer.ORIGINAL_ORDER:
mappings = this._originalMappings;
break;
default:
throw new Error("Unknown order of iteration.");}


var sourceRoot=this.sourceRoot;
mappings.map(function(mapping){
var source=mapping.source;
if(source && sourceRoot){
source = util.join(sourceRoot,source);}

return {
source:source,
generatedLine:mapping.generatedLine,
generatedColumn:mapping.generatedColumn,
originalLine:mapping.originalLine,
originalColumn:mapping.originalColumn,
name:mapping.name};}).

forEach(aCallback,context);};


exports.SourceMapConsumer = SourceMapConsumer;});








define('source-map/binary-search',['require','exports','module'],function(require,exports,module){










function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare){










var mid=Math.floor((aHigh - aLow) / 2) + aLow;
var cmp=aCompare(aNeedle,aHaystack[mid],true);
if(cmp === 0){

return aHaystack[mid];}else 

if(cmp > 0){

if(aHigh - mid > 1){

return recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare);}



return aHaystack[mid];}else 

{

if(mid - aLow > 1){

return recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare);}



return aLow < 0?
null:
aHaystack[aLow];}}
















exports.search = function search(aNeedle,aHaystack,aCompare){
return aHaystack.length > 0?
recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare):
null;};});









define('source-map/source-node',['require','exports','module','source-map/source-map-generator','source-map/util'],function(require,exports,module){

var SourceMapGenerator=require('./source-map-generator').SourceMapGenerator;
var util=require('./util');













function SourceNode(aLine,aColumn,aSource,aChunks,aName){
this.children = [];
this.sourceContents = {};
this.line = aLine === undefined?null:aLine;
this.column = aColumn === undefined?null:aColumn;
this.source = aSource === undefined?null:aSource;
this.name = aName === undefined?null:aName;
if(aChunks != null)this.add(aChunks);}








SourceNode.fromStringWithSourceMap = 
function SourceNode_fromStringWithSourceMap(aGeneratedCode,aSourceMapConsumer){


var node=new SourceNode();



var remainingLines=aGeneratedCode.split('\n');


var lastGeneratedLine=1,lastGeneratedColumn=0;




var lastMapping=null;

aSourceMapConsumer.eachMapping(function(mapping){
if(lastMapping === null){



while(lastGeneratedLine < mapping.generatedLine) {
node.add(remainingLines.shift() + "\n");
lastGeneratedLine++;}

if(lastGeneratedColumn < mapping.generatedColumn){
var nextLine=remainingLines[0];
node.add(nextLine.substr(0,mapping.generatedColumn));
remainingLines[0] = nextLine.substr(mapping.generatedColumn);
lastGeneratedColumn = mapping.generatedColumn;}}else 

{


if(lastGeneratedLine < mapping.generatedLine){
var code="";

do {
code += remainingLines.shift() + "\n";
lastGeneratedLine++;
lastGeneratedColumn = 0;}while(
lastGeneratedLine < mapping.generatedLine);


if(lastGeneratedColumn < mapping.generatedColumn){
var nextLine=remainingLines[0];
code += nextLine.substr(0,mapping.generatedColumn);
remainingLines[0] = nextLine.substr(mapping.generatedColumn);
lastGeneratedColumn = mapping.generatedColumn;}


addMappingWithCode(lastMapping,code);}else 
{



var nextLine=remainingLines[0];
var code=nextLine.substr(0,mapping.generatedColumn - 
lastGeneratedColumn);
remainingLines[0] = nextLine.substr(mapping.generatedColumn - 
lastGeneratedColumn);
lastGeneratedColumn = mapping.generatedColumn;
addMappingWithCode(lastMapping,code);}}


lastMapping = mapping;},
this);



addMappingWithCode(lastMapping,remainingLines.join("\n"));


aSourceMapConsumer.sources.forEach(function(sourceFile){
var content=aSourceMapConsumer.sourceContentFor(sourceFile);
if(content){
node.setSourceContent(sourceFile,content);}});



return node;

function addMappingWithCode(mapping,code){
if(mapping === null || mapping.source === undefined){
node.add(code);}else 
{
node.add(new SourceNode(mapping.originalLine,
mapping.originalColumn,
mapping.source,
code,
mapping.name));}}};










SourceNode.prototype.add = function SourceNode_add(aChunk){
if(Array.isArray(aChunk)){
aChunk.forEach(function(chunk){
this.add(chunk);},
this);}else 

if(aChunk instanceof SourceNode || typeof aChunk === "string"){
if(aChunk){
this.children.push(aChunk);}}else 


{
throw new TypeError(
"Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);}


return this;};








SourceNode.prototype.prepend = function SourceNode_prepend(aChunk){
if(Array.isArray(aChunk)){
for(var i=aChunk.length - 1;i >= 0;i--) {
this.prepend(aChunk[i]);}}else 


if(aChunk instanceof SourceNode || typeof aChunk === "string"){
this.children.unshift(aChunk);}else 

{
throw new TypeError(
"Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);}


return this;};









SourceNode.prototype.walk = function SourceNode_walk(aFn){
var chunk;
for(var i=0,len=this.children.length;i < len;i++) {
chunk = this.children[i];
if(chunk instanceof SourceNode){
chunk.walk(aFn);}else 

{
if(chunk !== ''){
aFn(chunk,{source:this.source,
line:this.line,
column:this.column,
name:this.name});}}}};











SourceNode.prototype.join = function SourceNode_join(aSep){
var newChildren;
var i;
var len=this.children.length;
if(len > 0){
newChildren = [];
for(i = 0;i < len - 1;i++) {
newChildren.push(this.children[i]);
newChildren.push(aSep);}

newChildren.push(this.children[i]);
this.children = newChildren;}

return this;};









SourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern,aReplacement){
var lastChild=this.children[this.children.length - 1];
if(lastChild instanceof SourceNode){
lastChild.replaceRight(aPattern,aReplacement);}else 

if(typeof lastChild === 'string'){
this.children[this.children.length - 1] = lastChild.replace(aPattern,aReplacement);}else 

{
this.children.push(''.replace(aPattern,aReplacement));}

return this;};









SourceNode.prototype.setSourceContent = 
function SourceNode_setSourceContent(aSourceFile,aSourceContent){
this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;};








SourceNode.prototype.walkSourceContents = 
function SourceNode_walkSourceContents(aFn){
for(var i=0,len=this.children.length;i < len;i++) {
if(this.children[i] instanceof SourceNode){
this.children[i].walkSourceContents(aFn);}}



var sources=Object.keys(this.sourceContents);
for(var i=0,len=sources.length;i < len;i++) {
aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]]);}};







SourceNode.prototype.toString = function SourceNode_toString(){
var str="";
this.walk(function(chunk){
str += chunk;});

return str;};






SourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs){
var generated={
code:"",
line:1,
column:0};

var map=new SourceMapGenerator(aArgs);
var sourceMappingActive=false;
var lastOriginalSource=null;
var lastOriginalLine=null;
var lastOriginalColumn=null;
var lastOriginalName=null;
this.walk(function(chunk,original){
generated.code += chunk;
if(original.source !== null && 
original.line !== null && 
original.column !== null){
if(lastOriginalSource !== original.source || 
lastOriginalLine !== original.line || 
lastOriginalColumn !== original.column || 
lastOriginalName !== original.name){
map.addMapping({
source:original.source,
original:{
line:original.line,
column:original.column},

generated:{
line:generated.line,
column:generated.column},

name:original.name});}


lastOriginalSource = original.source;
lastOriginalLine = original.line;
lastOriginalColumn = original.column;
lastOriginalName = original.name;
sourceMappingActive = true;}else 
if(sourceMappingActive){
map.addMapping({
generated:{
line:generated.line,
column:generated.column}});


lastOriginalSource = null;
sourceMappingActive = false;}

chunk.split('').forEach(function(ch){
if(ch === '\n'){
generated.line++;
generated.column = 0;}else 
{
generated.column++;}});});



this.walkSourceContents(function(sourceFile,sourceContent){
map.setSourceContent(sourceFile,sourceContent);});


return {code:generated.code,map:map};};


exports.SourceNode = SourceNode;});





this.sourceMap = {
SourceMapConsumer:require('source-map/source-map-consumer').SourceMapConsumer,
SourceMapGenerator:require('source-map/source-map-generator').SourceMapGenerator,
SourceNode:require('source-map/source-node').SourceNode};}
});
__d('react-native/Libraries/JavaScriptAppEngine/Initialization/source-map-url.js',function(global, require, module, exports) {  (














function(){
var define=null;




void (function(root,factory){
if(typeof define === "function" && define.amd){
define(factory);}else 
if(typeof exports === "object"){
module.exports = factory();}else 
{
root.sourceMappingURL = factory();}})(

this,function(){

var innerRegex=/[#@] sourceMappingURL=([^\s'"]*)/;

var regex=RegExp(
"(?:" + 
"/\\*" + 
"(?:\\s*\r?\n(?://)?)?" + 
"(?:" + innerRegex.source + ")" + 
"\\s*" + 
"\\*/" + 
"|" + 
"//(?:" + innerRegex.source + ")" + 
")" + 
"\\s*$");


return {

regex:regex,
_innerRegex:innerRegex,

getFrom:function(code){
var match=code.match(regex);
return match?match[1] || match[2] || "":null;},


existsIn:function(code){
return regex.test(code);},


removeFrom:function(code){
return code.replace(regex,"");},


insertBefore:function(code,string){
var match=code.match(regex);
if(match){
return code.slice(0,match.index) + string + code.slice(match.index);}else 
{
return code + string;}}};});})();
});
__d('parseErrorStack',function(global, require, module, exports) {  'use strict';











var stacktraceParser=require('stacktrace-parser/index.js');

function resolveSourceMaps(sourceMapInstance,stackFrame){
try{
var orig=sourceMapInstance.originalPositionFor({
line:stackFrame.lineNumber,
column:stackFrame.column});

if(orig){
stackFrame.file = orig.source;
stackFrame.lineNumber = orig.line;
stackFrame.column = orig.column;}}

catch(innerEx) {}}



function parseErrorStack(e,sourceMapInstance){
if(!e || !e.stack){
return [];}


var stack=Array.isArray(e.stack)?e.stack:stacktraceParser.parse(e.stack);

var framesToPop=e.framesToPop || 0;
while(framesToPop--) {
stack.shift();}


if(sourceMapInstance){
stack.forEach(resolveSourceMaps.bind(null,sourceMapInstance));}


return stack;}


module.exports = parseErrorStack;
});
__d('stacktrace-parser/index.js',function(global, require, module, exports) {  module.exports = require('stacktrace-parser/lib/stacktrace-parser.js');
});
__d('stacktrace-parser/lib/stacktrace-parser.js',function(global, require, module, exports) {  var 

UNKNOWN_FUNCTION='<unknown>';

var StackTraceParser={




parse:function(stackString){
var chrome=/^\s*at (?:(?:(?:Anonymous function)?|((?:\[object object\])?\S+(?: \[as \S+\])?)) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,
gecko=/^(?:\s*(\S*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,
node=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,
lines=stackString.split('\n'),
stack=[],
parts,
element;

for(var i=0,j=lines.length;i < j;++i) {
if(parts = gecko.exec(lines[i])){
element = {
'file':parts[3],
'methodName':parts[1] || UNKNOWN_FUNCTION,
'lineNumber':+parts[4],
'column':parts[5]?+parts[5]:null};}else 

if(parts = chrome.exec(lines[i])){
element = {
'file':parts[2],
'methodName':parts[1] || UNKNOWN_FUNCTION,
'lineNumber':+parts[3],
'column':parts[4]?+parts[4]:null};}else 

if(parts = node.exec(lines[i])){
element = {
'file':parts[2],
'methodName':parts[1] || UNKNOWN_FUNCTION,
'lineNumber':+parts[3],
'column':parts[4]?+parts[4]:null};}else 

{
continue;}


stack.push(element);}


return stack;}};




module.exports = StackTraceParser;
});
__d('Platform',function(global, require, module, exports) {  'use strict';













var Platform={
OS:'ios'};


module.exports = Platform;
});
__d('checkFlowAtRuntime',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












function checkFlowAtRuntime(){
var url=getPackagerURL();
if(!url){
return;}

fetch(url + 'flow/').
then(function(response){return response.json();}).
then(function(response){
if(response.silentError){
return;}

throw {
message:response.message,
stack:response.errors.map(function(err){
return _extends({},
err,{
methodName:err.description,
file:err.filename});})};},




function(){}).


done();}


function getPackagerURL(){
var NativeModules=require('NativeModules');
var scriptURL=NativeModules && 
NativeModules.SourceCode && 
NativeModules.SourceCode.scriptURL || 
'';




return getFirstOrNull(scriptURL.match(/^https?:\/\/[^/]+\//));}


function getFirstOrNull(ar){
return ar?ar[0]:null;}


module.exports = checkFlowAtRuntime;
});
__d('XMLHttpRequest',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var FormData=require('FormData');
var RCTNetworking=require('NativeModules').Networking;
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');

var XMLHttpRequestBase=require('XMLHttpRequestBase');var 

XMLHttpRequest=(function(_XMLHttpRequestBase){_inherits(XMLHttpRequest,_XMLHttpRequestBase);







function XMLHttpRequest(){_classCallCheck(this,XMLHttpRequest);
_get(Object.getPrototypeOf(XMLHttpRequest.prototype),'constructor',this).call(this);
this._requestId = null;
this._subscriptions = [];
this.upload = {};}_createClass(XMLHttpRequest,[{key:'_didCreateRequest',value:


function _didCreateRequest(requestId){var _this=this;
this._requestId = requestId;
this._subscriptions.push(RCTDeviceEventEmitter.addListener(
'didSendNetworkData',
function(args){return _this._didUploadProgress.call(_this,args[0],args[1],args[2]);}));

this._subscriptions.push(RCTDeviceEventEmitter.addListener(
'didReceiveNetworkResponse',
function(args){return _this._didReceiveResponse.call(_this,args[0],args[1],args[2]);}));

this._subscriptions.push(RCTDeviceEventEmitter.addListener(
'didReceiveNetworkData',
function(args){return _this._didReceiveData.call(_this,args[0],args[1]);}));

this._subscriptions.push(RCTDeviceEventEmitter.addListener(
'didCompleteNetworkResponse',
function(args){return _this._didCompleteResponse.call(_this,args[0],args[1]);}));}},{key:'_didUploadProgress',value:



function _didUploadProgress(requestId,progress,total){
if(requestId === this._requestId && this.upload.onprogress){
var event={
lengthComputable:true,
loaded:progress,
total:total};

this.upload.onprogress(event);}}},{key:'_didReceiveResponse',value:



function _didReceiveResponse(requestId,status,responseHeaders){
if(requestId === this._requestId){
this.status = status;
this.setResponseHeaders(responseHeaders);
this.setReadyState(this.HEADERS_RECEIVED);}}},{key:'_didReceiveData',value:



function _didReceiveData(requestId,responseText){
if(requestId === this._requestId){
if(!this.responseText){
this.responseText = responseText;}else 
{
this.responseText += responseText;}

this.setReadyState(this.LOADING);}}},{key:'_didCompleteResponse',value:



function _didCompleteResponse(requestId,error){
if(requestId === this._requestId){
if(error){
this.responseText = error;}

this._clearSubscriptions();
this._requestId = null;
this.setReadyState(this.DONE);}}},{key:'_clearSubscriptions',value:



function _clearSubscriptions(){
for(var i=0;i < this._subscriptions.length;i++) {
var sub=this._subscriptions[i];
sub.remove();}

this._subscriptions = [];}},{key:'sendImpl',value:


function sendImpl(method,url,headers,data){
if(typeof data === 'string'){
data = {string:data};}else 
if(data instanceof FormData){
data = {formData:data.getParts()};}

RCTNetworking.sendRequest(
{
method:method,
url:url,
data:data,
headers:headers,
incrementalUpdates:this.onreadystatechange?true:false},

this._didCreateRequest.bind(this));}},{key:'abortImpl',value:



function abortImpl(){
if(this._requestId){
RCTNetworking.cancelRequest(this._requestId);
this._clearSubscriptions();
this._requestId = null;}}}]);return XMLHttpRequest;})(XMLHttpRequestBase);




module.exports = XMLHttpRequest;
});
__d('FormData',function(global, require, module, exports) {  'use strict';var _slicedToArray=(function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n = (_s = _i.next()).done);_n = true) {_arr.push(_s.value);if(i && _arr.length === i)break;}}catch(err) {_d = true;_e = err;}finally {try{if(!_n && _i['return'])_i['return']();}finally {if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else {throw new TypeError('Invalid attempt to destructure non-iterable instance');}};})();var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var 














































FormData=(function(){


function FormData(){_classCallCheck(this,FormData);
this._parts = [];}_createClass(FormData,[{key:'append',value:


function append(key,value){





this._parts.push([key,value]);}},{key:'getParts',value:


function getParts(){
return this._parts.map(function(_ref){var _ref2=_slicedToArray(_ref,2);var name=_ref2[0];var value=_ref2[1];
var contentDisposition='form-data; name="' + name + '"';
var headers={'content-disposition':contentDisposition};
if(typeof value === 'string'){
return {string:value,headers:headers,fieldName:name};}






if(typeof value.name === 'string'){
headers['content-disposition'] += '; filename="' + value.name + '"';}

if(typeof value.type === 'string'){
headers['content-type'] = value.type;}

return _extends({},value,{headers:headers,fieldName:name});});}}]);return FormData;})();




module.exports = FormData;
});
__d('RCTDeviceEventEmitter',function(global, require, module, exports) {  'use strict';












var EventEmitter=require('EventEmitter');

var RCTDeviceEventEmitter=new EventEmitter();

module.exports = RCTDeviceEventEmitter;
});
__d('EventEmitter',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}

















var EmitterSubscription=require('EmitterSubscription');
var ErrorUtils=require('ErrorUtils');
var EventSubscriptionVendor=require('EventSubscriptionVendor');
var emptyFunction=require('emptyFunction');
var invariant=require('invariant');var 














EventEmitter=(function(){



function EventEmitter(){_classCallCheck(this,EventEmitter);
this._subscriber = new EventSubscriptionVendor();}_createClass(EventEmitter,[{key:'addListener',value:
















function addListener(
eventType,listener,context){
return this._subscriber.addSubscription(
eventType,
new EmitterSubscription(this._subscriber,listener,context));}},{key:'once',value:












function once(eventType,listener,context){
var emitter=this;
return this.addListener(eventType,function(){
emitter.removeCurrentListener();
listener.apply(context,arguments);});}},{key:'removeAllListeners',value:










function removeAllListeners(eventType){
this._subscriber.removeAllSubscriptions(eventType);}},{key:'removeCurrentListener',value:























function removeCurrentListener(){
invariant(
!!this._currentSubscription,
'Not in an emitting cycle; there is no current subscription');

this._subscriber.removeSubscription(this._currentSubscription);}},{key:'listeners',value:









function listeners(eventType){
var subscriptions=this._subscriber.getSubscriptionsForType(eventType);
return subscriptions?
subscriptions.filter(emptyFunction.thatReturnsTrue).map(
function(subscription){
return subscription.listener;}):

[];}},{key:'emit',value:
















function emit(eventType){
var subscriptions=this._subscriber.getSubscriptionsForType(eventType);
if(subscriptions){
var keys=Object.keys(subscriptions);
for(var ii=0;ii < keys.length;ii++) {
var key=keys[ii];
var subscription=subscriptions[key];


if(subscription){
this._currentSubscription = subscription;

ErrorUtils.applyWithGuard(
subscription.listener,
subscription.context,
Array.prototype.slice.call(arguments,1),
null,
'EventEmitter:' + eventType);}}



this._currentSubscription = null;}}}]);return EventEmitter;})();




module.exports = EventEmitter;
});
__d('EmitterSubscription',function(global, require, module, exports) {  'use strict';var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}


















var EventSubscription=require('EventSubscription');var 




EmitterSubscription=(function(_EventSubscription){_inherits(EmitterSubscription,_EventSubscription);









function EmitterSubscription(subscriber,listener,context){_classCallCheck(this,EmitterSubscription);
_get(Object.getPrototypeOf(EmitterSubscription.prototype),'constructor',this).call(this,subscriber);
this.listener = listener;
this.context = context;}return EmitterSubscription;})(EventSubscription);



module.exports = EmitterSubscription;
});
__d('EventSubscription',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var 






















EventSubscription=(function(){





function EventSubscription(subscriber){_classCallCheck(this,EventSubscription);
this.subscriber = subscriber;}_createClass(EventSubscription,[{key:'remove',value:





function remove(){
this.subscriber.removeSubscription(this);}}]);return EventSubscription;})();



module.exports = EventSubscription;
});
__d('EventSubscriptionVendor',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}


















var invariant=require('invariant');var 





EventSubscriptionVendor=(function(){

function EventSubscriptionVendor(){_classCallCheck(this,EventSubscriptionVendor);
this._subscriptionsForType = {};
this._currentSubscription = null;}_createClass(EventSubscriptionVendor,[{key:'addSubscription',value:








function addSubscription(
eventType,subscription){
invariant(
subscription.subscriber === this,
'The subscriber of the subscription is incorrectly set.');
if(!this._subscriptionsForType[eventType]){
this._subscriptionsForType[eventType] = [];}

var key=this._subscriptionsForType[eventType].length;
this._subscriptionsForType[eventType].push(subscription);
subscription.eventType = eventType;
subscription.key = key;
return subscription;}},{key:'removeAllSubscriptions',value:








function removeAllSubscriptions(eventType){
if(eventType === undefined){
this._subscriptionsForType = {};}else 
{
delete this._subscriptionsForType[eventType];}}},{key:'removeSubscription',value:









function removeSubscription(subscription){
var eventType=subscription.eventType;
var key=subscription.key;

var subscriptionsForType=this._subscriptionsForType[eventType];
if(subscriptionsForType){
delete subscriptionsForType[key];}}},{key:'getSubscriptionsForType',value:















function getSubscriptionsForType(eventType){
return this._subscriptionsForType[eventType];}}]);return EventSubscriptionVendor;})();



module.exports = EventSubscriptionVendor;
});
__d('XMLHttpRequestBase',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var 















XMLHttpRequestBase=(function(){






















function XMLHttpRequestBase(){_classCallCheck(this,XMLHttpRequestBase);
this.UNSENT = 0;
this.OPENED = 1;
this.HEADERS_RECEIVED = 2;
this.LOADING = 3;
this.DONE = 4;

this.onreadystatechange = null;
this.onload = null;
this.upload = undefined;

this._reset();
this._method = null;
this._url = null;
this._aborted = false;}_createClass(XMLHttpRequestBase,[{key:'_reset',value:


function _reset(){
this.readyState = this.UNSENT;
this.responseHeaders = undefined;
this.responseText = '';
this.status = 0;

this._headers = {};
this._sent = false;
this._lowerCaseResponseHeaders = {};}},{key:'getAllResponseHeaders',value:


function getAllResponseHeaders(){
if(!this.responseHeaders){

return null;}

var headers=this.responseHeaders || {};
return Object.keys(headers).map(function(headerName){
return headerName + ': ' + headers[headerName];}).
join('\n');}},{key:'getResponseHeader',value:


function getResponseHeader(header){
var value=this._lowerCaseResponseHeaders[header.toLowerCase()];
return value !== undefined?value:null;}},{key:'setRequestHeader',value:


function setRequestHeader(header,value){
if(this.readyState !== this.OPENED){
throw new Error('Request has not been opened');}

this._headers[header.toLowerCase()] = value;}},{key:'open',value:


function open(method,url,async){

if(this.readyState !== this.UNSENT){
throw new Error('Cannot open, already sending');}

if(async !== undefined && !async){

throw new Error('Synchronous http requests are not supported');}

this._reset();
this._method = method;
this._url = url;
this._aborted = false;
this.setReadyState(this.OPENED);}},{key:'sendImpl',value:


function sendImpl(method,url,headers,data){
throw new Error('Subclass must define sendImpl method');}},{key:'abortImpl',value:


function abortImpl(){
throw new Error('Subclass must define abortImpl method');}},{key:'send',value:


function send(data){
if(this.readyState !== this.OPENED){
throw new Error('Request has not been opened');}

if(this._sent){
throw new Error('Request has already been sent');}

this._sent = true;
this.sendImpl(this._method,this._url,this._headers,data);}},{key:'abort',value:


function abort(){
this._aborted = true;
this.abortImpl();


if(!(this.readyState === this.UNSENT || 
this.readyState === this.OPENED && !this._sent || 
this.readyState === this.DONE)){
this._reset();
this.setReadyState(this.DONE);}


this._reset();}},{key:'callback',value:


function callback(status,responseHeaders,responseText){
if(this._aborted){
return;}

this.status = status;
this.setResponseHeaders(responseHeaders || {});
this.responseText = responseText;
this.setReadyState(this.DONE);}},{key:'setResponseHeaders',value:


function setResponseHeaders(responseHeaders){
this.responseHeaders = responseHeaders || null;
var headers=responseHeaders || {};
this._lowerCaseResponseHeaders = 
Object.keys(headers).reduce(function(lcaseHeaders,headerName){
lcaseHeaders[headerName.toLowerCase()] = headers[headerName];
return lcaseHeaders;},
{});}},{key:'setReadyState',value:


function setReadyState(newState){
this.readyState = newState;

var onreadystatechange=this.onreadystatechange;
if(onreadystatechange){


onreadystatechange(null);}

if(newState === this.DONE && !this._aborted){
this._sendLoad();}}},{key:'_sendLoad',value:



function _sendLoad(){

var onload=this.onload;
if(onload){


onload(null);}}}]);return XMLHttpRequestBase;})();




module.exports = XMLHttpRequestBase;
});
__d('fetch',function(global, require, module, exports) {  'use strict';
















var self={};

/**
 * Copyright (c) 2014 GitHub, Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * @preserve-header
 */
(function(){
'use strict';

if(self.fetch){
return;}


function normalizeName(name){
if(typeof name !== 'string'){
name = String(name);}

if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){
throw new TypeError('Invalid character in header field name');}

return name.toLowerCase();}


function normalizeValue(value){
if(typeof value !== 'string'){
value = String(value);}

return value;}


function Headers(headers){
this.map = {};

if(headers instanceof Headers){
headers.forEach(function(value,name){
this.append(name,value);},
this);}else 

if(headers){
Object.getOwnPropertyNames(headers).forEach(function(name){
this.append(name,headers[name]);},
this);}}



Headers.prototype.append = function(name,value){
name = normalizeName(name);
value = normalizeValue(value);
var list=this.map[name];
if(!list){
list = [];
this.map[name] = list;}

list.push(value);};


Headers.prototype['delete'] = function(name){
delete this.map[normalizeName(name)];};


Headers.prototype.get = function(name){
var values=this.map[normalizeName(name)];
return values?values[0]:null;};


Headers.prototype.getAll = function(name){
return this.map[normalizeName(name)] || [];};


Headers.prototype.has = function(name){
return this.map.hasOwnProperty(normalizeName(name));};


Headers.prototype.set = function(name,value){
this.map[normalizeName(name)] = [normalizeValue(value)];};


Headers.prototype.forEach = function(callback,thisArg){
Object.getOwnPropertyNames(this.map).forEach(function(name){
this.map[name].forEach(function(value){
callback.call(thisArg,value,name,this);},
this);},
this);};


function consumed(body){
if(body.bodyUsed){
return Promise.reject(new TypeError('Already read'));}

body.bodyUsed = true;}


function fileReaderReady(reader){
return new Promise(function(resolve,reject){
reader.onload = function(){
resolve(reader.result);};

reader.onerror = function(){
reject(reader.error);};});}




function readBlobAsArrayBuffer(blob){
var reader=new FileReader();
reader.readAsArrayBuffer(blob);
return fileReaderReady(reader);}


function readBlobAsText(blob){
var reader=new FileReader();
reader.readAsText(blob);
return fileReaderReady(reader);}


var support={
blob:typeof FileReader === 'function' && typeof Blob === 'function' && (function(){
try{
new Blob();
return true;}
catch(e) {
return false;}})(),


formData:typeof FormData === 'function'};


function Body(){
this.bodyUsed = false;


this._initBody = function(body){
this._bodyInit = body;
if(typeof body === 'string'){
this._bodyText = body;}else 
if(support.blob && Blob.prototype.isPrototypeOf(body)){
this._bodyBlob = body;}else 
if(support.formData && FormData.prototype.isPrototypeOf(body)){
this._bodyFormData = body;}else 
if(!body){
this._bodyText = '';}else 
{
throw new Error('unsupported BodyInit type');}};



if(support.blob){
this.blob = function(){
var rejected=consumed(this);
if(rejected){
return rejected;}


if(this._bodyBlob){
return Promise.resolve(this._bodyBlob);}else 
if(this._bodyFormData){
throw new Error('could not read FormData body as blob');}else 
{
return Promise.resolve(new Blob([this._bodyText]));}};



this.arrayBuffer = function(){
return this.blob().then(readBlobAsArrayBuffer);};


this.text = function(){
var rejected=consumed(this);
if(rejected){
return rejected;}


if(this._bodyBlob){
return readBlobAsText(this._bodyBlob);}else 
if(this._bodyFormData){
throw new Error('could not read FormData body as text');}else 
{
return Promise.resolve(this._bodyText);}};}else 


{
this.text = function(){
var rejected=consumed(this);
return rejected?rejected:Promise.resolve(this._bodyText);};}



if(support.formData){
this.formData = function(){
return this.text().then(decode);};}



this.json = function(){
return this.text().then(JSON.parse);};


return this;}



var methods=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];

function normalizeMethod(method){
var upcased=method.toUpperCase();
return methods.indexOf(upcased) > -1?upcased:method;}


function Request(input,options){
options = options || {};
var body=options.body;
if(Request.prototype.isPrototypeOf(input)){
if(input.bodyUsed){
throw new TypeError('Already read');}

this.url = input.url;
this.credentials = input.credentials;
if(!options.headers){
this.headers = new Headers(input.headers);}

this.method = input.method;
this.mode = input.mode;
if(!body){
body = input._bodyInit;
input.bodyUsed = true;}}else 

{
this.url = input;}


this.credentials = options.credentials || this.credentials || 'omit';
if(options.headers || !this.headers){
this.headers = new Headers(options.headers);}

this.method = normalizeMethod(options.method || this.method || 'GET');
this.mode = options.mode || this.mode || null;
this.referrer = null;

if((this.method === 'GET' || this.method === 'HEAD') && body){
throw new TypeError('Body not allowed for GET or HEAD requests');}

this._initBody(body);}


function decode(body){
var form=new FormData();
body.trim().split('&').forEach(function(bytes){
if(bytes){
var split=bytes.split('=');
var name=split.shift().replace(/\+/g,' ');
var value=split.join('=').replace(/\+/g,' ');
form.append(decodeURIComponent(name),decodeURIComponent(value));}});


return form;}


function headers(xhr){
var head=new Headers();
var pairs=xhr.getAllResponseHeaders().trim().split('\n');
pairs.forEach(function(header){
var split=header.trim().split(':');
var key=split.shift().trim();
var value=split.join(':').trim();
head.append(key,value);});

return head;}


Body.call(Request.prototype);

function Response(bodyInit,options){
if(!options){
options = {};}


this._initBody(bodyInit);
this.type = 'default';
this.url = null;
this.status = options.status;
this.ok = this.status >= 200 && this.status < 300;
this.statusText = options.statusText;
this.headers = options.headers instanceof Headers?options.headers:new Headers(options.headers);
this.url = options.url || '';}


Body.call(Response.prototype);

self.Headers = Headers;
self.Request = Request;
self.Response = Response;

self.fetch = function(input,init){
var request;
if(Request.prototype.isPrototypeOf(input) && !init){
request = input;}else 
{
request = new Request(input,init);}


return new Promise(function(resolve,reject){
var xhr=new XMLHttpRequest();

function responseURL(){
if('responseURL' in xhr){
return xhr.responseURL;}



if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){
return xhr.getResponseHeader('X-Request-URL');}


return;}


xhr.onload = function(){
var status=xhr.status === 1223?204:xhr.status;
if(status < 100 || status > 599){
reject(new TypeError('Network request failed'));
return;}

var options={
status:status,
statusText:xhr.statusText,
headers:headers(xhr),
url:responseURL()};

var body='response' in xhr?xhr.response:xhr.responseText;
resolve(new Response(body,options));};


xhr.onerror = function(){
reject(new TypeError('Network request failed'));};


xhr.open(request.method,request.url,true);

if(request.credentials === 'include'){
xhr.withCredentials = true;}


if('responseType' in xhr && support.blob){
xhr.responseType = 'blob';}


request.headers.forEach(function(value,name){
xhr.setRequestHeader(name,value);});


xhr.send(typeof request._bodyInit === 'undefined'?null:request._bodyInit);});};


self.fetch.polyfill = true;})();




module.exports = self;
});
__d('Geolocation',function(global, require, module, exports) {  'use strict';












var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTLocationObserver=require('NativeModules').LocationObserver;

var invariant=require('invariant');
var logError=require('logError');
var warning=require('warning');

var subscriptions=[];

var updatesEnabled=false;















var Geolocation={





getCurrentPosition:function(
geo_success,
geo_error,
geo_options)
{
invariant(
typeof geo_success === 'function',
'Must provide a valid geo_success callback.');

RCTLocationObserver.getCurrentPosition(
geo_options || {},
geo_success,
geo_error || logError);},







watchPosition:function(success,error,options){
if(!updatesEnabled){
RCTLocationObserver.startObserving(options || {});
updatesEnabled = true;}

var watchID=subscriptions.length;
subscriptions.push([
RCTDeviceEventEmitter.addListener(
'geolocationDidChange',
success),

error?RCTDeviceEventEmitter.addListener(
'geolocationError',
error):
null]);

return watchID;},


clearWatch:function(watchID){
var sub=subscriptions[watchID];
if(!sub){


return;}


sub[0].remove();

var sub1=sub[1];sub1 && sub1.remove();
subscriptions[watchID] = undefined;
var noWatchers=true;
for(var ii=0;ii < subscriptions.length;ii++) {
if(subscriptions[ii]){
noWatchers = false;}}


if(noWatchers){
Geolocation.stopObserving();}},



stopObserving:function(){
if(updatesEnabled){
RCTLocationObserver.stopObserving();
updatesEnabled = false;
for(var ii=0;ii < subscriptions.length;ii++) {
var sub=subscriptions[ii];
if(sub){
warning('Called stopObserving with existing subscriptions.');
sub[0].remove();

var sub1=sub[1];sub1 && sub1.remove();}}


subscriptions = [];}}};




module.exports = Geolocation;
});
__d('logError',function(global, require, module, exports) {  'use strict';

















var logError=function(){
if(arguments.length === 1 && arguments[0] instanceof Error){
var err=arguments[0];
console.error('Error: "' + err.message + '".  Stack:\n' + err.stack);}else 
{
console.error.apply(console,arguments);}};



module.exports = logError;
});
__d('WebSocket',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}











var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTWebSocketModule=require('NativeModules').WebSocketModule;

var Platform=require('Platform');
var WebSocketBase=require('WebSocketBase');
var WebSocketEvent=require('WebSocketEvent');

var WebSocketId=0;
var CLOSE_NORMAL=1000;var 






WebSocket=(function(_WebSocketBase){_inherits(WebSocket,_WebSocketBase);function WebSocket(){_classCallCheck(this,WebSocket);_get(Object.getPrototypeOf(WebSocket.prototype),'constructor',this).apply(this,arguments);}_createClass(WebSocket,[{key:'connectToSocketImpl',value:



function connectToSocketImpl(url){
this._socketId = WebSocketId++;

RCTWebSocketModule.connect(url,this._socketId);

this._registerEvents(this._socketId);}},{key:'closeConnectionImpl',value:


function closeConnectionImpl(code,reason){
this._closeWebSocket(this._socketId,code,reason);}},{key:'cancelConnectionImpl',value:


function cancelConnectionImpl(){
this._closeWebSocket(this._socketId);}},{key:'sendStringImpl',value:


function sendStringImpl(message){
RCTWebSocketModule.send(message,this._socketId);}},{key:'sendArrayBufferImpl',value:


function sendArrayBufferImpl(){

console.warn('Sending ArrayBuffers is not yet supported');}},{key:'_closeWebSocket',value:


function _closeWebSocket(id,code,reason){
if(Platform.OS === 'android'){



var statusCode=typeof code === 'number'?code:CLOSE_NORMAL;
var closeReason=typeof reason === 'string'?reason:'';
RCTWebSocketModule.close(statusCode,closeReason,id);}else 
{
RCTWebSocketModule.close(id);}}},{key:'_unregisterEvents',value:



function _unregisterEvents(){
this._subs.forEach(function(e){return e.remove();});
this._subs = [];}},{key:'_registerEvents',value:


function _registerEvents(id){var _this=this;
this._subs = [
RCTDeviceEventEmitter.addListener('websocketMessage',function(ev){
if(ev.id !== id){
return;}

var event=new WebSocketEvent('message',{
data:ev.data});

_this.onmessage && _this.onmessage(event);
_this.dispatchEvent(event);}),

RCTDeviceEventEmitter.addListener('websocketOpen',function(ev){
if(ev.id !== id){
return;}

_this.readyState = _this.OPEN;
var event=new WebSocketEvent('open');
_this.onopen && _this.onopen(event);
_this.dispatchEvent(event);}),

RCTDeviceEventEmitter.addListener('websocketClosed',function(ev){
if(ev.id !== id){
return;}

_this.readyState = _this.CLOSED;
var event=new WebSocketEvent('close');
event.code = ev.code;
event.reason = ev.reason;
_this.onclose && _this.onclose(event);
_this.dispatchEvent(event);
_this._unregisterEvents();
_this._closeWebSocket(id);}),

RCTDeviceEventEmitter.addListener('websocketFailed',function(ev){
if(ev.id !== id){
return;}

var event=new WebSocketEvent('error');
event.message = ev.message;
_this.onerror && _this.onerror(event);
_this.dispatchEvent(event);
_this._unregisterEvents();
_this.readyState === _this.OPEN && _this._closeWebSocket(id);})];}}]);return WebSocket;})(WebSocketBase);





module.exports = WebSocket;
});
__d('WebSocketBase',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}











var EventTarget=require('event-target-shim/lib/EventTarget.js');var 




WebSocketBase=(function(_EventTarget){_inherits(WebSocketBase,_EventTarget);

















function WebSocketBase(url,protocols){_classCallCheck(this,WebSocketBase);
_get(Object.getPrototypeOf(WebSocketBase.prototype),'constructor',this).call(this);
this.CONNECTING = 0;
this.OPEN = 1;
this.CLOSING = 2;
this.CLOSED = 3;

if(!protocols){
protocols = [];}


this.connectToSocketImpl(url);}_createClass(WebSocketBase,[{key:'close',value:


function close(){
if(this.readyState === WebSocketBase.CLOSING || 
this.readyState === WebSocketBase.CLOSED){
return;}


if(this.readyState === WebSocketBase.CONNECTING){
this.cancelConnectionImpl();}


this.closeConnectionImpl();}},{key:'send',value:


function send(data){
if(this.readyState === WebSocketBase.CONNECTING){
throw new Error('INVALID_STATE_ERR');}


if(typeof data === 'string'){
this.sendStringImpl(data);}else 
if(data instanceof ArrayBuffer){
this.sendArrayBufferImpl(data);}else 
{
throw new Error('Not supported data type');}}},{key:'closeConnectionImpl',value:



function closeConnectionImpl(){
throw new Error('Subclass must define closeConnectionImpl method');}},{key:'connectToSocketImpl',value:


function connectToSocketImpl(){
throw new Error('Subclass must define connectToSocketImpl method');}},{key:'cancelConnectionImpl',value:


function cancelConnectionImpl(){
throw new Error('Subclass must define cancelConnectionImpl method');}},{key:'sendStringImpl',value:


function sendStringImpl(){
throw new Error('Subclass must define sendStringImpl method');}},{key:'sendArrayBufferImpl',value:


function sendArrayBufferImpl(){
throw new Error('Subclass must define sendArrayBufferImpl method');}}]);return WebSocketBase;})(EventTarget);



module.exports = WebSocketBase;
});
__d('event-target-shim/lib/EventTarget.js',function(global, require, module, exports) {  "use strict";

Object.defineProperty(exports,"__esModule",{
value:true});

exports["default"] = EventTarget;

var _commons=require("event-target-shim/lib/commons.js");

var _CustomEventTarget=require("event-target-shim/lib/CustomEventTarget.js");

var _EventWrapper=require("event-target-shim/lib/EventWrapper.js");

var HAS_EVENTTARGET_INTERFACE=typeof window !== "undefined" && typeof window.EventTarget !== "undefined";

function EventTarget(){
for(var _len=arguments.length,types=Array(_len),_key=0;_key < _len;_key++) {
types[_key] = arguments[_key];}


if(this instanceof EventTarget){









Object.defineProperty(this,_commons.LISTENERS,{value:Object.create(null)});}else 
if(types.length > 0){





return (0,_CustomEventTarget.defineCustomEventTarget)(EventTarget,types);}else 
{
throw new TypeError("Cannot call a class as a function");}}



EventTarget.prototype = Object.create((HAS_EVENTTARGET_INTERFACE?window.EventTarget:Object).prototype,{
constructor:{
value:EventTarget,
writable:true,
configurable:true},


addEventListener:{
value:function addEventListener(type,listener){
var capture=arguments[2] === undefined?false:arguments[2];

if(listener == null){
return false;}

if(typeof listener !== "function"){
throw new TypeError("listener should be a function.");}


var kind=capture?_commons.CAPTURE:_commons.BUBBLE;
var node=this[_commons.LISTENERS][type];
if(node == null){
this[_commons.LISTENERS][type] = (0,_commons.newNode)(listener,kind);
return true;}


var prev=null;
while(node != null) {
if(node.listener === listener && node.kind === kind){

return false;}

prev = node;
node = node.next;}


prev.next = (0,_commons.newNode)(listener,kind);
return true;},

configurable:true,
writable:true},


removeEventListener:{
value:function removeEventListener(type,listener){
var capture=arguments[2] === undefined?false:arguments[2];

if(listener == null){
return false;}


var kind=capture?_commons.CAPTURE:_commons.BUBBLE;
var prev=null;
var node=this[_commons.LISTENERS][type];
while(node != null) {
if(node.listener === listener && node.kind === kind){
if(prev == null){
this[_commons.LISTENERS][type] = node.next;}else 
{
prev.next = node.next;}

return true;}


prev = node;
node = node.next;}


return false;},

configurable:true,
writable:true},


dispatchEvent:{
value:function dispatchEvent(event){

var node=this[_commons.LISTENERS][event.type];
if(node == null){
return true;}



event = (0,_EventWrapper.createEventWrapper)(event,this);



while(node != null) {
node.listener.call(this,event);
if(event[_EventWrapper.STOP_IMMEDIATE_PROPAGATION_FLAG]){
break;}

node = node.next;}


return !event.defaultPrevented;},

configurable:true,
writable:true}});


module.exports = exports["default"];
});
__d('event-target-shim/lib/commons.js',function(global, require, module, exports) {  "use strict";

Object.defineProperty(exports,"__esModule",{
value:true});

exports.newNode = newNode;
var symbol=typeof Symbol !== "undefined"?Symbol:function Symbol(name){
return "[[" + name + "_" + Math.random().toFixed(8).slice(2) + "]]";};


exports.symbol = symbol;
var LISTENERS=symbol("listeners");
exports.LISTENERS = LISTENERS;
var CAPTURE=1;
exports.CAPTURE = CAPTURE;
var BUBBLE=2;
exports.BUBBLE = BUBBLE;
var ATTRIBUTE=3;

exports.ATTRIBUTE = ATTRIBUTE;


function newNode(listener,kind){
return {listener:listener,kind:kind,next:null};}
});
__d('event-target-shim/lib/CustomEventTarget.js',function(global, require, module, exports) {  "use strict";

Object.defineProperty(exports,"__esModule",{
value:true});

exports.defineCustomEventTarget = defineCustomEventTarget;

var _commons=require("event-target-shim/lib/commons.js");

function getAttributeListener(eventTarget,type){
var node=eventTarget[_commons.LISTENERS][type];
while(node != null) {
if(node.kind === _commons.ATTRIBUTE){
return node.listener;}

node = node.next;}

return null;}


function setAttributeListener(eventTarget,type,listener){
if(listener != null && typeof listener !== "function"){
throw new TypeError("listener should be a function.");}


var prev=null;
var node=eventTarget[_commons.LISTENERS][type];
while(node != null) {
if(node.kind === _commons.ATTRIBUTE){

if(prev == null){
eventTarget[_commons.LISTENERS][type] = node.next;}else 
{
prev.next = node.next;}}else 

{
prev = node;}


node = node.next;}



if(listener != null){
if(prev == null){
eventTarget[_commons.LISTENERS][type] = (0,_commons.newNode)(listener,_commons.ATTRIBUTE);}else 
{
prev.next = (0,_commons.newNode)(listener,_commons.ATTRIBUTE);}}}




function defineCustomEventTarget(EventTargetBase,types){
function EventTarget(){
EventTargetBase.call(this);}


var descripter={
constructor:{
value:EventTarget,
configurable:true,
writable:true}};



types.forEach(function(type){
descripter["on" + type] = {
get:function get(){
return getAttributeListener(this,type);},

set:function set(listener){
setAttributeListener(this,type,listener);},

configurable:true,
enumerable:true};});



EventTarget.prototype = Object.create(EventTargetBase.prototype,descripter);

return EventTarget;}
});
__d('event-target-shim/lib/EventWrapper.js',function(global, require, module, exports) {  "use strict";

Object.defineProperty(exports,"__esModule",{
value:true});

exports.createEventWrapper = createEventWrapper;

var _commons=require("event-target-shim/lib/commons.js");

var STOP_IMMEDIATE_PROPAGATION_FLAG=(0,_commons.symbol)("stop_immediate_propagation_flag");

exports.STOP_IMMEDIATE_PROPAGATION_FLAG = STOP_IMMEDIATE_PROPAGATION_FLAG;
var CANCELED_FLAG=(0,_commons.symbol)("canceled_flag");
var ORIGINAL_EVENT=(0,_commons.symbol)("original_event");

var wrapperPrototypeDefinition={
stopPropagation:{
value:function stopPropagation(){
var e=this[ORIGINAL_EVENT];
if(typeof e.stopPropagation === "function"){
e.stopPropagation();}},


writable:true,
configurable:true},


stopImmediatePropagation:{
value:function stopImmediatePropagation(){
this[STOP_IMMEDIATE_PROPAGATION_FLAG] = true;

var e=this[ORIGINAL_EVENT];
if(typeof e.stopImmediatePropagation === "function"){
e.stopImmediatePropagation();}},


writable:true,
configurable:true},


preventDefault:{
value:function preventDefault(){
if(this.cancelable === true){
this[CANCELED_FLAG] = true;}


var e=this[ORIGINAL_EVENT];
if(typeof e.preventDefault === "function"){
e.preventDefault();}},


writable:true,
configurable:true},


defaultPrevented:{
get:function get(){
return this[CANCELED_FLAG];},

enumerable:true,
configurable:true}};



function createEventWrapper(event,eventTarget){
var timeStamp=typeof event.timeStamp === "number"?event.timeStamp:Date.now();

var props={
type:{value:event.type,enumerable:true},
target:{value:eventTarget,enumerable:true},
currentTarget:{value:eventTarget,enumerable:true},
eventPhase:{value:2,enumerable:true},
bubbles:{value:Boolean(event.bubbles),enumerable:true},
cancelable:{value:Boolean(event.cancelable),enumerable:true},
timeStamp:{value:timeStamp,enumerable:true},
isTrusted:{value:false,enumerable:true}};

if(typeof event.detail !== "undefined"){
props.detail = {value:event.detail,enumerable:true};}


var retv=Object.create(Object.create(event,wrapperPrototypeDefinition),props);
Object.defineProperty(retv,STOP_IMMEDIATE_PROPAGATION_FLAG,{value:false,writable:true});
Object.defineProperty(retv,CANCELED_FLAG,{value:false,writable:true});
Object.defineProperty(retv,ORIGINAL_EVENT,{value:event});

return retv;}
});
__d('WebSocketEvent',function(global, require, module, exports) {  'use strict';function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var 




















WebSocketEvent=
function WebSocketEvent(type,eventInitDict){_classCallCheck(this,WebSocketEvent);
this.type = type.toString();
Object.assign(this,eventInitDict);};



module.exports = WebSocketEvent;
});
__d('RCTDebugComponentOwnership',function(global, require, module, exports) {  'use strict';
















var DebugComponentOwnershipModule=require('NativeModules').DebugComponentOwnershipModule;
var InspectorUtils=require('InspectorUtils');
var ReactNativeTagHandles=require('ReactNativeTagHandles');

function componentToString(component){
return component.getName?component.getName():'Unknown';}


function getRootTagForTag(tag){
var rootNodeID=ReactNativeTagHandles.tagToRootNodeID[tag];
if(!rootNodeID){
return null;}

var rootID=ReactNativeTagHandles.getNativeTopRootIDFromNodeID(rootNodeID);
if(!rootID){
return null;}

return ReactNativeTagHandles.rootNodeIDToTag[rootID];}


module.exports = {








getOwnerHierarchy:function(requestID,tag){
var rootTag=getRootTagForTag(tag);
var instance=InspectorUtils.findInstanceByNativeTag(rootTag,tag);
var ownerHierarchy=instance?
InspectorUtils.getOwnerHierarchy(instance).map(componentToString):
null;
DebugComponentOwnershipModule.receiveOwnershipHierarchy(requestID,tag,ownerHierarchy);}};
});
__d('InspectorUtils',function(global, require, module, exports) {  'use strict';











var ReactInstanceHandles=require('ReactInstanceHandles');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactNativeMount=require('ReactNativeMount');
var ReactNativeTagHandles=require('ReactNativeTagHandles');

function traverseOwnerTreeUp(hierarchy,instance){
if(instance){
hierarchy.unshift(instance);
traverseOwnerTreeUp(hierarchy,instance._currentElement._owner);}}



function findInstance(component,targetID){
if(targetID === findRootNodeID(component)){
return component;}

if(component._renderedComponent){
return findInstance(component._renderedComponent,targetID);}else 
{
for(var key in component._renderedChildren) {
var child=component._renderedChildren[key];
if(ReactInstanceHandles.isAncestorIDOf(findRootNodeID(child),targetID)){
var instance=findInstance(child,targetID);
if(instance){
return instance;}}}}}






function findRootNodeID(component){
var internalInstance=ReactInstanceMap.get(component);
return internalInstance?internalInstance._rootNodeID:component._rootNodeID;}


function findInstanceByNativeTag(rootTag,nativeTag){
var containerID=ReactNativeTagHandles.tagToRootNodeID[rootTag];
var rootInstance=ReactNativeMount._instancesByContainerID[containerID];
var targetID=ReactNativeTagHandles.tagToRootNodeID[nativeTag];
if(!targetID){
return undefined;}

return findInstance(rootInstance,targetID);}


function getOwnerHierarchy(instance){
var hierarchy=[];
traverseOwnerTreeUp(hierarchy,instance);
return hierarchy;}


module.exports = {findInstanceByNativeTag:findInstanceByNativeTag,getOwnerHierarchy:getOwnerHierarchy};
});
__d('ReactInstanceHandles',function(global, require, module, exports) {  'use strict';













var ReactRootIndex=require('ReactRootIndex');

var invariant=require('invariant');

var SEPARATOR='.';
var SEPARATOR_LENGTH=SEPARATOR.length;




var MAX_TREE_DEPTH=10000;








function getReactRootIDString(index){
return SEPARATOR + index.toString(36);}










function isBoundary(id,index){
return id.charAt(index) === SEPARATOR || index === id.length;}









function isValidID(id){
return id === '' || 
id.charAt(0) === SEPARATOR && id.charAt(id.length - 1) !== SEPARATOR;}











function isAncestorIDOf(ancestorID,descendantID){
return (
descendantID.indexOf(ancestorID) === 0 && 
isBoundary(descendantID,ancestorID.length));}










function getParentID(id){
return id?id.substr(0,id.lastIndexOf(SEPARATOR)):'';}











function getNextDescendantID(ancestorID,destinationID){
invariant(
isValidID(ancestorID) && isValidID(destinationID),
'getNextDescendantID(%s, %s): Received an invalid React DOM ID.',
ancestorID,
destinationID);

invariant(
isAncestorIDOf(ancestorID,destinationID),
'getNextDescendantID(...): React has made an invalid assumption about ' + 
'the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.',
ancestorID,
destinationID);

if(ancestorID === destinationID){
return ancestorID;}



var start=ancestorID.length + SEPARATOR_LENGTH;
var i;
for(i = start;i < destinationID.length;i++) {
if(isBoundary(destinationID,i)){
break;}}


return destinationID.substr(0,i);}













function getFirstCommonAncestorID(oneID,twoID){
var minLength=Math.min(oneID.length,twoID.length);
if(minLength === 0){
return '';}

var lastCommonMarkerIndex=0;

for(var i=0;i <= minLength;i++) {
if(isBoundary(oneID,i) && isBoundary(twoID,i)){
lastCommonMarkerIndex = i;}else 
if(oneID.charAt(i) !== twoID.charAt(i)){
break;}}


var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);
invariant(
isValidID(longestCommonID),
'getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s',
oneID,
twoID,
longestCommonID);

return longestCommonID;}















function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){
start = start || '';
stop = stop || '';
invariant(
start !== stop,
'traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.',
start);

var traverseUp=isAncestorIDOf(stop,start);
invariant(
traverseUp || isAncestorIDOf(start,stop),
'traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do ' + 
'not have a parent path.',
start,
stop);


var depth=0;
var traverse=traverseUp?getParentID:getNextDescendantID;
for(var id=start;;id = traverse(id,stop)) {
var ret;
if((!skipFirst || id !== start) && (!skipLast || id !== stop)){
ret = cb(id,traverseUp,arg);}

if(ret === false || id === stop){

break;}

invariant(
depth++ < MAX_TREE_DEPTH,
'traverseParentPath(%s, %s, ...): Detected an infinite loop while ' + 
'traversing the React DOM ID tree. This may be due to malformed IDs: %s',
start,stop,id);}}











var ReactInstanceHandles={





createReactRootID:function(){
return getReactRootIDString(ReactRootIndex.createReactRootIndex());},










createReactID:function(rootID,name){
return rootID + name;},










getReactRootIDFromNodeID:function(id){
if(id && id.charAt(0) === SEPARATOR && id.length > 1){
var index=id.indexOf(SEPARATOR,1);
return index > -1?id.substr(0,index):id;}

return null;},
















traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){
var ancestorID=getFirstCommonAncestorID(leaveID,enterID);
if(ancestorID !== leaveID){
traverseParentPath(leaveID,ancestorID,cb,upArg,false,true);}

if(ancestorID !== enterID){
traverseParentPath(ancestorID,enterID,cb,downArg,true,false);}},













traverseTwoPhase:function(targetID,cb,arg){
if(targetID){
traverseParentPath('',targetID,cb,arg,true,false);
traverseParentPath(targetID,'',cb,arg,false,true);}},






traverseTwoPhaseSkipTarget:function(targetID,cb,arg){
if(targetID){
traverseParentPath('',targetID,cb,arg,true,true);
traverseParentPath(targetID,'',cb,arg,true,true);}},















traverseAncestors:function(targetID,cb,arg){
traverseParentPath('',targetID,cb,arg,true,false);},


getFirstCommonAncestorID:getFirstCommonAncestorID,





_getNextDescendantID:getNextDescendantID,

isAncestorIDOf:isAncestorIDOf,

SEPARATOR:SEPARATOR};



module.exports = ReactInstanceHandles;
});
__d('ReactRootIndex',function(global, require, module, exports) {  'use strict';













var ReactRootIndexInjection={



injectCreateReactRootIndex:function(_createReactRootIndex){
ReactRootIndex.createReactRootIndex = _createReactRootIndex;}};



var ReactRootIndex={
createReactRootIndex:null,
injection:ReactRootIndexInjection};


module.exports = ReactRootIndex;
});
__d('ReactInstanceMap',function(global, require, module, exports) {  'use strict';




















var ReactInstanceMap={






remove:function(key){
key._reactInternalInstance = undefined;},


get:function(key){
return key._reactInternalInstance;},


has:function(key){
return key._reactInternalInstance !== undefined;},


set:function(key,value){
key._reactInternalInstance = value;}};




module.exports = ReactInstanceMap;
});
__d('ReactNativeMount',function(global, require, module, exports) {  'use strict';












var RCTUIManager=require('NativeModules').UIManager;

var ReactElement=require('ReactElement');
var ReactNativeTagHandles=require('ReactNativeTagHandles');
var ReactPerf=require('ReactPerf');
var ReactReconciler=require('ReactReconciler');
var ReactUpdateQueue=require('ReactUpdateQueue');
var ReactUpdates=require('ReactUpdates');

var emptyObject=require('emptyObject');
var instantiateReactComponent=require('instantiateReactComponent');
var shouldUpdateReactComponent=require('shouldUpdateReactComponent');

function instanceNumberToChildRootID(rootNodeID,instanceNumber){
return rootNodeID + '[' + instanceNumber + ']';}







var TopLevelWrapper=function(){};
TopLevelWrapper.prototype.render = function(){

return this.props;};










function mountComponentIntoNode(
componentInstance,
rootID,
container,
transaction){
var markup=ReactReconciler.mountComponent(
componentInstance,rootID,transaction,emptyObject);

componentInstance._renderedComponent._topLevelWrapper = componentInstance;
ReactNativeMount._mountImageIntoNode(markup,container);}









function batchedMountComponentIntoNode(
componentInstance,
rootID,
container){
var transaction=ReactUpdates.ReactReconcileTransaction.getPooled();
transaction.perform(
mountComponentIntoNode,
null,
componentInstance,
rootID,
container,
transaction);

ReactUpdates.ReactReconcileTransaction.release(transaction);}






var ReactNativeMount={
instanceCount:0,

_instancesByContainerID:{},


findNodeHandle:require('findNodeHandle'),
nativeTagToRootNodeID:function(nativeTag){
return ReactNativeTagHandles.tagToRootNodeID[nativeTag];},






renderComponent:function(
nextElement,
containerTag,
callback)
{
var nextWrappedElement=new ReactElement(
TopLevelWrapper,
null,
null,
null,
nextElement);


var topRootNodeID=ReactNativeTagHandles.tagToRootNodeID[containerTag];
if(topRootNodeID){
var prevComponent=ReactNativeMount._instancesByContainerID[topRootNodeID];
if(prevComponent){
var prevWrappedElement=prevComponent._currentElement;
var prevElement=prevWrappedElement.props;
if(shouldUpdateReactComponent(prevElement,nextElement)){
ReactUpdateQueue.enqueueElementInternal(prevComponent,nextWrappedElement);
if(callback){
ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback);}

return prevComponent;}else 
{
ReactNativeMount.unmountComponentAtNode(containerTag);}}}




if(!ReactNativeTagHandles.reactTagIsNativeTopRootID(containerTag)){
console.error('You cannot render into anything but a top root');
return;}


var topRootNodeID=ReactNativeTagHandles.allocateRootNodeIDForTag(containerTag);
ReactNativeTagHandles.associateRootNodeIDWithMountedNodeHandle(
topRootNodeID,
containerTag);


var instance=instantiateReactComponent(nextWrappedElement);
ReactNativeMount._instancesByContainerID[topRootNodeID] = instance;

var childRootNodeID=instanceNumberToChildRootID(
topRootNodeID,
ReactNativeMount.instanceCount++);






ReactUpdates.batchedUpdates(
batchedMountComponentIntoNode,
instance,
childRootNodeID,
topRootNodeID);

var component=instance.getPublicInstance();
if(callback){
callback.call(component);}

return component;},






_mountImageIntoNode:ReactPerf.measure(

'ReactComponentBrowserEnvironment',
'mountImageIntoNode',
function(mountImage,containerID){


ReactNativeTagHandles.associateRootNodeIDWithMountedNodeHandle(
mountImage.rootNodeID,
mountImage.tag);

var addChildTags=[mountImage.tag];
var addAtIndices=[0];
RCTUIManager.manageChildren(
ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(containerID),
null,
null,
addChildTags,
addAtIndices,
null);}),












unmountComponentAtNodeAndRemoveContainer:function(
containerTag)
{
ReactNativeMount.unmountComponentAtNode(containerTag);

RCTUIManager.removeRootView(containerTag);},







unmountComponentAtNode:function(containerTag){
if(!ReactNativeTagHandles.reactTagIsNativeTopRootID(containerTag)){
console.error('You cannot render into anything but a top root');
return false;}


var containerID=ReactNativeTagHandles.tagToRootNodeID[containerTag];
var instance=ReactNativeMount._instancesByContainerID[containerID];
if(!instance){
return false;}

ReactNativeMount.unmountComponentFromNode(instance,containerID);
delete ReactNativeMount._instancesByContainerID[containerID];
return true;},











unmountComponentFromNode:function(
instance,
containerID)
{

ReactReconciler.unmountComponent(instance);
var containerTag=
ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(containerID);
RCTUIManager.removeSubviewsFromContainerWithID(containerTag);},


getNode:function(rootNodeID){
return ReactNativeTagHandles.rootNodeIDToTag[rootNodeID];},


getID:function(nativeTag){
return ReactNativeTagHandles.tagToRootNodeID[nativeTag];}};



ReactNativeMount.renderComponent = ReactPerf.measure(
'ReactMount',
'_renderNewRootComponent',
ReactNativeMount.renderComponent);


module.exports = ReactNativeMount;
});
__d('ReactElement',function(global, require, module, exports) {  'use strict';












var ReactCurrentOwner=require('ReactCurrentOwner');

var assign=require('Object.assign');

var RESERVED_PROPS={
key:true,
ref:true};













var ReactElement=function(type,key,ref,owner,props){

this.type = type;
this.key = key;
this.ref = ref;


this._owner = owner;

this.props = props;

if(__DEV__){




this._store = {};





try{
Object.defineProperty(this._store,'validated',{
configurable:false,
enumerable:false,
writable:true,
value:false});}

catch(x) {
this._store.validated = false;}

Object.freeze(this.props);
Object.freeze(this);}};





ReactElement.prototype = {
_isReactElement:true};


ReactElement.createElement = function(type,config,children){
var propName;


var props={};

var key=null;
var ref=null;

if(config != null){
ref = config.ref === undefined?null:config.ref;
key = config.key === undefined?null:'' + config.key;

for(propName in config) {
if(config.hasOwnProperty(propName) && 
!RESERVED_PROPS.hasOwnProperty(propName)){
props[propName] = config[propName];}}}






var childrenLength=arguments.length - 2;
if(childrenLength === 1){
props.children = children;}else 
if(childrenLength > 1){
var childArray=Array(childrenLength);
for(var i=0;i < childrenLength;i++) {
childArray[i] = arguments[i + 2];}

props.children = childArray;}



if(type && type.defaultProps){
var defaultProps=type.defaultProps;
for(propName in defaultProps) {
if(typeof props[propName] === 'undefined'){
props[propName] = defaultProps[propName];}}}




return new ReactElement(
type,
key,
ref,
ReactCurrentOwner.current,
props);};



ReactElement.createFactory = function(type){
var factory=ReactElement.createElement.bind(null,type);





factory.type = type;
return factory;};


ReactElement.cloneAndReplaceProps = function(oldElement,newProps){
var newElement=new ReactElement(
oldElement.type,
oldElement.key,
oldElement.ref,
oldElement._owner,
newProps);


if(__DEV__){

newElement._store.validated = oldElement._store.validated;}


return newElement;};


ReactElement.cloneElement = function(element,config,children){
var propName;


var props=assign({},element.props);


var key=element.key;
var ref=element.ref;


var owner=element._owner;

if(config != null){
if(config.ref !== undefined){

ref = config.ref;
owner = ReactCurrentOwner.current;}

if(config.key !== undefined){
key = '' + config.key;}


for(propName in config) {
if(config.hasOwnProperty(propName) && 
!RESERVED_PROPS.hasOwnProperty(propName)){
props[propName] = config[propName];}}}






var childrenLength=arguments.length - 2;
if(childrenLength === 1){
props.children = children;}else 
if(childrenLength > 1){
var childArray=Array(childrenLength);
for(var i=0;i < childrenLength;i++) {
childArray[i] = arguments[i + 2];}

props.children = childArray;}


return new ReactElement(
element.type,
key,
ref,
owner,
props);};








ReactElement.isValidElement = function(object){




var isElement=!!(object && object._isReactElement);





return isElement;};


module.exports = ReactElement;
});
__d('ReactCurrentOwner',function(global, require, module, exports) {  'use strict';


















var ReactCurrentOwner={





current:null};



module.exports = ReactCurrentOwner;
});
__d('ReactNativeTagHandles',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');
var warning=require('warning');














var INITIAL_TAG_COUNT=1;
var NATIVE_TOP_ROOT_ID_SEPARATOR='{TOP_LEVEL}';
var ReactNativeTagHandles={
tagsStartAt:INITIAL_TAG_COUNT,
tagCount:INITIAL_TAG_COUNT,

allocateTag:function(){

while(this.reactTagIsNativeTopRootID(ReactNativeTagHandles.tagCount)) {
ReactNativeTagHandles.tagCount++;}

var tag=ReactNativeTagHandles.tagCount;
ReactNativeTagHandles.tagCount++;
return tag;},











associateRootNodeIDWithMountedNodeHandle:function(
rootNodeID,
tag)
{
warning(rootNodeID && tag,'Root node or tag is null when associating');
if(rootNodeID && tag){
ReactNativeTagHandles.tagToRootNodeID[tag] = rootNodeID;
ReactNativeTagHandles.rootNodeIDToTag[rootNodeID] = tag;}},



allocateRootNodeIDForTag:function(tag){
invariant(
this.reactTagIsNativeTopRootID(tag),
'Expect a native root tag, instead got ',tag);

return '.r[' + tag + ']' + NATIVE_TOP_ROOT_ID_SEPARATOR;},


reactTagIsNativeTopRootID:function(reactTag){

return reactTag % 10 === 1;},


getNativeTopRootIDFromNodeID:function(nodeID){
if(!nodeID){
return null;}

var index=nodeID.indexOf(NATIVE_TOP_ROOT_ID_SEPARATOR);
if(index === -1){
return null;}

return nodeID.substr(0,index + NATIVE_TOP_ROOT_ID_SEPARATOR.length);},














mostRecentMountedNodeHandleForRootNodeID:function(
rootNodeID)
{
return ReactNativeTagHandles.rootNodeIDToTag[rootNodeID];},


tagToRootNodeID:[],

rootNodeIDToTag:{}};


module.exports = ReactNativeTagHandles;
});
__d('ReactUpdateQueue',function(global, require, module, exports) {  'use strict';












var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactElement=require('ReactElement');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactUpdates=require('ReactUpdates');

var assign=require('Object.assign');
var invariant=require('invariant');
var warning=require('warning');

function enqueueUpdate(internalInstance){
ReactUpdates.enqueueUpdate(internalInstance);}


function getInternalInstanceReadyForUpdate(publicInstance,callerName){
if(__DEV__){
warning(
ReactCurrentOwner.current == null,
'%s(...): Cannot update during an existing state transition ' + 
'(such as within `render`). Render methods should be a pure function ' + 
'of props and state.',
callerName);}



var internalInstance=ReactInstanceMap.get(publicInstance);
if(!internalInstance){
if(__DEV__){



warning(
!callerName,
'%s(...): Can only update a mounted or mounting component. ' + 
'This usually means you called %s() on an unmounted component. ' + 
'This is a no-op. Please check the code for the %s component.',
callerName,
callerName,
publicInstance.constructor.displayName);}


return null;}


return internalInstance;}






var ReactUpdateQueue={








isMounted:function(publicInstance){
if(__DEV__){
var owner=ReactCurrentOwner.current;
if(owner !== null){
warning(
owner._warnedAboutRefsInRender,
'%s is accessing isMounted inside its render() function. ' + 
'render() should be a pure function of props and state. It should ' + 
'never access something that requires stale data from the previous ' + 
'render, such as refs. Move this logic to componentDidMount and ' + 
'componentDidUpdate instead.',
owner.getName() || 'A component');

owner._warnedAboutRefsInRender = true;}}


var internalInstance=ReactInstanceMap.get(publicInstance);
if(internalInstance){



return !!internalInstance._renderedComponent;}else 
{
return false;}},











enqueueCallback:function(publicInstance,callback){
invariant(
typeof callback === 'function',
'enqueueCallback(...): You called `setProps`, `replaceProps`, ' + 
'`setState`, `replaceState`, or `forceUpdate` with a callback that ' + 
'isn\'t callable.');

var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);






if(!internalInstance){
return null;}


if(internalInstance._pendingCallbacks){
internalInstance._pendingCallbacks.push(callback);}else 
{
internalInstance._pendingCallbacks = [callback];}





enqueueUpdate(internalInstance);},


enqueueCallbackInternal:function(internalInstance,callback){
invariant(
typeof callback === 'function',
'enqueueCallback(...): You called `setProps`, `replaceProps`, ' + 
'`setState`, `replaceState`, or `forceUpdate` with a callback that ' + 
'isn\'t callable.');

if(internalInstance._pendingCallbacks){
internalInstance._pendingCallbacks.push(callback);}else 
{
internalInstance._pendingCallbacks = [callback];}

enqueueUpdate(internalInstance);},















enqueueForceUpdate:function(publicInstance){
var internalInstance=getInternalInstanceReadyForUpdate(
publicInstance,
'forceUpdate');


if(!internalInstance){
return;}


internalInstance._pendingForceUpdate = true;

enqueueUpdate(internalInstance);},













enqueueReplaceState:function(publicInstance,completeState){
var internalInstance=getInternalInstanceReadyForUpdate(
publicInstance,
'replaceState');


if(!internalInstance){
return;}


internalInstance._pendingStateQueue = [completeState];
internalInstance._pendingReplaceState = true;

enqueueUpdate(internalInstance);},












enqueueSetState:function(publicInstance,partialState){
var internalInstance=getInternalInstanceReadyForUpdate(
publicInstance,
'setState');


if(!internalInstance){
return;}


var queue=
internalInstance._pendingStateQueue || (
internalInstance._pendingStateQueue = []);
queue.push(partialState);

enqueueUpdate(internalInstance);},









enqueueSetProps:function(publicInstance,partialProps){
var internalInstance=getInternalInstanceReadyForUpdate(
publicInstance,
'setProps');

if(!internalInstance){
return;}

ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps);},


enqueueSetPropsInternal:function(internalInstance,partialProps){
var topLevelWrapper=internalInstance._topLevelWrapper;
invariant(
topLevelWrapper,
'setProps(...): You called `setProps` on a ' + 
'component with a parent. This is an anti-pattern since props will ' + 
'get reactively updated when rendered. Instead, change the owner\'s ' + 
'`render` method to pass the correct value as props to the component ' + 
'where it is created.');




var wrapElement=topLevelWrapper._pendingElement || 
topLevelWrapper._currentElement;
var element=wrapElement.props;
var props=assign({},element.props,partialProps);
topLevelWrapper._pendingElement = ReactElement.cloneAndReplaceProps(
wrapElement,
ReactElement.cloneAndReplaceProps(element,props));


enqueueUpdate(topLevelWrapper);},









enqueueReplaceProps:function(publicInstance,props){
var internalInstance=getInternalInstanceReadyForUpdate(
publicInstance,
'replaceProps');

if(!internalInstance){
return;}

ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props);},


enqueueReplacePropsInternal:function(internalInstance,props){
var topLevelWrapper=internalInstance._topLevelWrapper;
invariant(
topLevelWrapper,
'replaceProps(...): You called `replaceProps` on a ' + 
'component with a parent. This is an anti-pattern since props will ' + 
'get reactively updated when rendered. Instead, change the owner\'s ' + 
'`render` method to pass the correct value as props to the component ' + 
'where it is created.');




var wrapElement=topLevelWrapper._pendingElement || 
topLevelWrapper._currentElement;
var element=wrapElement.props;
topLevelWrapper._pendingElement = ReactElement.cloneAndReplaceProps(
wrapElement,
ReactElement.cloneAndReplaceProps(element,props));


enqueueUpdate(topLevelWrapper);},


enqueueElementInternal:function(internalInstance,newElement){
internalInstance._pendingElement = newElement;
enqueueUpdate(internalInstance);}};




module.exports = ReactUpdateQueue;
});
__d('emptyObject',function(global, require, module, exports) {  "use strict";












var emptyObject={};

if(__DEV__){
Object.freeze(emptyObject);}


module.exports = emptyObject;
});
__d('instantiateReactComponent',function(global, require, module, exports) {  'use strict';













var ReactCompositeComponent=require('ReactCompositeComponent');
var ReactEmptyComponent=require('ReactEmptyComponent');
var ReactNativeComponent=require('ReactNativeComponent');

var assign=require('Object.assign');
var invariant=require('invariant');
var warning=require('warning');


var ReactCompositeComponentWrapper=function(){};
assign(
ReactCompositeComponentWrapper.prototype,
ReactCompositeComponent.Mixin,
{
_instantiateReactComponent:instantiateReactComponent});



function getDeclarationErrorAddendum(owner){
if(owner){
var name=owner.getName();
if(name){
return ' Check the render method of `' + name + '`.';}}


return '';}









function isInternalComponentType(type){
return (
typeof type === 'function' && 
typeof type.prototype !== 'undefined' && 
typeof type.prototype.mountComponent === 'function' && 
typeof type.prototype.receiveComponent === 'function');}










function instantiateReactComponent(node){
var instance;

if(node === null || node === false){
node = ReactEmptyComponent.emptyElement;}


if(typeof node === 'object'){
var element=node;
invariant(
element && (typeof element.type === 'function' || 
typeof element.type === 'string'),
'Element type is invalid: expected a string (for built-in components) ' + 
'or a class/function (for composite components) but got: %s.%s',
element.type == null?element.type:typeof element.type,
getDeclarationErrorAddendum(element._owner));



if(typeof element.type === 'string'){
instance = ReactNativeComponent.createInternalComponent(element);}else 
if(isInternalComponentType(element.type)){



instance = new element.type(element);}else 
{
instance = new ReactCompositeComponentWrapper();}}else 

if(typeof node === 'string' || typeof node === 'number'){
instance = ReactNativeComponent.createInstanceForText(node);}else 
{
invariant(
false,
'Encountered invalid React node of type %s',
typeof node);}



if(__DEV__){
warning(
typeof instance.construct === 'function' && 
typeof instance.mountComponent === 'function' && 
typeof instance.receiveComponent === 'function' && 
typeof instance.unmountComponent === 'function',
'Only React Components can be mounted.');}




instance.construct(node);




instance._mountIndex = 0;
instance._mountImage = null;

if(__DEV__){
instance._isOwnerNecessary = false;
instance._warnedAboutRefsInRender = false;}




if(__DEV__){
if(Object.preventExtensions){
Object.preventExtensions(instance);}}



return instance;}


module.exports = instantiateReactComponent;
});
__d('ReactCompositeComponent',function(global, require, module, exports) {  'use strict';












var ReactComponentEnvironment=require('ReactComponentEnvironment');
var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactElement=require('ReactElement');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactPerf=require('ReactPerf');
var ReactPropTypeLocations=require('ReactPropTypeLocations');
var ReactPropTypeLocationNames=require('ReactPropTypeLocationNames');
var ReactReconciler=require('ReactReconciler');
var ReactUpdateQueue=require('ReactUpdateQueue');

var assign=require('Object.assign');
var emptyObject=require('emptyObject');
var invariant=require('invariant');
var shouldUpdateReactComponent=require('shouldUpdateReactComponent');
var warning=require('warning');

function getDeclarationErrorAddendum(component){
var owner=component._currentElement._owner || null;
if(owner){
var name=owner.getName();
if(name){
return ' Check the render method of `' + name + '`.';}}


return '';}



































var nextMountID=1;




var ReactCompositeComponentMixin={








construct:function(element){
this._currentElement = element;
this._rootNodeID = null;
this._instance = null;


this._pendingElement = null;
this._pendingStateQueue = null;
this._pendingReplaceState = false;
this._pendingForceUpdate = false;

this._renderedComponent = null;

this._context = null;
this._mountOrder = 0;
this._topLevelWrapper = null;


this._pendingCallbacks = null;},











mountComponent:function(rootID,transaction,context){
this._context = context;
this._mountOrder = nextMountID++;
this._rootNodeID = rootID;

var publicProps=this._processProps(this._currentElement.props);
var publicContext=this._processContext(context);

var Component=this._currentElement.type;


var inst=new Component(publicProps,publicContext,ReactUpdateQueue);

if(__DEV__){


warning(
inst.render != null,
'%s(...): No `render` method found on the returned component ' + 
'instance: you may have forgotten to define `render` in your ' + 
'component or you may have accidentally tried to render an element ' + 
'whose type is a function that isn\'t a React component.',
Component.displayName || Component.name || 'Component');}





inst.props = publicProps;
inst.context = publicContext;
inst.refs = emptyObject;
inst.updater = ReactUpdateQueue;

this._instance = inst;


ReactInstanceMap.set(inst,this);

if(__DEV__){



warning(
!inst.getInitialState || 
inst.getInitialState.isReactClassApproved,
'getInitialState was defined on %s, a plain JavaScript class. ' + 
'This is only supported for classes created using React.createClass. ' + 
'Did you mean to define a state property instead?',
this.getName() || 'a component');

warning(
!inst.getDefaultProps || 
inst.getDefaultProps.isReactClassApproved,
'getDefaultProps was defined on %s, a plain JavaScript class. ' + 
'This is only supported for classes created using React.createClass. ' + 
'Use a static property to define defaultProps instead.',
this.getName() || 'a component');

warning(
!inst.propTypes,
'propTypes was defined as an instance property on %s. Use a static ' + 
'property to define propTypes instead.',
this.getName() || 'a component');

warning(
!inst.contextTypes,
'contextTypes was defined as an instance property on %s. Use a ' + 
'static property to define contextTypes instead.',
this.getName() || 'a component');

warning(
typeof inst.componentShouldUpdate !== 'function',
'%s has a method called ' + 
'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 
'The name is phrased as a question because the function is ' + 
'expected to return a value.',
this.getName() || 'A component');

warning(
typeof inst.componentDidUnmount !== 'function',
'%s has a method called ' + 
'componentDidUnmount(). But there is no such lifecycle method. ' + 
'Did you mean componentWillUnmount()?',
this.getName() || 'A component');

warning(
typeof inst.componentWillRecieveProps !== 'function',
'%s has a method called ' + 
'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',
this.getName() || 'A component');}



var initialState=inst.state;
if(initialState === undefined){
inst.state = initialState = null;}

invariant(
typeof initialState === 'object' && !Array.isArray(initialState),
'%s.state: must be set to an object or null',
this.getName() || 'ReactCompositeComponent');


this._pendingStateQueue = null;
this._pendingReplaceState = false;
this._pendingForceUpdate = false;

if(inst.componentWillMount){
inst.componentWillMount();


if(this._pendingStateQueue){
inst.state = this._processPendingState(inst.props,inst.context);}}



var renderedElement=this._renderValidatedComponent();

this._renderedComponent = this._instantiateReactComponent(
renderedElement);


var markup=ReactReconciler.mountComponent(
this._renderedComponent,
rootID,
transaction,
this._processChildContext(context));

if(inst.componentDidMount){
transaction.getReactMountReady().enqueue(inst.componentDidMount,inst);}


return markup;},








unmountComponent:function(){
var inst=this._instance;

if(inst.componentWillUnmount){
inst.componentWillUnmount();}


ReactReconciler.unmountComponent(this._renderedComponent);
this._renderedComponent = null;




this._pendingStateQueue = null;
this._pendingReplaceState = false;
this._pendingForceUpdate = false;
this._pendingCallbacks = null;
this._pendingElement = null;



this._context = null;
this._rootNodeID = null;
this._topLevelWrapper = null;




ReactInstanceMap.remove(inst);},
















_maskContext:function(context){
var maskedContext=null;
var Component=this._currentElement.type;
var contextTypes=Component.contextTypes;
if(!contextTypes){
return emptyObject;}

maskedContext = {};
for(var contextName in contextTypes) {
maskedContext[contextName] = context[contextName];}

return maskedContext;},










_processContext:function(context){
var maskedContext=this._maskContext(context);
if(__DEV__){
var Component=this._currentElement.type;
if(Component.contextTypes){
this._checkPropTypes(
Component.contextTypes,
maskedContext,
ReactPropTypeLocations.context);}}



return maskedContext;},







_processChildContext:function(currentContext){
var Component=this._currentElement.type;
var inst=this._instance;
var childContext=inst.getChildContext && inst.getChildContext();
if(childContext){
invariant(
typeof Component.childContextTypes === 'object',
'%s.getChildContext(): childContextTypes must be defined in order to ' + 
'use getChildContext().',
this.getName() || 'ReactCompositeComponent');

if(__DEV__){
this._checkPropTypes(
Component.childContextTypes,
childContext,
ReactPropTypeLocations.childContext);}


for(var name in childContext) {
invariant(
name in Component.childContextTypes,
'%s.getChildContext(): key "%s" is not defined in childContextTypes.',
this.getName() || 'ReactCompositeComponent',
name);}


return assign({},currentContext,childContext);}

return currentContext;},











_processProps:function(newProps){
if(__DEV__){
var Component=this._currentElement.type;
if(Component.propTypes){
this._checkPropTypes(
Component.propTypes,
newProps,
ReactPropTypeLocations.prop);}}



return newProps;},










_checkPropTypes:function(propTypes,props,location){


var componentName=this.getName();
for(var propName in propTypes) {
if(propTypes.hasOwnProperty(propName)){
var error;
try{


invariant(
typeof propTypes[propName] === 'function',
'%s: %s type `%s` is invalid; it must be a function, usually ' + 
'from React.PropTypes.',
componentName || 'React class',
ReactPropTypeLocationNames[location],
propName);

error = propTypes[propName](props,propName,componentName,location);}
catch(ex) {
error = ex;}

if(error instanceof Error){



var addendum=getDeclarationErrorAddendum(this);

if(location === ReactPropTypeLocations.prop){

warning(
false,
'Failed Composite propType: %s%s',
error.message,
addendum);}else 

{
warning(
false,
'Failed Context Types: %s%s',
error.message,
addendum);}}}}},







receiveComponent:function(nextElement,transaction,nextContext){
var prevElement=this._currentElement;
var prevContext=this._context;

this._pendingElement = null;

this.updateComponent(
transaction,
prevElement,
nextElement,
prevContext,
nextContext);},










performUpdateIfNecessary:function(transaction){
if(this._pendingElement != null){
ReactReconciler.receiveComponent(
this,
this._pendingElement || this._currentElement,
transaction,
this._context);}



if(this._pendingStateQueue !== null || this._pendingForceUpdate){
this.updateComponent(
transaction,
this._currentElement,
this._currentElement,
this._context,
this._context);}},



















updateComponent:function(
transaction,
prevParentElement,
nextParentElement,
prevUnmaskedContext,
nextUnmaskedContext)
{
var inst=this._instance;

var nextContext=this._context === nextUnmaskedContext?
inst.context:
this._processContext(nextUnmaskedContext);
var nextProps;


if(prevParentElement === nextParentElement){


nextProps = nextParentElement.props;}else 
{
nextProps = this._processProps(nextParentElement.props);




if(inst.componentWillReceiveProps){
inst.componentWillReceiveProps(nextProps,nextContext);}}



var nextState=this._processPendingState(nextProps,nextContext);

var shouldUpdate=
this._pendingForceUpdate || 
!inst.shouldComponentUpdate || 
inst.shouldComponentUpdate(nextProps,nextState,nextContext);

if(__DEV__){
warning(
typeof shouldUpdate !== 'undefined',
'%s.shouldComponentUpdate(): Returned undefined instead of a ' + 
'boolean value. Make sure to return true or false.',
this.getName() || 'ReactCompositeComponent');}



if(shouldUpdate){
this._pendingForceUpdate = false;

this._performComponentUpdate(
nextParentElement,
nextProps,
nextState,
nextContext,
transaction,
nextUnmaskedContext);}else 

{


this._currentElement = nextParentElement;
this._context = nextUnmaskedContext;
inst.props = nextProps;
inst.state = nextState;
inst.context = nextContext;}},



_processPendingState:function(props,context){
var inst=this._instance;
var queue=this._pendingStateQueue;
var replace=this._pendingReplaceState;
this._pendingReplaceState = false;
this._pendingStateQueue = null;

if(!queue){
return inst.state;}


if(replace && queue.length === 1){
return queue[0];}


var nextState=assign({},replace?queue[0]:inst.state);
for(var i=replace?1:0;i < queue.length;i++) {
var partial=queue[i];
assign(
nextState,
typeof partial === 'function'?
partial.call(inst,nextState,props,context):
partial);}



return nextState;},














_performComponentUpdate:function(
nextElement,
nextProps,
nextState,
nextContext,
transaction,
unmaskedContext)
{
var inst=this._instance;

var hasComponentDidUpdate=Boolean(inst.componentDidUpdate);
var prevProps;
var prevState;
var prevContext;
if(hasComponentDidUpdate){
prevProps = inst.props;
prevState = inst.state;
prevContext = inst.context;}


if(inst.componentWillUpdate){
inst.componentWillUpdate(nextProps,nextState,nextContext);}


this._currentElement = nextElement;
this._context = unmaskedContext;
inst.props = nextProps;
inst.state = nextState;
inst.context = nextContext;

this._updateRenderedComponent(transaction,unmaskedContext);

if(hasComponentDidUpdate){
transaction.getReactMountReady().enqueue(
inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),
inst);}},










_updateRenderedComponent:function(transaction,context){
var prevComponentInstance=this._renderedComponent;
var prevRenderedElement=prevComponentInstance._currentElement;
var nextRenderedElement=this._renderValidatedComponent();
if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement)){
ReactReconciler.receiveComponent(
prevComponentInstance,
nextRenderedElement,
transaction,
this._processChildContext(context));}else 

{

var thisID=this._rootNodeID;
var prevComponentID=prevComponentInstance._rootNodeID;
ReactReconciler.unmountComponent(prevComponentInstance);

this._renderedComponent = this._instantiateReactComponent(
nextRenderedElement);

var nextMarkup=ReactReconciler.mountComponent(
this._renderedComponent,
thisID,
transaction,
this._processChildContext(context));

this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup);}},






_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){
ReactComponentEnvironment.replaceNodeWithMarkupByID(
prevComponentID,
nextMarkup);},






_renderValidatedComponentWithoutOwnerOrContext:function(){
var inst=this._instance;
var renderedComponent=inst.render();
if(__DEV__){

if(typeof renderedComponent === 'undefined' && 
inst.render._isMockFunction){


renderedComponent = null;}}



return renderedComponent;},





_renderValidatedComponent:function(){
var renderedComponent;
ReactCurrentOwner.current = this;
try{
renderedComponent = 
this._renderValidatedComponentWithoutOwnerOrContext();}finally 
{
ReactCurrentOwner.current = null;}

invariant(

renderedComponent === null || renderedComponent === false || 
ReactElement.isValidElement(renderedComponent),
'%s.render(): A valid ReactComponent must be returned. You may have ' + 
'returned undefined, an array or some other invalid object.',
this.getName() || 'ReactCompositeComponent');

return renderedComponent;},










attachRef:function(ref,component){
var inst=this.getPublicInstance();
var refs=inst.refs === emptyObject?inst.refs = {}:inst.refs;
refs[ref] = component.getPublicInstance();},









detachRef:function(ref){
var refs=this.getPublicInstance().refs;
delete refs[ref];},








getName:function(){
var type=this._currentElement.type;
var constructor=this._instance && this._instance.constructor;
return (
type.displayName || constructor && constructor.displayName || 
type.name || constructor && constructor.name || 
null);},











getPublicInstance:function(){
return this._instance;},



_instantiateReactComponent:null};



ReactPerf.measureMethods(
ReactCompositeComponentMixin,
'ReactCompositeComponent',
{
mountComponent:'mountComponent',
updateComponent:'updateComponent',
_renderValidatedComponent:'_renderValidatedComponent'});



var ReactCompositeComponent={

Mixin:ReactCompositeComponentMixin};



module.exports = ReactCompositeComponent;
});
__d('ReactComponentEnvironment',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');

var injected=false;

var ReactComponentEnvironment={






unmountIDFromEnvironment:null,





replaceNodeWithMarkupByID:null,





processChildrenUpdates:null,

injection:{
injectEnvironment:function(environment){
invariant(
!injected,
'ReactCompositeComponent: injectEnvironment() can only be called once.');

ReactComponentEnvironment.unmountIDFromEnvironment = 
environment.unmountIDFromEnvironment;
ReactComponentEnvironment.replaceNodeWithMarkupByID = 
environment.replaceNodeWithMarkupByID;
ReactComponentEnvironment.processChildrenUpdates = 
environment.processChildrenUpdates;
injected = true;}}};





module.exports = ReactComponentEnvironment;
});
__d('ReactPropTypeLocations',function(global, require, module, exports) {  'use strict';












var keyMirror=require('keyMirror');

var ReactPropTypeLocations=keyMirror({
prop:null,
context:null,
childContext:null});


module.exports = ReactPropTypeLocations;
});
__d('ReactPropTypeLocationNames',function(global, require, module, exports) {  'use strict';












var ReactPropTypeLocationNames={};

if(__DEV__){
ReactPropTypeLocationNames = {
prop:'prop',
context:'context',
childContext:'child context'};}



module.exports = ReactPropTypeLocationNames;
});
__d('shouldUpdateReactComponent',function(global, require, module, exports) {  'use strict';
























function shouldUpdateReactComponent(prevElement,nextElement){
if(prevElement != null && nextElement != null){
var prevType=typeof prevElement;
var nextType=typeof nextElement;
if(prevType === 'string' || prevType === 'number'){
return nextType === 'string' || nextType === 'number';}else 
{
return (
nextType === 'object' && 
prevElement.type === nextElement.type && 
prevElement.key === nextElement.key);}}



return false;}


module.exports = shouldUpdateReactComponent;
});
__d('ReactEmptyComponent',function(global, require, module, exports) {  'use strict';












var ReactElement=require('ReactElement');
var ReactInstanceMap=require('ReactInstanceMap');

var invariant=require('invariant');

var component;


var nullComponentIDsRegistry={};

var ReactEmptyComponentInjection={
injectEmptyComponent:function(emptyComponent){
component = ReactElement.createFactory(emptyComponent);}};



var ReactEmptyComponentType=function(){};
ReactEmptyComponentType.prototype.componentDidMount = function(){
var internalInstance=ReactInstanceMap.get(this);




if(!internalInstance){
return;}

registerNullComponentID(internalInstance._rootNodeID);};

ReactEmptyComponentType.prototype.componentWillUnmount = function(){
var internalInstance=ReactInstanceMap.get(this);

if(!internalInstance){
return;}

deregisterNullComponentID(internalInstance._rootNodeID);};

ReactEmptyComponentType.prototype.render = function(){
invariant(
component,
'Trying to return null from a render, but no null placeholder component ' + 
'was injected.');

return component();};


var emptyElement=ReactElement.createElement(ReactEmptyComponentType);





function registerNullComponentID(id){
nullComponentIDsRegistry[id] = true;}






function deregisterNullComponentID(id){
delete nullComponentIDsRegistry[id];}






function isNullComponentID(id){
return !!nullComponentIDsRegistry[id];}


var ReactEmptyComponent={
emptyElement:emptyElement,
injection:ReactEmptyComponentInjection,
isNullComponentID:isNullComponentID};


module.exports = ReactEmptyComponent;
});
__d('ReactNativeComponent',function(global, require, module, exports) {  'use strict';












var assign=require('Object.assign');
var invariant=require('invariant');

var autoGenerateWrapperClass=null;
var genericComponentClass=null;

var tagToComponentClass={};
var textComponentClass=null;

var ReactNativeComponentInjection={


injectGenericComponentClass:function(componentClass){
genericComponentClass = componentClass;},



injectTextComponentClass:function(componentClass){
textComponentClass = componentClass;},



injectComponentClasses:function(componentClasses){
assign(tagToComponentClass,componentClasses);}};









function getComponentClassForElement(element){
if(typeof element.type === 'function'){
return element.type;}

var tag=element.type;
var componentClass=tagToComponentClass[tag];
if(componentClass == null){
tagToComponentClass[tag] = componentClass = autoGenerateWrapperClass(tag);}

return componentClass;}








function createInternalComponent(element){
invariant(
genericComponentClass,
'There is no registered component for the tag %s',
element.type);

return new genericComponentClass(element.type,element.props);}






function createInstanceForText(text){
return new textComponentClass(text);}






function isTextComponent(component){
return component instanceof textComponentClass;}


var ReactNativeComponent={
getComponentClassForElement:getComponentClassForElement,
createInternalComponent:createInternalComponent,
createInstanceForText:createInstanceForText,
isTextComponent:isTextComponent,
injection:ReactNativeComponentInjection};


module.exports = ReactNativeComponent;
});
__d('findNodeHandle',function(global, require, module, exports) {  'use strict';













var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactNativeTagHandles=require('ReactNativeTagHandles');

var invariant=require('invariant');
var warning=require('warning');































function findNodeHandle(componentOrHandle){
if(__DEV__){
var owner=ReactCurrentOwner.current;
if(owner !== null){
warning(
owner._warnedAboutRefsInRender,
'%s is accessing findNodeHandle inside its render(). ' + 
'render() should be a pure function of props and state. It should ' + 
'never access something that requires stale data from the previous ' + 
'render, such as refs. Move this logic to componentDidMount and ' + 
'componentDidUpdate instead.',
owner.getName() || 'A component');

owner._warnedAboutRefsInRender = true;}}


if(componentOrHandle == null){
return null;}

if(typeof componentOrHandle === 'number'){

return componentOrHandle;}


var component=componentOrHandle;



var internalInstance=ReactInstanceMap.get(component);
if(internalInstance){
return ReactNativeTagHandles.rootNodeIDToTag[internalInstance._rootNodeID];}else 
{
var rootNodeID=component._rootNodeID;
if(rootNodeID){
return ReactNativeTagHandles.rootNodeIDToTag[rootNodeID];}else 
{
invariant(


typeof component === 'object' && 
'_rootNodeID' in component || 


component.render != null && 
typeof component.render === 'function',

'findNodeHandle(...): Argument is not a component ' + 
'(type: %s, keys: %s)',
typeof component,
Object.keys(component));

invariant(
false,
'findNodeHandle(...): Unable to find node handle for unmounted ' + 
'component.');}}}





module.exports = findNodeHandle;
});
__d('PerformanceLogger',function(global, require, module, exports) {  'use strict';












var performanceNow=require('performanceNow');

var timespans={};





var PerformanceLogger={
addTimespan:function(key,lengthInMs,description){
if(timespans[key]){
if(__DEV__){
console.log(
'PerformanceLogger: Attempting to add a timespan that already exists ',
key);}


return;}


timespans[key] = {
description:description,
totalTime:lengthInMs};},



startTimespan:function(key,description){
if(timespans[key]){
if(__DEV__){
console.log(
'PerformanceLogger: Attempting to start a timespan that already exists ',
key);}


return;}


timespans[key] = {
description:description,
startTime:performanceNow()};},



stopTimespan:function(key){
if(!timespans[key] || !timespans[key].startTime){
if(__DEV__){
console.log(
'PerformanceLogger: Attempting to end a timespan that has not started ',
key);}


return;}


timespans[key].endTime = performanceNow();
timespans[key].totalTime = 
timespans[key].endTime - timespans[key].startTime;},


clearTimespans:function(){
timespans = {};},


getTimespans:function(){
return timespans;},


hasTimespan:function(key){
return !!timespans[key];},


logTimespans:function(){
for(var key in timespans) {
if(timespans[key].totalTime){
console.log(key + ': ' + timespans[key].totalTime + 'ms');}}},




addTimespans:function(newTimespans,labels){
for(var i=0,l=newTimespans.length;i < l;i += 2) {
var label=labels[i / 2];
PerformanceLogger.addTimespan(
label,
newTimespans[i + 1] - newTimespans[i],
label);}}};





module.exports = PerformanceLogger;
});
__d('EventPluginHub',function(global, require, module, exports) {  'use strict';












var EventPluginRegistry=require('EventPluginRegistry');
var EventPluginUtils=require('EventPluginUtils');

var accumulateInto=require('accumulateInto');
var forEachAccumulated=require('forEachAccumulated');
var invariant=require('invariant');
var warning=require('warning');




var listenerBank={};





var eventQueue=null;







var executeDispatchesAndRelease=function(event){
if(event){
var executeDispatch=EventPluginUtils.executeDispatch;

var PluginModule=EventPluginRegistry.getPluginModuleForEvent(event);
if(PluginModule && PluginModule.executeDispatch){
executeDispatch = PluginModule.executeDispatch;}

EventPluginUtils.executeDispatchesInOrder(event,executeDispatch);

if(!event.isPersistent()){
event.constructor.release(event);}}};








var InstanceHandle=null;

function validateInstanceHandle(){
var valid=
InstanceHandle && 
InstanceHandle.traverseTwoPhase && 
InstanceHandle.traverseEnterLeave;
warning(
valid,
'InstanceHandle not injected before use!');}

























var EventPluginHub={




injection:{





injectMount:EventPluginUtils.injection.injectMount,





injectInstanceHandle:function(InjectedInstanceHandle){
InstanceHandle = InjectedInstanceHandle;
if(__DEV__){
validateInstanceHandle();}},



getInstanceHandle:function(){
if(__DEV__){
validateInstanceHandle();}

return InstanceHandle;},






injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,




injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},



eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,

registrationNameModules:EventPluginRegistry.registrationNameModules,








putListener:function(id,registrationName,listener){
invariant(
typeof listener === 'function',
'Expected %s listener to be a function, instead got type %s',
registrationName,typeof listener);


var bankForRegistrationName=
listenerBank[registrationName] || (listenerBank[registrationName] = {});
bankForRegistrationName[id] = listener;

var PluginModule=
EventPluginRegistry.registrationNameModules[registrationName];
if(PluginModule && PluginModule.didPutListener){
PluginModule.didPutListener(id,registrationName,listener);}},








getListener:function(id,registrationName){
var bankForRegistrationName=listenerBank[registrationName];
return bankForRegistrationName && bankForRegistrationName[id];},








deleteListener:function(id,registrationName){
var PluginModule=
EventPluginRegistry.registrationNameModules[registrationName];
if(PluginModule && PluginModule.willDeleteListener){
PluginModule.willDeleteListener(id,registrationName);}


var bankForRegistrationName=listenerBank[registrationName];

if(bankForRegistrationName){
delete bankForRegistrationName[id];}},








deleteAllListeners:function(id){
for(var registrationName in listenerBank) {
if(!listenerBank[registrationName][id]){
continue;}


var PluginModule=
EventPluginRegistry.registrationNameModules[registrationName];
if(PluginModule && PluginModule.willDeleteListener){
PluginModule.willDeleteListener(id,registrationName);}


delete listenerBank[registrationName][id];}},














extractEvents:function(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent,
nativeEventTarget){
var events;
var plugins=EventPluginRegistry.plugins;
for(var i=0;i < plugins.length;i++) {

var possiblePlugin=plugins[i];
if(possiblePlugin){
var extractedEvents=possiblePlugin.extractEvents(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent,
nativeEventTarget);

if(extractedEvents){
events = accumulateInto(events,extractedEvents);}}}



return events;},









enqueueEvents:function(events){
if(events){
eventQueue = accumulateInto(eventQueue,events);}},








processEventQueue:function(){


var processingEventQueue=eventQueue;
eventQueue = null;
forEachAccumulated(processingEventQueue,executeDispatchesAndRelease);
invariant(
!eventQueue,
'processEventQueue(): Additional events were enqueued while processing ' + 
'an event queue. Support for this has not yet been implemented.');},






__purge:function(){
listenerBank = {};},


__getListenerBank:function(){
return listenerBank;}};




module.exports = EventPluginHub;
});
__d('EventPluginRegistry',function(global, require, module, exports) {  'use strict';













var invariant=require('invariant');




var EventPluginOrder=null;




var namesToPlugins={};






function recomputePluginOrdering(){
if(!EventPluginOrder){

return;}

for(var pluginName in namesToPlugins) {
var PluginModule=namesToPlugins[pluginName];
var pluginIndex=EventPluginOrder.indexOf(pluginName);
invariant(
pluginIndex > -1,
'EventPluginRegistry: Cannot inject event plugins that do not exist in ' + 
'the plugin ordering, `%s`.',
pluginName);

if(EventPluginRegistry.plugins[pluginIndex]){
continue;}

invariant(
PluginModule.extractEvents,
'EventPluginRegistry: Event plugins must implement an `extractEvents` ' + 
'method, but `%s` does not.',
pluginName);

EventPluginRegistry.plugins[pluginIndex] = PluginModule;
var publishedEvents=PluginModule.eventTypes;
for(var eventName in publishedEvents) {
invariant(
publishEventForPlugin(
publishedEvents[eventName],
PluginModule,
eventName),

'EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.',
eventName,
pluginName);}}}













function publishEventForPlugin(dispatchConfig,PluginModule,eventName){
invariant(
!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName),
'EventPluginHub: More than one plugin attempted to publish the same ' + 
'event name, `%s`.',
eventName);

EventPluginRegistry.eventNameDispatchConfigs[eventName] = dispatchConfig;

var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;
if(phasedRegistrationNames){
for(var phaseName in phasedRegistrationNames) {
if(phasedRegistrationNames.hasOwnProperty(phaseName)){
var phasedRegistrationName=phasedRegistrationNames[phaseName];
publishRegistrationName(
phasedRegistrationName,
PluginModule,
eventName);}}



return true;}else 
if(dispatchConfig.registrationName){
publishRegistrationName(
dispatchConfig.registrationName,
PluginModule,
eventName);

return true;}

return false;}










function publishRegistrationName(registrationName,PluginModule,eventName){
invariant(
!EventPluginRegistry.registrationNameModules[registrationName],
'EventPluginHub: More than one plugin attempted to publish the same ' + 
'registration name, `%s`.',
registrationName);

EventPluginRegistry.registrationNameModules[registrationName] = PluginModule;
EventPluginRegistry.registrationNameDependencies[registrationName] = 
PluginModule.eventTypes[eventName].dependencies;}







var EventPluginRegistry={




plugins:[],




eventNameDispatchConfigs:{},




registrationNameModules:{},




registrationNameDependencies:{},










injectEventPluginOrder:function(InjectedEventPluginOrder){
invariant(
!EventPluginOrder,
'EventPluginRegistry: Cannot inject event plugin ordering more than ' + 
'once. You are likely trying to load more than one copy of React.');


EventPluginOrder = Array.prototype.slice.call(InjectedEventPluginOrder);
recomputePluginOrdering();},












injectEventPluginsByName:function(injectedNamesToPlugins){
var isOrderingDirty=false;
for(var pluginName in injectedNamesToPlugins) {
if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){
continue;}

var PluginModule=injectedNamesToPlugins[pluginName];
if(!namesToPlugins.hasOwnProperty(pluginName) || 
namesToPlugins[pluginName] !== PluginModule){
invariant(
!namesToPlugins[pluginName],
'EventPluginRegistry: Cannot inject two different event plugins ' + 
'using the same name, `%s`.',
pluginName);

namesToPlugins[pluginName] = PluginModule;
isOrderingDirty = true;}}


if(isOrderingDirty){
recomputePluginOrdering();}},










getPluginModuleForEvent:function(event){
var dispatchConfig=event.dispatchConfig;
if(dispatchConfig.registrationName){
return EventPluginRegistry.registrationNameModules[
dispatchConfig.registrationName] || 
null;}

for(var phase in dispatchConfig.phasedRegistrationNames) {
if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){
continue;}

var PluginModule=EventPluginRegistry.registrationNameModules[
dispatchConfig.phasedRegistrationNames[phase]];

if(PluginModule){
return PluginModule;}}


return null;},






_resetEventPlugins:function(){
EventPluginOrder = null;
for(var pluginName in namesToPlugins) {
if(namesToPlugins.hasOwnProperty(pluginName)){
delete namesToPlugins[pluginName];}}


EventPluginRegistry.plugins.length = 0;

var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;
for(var eventName in eventNameDispatchConfigs) {
if(eventNameDispatchConfigs.hasOwnProperty(eventName)){
delete eventNameDispatchConfigs[eventName];}}



var registrationNameModules=EventPluginRegistry.registrationNameModules;
for(var registrationName in registrationNameModules) {
if(registrationNameModules.hasOwnProperty(registrationName)){
delete registrationNameModules[registrationName];}}}};






module.exports = EventPluginRegistry;
});
__d('EventPluginUtils',function(global, require, module, exports) {  'use strict';












var EventConstants=require('EventConstants');

var invariant=require('invariant');
var warning=require('warning');









var injection={
Mount:null,
injectMount:function(InjectedMount){
injection.Mount = InjectedMount;
if(__DEV__){
warning(
InjectedMount && InjectedMount.getNode && InjectedMount.getID,
'EventPluginUtils.injection.injectMount(...): Injected Mount ' + 
'module is missing getNode or getID.');}}};





var topLevelTypes=EventConstants.topLevelTypes;

function isEndish(topLevelType){
return topLevelType === topLevelTypes.topMouseUp || 
topLevelType === topLevelTypes.topTouchEnd || 
topLevelType === topLevelTypes.topTouchCancel;}


function isMoveish(topLevelType){
return topLevelType === topLevelTypes.topMouseMove || 
topLevelType === topLevelTypes.topTouchMove;}

function isStartish(topLevelType){
return topLevelType === topLevelTypes.topMouseDown || 
topLevelType === topLevelTypes.topTouchStart;}



var validateEventDispatches;
if(__DEV__){
validateEventDispatches = function(event){
var dispatchListeners=event._dispatchListeners;
var dispatchIDs=event._dispatchIDs;

var listenersIsArr=Array.isArray(dispatchListeners);
var idsIsArr=Array.isArray(dispatchIDs);
var IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0;
var listenersLen=listenersIsArr?
dispatchListeners.length:
dispatchListeners?1:0;

warning(
idsIsArr === listenersIsArr && IDsLen === listenersLen,
'EventPluginUtils: Invalid `event`.');};}









function forEachEventDispatch(event,cb){
var dispatchListeners=event._dispatchListeners;
var dispatchIDs=event._dispatchIDs;
if(__DEV__){
validateEventDispatches(event);}

if(Array.isArray(dispatchListeners)){
for(var i=0;i < dispatchListeners.length;i++) {
if(event.isPropagationStopped()){
break;}


cb(event,dispatchListeners[i],dispatchIDs[i]);}}else 

if(dispatchListeners){
cb(event,dispatchListeners,dispatchIDs);}}









function executeDispatch(event,listener,domID){
event.currentTarget = injection.Mount.getNode(domID);
var returnValue=listener(event,domID);
event.currentTarget = null;
return returnValue;}





function executeDispatchesInOrder(event,cb){
forEachEventDispatch(event,cb);
event._dispatchListeners = null;
event._dispatchIDs = null;}









function executeDispatchesInOrderStopAtTrueImpl(event){
var dispatchListeners=event._dispatchListeners;
var dispatchIDs=event._dispatchIDs;
if(__DEV__){
validateEventDispatches(event);}

if(Array.isArray(dispatchListeners)){
for(var i=0;i < dispatchListeners.length;i++) {
if(event.isPropagationStopped()){
break;}


if(dispatchListeners[i](event,dispatchIDs[i])){
return dispatchIDs[i];}}}else 


if(dispatchListeners){
if(dispatchListeners(event,dispatchIDs)){
return dispatchIDs;}}


return null;}





function executeDispatchesInOrderStopAtTrue(event){
var ret=executeDispatchesInOrderStopAtTrueImpl(event);
event._dispatchIDs = null;
event._dispatchListeners = null;
return ret;}











function executeDirectDispatch(event){
if(__DEV__){
validateEventDispatches(event);}

var dispatchListener=event._dispatchListeners;
var dispatchID=event._dispatchIDs;
invariant(
!Array.isArray(dispatchListener),
'executeDirectDispatch(...): Invalid `event`.');

var res=dispatchListener?
dispatchListener(event,dispatchID):
null;
event._dispatchListeners = null;
event._dispatchIDs = null;
return res;}






function hasDispatches(event){
return !!event._dispatchListeners;}





var EventPluginUtils={
isEndish:isEndish,
isMoveish:isMoveish,
isStartish:isStartish,

executeDirectDispatch:executeDirectDispatch,
executeDispatch:executeDispatch,
executeDispatchesInOrder:executeDispatchesInOrder,
executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,
hasDispatches:hasDispatches,

getNode:function(id){
return injection.Mount.getNode(id);},

getID:function(node){
return injection.Mount.getID(node);},


injection:injection};


module.exports = EventPluginUtils;
});
__d('EventConstants',function(global, require, module, exports) {  'use strict';












var keyMirror=require('keyMirror');

var PropagationPhases=keyMirror({bubbled:null,captured:null});




var topLevelTypes=keyMirror({
topBlur:null,
topChange:null,
topClick:null,
topCompositionEnd:null,
topCompositionStart:null,
topCompositionUpdate:null,
topContextMenu:null,
topCopy:null,
topCut:null,
topDoubleClick:null,
topDrag:null,
topDragEnd:null,
topDragEnter:null,
topDragExit:null,
topDragLeave:null,
topDragOver:null,
topDragStart:null,
topDrop:null,
topError:null,
topFocus:null,
topInput:null,
topKeyDown:null,
topKeyPress:null,
topKeyUp:null,
topLoad:null,
topMouseDown:null,
topMouseMove:null,
topMouseOut:null,
topMouseOver:null,
topMouseUp:null,
topPaste:null,
topReset:null,
topScroll:null,
topSelectionChange:null,
topSubmit:null,
topTextInput:null,
topTouchCancel:null,
topTouchEnd:null,
topTouchMove:null,
topTouchStart:null,
topWheel:null});


var EventConstants={
topLevelTypes:topLevelTypes,
PropagationPhases:PropagationPhases};


module.exports = EventConstants;
});
__d('accumulateInto',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');















function accumulateInto(current,next){
invariant(
next != null,
'accumulateInto(...): Accumulated items must not be null or undefined.');

if(current == null){
return next;}




var currentIsArray=Array.isArray(current);
var nextIsArray=Array.isArray(next);

if(currentIsArray && nextIsArray){
current.push.apply(current,next);
return current;}


if(currentIsArray){
current.push(next);
return current;}


if(nextIsArray){

return [current].concat(next);}


return [current,next];}


module.exports = accumulateInto;
});
__d('forEachAccumulated',function(global, require, module, exports) {  'use strict';



















var forEachAccumulated=function(arr,cb,scope){
if(Array.isArray(arr)){
arr.forEach(cb,scope);}else 
if(arr){
cb.call(scope,arr);}};



module.exports = forEachAccumulated;
});
__d('IOSDefaultEventPluginOrder',function(global, require, module, exports) {  'use strict';












var IOSDefaultEventPluginOrder=[
'ResponderEventPlugin',
'IOSNativeBridgeEventPlugin'];


module.exports = IOSDefaultEventPluginOrder;
});
__d('IOSNativeBridgeEventPlugin',function(global, require, module, exports) {  'use strict';












var EventPropagators=require('EventPropagators');
var NativeModules=require('NativeModules');
var SyntheticEvent=require('SyntheticEvent');

var merge=require('merge');
var warning=require('warning');

var RCTUIManager=NativeModules.UIManager;

var customBubblingEventTypes=RCTUIManager.customBubblingEventTypes;
var customDirectEventTypes=RCTUIManager.customDirectEventTypes;

var allTypesByEventName={};

for(var bubblingTypeName in customBubblingEventTypes) {
allTypesByEventName[bubblingTypeName] = customBubblingEventTypes[bubblingTypeName];}


for(var directTypeName in customDirectEventTypes) {
warning(
!customBubblingEventTypes[directTypeName],
'Event cannot be both direct and bubbling: %s',
directTypeName);

allTypesByEventName[directTypeName] = customDirectEventTypes[directTypeName];}


var IOSNativeBridgeEventPlugin={

eventTypes:merge(customBubblingEventTypes,customDirectEventTypes),









extractEvents:function(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent)
{
var bubbleDispatchConfig=customBubblingEventTypes[topLevelType];
var directDispatchConfig=customDirectEventTypes[topLevelType];
var event=SyntheticEvent.getPooled(
bubbleDispatchConfig || directDispatchConfig,
topLevelTargetID,
nativeEvent);

if(bubbleDispatchConfig){
EventPropagators.accumulateTwoPhaseDispatches(event);}else 
if(directDispatchConfig){
EventPropagators.accumulateDirectDispatches(event);}else 
{
return null;}

return event;}};



module.exports = IOSNativeBridgeEventPlugin;
});
__d('EventPropagators',function(global, require, module, exports) {  "use strict";



















var EventConstants=require('EventConstants');
var EventPluginHub=require('EventPluginHub');

var accumulateInto=require('accumulateInto');
var forEachAccumulated=require('forEachAccumulated');

var PropagationPhases=EventConstants.PropagationPhases;
var getListener=EventPluginHub.getListener;





function listenerAtPhase(id,event,propagationPhase){
var registrationName=
event.dispatchConfig.phasedRegistrationNames[propagationPhase];
return getListener(id,registrationName);}








function accumulateDirectionalDispatches(domID,upwards,event){
if(__DEV__){
if(!domID){
throw new Error('Dispatching id must not be null');}}


var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;
var listener=listenerAtPhase(domID,event,phase);
if(listener){
event._dispatchListeners = 
accumulateInto(event._dispatchListeners,listener);
event._dispatchIDs = accumulateInto(event._dispatchIDs,domID);}}










function accumulateTwoPhaseDispatchesSingle(event){
if(event && event.dispatchConfig.phasedRegistrationNames){
EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(
event.dispatchMarker,
accumulateDirectionalDispatches,
event);}}







function accumulateTwoPhaseDispatchesSingleSkipTarget(event){
if(event && event.dispatchConfig.phasedRegistrationNames){
EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(
event.dispatchMarker,
accumulateDirectionalDispatches,
event);}}










function accumulateDispatches(id,ignoredDirection,event){
if(event && event.dispatchConfig.registrationName){
var registrationName=event.dispatchConfig.registrationName;
var listener=getListener(id,registrationName);
if(listener){
event._dispatchListeners = 
accumulateInto(event._dispatchListeners,listener);
event._dispatchIDs = accumulateInto(event._dispatchIDs,id);}}}









function accumulateDirectDispatchesSingle(event){
if(event && event.dispatchConfig.registrationName){
accumulateDispatches(event.dispatchMarker,null,event);}}



function accumulateTwoPhaseDispatches(events){
forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle);}


function accumulateTwoPhaseDispatchesSkipTarget(events){
forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget);}


function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){
EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(
fromID,
toID,
accumulateDispatches,
leave,
enter);}




function accumulateDirectDispatches(events){
forEachAccumulated(events,accumulateDirectDispatchesSingle);}















var EventPropagators={
accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,
accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,
accumulateDirectDispatches:accumulateDirectDispatches,
accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};


module.exports = EventPropagators;
});
__d('SyntheticEvent',function(global, require, module, exports) {  'use strict';













var PooledClass=require('PooledClass');

var assign=require('Object.assign');
var emptyFunction=require('emptyFunction');





var EventInterface={
path:null,
type:null,

currentTarget:emptyFunction.thatReturnsNull,
eventPhase:null,
bubbles:null,
cancelable:null,
timeStamp:function(event){
return event.timeStamp || Date.now();},

defaultPrevented:null,
isTrusted:null};



















function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){
this.dispatchConfig = dispatchConfig;
this.dispatchMarker = dispatchMarker;
this.nativeEvent = nativeEvent;
this.target = nativeEventTarget;
this.currentTarget = nativeEventTarget;

var Interface=this.constructor.Interface;
for(var propName in Interface) {
if(!Interface.hasOwnProperty(propName)){
continue;}

var normalize=Interface[propName];
if(normalize){
this[propName] = normalize(nativeEvent);}else 
{
this[propName] = nativeEvent[propName];}}



var defaultPrevented=nativeEvent.defaultPrevented != null?
nativeEvent.defaultPrevented:
nativeEvent.returnValue === false;
if(defaultPrevented){
this.isDefaultPrevented = emptyFunction.thatReturnsTrue;}else 
{
this.isDefaultPrevented = emptyFunction.thatReturnsFalse;}

this.isPropagationStopped = emptyFunction.thatReturnsFalse;}


assign(SyntheticEvent.prototype,{

preventDefault:function(){
this.defaultPrevented = true;
var event=this.nativeEvent;
if(event.preventDefault){
event.preventDefault();}else 
{
event.returnValue = false;}

this.isDefaultPrevented = emptyFunction.thatReturnsTrue;},


stopPropagation:function(){
var event=this.nativeEvent;
if(event.stopPropagation){
event.stopPropagation();}else 
{
event.cancelBubble = true;}

this.isPropagationStopped = emptyFunction.thatReturnsTrue;},







persist:function(){
this.isPersistent = emptyFunction.thatReturnsTrue;},







isPersistent:emptyFunction.thatReturnsFalse,




destructor:function(){
var Interface=this.constructor.Interface;
for(var propName in Interface) {
this[propName] = null;}

this.dispatchConfig = null;
this.dispatchMarker = null;
this.nativeEvent = null;}});




SyntheticEvent.Interface = EventInterface;







SyntheticEvent.augmentClass = function(Class,Interface){
var Super=this;

var prototype=Object.create(Super.prototype);
assign(prototype,Class.prototype);
Class.prototype = prototype;
Class.prototype.constructor = Class;

Class.Interface = assign({},Super.Interface,Interface);
Class.augmentClass = Super.augmentClass;

PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler);};


PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler);

module.exports = SyntheticEvent;
});
__d('merge',function(global, require, module, exports) {  "use strict";
































var mergeInto=require('mergeInto');








var merge=function(one,two){
var result={};
mergeInto(result,one);
mergeInto(result,two);
return result;};


module.exports = merge;
});
__d('mergeInto',function(global, require, module, exports) {  "use strict";

































var mergeHelpers=require('mergeHelpers');

var checkMergeObjectArg=mergeHelpers.checkMergeObjectArg;
var checkMergeIntoObjectArg=mergeHelpers.checkMergeIntoObjectArg;







function mergeInto(one,two){
checkMergeIntoObjectArg(one);
if(two != null){
checkMergeObjectArg(two);
for(var key in two) {
if(!two.hasOwnProperty(key)){
continue;}

one[key] = two[key];}}}




module.exports = mergeInto;
});
__d('mergeHelpers',function(global, require, module, exports) {  "use strict";


































var invariant=require('invariant');
var keyMirror=require('keyMirror');





var MAX_MERGE_DEPTH=36;







var isTerminal=function(o){
return typeof o !== 'object' || o === null;};


var mergeHelpers={

MAX_MERGE_DEPTH:MAX_MERGE_DEPTH,

isTerminal:isTerminal,







normalizeMergeArg:function(arg){
return arg === undefined || arg === null?{}:arg;},










checkMergeArrayArgs:function(one,two){
invariant(
Array.isArray(one) && Array.isArray(two),
'Tried to merge arrays, instead got %s and %s.',
one,
two);},







checkMergeObjectArgs:function(one,two){
mergeHelpers.checkMergeObjectArg(one);
mergeHelpers.checkMergeObjectArg(two);},





checkMergeObjectArg:function(arg){
invariant(
!isTerminal(arg) && !Array.isArray(arg),
'Tried to merge an object, instead got %s.',
arg);},






checkMergeIntoObjectArg:function(arg){
invariant(
(!isTerminal(arg) || typeof arg === 'function') && !Array.isArray(arg),
'Tried to merge into an object, instead got %s.',
arg);},









checkMergeLevel:function(level){
invariant(
level < MAX_MERGE_DEPTH,
'Maximum deep merge depth exceeded. You may be attempting to merge ' + 
'circular structures in an unsupported way.');},








checkArrayStrategy:function(strategy){
invariant(
strategy === undefined || strategy in mergeHelpers.ArrayStrategies,
'You must provide an array strategy to deep merge functions to ' + 
'instruct the deep merge how to resolve merging two arrays.');},










ArrayStrategies:keyMirror({
Clobber:true,
IndexByIndex:true})};




module.exports = mergeHelpers;
});
__d('NodeHandle',function(global, require, module, exports) {  var 




























































NodeHandle={



injection:{
injectImplementation:function(Impl){
NodeHandle._Implementation = Impl;}},



_Implementation:null,





getRootNodeID:function(nodeHandle){
return NodeHandle._Implementation.getRootNodeID(nodeHandle);}};



module.exports = NodeHandle;
});
__d('ReactDefaultBatchingStrategy',function(global, require, module, exports) {  'use strict';












var ReactUpdates=require('ReactUpdates');
var Transaction=require('Transaction');

var assign=require('Object.assign');
var emptyFunction=require('emptyFunction');

var RESET_BATCHED_UPDATES={
initialize:emptyFunction,
close:function(){
ReactDefaultBatchingStrategy.isBatchingUpdates = false;}};



var FLUSH_BATCHED_UPDATES={
initialize:emptyFunction,
close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};


var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];

function ReactDefaultBatchingStrategyTransaction(){
this.reinitializeTransaction();}


assign(
ReactDefaultBatchingStrategyTransaction.prototype,
Transaction.Mixin,
{
getTransactionWrappers:function(){
return TRANSACTION_WRAPPERS;}});




var transaction=new ReactDefaultBatchingStrategyTransaction();

var ReactDefaultBatchingStrategy={
isBatchingUpdates:false,





batchedUpdates:function(callback,a,b,c,d,e){
var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;

ReactDefaultBatchingStrategy.isBatchingUpdates = true;


if(alreadyBatchingUpdates){
callback(a,b,c,d,e);}else 
{
transaction.perform(callback,null,a,b,c,d,e);}}};




module.exports = ReactDefaultBatchingStrategy;
});
__d('ReactNativeComponentEnvironment',function(global, require, module, exports) {  'use strict';












var ReactNativeDOMIDOperations=require('ReactNativeDOMIDOperations');
var ReactNativeReconcileTransaction=require('ReactNativeReconcileTransaction');

var ReactNativeComponentEnvironment={

processChildrenUpdates:ReactNativeDOMIDOperations.dangerouslyProcessChildrenUpdates,

replaceNodeWithMarkupByID:ReactNativeDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,






unmountIDFromEnvironment:function(){},






clearNode:function(){},



ReactReconcileTransaction:ReactNativeReconcileTransaction};


module.exports = ReactNativeComponentEnvironment;
});
__d('ReactNativeDOMIDOperations',function(global, require, module, exports) {  'use strict';












var ReactNativeTagHandles=require('ReactNativeTagHandles');
var ReactMultiChildUpdateTypes=require('ReactMultiChildUpdateTypes');
var RCTUIManager=require('NativeModules').UIManager;
var ReactPerf=require('ReactPerf');













var dangerouslyProcessChildrenUpdates=function(childrenUpdates,markupList){
if(!childrenUpdates.length){
return;}

var byContainerTag={};


for(var i=0;i < childrenUpdates.length;i++) {
var update=childrenUpdates[i];
var containerTag=ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(update.parentID);
var updates=byContainerTag[containerTag] || (byContainerTag[containerTag] = {});
if(update.type === ReactMultiChildUpdateTypes.MOVE_EXISTING){
(updates.moveFromIndices || (updates.moveFromIndices = [])).push(update.fromIndex);
(updates.moveToIndices || (updates.moveToIndices = [])).push(update.toIndex);}else 
if(update.type === ReactMultiChildUpdateTypes.REMOVE_NODE){
(updates.removeAtIndices || (updates.removeAtIndices = [])).push(update.fromIndex);}else 
if(update.type === ReactMultiChildUpdateTypes.INSERT_MARKUP){
var mountImage=markupList[update.markupIndex];
var tag=mountImage.tag;
var rootNodeID=mountImage.rootNodeID;
ReactNativeTagHandles.associateRootNodeIDWithMountedNodeHandle(rootNodeID,tag);
(updates.addAtIndices || (updates.addAtIndices = [])).push(update.toIndex);
(updates.addChildTags || (updates.addChildTags = [])).push(tag);}}





for(var updateParentTagString in byContainerTag) {
var updateParentTagNumber=+updateParentTagString;
var childUpdatesToSend=byContainerTag[updateParentTagNumber];
RCTUIManager.manageChildren(
updateParentTagNumber,
childUpdatesToSend.moveFromIndices,
childUpdatesToSend.moveToIndices,
childUpdatesToSend.addChildTags,
childUpdatesToSend.addAtIndices,
childUpdatesToSend.removeAtIndices);}};








var ReactNativeDOMIDOperations={
dangerouslyProcessChildrenUpdates:ReactPerf.measure(

'ReactDOMIDOperations',
'dangerouslyProcessChildrenUpdates',
dangerouslyProcessChildrenUpdates),








dangerouslyReplaceNodeWithMarkupByID:ReactPerf.measure(
'ReactDOMIDOperations',
'dangerouslyReplaceNodeWithMarkupByID',
function(id,mountImage){
var oldTag=ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(id);
RCTUIManager.replaceExistingNonRootView(oldTag,mountImage.tag);
ReactNativeTagHandles.associateRootNodeIDWithMountedNodeHandle(id,mountImage.tag);})};




module.exports = ReactNativeDOMIDOperations;
});
__d('ReactMultiChildUpdateTypes',function(global, require, module, exports) {  'use strict';












var keyMirror=require('keyMirror');









var ReactMultiChildUpdateTypes=keyMirror({
INSERT_MARKUP:null,
MOVE_EXISTING:null,
REMOVE_NODE:null,
TEXT_CONTENT:null});


module.exports = ReactMultiChildUpdateTypes;
});
__d('ReactNativeReconcileTransaction',function(global, require, module, exports) {  'use strict';












var CallbackQueue=require('CallbackQueue');
var PooledClass=require('PooledClass');
var Transaction=require('Transaction');





var ON_DOM_READY_QUEUEING={



initialize:function(){
this.reactMountReady.reset();},





close:function(){
this.reactMountReady.notifyAll();}};








var TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING];















function ReactNativeReconcileTransaction(){
this.reinitializeTransaction();
this.reactMountReady = CallbackQueue.getPooled(null);}


var Mixin={







getTransactionWrappers:function(){
return TRANSACTION_WRAPPERS;},






getReactMountReady:function(){
return this.reactMountReady;},






destructor:function(){
CallbackQueue.release(this.reactMountReady);
this.reactMountReady = null;}};



Object.assign(
ReactNativeReconcileTransaction.prototype,
Transaction.Mixin,
ReactNativeReconcileTransaction,
Mixin);


PooledClass.addPoolingTo(ReactNativeReconcileTransaction);

module.exports = ReactNativeReconcileTransaction;
});
__d('ReactNativeGlobalInteractionHandler',function(global, require, module, exports) {  'use strict';












var InteractionManager=require('InteractionManager');



var interactionHandle=null;

var ReactNativeGlobalInteractionHandler={
onChange:function(numberActiveTouches){
if(numberActiveTouches === 0){
if(interactionHandle){
InteractionManager.clearInteractionHandle(interactionHandle);
interactionHandle = null;}}else 

if(!interactionHandle){
interactionHandle = InteractionManager.createInteractionHandle();}}};




module.exports = ReactNativeGlobalInteractionHandler;
});
__d('InteractionManager',function(global, require, module, exports) {  'use strict';












var ErrorUtils=require('ErrorUtils');
var EventEmitter=require('EventEmitter');
var Set=require('Set');

var invariant=require('invariant');
var keyMirror=require('keyMirror');
var setImmediate=require('setImmediate');



var _emitter=new EventEmitter();
var _interactionSet=new Set();
var _addInteractionSet=new Set();
var _deleteInteractionSet=new Set();
var _nextUpdateHandle=null;
var _queue=[];
var _inc=0;




































var InteractionManager={
Events:keyMirror({
interactionStart:true,
interactionComplete:true}),





runAfterInteractions:function(callback){
invariant(
typeof callback === 'function',
'Must specify a function to schedule.');

scheduleUpdate();
_queue.push(callback);},





createInteractionHandle:function(){
scheduleUpdate();
var handle=++_inc;
_addInteractionSet.add(handle);
return handle;},





clearInteractionHandle:function(handle){
invariant(
!!handle,
'Must provide a handle to clear.');

scheduleUpdate();
_addInteractionSet.delete(handle);
_deleteInteractionSet.add(handle);},


addListener:_emitter.addListener.bind(_emitter)};





function scheduleUpdate(){
if(!_nextUpdateHandle){
_nextUpdateHandle = setImmediate(processUpdate);}}






function processUpdate(){
_nextUpdateHandle = null;

var interactionCount=_interactionSet.size;
_addInteractionSet.forEach(function(handle){return (
_interactionSet.add(handle));});

_deleteInteractionSet.forEach(function(handle){return (
_interactionSet.delete(handle));});

var nextInteractionCount=_interactionSet.size;

if(interactionCount !== 0 && nextInteractionCount === 0){

_emitter.emit(InteractionManager.Events.interactionComplete);}else 
if(interactionCount === 0 && nextInteractionCount !== 0){

_emitter.emit(InteractionManager.Events.interactionStart);}



if(nextInteractionCount === 0){
var queue=_queue;
_queue = [];
queue.forEach(function(callback){
ErrorUtils.applyWithGuard(callback);});}



_addInteractionSet.clear();
_deleteInteractionSet.clear();}


module.exports = InteractionManager;
});
__d('Set',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}



















var Map=require('Map');
var toIterator=require('toIterator');
var _shouldPolyfillES6Collection=require('_shouldPolyfillES6Collection');

module.exports = (function(global,undefined){





if(!_shouldPolyfillES6Collection('Set')){
return global.Set;}var 











































Set=(function(){










function Set(iterable){_classCallCheck(this,Set);
if(this == null || 
typeof this !== 'object' && typeof this !== 'function'){
throw new TypeError('Wrong set object type.');}


initSet(this);

if(iterable != null){
var it=toIterator(iterable);
var next;
while(!(next = it.next()).done) {
this.add(next.value);}}}_createClass(Set,[{key:'add',value:












function add(value){
this._map.set(value,value);
this.size = this._map.size;
return this;}},{key:'clear',value:







function clear(){
initSet(this);}},{key:'delete',value:











function _delete(value){
var ret=this._map.delete(value);
this.size = this._map.size;
return ret;}},{key:'entries',value:







function entries(){
return this._map.entries();}},{key:'forEach',value:









function forEach(callback){
var thisArg=arguments[1];
var it=this._map.keys();
var next;
while(!(next = it.next()).done) {
callback.call(thisArg,next.value,next.value,this);}}},{key:'has',value:











function has(value){
return this._map.has(value);}},{key:'values',value:







function values(){
return this._map.values();}}]);return Set;})();




Set.prototype[toIterator.ITERATOR_SYMBOL] = Set.prototype.values;


Set.prototype.keys = Set.prototype.values;

function initSet(set){
set._map = new Map();
set.size = set._map.size;}


return Set;})(
Function('return this')());
});
__d('Map',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}



















var guid=require('guid');
var isNode=require('isNode');
var toIterator=require('toIterator');
var _shouldPolyfillES6Collection=require('_shouldPolyfillES6Collection');

module.exports = (function(global,undefined){




if(!_shouldPolyfillES6Collection('Map')){
return global.Map;}

























































var KIND_KEY='key';
var KIND_VALUE='value';
var KIND_KEY_VALUE='key+value';



var KEY_PREFIX='$map_';



var SECRET_SIZE_PROP;
if(__DEV__){
SECRET_SIZE_PROP = '$size' + guid();}



var OLD_IE_HASH_PREFIX='IE_HASH_';var 

Map=(function(){










function Map(iterable){_classCallCheck(this,Map);
if(!isObject(this)){
throw new TypeError('Wrong map object type.');}


initMap(this);

if(iterable != null){
var it=toIterator(iterable);
var next;
while(!(next = it.next()).done) {
if(!isObject(next.value)){
throw new TypeError('Expected iterable items to be pair objects.');}

this.set(next.value[0],next.value[1]);}}}_createClass(Map,[{key:'clear',value:








function clear(){
initMap(this);}},{key:'has',value:









function has(key){
var index=getIndex(this,key);
return !!(index != null && this._mapData[index]);}},{key:'set',value:










function set(key,value){
var index=getIndex(this,key);

if(index != null && this._mapData[index]){
this._mapData[index][1] = value;}else 
{
index = this._mapData.push([
key,
value]) - 
1;
setIndex(this,key,index);
if(__DEV__){
this[SECRET_SIZE_PROP] += 1;}else 
{
this.size += 1;}}



return this;}},{key:'get',value:









function get(key){
var index=getIndex(this,key);
if(index == null){
return undefined;}else 
{
return this._mapData[index][1];}}},{key:'delete',value:











function _delete(key){
var index=getIndex(this,key);
if(index != null && this._mapData[index]){
setIndex(this,key,undefined);
this._mapData[index] = undefined;
if(__DEV__){
this[SECRET_SIZE_PROP] -= 1;}else 
{
this.size -= 1;}

return true;}else 
{
return false;}}},{key:'entries',value:










function entries(){
return new MapIterator(this,KIND_KEY_VALUE);}},{key:'keys',value:








function keys(){
return new MapIterator(this,KIND_KEY);}},{key:'values',value:








function values(){
return new MapIterator(this,KIND_VALUE);}},{key:'forEach',value:











function forEach(callback,thisArg){
if(typeof callback !== 'function'){
throw new TypeError('Callback must be callable.');}


var boundCallback=callback.bind(thisArg || undefined);
var mapData=this._mapData;




for(var i=0;i < mapData.length;i++) {
var entry=mapData[i];
if(entry != null){
boundCallback(entry[1],entry[0],this);}}}}]);return Map;})();






Map.prototype[toIterator.ITERATOR_SYMBOL] = Map.prototype.entries;var 

MapIterator=(function(){









function MapIterator(map,kind){_classCallCheck(this,MapIterator);
if(!(isObject(map) && map['_mapData'])){
throw new TypeError('Object is not a map.');}


if([KIND_KEY,KIND_KEY_VALUE,KIND_VALUE].indexOf(kind) === -1){
throw new Error('Invalid iteration kind.');}


this._map = map;
this._nextIndex = 0;
this._kind = kind;}_createClass(MapIterator,[{key:'next',value:








function next(){
if(!this instanceof Map){
throw new TypeError('Expected to be called on a MapIterator.');}


var map=this._map;
var index=this._nextIndex;
var kind=this._kind;

if(map == null){
return createIterResultObject(undefined,true);}


var entries=map['_mapData'];

while(index < entries.length) {
var record=entries[index];

index += 1;
this._nextIndex = index;

if(record){
if(kind === KIND_KEY){
return createIterResultObject(record[0],false);}else 
if(kind === KIND_VALUE){
return createIterResultObject(record[1],false);}else 
if(kind){
return createIterResultObject(record,false);}}}




this._map = undefined;

return createIterResultObject(undefined,true);}}]);return MapIterator;})();






MapIterator.prototype[toIterator.ITERATOR_SYMBOL] = function(){
return this;};













function getIndex(map,key){
if(isObject(key)){
var hash=getHash(key);
return map._objectIndex[hash];}else 
{
var prefixedKey=KEY_PREFIX + key;
if(typeof key === 'string'){
return map._stringIndex[prefixedKey];}else 
{
return map._otherIndex[prefixedKey];}}}










function setIndex(map,key,index){
var shouldDelete=index == null;

if(isObject(key)){
var hash=getHash(key);
if(shouldDelete){
delete map._objectIndex[hash];}else 
{
map._objectIndex[hash] = index;}}else 

{
var prefixedKey=KEY_PREFIX + key;
if(typeof key === 'string'){
if(shouldDelete){
delete map._stringIndex[prefixedKey];}else 
{
map._stringIndex[prefixedKey] = index;}}else 

{
if(shouldDelete){
delete map._otherIndex[prefixedKey];}else 
{
map._otherIndex[prefixedKey] = index;}}}}










function initMap(map){






map._mapData = [];







map._objectIndex = {};


map._stringIndex = {};


map._otherIndex = {};







if(__DEV__){
if(isES5){



if(map.hasOwnProperty(SECRET_SIZE_PROP)){
map[SECRET_SIZE_PROP] = 0;}else 
{
Object.defineProperty(map,SECRET_SIZE_PROP,{
value:0,
writable:true});

Object.defineProperty(map,'size',{
set:function(v){
console.error(
'PLEASE FIX ME: You are changing the map size property which ' + 
'should not be writable and will break in production.');

throw new Error('The map size property is not writable.');},

get:function(){return map[SECRET_SIZE_PROP];}});}




return;}}





map.size = 0;}








function isObject(o){
return o != null && (typeof o === 'object' || typeof o === 'function');}









function createIterResultObject(value,done){
return {value:value,done:done};}



var isES5=(function(){
try{
Object.defineProperty({},'x',{});
return true;}
catch(e) {
return false;}})();









function isExtensible(o){
if(!isES5){
return true;}else 
{
return Object.isExtensible(o);}}











function getIENodeHash(node){
var uniqueID;
switch(node.nodeType){
case 1:
uniqueID = node.uniqueID;
break;
case 9:
uniqueID = node.documentElement.uniqueID;
break;
default:
return null;}


if(uniqueID){
return OLD_IE_HASH_PREFIX + uniqueID;}else 
{
return null;}}



var getHash=(function(){
var propIsEnumerable=Object.prototype.propertyIsEnumerable;
var hashProperty=guid();
var hashCounter=0;







return function getHash(o){
if(o[hashProperty]){
return o[hashProperty];}else 
if(!isES5 && 
o.propertyIsEnumerable && 
o.propertyIsEnumerable[hashProperty]){
return o.propertyIsEnumerable[hashProperty];}else 
if(!isES5 && 
isNode(o) && 
getIENodeHash(o)){
return getIENodeHash(o);}else 
if(!isES5 && o[hashProperty]){
return o[hashProperty];}


if(isExtensible(o)){
hashCounter += 1;
if(isES5){
Object.defineProperty(o,hashProperty,{
enumerable:false,
writable:false,
configurable:false,
value:hashCounter});}else 

if(o.propertyIsEnumerable){




o.propertyIsEnumerable = function(){
return propIsEnumerable.apply(this,arguments);};

o.propertyIsEnumerable[hashProperty] = hashCounter;}else 
if(isNode(o)){




o[hashProperty] = hashCounter;}else 
{
throw new Error('Unable to set a non-enumerable property on object.');}

return hashCounter;}else 
{
throw new Error('Non-extensible objects are not allowed as keys.');}};})();




return Map;})(
Function('return this')());
});
__d('guid',function(global, require, module, exports) {  function 

























guid(){
return 'f' + (Math.random() * (1 << 30)).toString(16).replace('.','');}


module.exports = guid;
});
__d('isNode',function(global, require, module, exports) {  function 















isNode(object){
return !!(object && (
typeof Node === 'function'?object instanceof Node:
typeof object === 'object' && 
typeof object.nodeType === 'number' && 
typeof object.nodeName === 'string'));}



module.exports = isNode;
});
__d('toIterator',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}






























var KIND_KEY='key';
var KIND_VALUE='value';
var KIND_KEY_VAL='key+value';

var ITERATOR_SYMBOL=typeof Symbol === 'function'?
Symbol.iterator:
'@@iterator';

var toIterator=(function(){
if(!(Array.prototype[ITERATOR_SYMBOL] && 
String.prototype[ITERATOR_SYMBOL])){

return (function(){var 
ArrayIterator=(function(){

function ArrayIterator(array,kind){_classCallCheck(this,ArrayIterator);
if(!Array.isArray(array)){
throw new TypeError('Object is not an Array');}

this._iteratedObject = array;
this._kind = kind;
this._nextIndex = 0;}_createClass(ArrayIterator,[{key:'next',value:



function next(){
if(!this instanceof ArrayIterator){
throw new TypeError('Object is not an ArrayIterator');}


if(this._iteratedObject == null){
return createIterResultObject(undefined,true);}


var array=this._iteratedObject;
var len=this._iteratedObject.length;
var index=this._nextIndex;
var kind=this._kind;

if(index >= len){
this._iteratedObject = undefined;
return createIterResultObject(undefined,true);}


this._nextIndex = index + 1;

if(kind === KIND_KEY){
return createIterResultObject(index,false);}else 
if(kind === KIND_VALUE){
return createIterResultObject(array[index],false);}else 
if(kind === KIND_KEY_VAL){
return createIterResultObject([index,array[index]],false);}}},{key:




'@@iterator',value:function iterator(){
return this;}}]);return ArrayIterator;})();var 



StringIterator=(function(){

function StringIterator(string){_classCallCheck(this,StringIterator);
if(typeof string !== 'string'){
throw new TypeError('Object is not a string');}

this._iteratedString = string;
this._nextIndex = 0;}_createClass(StringIterator,[{key:'next',value:



function next(){
if(!this instanceof StringIterator){
throw new TypeError('Object is not a StringIterator');}


if(this._iteratedString == null){
return createIterResultObject(undefined,true);}


var index=this._nextIndex;
var s=this._iteratedString;
var len=s.length;

if(index >= len){
this._iteratedString = undefined;
return createIterResultObject(undefined,true);}


var ret;
var first=s.charCodeAt(index);

if(first < 0xD800 || first > 0xDBFF || index + 1 === len){
ret = s[index];}else 
{
var second=s.charCodeAt(index + 1);
if(second < 0xDC00 || second > 0xDFFF){
ret = s[index];}else 
{
ret = s[index] + s[index + 1];}}



this._nextIndex = index + ret.length;

return createIterResultObject(ret,false);}},{key:



'@@iterator',value:function iterator(){
return this;}}]);return StringIterator;})();




function createIterResultObject(value,done){
return {value:value,done:done};}


return function(object,kind){
if(typeof object === 'string'){
return new StringIterator(object);}else 
if(Array.isArray(object)){
return new ArrayIterator(object,kind || KIND_VALUE);}else 
{
return object[ITERATOR_SYMBOL]();}};})();}else 



{
return function(object){
return object[ITERATOR_SYMBOL]();};}})();








Object.assign(toIterator,{
KIND_KEY:KIND_KEY,
KIND_VALUE:KIND_VALUE,
KIND_KEY_VAL:KIND_KEY_VAL,
ITERATOR_SYMBOL:ITERATOR_SYMBOL});


module.exports = toIterator;
});
__d('_shouldPolyfillES6Collection',function(global, require, module, exports) {  var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

























function shouldPolyfillES6Collection(collectionName){
var Collection=global[collectionName];
if(Collection == null){
return true;}


var proto=Collection.prototype;


return Collection == null || 
typeof Collection !== 'function' || 
typeof proto.clear !== 'function' || 
new Collection().size !== 0 || 
typeof proto.keys !== 'function' || 
typeof proto.forEach !== 'function' || 
isCallableWithoutNew(Collection) || 
!supportsSubclassing(Collection);}







function supportsSubclassing(Collection){var 
SubCollection=(function(_Collection){_inherits(SubCollection,_Collection);function SubCollection(){_classCallCheck(this,SubCollection);_get(Object.getPrototypeOf(SubCollection.prototype),'constructor',this).apply(this,arguments);}return SubCollection;})(Collection);
try{
var s=new SubCollection([]);


s.size;
return s instanceof Collection;}
catch(e) {
return false;}}








function isCallableWithoutNew(Collection){
try{
Collection();}
catch(e) {
return false;}

return true;}


module.exports = shouldPolyfillES6Collection;
});
__d('ReactNativeGlobalResponderHandler',function(global, require, module, exports) {  'use strict';












var RCTUIManager=require('NativeModules').UIManager;
var ReactNativeTagHandles=require('ReactNativeTagHandles');

var ReactNativeGlobalResponderHandler={
onChange:function(from,to,blockNativeResponder){
if(to !== null){
RCTUIManager.setJSResponder(
ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(to),
blockNativeResponder);}else 

{
RCTUIManager.clearJSResponder();}}};




module.exports = ReactNativeGlobalResponderHandler;
});
__d('ReactNativeTextComponent',function(global, require, module, exports) {  'use strict';












var ReactNativeTagHandles=require('ReactNativeTagHandles');
var RCTUIManager=require('NativeModules').UIManager;

var assign=require('Object.assign');

var ReactNativeTextComponent=function(props){};



assign(ReactNativeTextComponent.prototype,{

construct:function(text){

this._currentElement = text;
this._stringText = '' + text;
this._rootNodeID = null;},


mountComponent:function(rootID,transaction,context){
this._rootNodeID = rootID;
var tag=ReactNativeTagHandles.allocateTag();
var nativeTopRootID=ReactNativeTagHandles.getNativeTopRootIDFromNodeID(rootID);
RCTUIManager.createView(
tag,
'RCTRawText',
nativeTopRootID?ReactNativeTagHandles.rootNodeIDToTag[nativeTopRootID]:null,
{text:this._stringText});

return {
rootNodeID:rootID,
tag:tag};},



receiveComponent:function(nextText,transaction,context){
if(nextText !== this._currentElement){
this._currentElement = nextText;
var nextStringText='' + nextText;
if(nextStringText !== this._stringText){
this._stringText = nextStringText;
RCTUIManager.updateView(
ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(
this._rootNodeID),

'RCTRawText',
{text:this._stringText});}}},





unmountComponent:function(){
this._currentElement = null;
this._stringText = null;
this._rootNodeID = null;}});




module.exports = ReactNativeTextComponent;
});
__d('ResponderEventPlugin',function(global, require, module, exports) {  'use strict';












var EventConstants=require('EventConstants');
var EventPluginUtils=require('EventPluginUtils');
var EventPropagators=require('EventPropagators');
var ReactInstanceHandles=require('ReactInstanceHandles');
var ResponderSyntheticEvent=require('ResponderSyntheticEvent');
var ResponderTouchHistoryStore=require('ResponderTouchHistoryStore');

var accumulate=require('accumulate');
var invariant=require('invariant');
var keyOf=require('keyOf');

var isStartish=EventPluginUtils.isStartish;
var isMoveish=EventPluginUtils.isMoveish;
var isEndish=EventPluginUtils.isEndish;
var executeDirectDispatch=EventPluginUtils.executeDirectDispatch;
var hasDispatches=EventPluginUtils.hasDispatches;
var executeDispatchesInOrderStopAtTrue=
EventPluginUtils.executeDispatchesInOrderStopAtTrue;





var responderID=null;





var trackedTouchCount=0;




var previousActiveTouches=0;

var changeResponder=function(nextResponderID,blockNativeResponder){
var oldResponderID=responderID;
responderID = nextResponderID;
if(ResponderEventPlugin.GlobalResponderHandler !== null){
ResponderEventPlugin.GlobalResponderHandler.onChange(
oldResponderID,
nextResponderID,
blockNativeResponder);}};




var eventTypes={




startShouldSetResponder:{
phasedRegistrationNames:{
bubbled:keyOf({onStartShouldSetResponder:null}),
captured:keyOf({onStartShouldSetResponderCapture:null})}},












scrollShouldSetResponder:{
phasedRegistrationNames:{
bubbled:keyOf({onScrollShouldSetResponder:null}),
captured:keyOf({onScrollShouldSetResponderCapture:null})}},










selectionChangeShouldSetResponder:{
phasedRegistrationNames:{
bubbled:keyOf({onSelectionChangeShouldSetResponder:null}),
captured:keyOf({onSelectionChangeShouldSetResponderCapture:null})}},







moveShouldSetResponder:{
phasedRegistrationNames:{
bubbled:keyOf({onMoveShouldSetResponder:null}),
captured:keyOf({onMoveShouldSetResponderCapture:null})}},






responderStart:{registrationName:keyOf({onResponderStart:null})},
responderMove:{registrationName:keyOf({onResponderMove:null})},
responderEnd:{registrationName:keyOf({onResponderEnd:null})},
responderRelease:{registrationName:keyOf({onResponderRelease:null})},
responderTerminationRequest:{
registrationName:keyOf({onResponderTerminationRequest:null})},

responderGrant:{registrationName:keyOf({onResponderGrant:null})},
responderReject:{registrationName:keyOf({onResponderReject:null})},
responderTerminate:{registrationName:keyOf({onResponderTerminate:null})}};






































































































































































































function setResponderAndExtractTransfer(
topLevelType,
topLevelTargetID,
nativeEvent,
nativeEventTarget){
var shouldSetEventType=
isStartish(topLevelType)?eventTypes.startShouldSetResponder:
isMoveish(topLevelType)?eventTypes.moveShouldSetResponder:
topLevelType === EventConstants.topLevelTypes.topSelectionChange?
eventTypes.selectionChangeShouldSetResponder:
eventTypes.scrollShouldSetResponder;


var bubbleShouldSetFrom=!responderID?
topLevelTargetID:
ReactInstanceHandles.getFirstCommonAncestorID(responderID,topLevelTargetID);





var skipOverBubbleShouldSetFrom=bubbleShouldSetFrom === responderID;
var shouldSetEvent=ResponderSyntheticEvent.getPooled(
shouldSetEventType,
bubbleShouldSetFrom,
nativeEvent,
nativeEventTarget);

shouldSetEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
if(skipOverBubbleShouldSetFrom){
EventPropagators.accumulateTwoPhaseDispatchesSkipTarget(shouldSetEvent);}else 
{
EventPropagators.accumulateTwoPhaseDispatches(shouldSetEvent);}

var wantsResponderID=executeDispatchesInOrderStopAtTrue(shouldSetEvent);
if(!shouldSetEvent.isPersistent()){
shouldSetEvent.constructor.release(shouldSetEvent);}


if(!wantsResponderID || wantsResponderID === responderID){
return null;}

var extracted;
var grantEvent=ResponderSyntheticEvent.getPooled(
eventTypes.responderGrant,
wantsResponderID,
nativeEvent,
nativeEventTarget);

grantEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;

EventPropagators.accumulateDirectDispatches(grantEvent);
var blockNativeResponder=executeDirectDispatch(grantEvent) === true;
if(responderID){

var terminationRequestEvent=ResponderSyntheticEvent.getPooled(
eventTypes.responderTerminationRequest,
responderID,
nativeEvent,
nativeEventTarget);

terminationRequestEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
EventPropagators.accumulateDirectDispatches(terminationRequestEvent);
var shouldSwitch=!hasDispatches(terminationRequestEvent) || 
executeDirectDispatch(terminationRequestEvent);
if(!terminationRequestEvent.isPersistent()){
terminationRequestEvent.constructor.release(terminationRequestEvent);}


if(shouldSwitch){
var terminateType=eventTypes.responderTerminate;
var terminateEvent=ResponderSyntheticEvent.getPooled(
terminateType,
responderID,
nativeEvent,
nativeEventTarget);

terminateEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
EventPropagators.accumulateDirectDispatches(terminateEvent);
extracted = accumulate(extracted,[grantEvent,terminateEvent]);
changeResponder(wantsResponderID,blockNativeResponder);}else 
{
var rejectEvent=ResponderSyntheticEvent.getPooled(
eventTypes.responderReject,
wantsResponderID,
nativeEvent,
nativeEventTarget);

rejectEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
EventPropagators.accumulateDirectDispatches(rejectEvent);
extracted = accumulate(extracted,rejectEvent);}}else 

{
extracted = accumulate(extracted,grantEvent);
changeResponder(wantsResponderID,blockNativeResponder);}

return extracted;}










function canTriggerTransfer(topLevelType,topLevelTargetID,nativeEvent){
return topLevelTargetID && (



topLevelType === EventConstants.topLevelTypes.topScroll && 
!nativeEvent.responderIgnoreScroll || 
trackedTouchCount > 0 && 
topLevelType === EventConstants.topLevelTypes.topSelectionChange || 
isStartish(topLevelType) || 
isMoveish(topLevelType));}










function noResponderTouches(nativeEvent){
var touches=nativeEvent.touches;
if(!touches || touches.length === 0){
return true;}

for(var i=0;i < touches.length;i++) {
var activeTouch=touches[i];
var target=activeTouch.target;
if(target !== null && target !== undefined && target !== 0){

var isAncestor=
ReactInstanceHandles.isAncestorIDOf(
responderID,
EventPluginUtils.getID(target));

if(isAncestor){
return false;}}}



return true;}



var ResponderEventPlugin={

getResponderID:function(){
return responderID;},


eventTypes:eventTypes,













extractEvents:function(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent,
nativeEventTarget){
if(isStartish(topLevelType)){
trackedTouchCount += 1;}else 
if(isEndish(topLevelType)){
trackedTouchCount -= 1;
invariant(
trackedTouchCount >= 0,
'Ended a touch event which was not counted in trackedTouchCount.');}



ResponderTouchHistoryStore.recordTouchTrack(topLevelType,nativeEvent,nativeEventTarget);

var extracted=canTriggerTransfer(topLevelType,topLevelTargetID,nativeEvent)?
setResponderAndExtractTransfer(
topLevelType,
topLevelTargetID,
nativeEvent,
nativeEventTarget):
null;










var isResponderTouchStart=responderID && isStartish(topLevelType);
var isResponderTouchMove=responderID && isMoveish(topLevelType);
var isResponderTouchEnd=responderID && isEndish(topLevelType);
var incrementalTouch=
isResponderTouchStart?eventTypes.responderStart:
isResponderTouchMove?eventTypes.responderMove:
isResponderTouchEnd?eventTypes.responderEnd:
null;

if(incrementalTouch){
var gesture=
ResponderSyntheticEvent.getPooled(
incrementalTouch,
responderID,
nativeEvent,
nativeEventTarget);

gesture.touchHistory = ResponderTouchHistoryStore.touchHistory;
EventPropagators.accumulateDirectDispatches(gesture);
extracted = accumulate(extracted,gesture);}


var isResponderTerminate=
responderID && 
topLevelType === EventConstants.topLevelTypes.topTouchCancel;
var isResponderRelease=
responderID && 
!isResponderTerminate && 
isEndish(topLevelType) && 
noResponderTouches(nativeEvent);
var finalTouch=
isResponderTerminate?eventTypes.responderTerminate:
isResponderRelease?eventTypes.responderRelease:
null;
if(finalTouch){
var finalEvent=
ResponderSyntheticEvent.getPooled(finalTouch,responderID,nativeEvent,nativeEventTarget);
finalEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
EventPropagators.accumulateDirectDispatches(finalEvent);
extracted = accumulate(extracted,finalEvent);
changeResponder(null);}


var numberActiveTouches=
ResponderTouchHistoryStore.touchHistory.numberActiveTouches;
if(ResponderEventPlugin.GlobalInteractionHandler && 
numberActiveTouches !== previousActiveTouches){
ResponderEventPlugin.GlobalInteractionHandler.onChange(
numberActiveTouches);}


previousActiveTouches = numberActiveTouches;

return extracted;},


GlobalResponderHandler:null,
GlobalInteractionHandler:null,

injection:{





injectGlobalResponderHandler:function(GlobalResponderHandler){
ResponderEventPlugin.GlobalResponderHandler = GlobalResponderHandler;},






injectGlobalInteractionHandler:function(GlobalInteractionHandler){
ResponderEventPlugin.GlobalInteractionHandler = GlobalInteractionHandler;}}};




module.exports = ResponderEventPlugin;
});
__d('ResponderSyntheticEvent',function(global, require, module, exports) {  'use strict';













var SyntheticEvent=require('SyntheticEvent');






var ResponderEventInterface={
touchHistory:function(nativeEvent){
return null;}};









function ResponderSyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){
SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget);}


SyntheticEvent.augmentClass(ResponderSyntheticEvent,ResponderEventInterface);

module.exports = ResponderSyntheticEvent;
});
__d('ResponderTouchHistoryStore',function(global, require, module, exports) {  'use strict';












var EventPluginUtils=require('EventPluginUtils');

var invariant=require('invariant');

var isMoveish=EventPluginUtils.isMoveish;
var isStartish=EventPluginUtils.isStartish;
var isEndish=EventPluginUtils.isEndish;

var MAX_TOUCH_BANK=20;
















var touchHistory={
touchBank:[],
numberActiveTouches:0,



indexOfSingleActiveTouch:-1,
mostRecentTimeStamp:0};


var timestampForTouch=function(touch){



return touch.timeStamp || touch.timestamp;};







var initializeTouchData=function(touch){
return {
touchActive:true,
startTimeStamp:timestampForTouch(touch),
startPageX:touch.pageX,
startPageY:touch.pageY,
currentPageX:touch.pageX,
currentPageY:touch.pageY,
currentTimeStamp:timestampForTouch(touch),
previousPageX:touch.pageX,
previousPageY:touch.pageY,
previousTimeStamp:timestampForTouch(touch)};};



var reinitializeTouchTrack=function(touchTrack,touch){
touchTrack.touchActive = true;
touchTrack.startTimeStamp = timestampForTouch(touch);
touchTrack.startPageX = touch.pageX;
touchTrack.startPageY = touch.pageY;
touchTrack.currentPageX = touch.pageX;
touchTrack.currentPageY = touch.pageY;
touchTrack.currentTimeStamp = timestampForTouch(touch);
touchTrack.previousPageX = touch.pageX;
touchTrack.previousPageY = touch.pageY;
touchTrack.previousTimeStamp = timestampForTouch(touch);};


var validateTouch=function(touch){
var identifier=touch.identifier;
invariant(identifier != null,'Touch object is missing identifier');
if(identifier > MAX_TOUCH_BANK){
console.warn(
'Touch identifier ' + identifier + ' is greater than maximum ' + 
'supported ' + MAX_TOUCH_BANK + ' which causes performance issues ' + 
'backfilling array locations for all of the indices.');}};




var recordStartTouchData=function(touch){
var touchBank=touchHistory.touchBank;
var identifier=touch.identifier;
var touchTrack=touchBank[identifier];
if(__DEV__){
validateTouch(touch);}

if(!touchTrack){
touchBank[touch.identifier] = initializeTouchData(touch);}else 
{
reinitializeTouchTrack(touchTrack,touch);}

touchHistory.mostRecentTimeStamp = timestampForTouch(touch);};


var recordMoveTouchData=function(touch){
var touchBank=touchHistory.touchBank;
var touchTrack=touchBank[touch.identifier];
if(__DEV__){
validateTouch(touch);
invariant(touchTrack,'Touch data should have been recorded on start');}

touchTrack.touchActive = true;
touchTrack.previousPageX = touchTrack.currentPageX;
touchTrack.previousPageY = touchTrack.currentPageY;
touchTrack.previousTimeStamp = touchTrack.currentTimeStamp;
touchTrack.currentPageX = touch.pageX;
touchTrack.currentPageY = touch.pageY;
touchTrack.currentTimeStamp = timestampForTouch(touch);
touchHistory.mostRecentTimeStamp = timestampForTouch(touch);};


var recordEndTouchData=function(touch){
var touchBank=touchHistory.touchBank;
var touchTrack=touchBank[touch.identifier];
if(__DEV__){
validateTouch(touch);
invariant(touchTrack,'Touch data should have been recorded on start');}

touchTrack.previousPageX = touchTrack.currentPageX;
touchTrack.previousPageY = touchTrack.currentPageY;
touchTrack.previousTimeStamp = touchTrack.currentTimeStamp;
touchTrack.currentPageX = touch.pageX;
touchTrack.currentPageY = touch.pageY;
touchTrack.currentTimeStamp = timestampForTouch(touch);
touchTrack.touchActive = false;
touchHistory.mostRecentTimeStamp = timestampForTouch(touch);};


var ResponderTouchHistoryStore={
recordTouchTrack:function(topLevelType,nativeEvent){
var touchBank=touchHistory.touchBank;
if(isMoveish(topLevelType)){
nativeEvent.changedTouches.forEach(recordMoveTouchData);}else 
if(isStartish(topLevelType)){
nativeEvent.changedTouches.forEach(recordStartTouchData);
touchHistory.numberActiveTouches = nativeEvent.touches.length;
if(touchHistory.numberActiveTouches === 1){
touchHistory.indexOfSingleActiveTouch = nativeEvent.touches[0].identifier;}}else 

if(isEndish(topLevelType)){
nativeEvent.changedTouches.forEach(recordEndTouchData);
touchHistory.numberActiveTouches = nativeEvent.touches.length;
if(touchHistory.numberActiveTouches === 1){
for(var i=0;i < touchBank.length;i++) {
var touchTrackToCheck=touchBank[i];
if(touchTrackToCheck != null && touchTrackToCheck.touchActive){
touchHistory.indexOfSingleActiveTouch = i;
break;}}


if(__DEV__){
var activeTouchData=touchBank[touchHistory.indexOfSingleActiveTouch];
var foundActive=activeTouchData != null && !!activeTouchData.touchActive;
invariant(foundActive,'Cannot find single active touch');}}}},





touchHistory:touchHistory};



module.exports = ResponderTouchHistoryStore;
});
__d('accumulate',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');








function accumulate(current,next){
invariant(
next != null,
'accumulate(...): Accumulated items must be not be null or undefined.');

if(current == null){
return next;}else 
{


var currentIsArray=Array.isArray(current);
var nextIsArray=Array.isArray(next);
if(currentIsArray){
return current.concat(next);}else 
{
if(nextIsArray){
return [current].concat(next);}else 
{
return [current,next];}}}}





module.exports = accumulate;
});
__d('keyOf',function(global, require, module, exports) {  var 




















keyOf=function(oneKeyObj){
var key;
for(key in oneKeyObj) {
if(!oneKeyObj.hasOwnProperty(key)){
continue;}

return key;}

return null;};



module.exports = keyOf;
});
__d('UniversalWorkerNodeHandle',function(global, require, module, exports) {  var 



ReactNativeTagHandles=require('ReactNativeTagHandles');

var invariant=require('invariant');

var UniversalWorkerNodeHandle={
getRootNodeID:function(nodeHandle){
invariant(
nodeHandle !== undefined && nodeHandle !== null && nodeHandle !== 0,
'No node handle defined');

return ReactNativeTagHandles.tagToRootNodeID[nodeHandle];}};



module.exports = UniversalWorkerNodeHandle;
});
__d('createReactNativeComponentClass',function(global, require, module, exports) {  'use strict';













var ReactNativeBaseComponent=require('ReactNativeBaseComponent');












var createReactNativeComponentClass=function(
viewConfig)
{
var Constructor=function(element){
this._currentElement = element;

this._rootNodeID = null;
this._renderedChildren = null;};

Constructor.displayName = viewConfig.uiViewClassName;
Constructor.viewConfig = viewConfig;
Constructor.propTypes = viewConfig.propTypes;
Constructor.prototype = new ReactNativeBaseComponent(viewConfig);
Constructor.prototype.constructor = Constructor;

return Constructor;};


module.exports = createReactNativeComponentClass;
});
__d('ReactNativeBaseComponent',function(global, require, module, exports) {  'use strict';












var NativeMethodsMixin=require('NativeMethodsMixin');
var ReactNativeAttributePayload=require('ReactNativeAttributePayload');
var ReactNativeEventEmitter=require('ReactNativeEventEmitter');
var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');
var ReactNativeTagHandles=require('ReactNativeTagHandles');
var ReactMultiChild=require('ReactMultiChild');
var RCTUIManager=require('NativeModules').UIManager;

var deepFreezeAndThrowOnMutationInDev=require('deepFreezeAndThrowOnMutationInDev');
var warning=require('warning');

var registrationNames=ReactNativeEventEmitter.registrationNames;
var putListener=ReactNativeEventEmitter.putListener;
var deleteListener=ReactNativeEventEmitter.deleteListener;
var deleteAllListeners=ReactNativeEventEmitter.deleteAllListeners;














var ReactNativeBaseComponent=function(
viewConfig)
{
this.viewConfig = viewConfig;};












var cachedIndexArray=function(size){
var cachedResult=cachedIndexArray._cache[size];
if(!cachedResult){
var arr=[];
for(var i=0;i < size;i++) {
arr[i] = i;}

cachedIndexArray._cache[size] = arr;
return arr;}else 
{
return cachedResult;}};


cachedIndexArray._cache = {};





ReactNativeBaseComponent.Mixin = {
getPublicInstance:function(){

return this;},


construct:function(element){
this._currentElement = element;},


unmountComponent:function(){
deleteAllListeners(this._rootNodeID);
this.unmountChildren();
this._rootNodeID = null;},










initializeChildren:function(children,containerTag,transaction,context){
var mountImages=this.mountChildren(children,transaction,context);



if(mountImages.length){
var indexes=cachedIndexArray(mountImages.length);


var createdTags=[];
for(var i=0;i < mountImages.length;i++) {
var mountImage=mountImages[i];
var childTag=mountImage.tag;
var childID=mountImage.rootNodeID;
warning(
mountImage && mountImage.rootNodeID && mountImage.tag,
'Mount image returned does not have required data');

ReactNativeTagHandles.associateRootNodeIDWithMountedNodeHandle(
childID,
childTag);

createdTags[i] = mountImage.tag;}

RCTUIManager.
manageChildren(containerTag,null,null,createdTags,indexes,null);}},











receiveComponent:function(nextElement,transaction,context){
var prevElement=this._currentElement;
this._currentElement = nextElement;

if(__DEV__){
deepFreezeAndThrowOnMutationInDev(this._currentElement.props);}


var updatePayload=ReactNativeAttributePayload.diff(
prevElement.props,
nextElement.props,
this.viewConfig.validAttributes);


if(updatePayload){
RCTUIManager.updateView(
ReactNativeTagHandles.mostRecentMountedNodeHandleForRootNodeID(this._rootNodeID),
this.viewConfig.uiViewClassName,
updatePayload);}



this._reconcileListenersUponUpdate(
prevElement.props,
nextElement.props);

this.updateChildren(nextElement.props.children,transaction,context);},





_registerListenersUponCreation:function(initialProps){
for(var key in initialProps) {


if(registrationNames[key] && initialProps[key]){
var listener=initialProps[key];
putListener(this._rootNodeID,key,listener);}}},









_reconcileListenersUponUpdate:function(prevProps,nextProps){
for(var key in nextProps) {
if(registrationNames[key] && nextProps[key] !== prevProps[key]){
if(nextProps[key]){
putListener(this._rootNodeID,key,nextProps[key]);}else 
{
deleteListener(this._rootNodeID,key);}}}},










mountComponent:function(rootID,transaction,context){
this._rootNodeID = rootID;

var tag=ReactNativeTagHandles.allocateTag();

if(__DEV__){
deepFreezeAndThrowOnMutationInDev(this._currentElement.props);}


var updatePayload=ReactNativeAttributePayload.create(
this._currentElement.props,
this.viewConfig.validAttributes);


var nativeTopRootID=ReactNativeTagHandles.getNativeTopRootIDFromNodeID(rootID);
RCTUIManager.createView(
tag,
this.viewConfig.uiViewClassName,
nativeTopRootID?ReactNativeTagHandles.rootNodeIDToTag[nativeTopRootID]:null,
updatePayload);


this._registerListenersUponCreation(this._currentElement.props);
this.initializeChildren(
this._currentElement.props.children,
tag,
transaction,
context);

return {
rootNodeID:rootID,
tag:tag};}};








Object.assign(
ReactNativeBaseComponent.prototype,
ReactMultiChild.Mixin,
ReactNativeBaseComponent.Mixin,
NativeMethodsMixin);


module.exports = ReactNativeBaseComponent;
});
__d('NativeMethodsMixin',function(global, require, module, exports) {  'use strict';












var NativeModules=require('NativeModules');
var RCTUIManager=NativeModules.UIManager;
var ReactNativeAttributePayload=require('ReactNativeAttributePayload');
var TextInputState=require('TextInputState');

var findNodeHandle=require('findNodeHandle');
var invariant=require('invariant');

















function warnForStyleProps(props,validAttributes){
for(var key in validAttributes.style) {
if(!(validAttributes[key] || props[key] === undefined)){
console.error(
'You are setting the style `{ ' + key + ': ... }` as a prop. You ' + 
'should nest it in a style object. ' + 
'E.g. `{ style: { ' + key + ': ... } }`');}}}

















var NativeMethodsMixin={

















measure:function(callback){
RCTUIManager.measure(
findNodeHandle(this),
mountSafeCallback(this,callback));},











measureLayout:function(
relativeToNativeNode,
onSuccess,
onFail)
{
RCTUIManager.measureLayout(
findNodeHandle(this),
relativeToNativeNode,
mountSafeCallback(this,onFail),
mountSafeCallback(this,onSuccess));},









setNativeProps:function(nativeProps){
if(__DEV__){
warnForStyleProps(nativeProps,this.viewConfig.validAttributes);}


var updatePayload=ReactNativeAttributePayload.create(
nativeProps,
this.viewConfig.validAttributes);


RCTUIManager.updateView(
findNodeHandle(this),
this.viewConfig.uiViewClassName,
updatePayload);},







focus:function(){
TextInputState.focusTextInput(findNodeHandle(this));},





blur:function(){
TextInputState.blurTextInput(findNodeHandle(this));}};



function throwOnStylesProp(component,props){
if(props.styles !== undefined){
var owner=component._owner || null;
var name=component.constructor.displayName;
var msg='`styles` is not a supported property of `' + name + '`, did ' + 
'you mean `style` (singular)?';
if(owner && owner.constructor && owner.constructor.displayName){
msg += '\n\nCheck the `' + owner.constructor.displayName + '` parent ' + 
' component.';}

throw new Error(msg);}}


if(__DEV__){



var NativeMethodsMixin_DEV=NativeMethodsMixin;
invariant(
!NativeMethodsMixin_DEV.componentWillMount && 
!NativeMethodsMixin_DEV.componentWillReceiveProps,
'Do not override existing functions.');

NativeMethodsMixin_DEV.componentWillMount = function(){
throwOnStylesProp(this,this.props);};

NativeMethodsMixin_DEV.componentWillReceiveProps = function(newProps){
throwOnStylesProp(this,newProps);};}







var mountSafeCallback=function(context,callback){
return function(){
if(!callback || context.isMounted && !context.isMounted()){
return;}

return callback.apply(context,arguments);};};



module.exports = NativeMethodsMixin;
});
__d('ReactNativeAttributePayload',function(global, require, module, exports) {  'use strict';












var Platform=require('Platform');

var deepDiffer=require('deepDiffer');
var styleDiffer=require('styleDiffer');
var flattenStyle=require('flattenStyle');














function translateKey(propKey){
if(propKey === 'transform'){




if(Platform.OS === 'android'){
return 'decomposedMatrix';}else 
{
return 'transformMatrix';}}


return propKey;}


function defaultDiffer(prevProp,nextProp){
if(typeof nextProp !== 'object' || nextProp === null){

return true;}else 
{

return deepDiffer(prevProp,nextProp);}}



function diffNestedProperty(
updatePayload,
prevProp,
nextProp,
validAttributes)
{





if(!styleDiffer(prevProp,nextProp)){
return updatePayload;}




var previousFlattenedStyle=flattenStyle(prevProp);
var nextFlattenedStyle=flattenStyle(nextProp);

if(!previousFlattenedStyle || !nextFlattenedStyle){
if(nextFlattenedStyle){
return addProperties(
updatePayload,
nextFlattenedStyle,
validAttributes);}


if(previousFlattenedStyle){
return clearProperties(
updatePayload,
previousFlattenedStyle,
validAttributes);}


return updatePayload;}



return diffProperties(
updatePayload,
previousFlattenedStyle,
nextFlattenedStyle,
validAttributes);}























function clearNestedProperty(
updatePayload,
prevProp,
validAttributes)
{

return diffNestedProperty(updatePayload,prevProp,{},validAttributes);}








function diffProperties(
updatePayload,
prevProps,
nextProps,
validAttributes)
{
var attributeConfig;
var nextProp;
var prevProp;

for(var propKey in nextProps) {
attributeConfig = validAttributes[propKey];
if(!attributeConfig){
continue;}


var altKey=translateKey(propKey);
if(!validAttributes[altKey]){

altKey = propKey;}


if(updatePayload && updatePayload[altKey] !== undefined){


continue;}

prevProp = prevProps[propKey];
nextProp = nextProps[propKey];



if(typeof nextProp === 'function'){
nextProp = true;


if(typeof prevProp === 'function'){
prevProp = true;}}



if(prevProp === nextProp){
continue;}



if(typeof attributeConfig !== 'object'){

if(defaultDiffer(prevProp,nextProp)){

(updatePayload || (updatePayload = {}))[altKey] = nextProp;}}else 

if(typeof attributeConfig.diff === 'function' || 
typeof attributeConfig.process === 'function'){

var shouldUpdate=prevProp === undefined || (
typeof attributeConfig.diff === 'function'?
attributeConfig.diff(prevProp,nextProp):
defaultDiffer(prevProp,nextProp));

if(shouldUpdate){
var nextValue=typeof attributeConfig.process === 'function'?
attributeConfig.process(nextProp):
nextProp;
(updatePayload || (updatePayload = {}))[altKey] = nextValue;}}else 

{

updatePayload = diffNestedProperty(
updatePayload,
prevProp,
nextProp,
attributeConfig);}}







for(var propKey in prevProps) {
if(nextProps[propKey] !== undefined){
continue;}

attributeConfig = validAttributes[propKey];
if(!attributeConfig){
continue;}


prevProp = prevProps[propKey];
if(prevProp === undefined){
continue;}


if(typeof attributeConfig !== 'object' || 
typeof attributeConfig.diff === 'function' || 
typeof attributeConfig.process === 'function'){



(updatePayload || (updatePayload = {}))[translateKey(propKey)] = null;}else 
{



updatePayload = clearNestedProperty(
updatePayload,
prevProp,
attributeConfig);}}



return updatePayload;}





function addProperties(
updatePayload,
props,
validAttributes)
{
return diffProperties(updatePayload,{},props,validAttributes);}






function clearProperties(
updatePayload,
prevProps,
validAttributes)
{
return diffProperties(updatePayload,prevProps,{},validAttributes);}


var ReactNativeAttributePayload={

create:function(
props,
validAttributes)
{
return addProperties(
null,
props,
validAttributes);},



diff:function(
prevProps,
nextProps,
validAttributes)
{
return diffProperties(
null,
prevProps,
nextProps,
validAttributes);}};





module.exports = ReactNativeAttributePayload;
});
__d('deepDiffer',function(global, require, module, exports) {  'use strict';















var deepDiffer=function(one,two){
if(one === two){

return false;}

if(typeof one === 'function' && typeof two === 'function'){

return false;}

if(typeof one !== 'object' || one === null){

return one !== two;}

if(typeof two !== 'object' || two === null){


return true;}

if(one.constructor !== two.constructor){
return true;}

if(Array.isArray(one)){

var len=one.length;
if(two.length !== len){
return true;}

for(var ii=0;ii < len;ii++) {
if(deepDiffer(one[ii],two[ii])){
return true;}}}else 


{
for(var key in one) {
if(deepDiffer(one[key],two[key])){
return true;}}


for(var twoKey in two) {


if(one[twoKey] === undefined && two[twoKey] !== undefined){
return true;}}}



return false;};


module.exports = deepDiffer;
});
__d('styleDiffer',function(global, require, module, exports) {  'use strict';












var deepDiffer=require('deepDiffer');

function styleDiffer(a,b){
return !styleEqual(a,b);}


function styleEqual(a,b){
if(!a){
return !b;}

if(!b){
return !a;}

if(typeof a !== typeof b){
return false;}

if(typeof a === 'number'){
return a === b;}


if(Array.isArray(a)){
if(!Array.isArray(b) || a.length !== b.length){
return false;}

for(var i=0;i < a.length;++i) {
if(!styleEqual(a[i],b[i])){
return false;}}


return true;}


for(var key in a) {
if(deepDiffer(a[key],b[key])){
return false;}}



for(var key in b) {
if(!a.hasOwnProperty(key)){
return false;}}



return true;}


module.exports = styleDiffer;
});
__d('flattenStyle',function(global, require, module, exports) {  'use strict';












var StyleSheetRegistry=require('StyleSheetRegistry');
var invariant=require('invariant');



function getStyle(style){
if(typeof style === 'number'){
return StyleSheetRegistry.getStyleByID(style);}

return style;}


function flattenStyle(style){
if(!style){
return undefined;}

invariant(style !== true,'style may be false but not true');

if(!Array.isArray(style)){
return getStyle(style);}


var result={};
for(var i=0;i < style.length;++i) {
var computedStyle=flattenStyle(style[i]);
if(computedStyle){
for(var key in computedStyle) {
result[key] = computedStyle[key];

if(__DEV__){
var value=computedStyle[key];}}}}




return result;}


module.exports = flattenStyle;
});
__d('StyleSheetTypes',function(global, require, module, exports) {  'use strict';Object.defineProperty(exports,'__esModule',{value:true});
});
__d('StyleSheetRegistry',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var styles={};
var uniqueID=1;
var emptyStyle={};var 

StyleSheetRegistry=(function(){function StyleSheetRegistry(){_classCallCheck(this,StyleSheetRegistry);}_createClass(StyleSheetRegistry,null,[{key:'registerStyle',value:
function registerStyle(style){
var id=++uniqueID;
if(__DEV__){
Object.freeze(style);}

styles[id] = style;
return id;}},{key:'getStyleByID',value:


function getStyleByID(id){
if(!id){


return emptyStyle;}


var style=styles[id];
if(!style){
console.warn('Invalid style with id `' + id + '`. Skipping ...');
return emptyStyle;}

return style;}}]);return StyleSheetRegistry;})();



module.exports = StyleSheetRegistry;
});
__d('TextInputState',function(global, require, module, exports) {  'use strict';
















var Platform=require('Platform');
var RCTUIManager=require('NativeModules').UIManager;

var TextInputState={



_currentlyFocusedID:null,





currentlyFocusedField:function(){
return this._currentlyFocusedID;},







focusTextInput:function(textFieldID){
if(this._currentlyFocusedID !== textFieldID && textFieldID !== null){
this._currentlyFocusedID = textFieldID;
if(Platform.OS === 'ios'){
RCTUIManager.focus(textFieldID);}else 
if(Platform.OS === 'android'){
RCTUIManager.dispatchViewManagerCommand(
textFieldID,
RCTUIManager.AndroidTextInput.Commands.focusTextInput,
null);}}},










blurTextInput:function(textFieldID){
if(this._currentlyFocusedID === textFieldID && textFieldID !== null){
this._currentlyFocusedID = null;
if(Platform.OS === 'ios'){
RCTUIManager.blur(textFieldID);}else 
if(Platform.OS === 'android'){
RCTUIManager.dispatchViewManagerCommand(
textFieldID,
RCTUIManager.AndroidTextInput.Commands.blurTextInput,
null);}}}};






module.exports = TextInputState;
});
__d('ReactNativeEventEmitter',function(global, require, module, exports) {  'use strict';












var EventPluginHub=require('EventPluginHub');
var ReactEventEmitterMixin=require('ReactEventEmitterMixin');
var ReactNativeTagHandles=require('ReactNativeTagHandles');
var NodeHandle=require('NodeHandle');
var EventConstants=require('EventConstants');

var merge=require('merge');
var warning=require('warning');

var topLevelTypes=EventConstants.topLevelTypes;







var EMPTY_NATIVE_EVENT={};








var touchSubsequence=function(touches,indices){
var ret=[];
for(var i=0;i < indices.length;i++) {
ret.push(touches[indices[i]]);}

return ret;};













var removeTouchesAtIndices=function(
touches,
indices)
{
var rippedOut=[];


var temp=touches;
for(var i=0;i < indices.length;i++) {
var index=indices[i];
rippedOut.push(touches[index]);
temp[index] = null;}

var fillAt=0;
for(var j=0;j < temp.length;j++) {
var cur=temp[j];
if(cur !== null){
temp[fillAt++] = cur;}}


temp.length = fillAt;
return rippedOut;};











var ReactNativeEventEmitter=merge(ReactEventEmitterMixin,{

registrationNames:EventPluginHub.registrationNameModules,

putListener:EventPluginHub.putListener,

getListener:EventPluginHub.getListener,

deleteListener:EventPluginHub.deleteListener,

deleteAllListeners:EventPluginHub.deleteAllListeners,











_receiveRootNodeIDEvent:function(
rootNodeID,
topLevelType,
nativeEventParam)
{
var nativeEvent=nativeEventParam || EMPTY_NATIVE_EVENT;
ReactNativeEventEmitter.handleTopLevel(
topLevelType,
rootNodeID,
rootNodeID,
nativeEvent,
nativeEvent.target);},










receiveEvent:function(
tag,
topLevelType,
nativeEventParam)
{
var rootNodeID=ReactNativeTagHandles.tagToRootNodeID[tag];
ReactNativeEventEmitter._receiveRootNodeIDEvent(
rootNodeID,
topLevelType,
nativeEventParam);},



























receiveTouches:function(
eventTopLevelType,
touches,
changedIndices)
{
var changedTouches=
eventTopLevelType === topLevelTypes.topTouchEnd || 
eventTopLevelType === topLevelTypes.topTouchCancel?
removeTouchesAtIndices(touches,changedIndices):
touchSubsequence(touches,changedIndices);

for(var jj=0;jj < changedTouches.length;jj++) {
var touch=changedTouches[jj];


touch.changedTouches = changedTouches;
touch.touches = touches;
var nativeEvent=touch;
var rootNodeID=null;
var target=nativeEvent.target;
if(target !== null && target !== undefined){
if(target < ReactNativeTagHandles.tagsStartAt){
if(__DEV__){
warning(
false,
'A view is reporting that a touch occured on tag zero.');}}else 


{
rootNodeID = NodeHandle.getRootNodeID(target);}}


ReactNativeEventEmitter._receiveRootNodeIDEvent(
rootNodeID,
eventTopLevelType,
nativeEvent);}}});





module.exports = ReactNativeEventEmitter;
});
__d('ReactEventEmitterMixin',function(global, require, module, exports) {  'use strict';












var EventPluginHub=require('EventPluginHub');

function runEventQueueInBatch(events){
EventPluginHub.enqueueEvents(events);
EventPluginHub.processEventQueue();}


var ReactEventEmitterMixin={










handleTopLevel:function(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent,
nativeEventTarget){
var events=EventPluginHub.extractEvents(
topLevelType,
topLevelTarget,
topLevelTargetID,
nativeEvent,
nativeEventTarget);

runEventQueueInBatch(events);}};



module.exports = ReactEventEmitterMixin;
});
__d('ReactNativeStyleAttributes',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};













var ImageStylePropTypes=require('ImageStylePropTypes');
var TextStylePropTypes=require('TextStylePropTypes');
var ViewStylePropTypes=require('ViewStylePropTypes');

var keyMirror=require('keyMirror');
var matricesDiffer=require('matricesDiffer');
var processColor=require('processColor');
var processTransform=require('processTransform');
var sizesDiffer=require('sizesDiffer');

var ReactNativeStyleAttributes=_extends({},
keyMirror(ViewStylePropTypes),
keyMirror(TextStylePropTypes),
keyMirror(ImageStylePropTypes));


ReactNativeStyleAttributes.transform = {process:processTransform};
ReactNativeStyleAttributes.transformMatrix = {diff:matricesDiffer};
ReactNativeStyleAttributes.shadowOffset = {diff:sizesDiffer};


ReactNativeStyleAttributes.decomposedMatrix = 'decomposedMatrix';

var colorAttributes={process:processColor};
ReactNativeStyleAttributes.backgroundColor = colorAttributes;
ReactNativeStyleAttributes.borderBottomColor = colorAttributes;
ReactNativeStyleAttributes.borderColor = colorAttributes;
ReactNativeStyleAttributes.borderLeftColor = colorAttributes;
ReactNativeStyleAttributes.borderRightColor = colorAttributes;
ReactNativeStyleAttributes.borderTopColor = colorAttributes;
ReactNativeStyleAttributes.color = colorAttributes;
ReactNativeStyleAttributes.shadowColor = colorAttributes;
ReactNativeStyleAttributes.textDecorationColor = colorAttributes;
ReactNativeStyleAttributes.tintColor = colorAttributes;

module.exports = ReactNativeStyleAttributes;
});
__d('ImageStylePropTypes',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var ImageResizeMode=require('ImageResizeMode');
var LayoutPropTypes=require('LayoutPropTypes');
var ReactPropTypes=require('ReactPropTypes');
var TransformPropTypes=require('TransformPropTypes');

var ImageStylePropTypes=_extends({},
LayoutPropTypes,
TransformPropTypes,{
resizeMode:ReactPropTypes.oneOf(Object.keys(ImageResizeMode)),
backgroundColor:ReactPropTypes.string,
borderColor:ReactPropTypes.string,
borderWidth:ReactPropTypes.number,
borderRadius:ReactPropTypes.number,
overflow:ReactPropTypes.oneOf(['visible','hidden']),



tintColor:ReactPropTypes.string,
opacity:ReactPropTypes.number});


module.exports = ImageStylePropTypes;
});
__d('ImageResizeMode',function(global, require, module, exports) {  'use strict';












var keyMirror=require('keyMirror');





var ImageResizeMode=keyMirror({




contain:null,




cover:null,





stretch:null});


module.exports = ImageResizeMode;
});
__d('LayoutPropTypes',function(global, require, module, exports) {  'use strict';












var ReactPropTypes=require('ReactPropTypes');













var LayoutPropTypes={
width:ReactPropTypes.number,
height:ReactPropTypes.number,
top:ReactPropTypes.number,
left:ReactPropTypes.number,
right:ReactPropTypes.number,
bottom:ReactPropTypes.number,
margin:ReactPropTypes.number,
marginVertical:ReactPropTypes.number,
marginHorizontal:ReactPropTypes.number,
marginTop:ReactPropTypes.number,
marginBottom:ReactPropTypes.number,
marginLeft:ReactPropTypes.number,
marginRight:ReactPropTypes.number,
padding:ReactPropTypes.number,
paddingVertical:ReactPropTypes.number,
paddingHorizontal:ReactPropTypes.number,
paddingTop:ReactPropTypes.number,
paddingBottom:ReactPropTypes.number,
paddingLeft:ReactPropTypes.number,
paddingRight:ReactPropTypes.number,
borderWidth:ReactPropTypes.number,
borderTopWidth:ReactPropTypes.number,
borderRightWidth:ReactPropTypes.number,
borderBottomWidth:ReactPropTypes.number,
borderLeftWidth:ReactPropTypes.number,

position:ReactPropTypes.oneOf([
'absolute',
'relative']),



flexDirection:ReactPropTypes.oneOf([
'row',
'column']),



flexWrap:ReactPropTypes.oneOf([
'wrap',
'nowrap']),




justifyContent:ReactPropTypes.oneOf([
'flex-start',
'flex-end',
'center',
'space-between',
'space-around']),




alignItems:ReactPropTypes.oneOf([
'flex-start',
'flex-end',
'center',
'stretch']),




alignSelf:ReactPropTypes.oneOf([
'auto',
'flex-start',
'flex-end',
'center',
'stretch']),



flex:ReactPropTypes.number};


module.exports = LayoutPropTypes;
});
__d('ReactPropTypes',function(global, require, module, exports) {  'use strict';












var ReactElement=require('ReactElement');
var ReactFragment=require('ReactFragment');
var ReactPropTypeLocationNames=require('ReactPropTypeLocationNames');

var emptyFunction=require('emptyFunction');
















































var ANONYMOUS='<<anonymous>>';

var ReactPropTypes={
array:createPrimitiveTypeChecker('array'),
bool:createPrimitiveTypeChecker('boolean'),
func:createPrimitiveTypeChecker('function'),
number:createPrimitiveTypeChecker('number'),
object:createPrimitiveTypeChecker('object'),
string:createPrimitiveTypeChecker('string'),

any:createAnyTypeChecker(),
arrayOf:createArrayOfTypeChecker,
element:createElementTypeChecker(),
instanceOf:createInstanceTypeChecker,
node:createNodeChecker(),
objectOf:createObjectOfTypeChecker,
oneOf:createEnumTypeChecker,
oneOfType:createUnionTypeChecker,
shape:createShapeTypeChecker};


function createChainableTypeChecker(validate){
function checkType(
isRequired,
props,
propName,
componentName,
location,
propFullName)
{
componentName = componentName || ANONYMOUS;
propFullName = propFullName || propName;
if(props[propName] == null){
var locationName=ReactPropTypeLocationNames[location];
if(isRequired){
return new Error(
'Required ' + locationName + ' `' + propFullName + '` was not specified in ' + ('`' + 
componentName + '`.'));}


return null;}else 
{
return validate(props,propName,componentName,location,propFullName);}}



var chainedCheckType=checkType.bind(null,false);
chainedCheckType.isRequired = checkType.bind(null,true);

return chainedCheckType;}


function createPrimitiveTypeChecker(expectedType){
function validate(props,propName,componentName,location,propFullName){
var propValue=props[propName];
var propType=getPropType(propValue);
if(propType !== expectedType){
var locationName=ReactPropTypeLocationNames[location];



var preciseType=getPreciseType(propValue);

return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + 
preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + 
expectedType + '`.'));}


return null;}

return createChainableTypeChecker(validate);}


function createAnyTypeChecker(){
return createChainableTypeChecker(emptyFunction.thatReturns(null));}


function createArrayOfTypeChecker(typeChecker){
function validate(props,propName,componentName,location,propFullName){
var propValue=props[propName];
if(!Array.isArray(propValue)){
var locationName=ReactPropTypeLocationNames[location];
var propType=getPropType(propValue);
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + 
propType + '` supplied to `' + componentName + '`, expected an array.'));}


for(var i=0;i < propValue.length;i++) {
var error=typeChecker(
propValue,
i,
componentName,
location,
propFullName + '[' + i + ']');

if(error instanceof Error){
return error;}}


return null;}

return createChainableTypeChecker(validate);}


function createElementTypeChecker(){
function validate(props,propName,componentName,location,propFullName){
if(!ReactElement.isValidElement(props[propName])){
var locationName=ReactPropTypeLocationNames[location];
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + 
componentName + '`, expected a single ReactElement.'));}


return null;}

return createChainableTypeChecker(validate);}


function createInstanceTypeChecker(expectedClass){
function validate(props,propName,componentName,location,propFullName){
if(!(props[propName] instanceof expectedClass)){
var locationName=ReactPropTypeLocationNames[location];
var expectedClassName=expectedClass.name || ANONYMOUS;
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + 
componentName + '`, expected instance of `' + expectedClassName + '`.'));}


return null;}

return createChainableTypeChecker(validate);}


function createEnumTypeChecker(expectedValues){
if(!Array.isArray(expectedValues)){
return createChainableTypeChecker(function(){
return new Error('Invalid argument supplied to oneOf, expected an instance of array.');});}





function validate(props,propName,componentName,location,propFullName){
var propValue=props[propName];
for(var i=0;i < expectedValues.length;i++) {
if(propValue === expectedValues[i]){
return null;}}



var locationName=ReactPropTypeLocationNames[location];
var valuesString=JSON.stringify(expectedValues);
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + 
componentName + '`, expected one of ' + valuesString + '.'));}


return createChainableTypeChecker(validate);}


function createObjectOfTypeChecker(typeChecker){
function validate(props,propName,componentName,location,propFullName){
var propValue=props[propName];
var propType=getPropType(propValue);
if(propType !== 'object'){
var locationName=ReactPropTypeLocationNames[location];
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + 
propType + '` supplied to `' + componentName + '`, expected an object.'));}


for(var key in propValue) {
if(propValue.hasOwnProperty(key)){
var error=typeChecker(
propValue,
key,
componentName,
location,
propFullName + '.' + key);

if(error instanceof Error){
return error;}}}



return null;}

return createChainableTypeChecker(validate);}


function createUnionTypeChecker(arrayOfTypeCheckers){
if(!Array.isArray(arrayOfTypeCheckers)){
return createChainableTypeChecker(function(){
return new Error('Invalid argument supplied to oneOfType, expected an instance of array.');});}





function validate(props,propName,componentName,location,propFullName){
for(var i=0;i < arrayOfTypeCheckers.length;i++) {
var checker=arrayOfTypeCheckers[i];
if(
checker(props,propName,componentName,location,propFullName) == null)
{
return null;}}



var locationName=ReactPropTypeLocationNames[location];
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + 
componentName + '`.'));}


return createChainableTypeChecker(validate);}


function createNodeChecker(){
function validate(props,propName,componentName,location,propFullName){
if(!isNode(props[propName])){
var locationName=ReactPropTypeLocationNames[location];
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + 
componentName + '`, expected a ReactNode.'));}


return null;}

return createChainableTypeChecker(validate);}


function createShapeTypeChecker(shapeTypes){
function validate(props,propName,componentName,location,propFullName){
var propValue=props[propName];
var propType=getPropType(propValue);
if(propType !== 'object'){
var locationName=ReactPropTypeLocationNames[location];
return new Error(
'Invalid ' + locationName + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + 
componentName + '`, expected `object`.'));}


for(var key in shapeTypes) {
var checker=shapeTypes[key];
if(!checker){
continue;}

var error=checker(
propValue,
key,
componentName,
location,
propFullName + '.' + key);

if(error){
return error;}}


return null;}

return createChainableTypeChecker(validate);}


function isNode(propValue){
switch(typeof propValue){
case 'number':
case 'string':
case 'undefined':
return true;
case 'boolean':
return !propValue;
case 'object':
if(Array.isArray(propValue)){
return propValue.every(isNode);}

if(propValue === null || ReactElement.isValidElement(propValue)){
return true;}

propValue = ReactFragment.extractIfFragment(propValue);
for(var k in propValue) {
if(!isNode(propValue[k])){
return false;}}


return true;
default:
return false;}}




function getPropType(propValue){
var propType=typeof propValue;
if(Array.isArray(propValue)){
return 'array';}

if(propValue instanceof RegExp){



return 'object';}

return propType;}




function getPreciseType(propValue){
var propType=getPropType(propValue);
if(propType === 'object'){
if(propValue instanceof Date){
return 'date';}else 
if(propValue instanceof RegExp){
return 'regexp';}}


return propType;}


module.exports = ReactPropTypes;
});
__d('ReactFragment',function(global, require, module, exports) {  'use strict';












var ReactElement=require('ReactElement');

var warning=require('warning');









var fragmentKey;
var didWarnKey;
var canWarnForReactFragment;

if(__DEV__){
fragmentKey = '_reactFragment';
didWarnKey = '_reactDidWarn';

try{



var dummy=function(){
return 1;};


Object.defineProperty(
{},
fragmentKey,
{enumerable:false,value:true});


Object.defineProperty(
{},
'key',
{enumerable:true,get:dummy});


canWarnForReactFragment = true;}
catch(x) {
canWarnForReactFragment = false;}


var proxyPropertyAccessWithWarning=function(obj,key){
Object.defineProperty(obj,key,{
enumerable:true,
get:function(){
warning(
this[didWarnKey],
'A ReactFragment is an opaque type. Accessing any of its ' + 
'properties is deprecated. Pass it to one of the React.Children ' + 
'helpers.');

this[didWarnKey] = true;
return this[fragmentKey][key];},

set:function(value){
warning(
this[didWarnKey],
'A ReactFragment is an immutable opaque type. Mutating its ' + 
'properties is deprecated.');

this[didWarnKey] = true;
this[fragmentKey][key] = value;}});};




var issuedWarnings={};

var didWarnForFragment=function(fragment){


var fragmentCacheKey='';
for(var key in fragment) {
fragmentCacheKey += key + ':' + typeof fragment[key] + ',';}

var alreadyWarnedOnce=!!issuedWarnings[fragmentCacheKey];
issuedWarnings[fragmentCacheKey] = true;
return alreadyWarnedOnce;};}



var ReactFragment={


create:function(object){
if(__DEV__){
if(typeof object !== 'object' || !object || Array.isArray(object)){
warning(
false,
'React.addons.createFragment only accepts a single object. Got: %s',
object);

return object;}

if(ReactElement.isValidElement(object)){
warning(
false,
'React.addons.createFragment does not accept a ReactElement ' + 
'without a wrapper object.');

return object;}

if(canWarnForReactFragment){
var proxy={};
Object.defineProperty(proxy,fragmentKey,{
enumerable:false,
value:object});

Object.defineProperty(proxy,didWarnKey,{
writable:true,
enumerable:false,
value:false});

for(var key in object) {
proxyPropertyAccessWithWarning(proxy,key);}

Object.preventExtensions(proxy);
return proxy;}}


return object;},



extract:function(fragment){
if(__DEV__){
if(canWarnForReactFragment){
if(!fragment[fragmentKey]){
warning(
didWarnForFragment(fragment),
'Any use of a keyed object should be wrapped in ' + 
'React.addons.createFragment(object) before being passed as a ' + 
'child.');

return fragment;}

return fragment[fragmentKey];}}


return fragment;},




extractIfFragment:function(fragment){
if(__DEV__){
if(canWarnForReactFragment){

if(fragment[fragmentKey]){
return fragment[fragmentKey];}




for(var key in fragment) {
if(fragment.hasOwnProperty(key) && 
ReactElement.isValidElement(fragment[key])){


return ReactFragment.extract(fragment);}}}}




return fragment;}};



module.exports = ReactFragment;
});
__d('TransformPropTypes',function(global, require, module, exports) {  'use strict';












var ReactPropTypes=require('ReactPropTypes');

var ArrayOfNumberPropType=ReactPropTypes.arrayOf(ReactPropTypes.number);

var TransformMatrixPropType=function(
props,
propName,
componentName)
{
if(props.transform && props.transformMatrix){
return new Error(
'transformMatrix and transform styles cannot be used on the same ' + 
'component');}


return ArrayOfNumberPropType(props,propName,componentName);};


var TransformPropTypes={
transform:ReactPropTypes.arrayOf(
ReactPropTypes.oneOfType([
ReactPropTypes.shape({perspective:ReactPropTypes.number}),
ReactPropTypes.shape({rotate:ReactPropTypes.string}),
ReactPropTypes.shape({rotateX:ReactPropTypes.string}),
ReactPropTypes.shape({rotateY:ReactPropTypes.string}),
ReactPropTypes.shape({rotateZ:ReactPropTypes.string}),
ReactPropTypes.shape({scale:ReactPropTypes.number}),
ReactPropTypes.shape({scaleX:ReactPropTypes.number}),
ReactPropTypes.shape({scaleY:ReactPropTypes.number}),
ReactPropTypes.shape({translateX:ReactPropTypes.number}),
ReactPropTypes.shape({translateY:ReactPropTypes.number}),
ReactPropTypes.shape({skewX:ReactPropTypes.string}),
ReactPropTypes.shape({skewY:ReactPropTypes.string})])),


transformMatrix:TransformMatrixPropType,


scaleX:ReactPropTypes.number,
scaleY:ReactPropTypes.number,
rotation:ReactPropTypes.number,
translateX:ReactPropTypes.number,
translateY:ReactPropTypes.number};


module.exports = TransformPropTypes;
});
__d('TextStylePropTypes',function(global, require, module, exports) {  'use strict';












var ReactPropTypes=require('ReactPropTypes');
var ViewStylePropTypes=require('ViewStylePropTypes');


var TextStylePropTypes=Object.assign(Object.create(ViewStylePropTypes),{
color:ReactPropTypes.string,
fontFamily:ReactPropTypes.string,
fontSize:ReactPropTypes.number,
fontStyle:ReactPropTypes.oneOf(['normal','italic']),





fontWeight:ReactPropTypes.oneOf(
['normal','bold',
'100','200','300','400','500','600','700','800','900']),




letterSpacing:ReactPropTypes.number,
lineHeight:ReactPropTypes.number,



textAlign:ReactPropTypes.oneOf(
['auto','left','right','center','justify']),




textDecorationLine:ReactPropTypes.oneOf(
['none','underline','line-through','underline line-through']),




textDecorationStyle:ReactPropTypes.oneOf(
['solid','double','dotted','dashed']),




textDecorationColor:ReactPropTypes.string,



writingDirection:ReactPropTypes.oneOf(
['auto','ltr','rtl'])});




var unsupportedProps=Object.keys({
padding:null,
paddingTop:null,
paddingLeft:null,
paddingRight:null,
paddingBottom:null,
paddingVertical:null,
paddingHorizontal:null});


for(var ii=0;ii < unsupportedProps.length;ii++) {
delete TextStylePropTypes[unsupportedProps[ii]];}


module.exports = TextStylePropTypes;
});
__d('ViewStylePropTypes',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var LayoutPropTypes=require('LayoutPropTypes');
var ReactPropTypes=require('ReactPropTypes');
var TransformPropTypes=require('TransformPropTypes');




var ViewStylePropTypes=_extends({},
LayoutPropTypes,
TransformPropTypes,{
backfaceVisibility:ReactPropTypes.oneOf(['visible','hidden']),
backgroundColor:ReactPropTypes.string,
borderColor:ReactPropTypes.string,
borderTopColor:ReactPropTypes.string,
borderRightColor:ReactPropTypes.string,
borderBottomColor:ReactPropTypes.string,
borderLeftColor:ReactPropTypes.string,
borderRadius:ReactPropTypes.number,
borderTopLeftRadius:ReactPropTypes.number,
borderTopRightRadius:ReactPropTypes.number,
borderBottomLeftRadius:ReactPropTypes.number,
borderBottomRightRadius:ReactPropTypes.number,
borderStyle:ReactPropTypes.oneOf(['solid','dotted','dashed']),
borderWidth:ReactPropTypes.number,
borderTopWidth:ReactPropTypes.number,
borderRightWidth:ReactPropTypes.number,
borderBottomWidth:ReactPropTypes.number,
borderLeftWidth:ReactPropTypes.number,
opacity:ReactPropTypes.number,
overflow:ReactPropTypes.oneOf(['visible','hidden']),
shadowColor:ReactPropTypes.string,
shadowOffset:ReactPropTypes.shape(
{width:ReactPropTypes.number,height:ReactPropTypes.number}),

shadowOpacity:ReactPropTypes.number,
shadowRadius:ReactPropTypes.number});


module.exports = ViewStylePropTypes;
});
__d('matricesDiffer',function(global, require, module, exports) {  'use strict';




















var matricesDiffer=function(one,two){
if(one === two){
return false;}

return !one || !two || 
one[12] !== two[12] || 
one[13] !== two[13] || 
one[14] !== two[14] || 
one[5] !== two[5] || 
one[10] !== two[10] || 
one[1] !== two[1] || 
one[2] !== two[2] || 
one[3] !== two[3] || 
one[4] !== two[4] || 
one[6] !== two[6] || 
one[7] !== two[7] || 
one[8] !== two[8] || 
one[9] !== two[9] || 
one[11] !== two[11] || 
one[15] !== two[15];};


module.exports = matricesDiffer;
});
__d('processColor',function(global, require, module, exports) {  'use strict';











var tinycolor=require('tinycolor');
var Platform=require('Platform');


function processColor(color){
if(!color || typeof color === 'number'){
return color;}else 
if(color instanceof Array){
return color.map(processColor);}else 
{
var color=tinycolor(color);
if(color.isValid()){
var rgb=color.toRgb();


var colorInt=Math.round(rgb.a * 255) * (1 << 24) + rgb.r * (1 << 16) + rgb.g * (1 << 8) + rgb.b;
if(Platform.OS === 'android'){




colorInt = colorInt | 0x0;}

return colorInt;}

return 0;}}



module.exports = processColor;
});
__d('tinycolor',function(global, require, module, exports) {  'use strict';









var trimLeft=/^[\s,#]+/,
trimRight=/\s+$/,
tinyCounter=0,
mathRound=Math.round,
mathMin=Math.min,
mathMax=Math.max;

function tinycolor(color,opts){

if(!(this instanceof tinycolor)){
return new tinycolor(color,opts);}


color = color?color:'';
opts = opts || {};

var rgb=inputToRGB(color);
this._r = rgb.r,
this._g = rgb.g,
this._b = rgb.b,
this._a = rgb.a,

this._ok = rgb.ok;}


tinycolor.prototype = {
toRgb:function(){
return {r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a};},

isValid:function(){
return this._ok;}};


















function inputToRGB(color){
var rgb={r:0,g:0,b:0};
var a=1;
var ok=false;
var format=false;

if(typeof color == "string"){
color = stringInputToObject(color);}


if(typeof color == "object"){
if(color.hasOwnProperty("r") && color.hasOwnProperty("g") && color.hasOwnProperty("b")){
rgb = rgbToRgb(color.r,color.g,color.b);
ok = true;}else 

if(color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("v")){
color.s = convertToPercentage(color.s);
color.v = convertToPercentage(color.v);
rgb = hsvToRgb(color.h,color.s,color.v);
ok = true;}else 

if(color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("l")){
color.s = convertToPercentage(color.s);
color.l = convertToPercentage(color.l);
rgb = hslToRgb(color.h,color.s,color.l);
ok = true;}


if(color.hasOwnProperty("a")){
a = color.a;}}



a = boundAlpha(a);

return {
ok:ok,
r:mathMin(255,mathMax(rgb.r,0)),
g:mathMin(255,mathMax(rgb.g,0)),
b:mathMin(255,mathMax(rgb.b,0)),
a:a};}















function rgbToRgb(r,g,b){
return {
r:bound01(r,255) * 255,
g:bound01(g,255) * 255,
b:bound01(b,255) * 255};}







function hslToRgb(h,s,l){
var r,g,b;

h = bound01(h,360);
s = bound01(s,100);
l = bound01(l,100);

function hue2rgb(p,q,t){
if(t < 0)t += 1;
if(t > 1)t -= 1;
if(t < 1 / 6)return p + (q - p) * 6 * t;
if(t < 1 / 2)return q;
if(t < 2 / 3)return p + (q - p) * (2 / 3 - t) * 6;
return p;}


if(s === 0){
r = g = b = l;}else 

{
var q=l < 0.5?l * (1 + s):l + s - l * s;
var p=2 * l - q;
r = hue2rgb(p,q,h + 1 / 3);
g = hue2rgb(p,q,h);
b = hue2rgb(p,q,h - 1 / 3);}


return {r:r * 255,g:g * 255,b:b * 255};}






function hsvToRgb(h,s,v){
h = bound01(h,360) * 6;
s = bound01(s,100);
v = bound01(v,100);

var i=math.floor(h),
f=h - i,
p=v * (1 - s),
q=v * (1 - f * s),
t=v * (1 - (1 - f) * s),
mod=i % 6,
r=[v,q,p,p,t,v][mod],
g=[t,v,v,q,p,p][mod],
b=[p,p,t,v,v,q][mod];

return {r:r * 255,g:g * 255,b:b * 255};}





var names=tinycolor.names = {
aliceblue:"f0f8ff",
antiquewhite:"faebd7",
aqua:"0ff",
aquamarine:"7fffd4",
azure:"f0ffff",
beige:"f5f5dc",
bisque:"ffe4c4",
black:"000",
blanchedalmond:"ffebcd",
blue:"00f",
blueviolet:"8a2be2",
brown:"a52a2a",
burlywood:"deb887",
burntsienna:"ea7e5d",
cadetblue:"5f9ea0",
chartreuse:"7fff00",
chocolate:"d2691e",
coral:"ff7f50",
cornflowerblue:"6495ed",
cornsilk:"fff8dc",
crimson:"dc143c",
cyan:"0ff",
darkblue:"00008b",
darkcyan:"008b8b",
darkgoldenrod:"b8860b",
darkgray:"a9a9a9",
darkgreen:"006400",
darkgrey:"a9a9a9",
darkkhaki:"bdb76b",
darkmagenta:"8b008b",
darkolivegreen:"556b2f",
darkorange:"ff8c00",
darkorchid:"9932cc",
darkred:"8b0000",
darksalmon:"e9967a",
darkseagreen:"8fbc8f",
darkslateblue:"483d8b",
darkslategray:"2f4f4f",
darkslategrey:"2f4f4f",
darkturquoise:"00ced1",
darkviolet:"9400d3",
deeppink:"ff1493",
deepskyblue:"00bfff",
dimgray:"696969",
dimgrey:"696969",
dodgerblue:"1e90ff",
firebrick:"b22222",
floralwhite:"fffaf0",
forestgreen:"228b22",
fuchsia:"f0f",
gainsboro:"dcdcdc",
ghostwhite:"f8f8ff",
gold:"ffd700",
goldenrod:"daa520",
gray:"808080",
green:"008000",
greenyellow:"adff2f",
grey:"808080",
honeydew:"f0fff0",
hotpink:"ff69b4",
indianred:"cd5c5c",
indigo:"4b0082",
ivory:"fffff0",
khaki:"f0e68c",
lavender:"e6e6fa",
lavenderblush:"fff0f5",
lawngreen:"7cfc00",
lemonchiffon:"fffacd",
lightblue:"add8e6",
lightcoral:"f08080",
lightcyan:"e0ffff",
lightgoldenrodyellow:"fafad2",
lightgray:"d3d3d3",
lightgreen:"90ee90",
lightgrey:"d3d3d3",
lightpink:"ffb6c1",
lightsalmon:"ffa07a",
lightseagreen:"20b2aa",
lightskyblue:"87cefa",
lightslategray:"789",
lightslategrey:"789",
lightsteelblue:"b0c4de",
lightyellow:"ffffe0",
lime:"0f0",
limegreen:"32cd32",
linen:"faf0e6",
magenta:"f0f",
maroon:"800000",
mediumaquamarine:"66cdaa",
mediumblue:"0000cd",
mediumorchid:"ba55d3",
mediumpurple:"9370db",
mediumseagreen:"3cb371",
mediumslateblue:"7b68ee",
mediumspringgreen:"00fa9a",
mediumturquoise:"48d1cc",
mediumvioletred:"c71585",
midnightblue:"191970",
mintcream:"f5fffa",
mistyrose:"ffe4e1",
moccasin:"ffe4b5",
navajowhite:"ffdead",
navy:"000080",
oldlace:"fdf5e6",
olive:"808000",
olivedrab:"6b8e23",
orange:"ffa500",
orangered:"ff4500",
orchid:"da70d6",
palegoldenrod:"eee8aa",
palegreen:"98fb98",
paleturquoise:"afeeee",
palevioletred:"db7093",
papayawhip:"ffefd5",
peachpuff:"ffdab9",
peru:"cd853f",
pink:"ffc0cb",
plum:"dda0dd",
powderblue:"b0e0e6",
purple:"800080",
rebeccapurple:"663399",
red:"f00",
rosybrown:"bc8f8f",
royalblue:"4169e1",
saddlebrown:"8b4513",
salmon:"fa8072",
sandybrown:"f4a460",
seagreen:"2e8b57",
seashell:"fff5ee",
sienna:"a0522d",
silver:"c0c0c0",
skyblue:"87ceeb",
slateblue:"6a5acd",
slategray:"708090",
slategrey:"708090",
snow:"fffafa",
springgreen:"00ff7f",
steelblue:"4682b4",
tan:"d2b48c",
teal:"008080",
thistle:"d8bfd8",
tomato:"ff6347",
turquoise:"40e0d0",
violet:"ee82ee",
wheat:"f5deb3",
white:"fff",
whitesmoke:"f5f5f5",
yellow:"ff0",
yellowgreen:"9acd32"};



function boundAlpha(a){
a = parseFloat(a);

if(isNaN(a) || a < 0 || a > 1){
a = 1;}


return a;}



function bound01(n,max){
if(isOnePointZero(n)){n = "100%";}

var processPercent=isPercentage(n);
n = mathMin(max,mathMax(0,parseFloat(n)));


if(processPercent){
n = parseInt(n * max,10) / 100;}



if(Math.abs(n - max) < 0.000001){
return 1;}



return n % max / parseFloat(max);}



function parseIntFromHex(val){
return parseInt(val,16);}




function isOnePointZero(n){
return typeof n == "string" && n.indexOf('.') != -1 && parseFloat(n) === 1;}



function isPercentage(n){
return typeof n === "string" && n.indexOf('%') != -1;}



function convertToPercentage(n){
if(n <= 1){
n = n * 100 + "%";}


return n;}


var matchers=(function(){

var CSS_INTEGER="[-\\+]?\\d+%?";


var CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?";


var CSS_UNIT="(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";




var PERMISSIVE_MATCH3="[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
var PERMISSIVE_MATCH4="[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";

return {
rgb:new RegExp("rgb" + PERMISSIVE_MATCH3),
rgba:new RegExp("rgba" + PERMISSIVE_MATCH4),
hsl:new RegExp("hsl" + PERMISSIVE_MATCH3),
hsla:new RegExp("hsla" + PERMISSIVE_MATCH4),
hsv:new RegExp("hsv" + PERMISSIVE_MATCH3),
hsva:new RegExp("hsva" + PERMISSIVE_MATCH4),
hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};})();






function stringInputToObject(color){
color = color.replace(trimLeft,'').replace(trimRight,'').toLowerCase();
var named=false;
if(names[color]){
color = names[color];
named = true;}else 

if(color == 'transparent'){
return {r:0,g:0,b:0,a:0,format:"name"};}






var match;
if(match = matchers.rgb.exec(color)){
return {r:match[1],g:match[2],b:match[3]};}

if(match = matchers.rgba.exec(color)){
return {r:match[1],g:match[2],b:match[3],a:match[4]};}

if(match = matchers.hsl.exec(color)){
return {h:match[1],s:match[2],l:match[3]};}

if(match = matchers.hsla.exec(color)){
return {h:match[1],s:match[2],l:match[3],a:match[4]};}

if(match = matchers.hsv.exec(color)){
return {h:match[1],s:match[2],v:match[3]};}

if(match = matchers.hsva.exec(color)){
return {h:match[1],s:match[2],v:match[3],a:match[4]};}

if(match = matchers.hex6.exec(color)){
return {
r:parseIntFromHex(match[1]),
g:parseIntFromHex(match[2]),
b:parseIntFromHex(match[3]),
format:named?"name":"hex"};}


if(match = matchers.hex3.exec(color)){
return {
r:parseIntFromHex(match[1] + '' + match[1]),
g:parseIntFromHex(match[2] + '' + match[2]),
b:parseIntFromHex(match[3] + '' + match[3]),
format:named?"name":"hex"};}



return false;}


module.exports = tinycolor;
});
__d('processTransform',function(global, require, module, exports) {  'use strict';












var MatrixMath=require('MatrixMath');
var Platform=require('Platform');

var invariant=require('invariant');
var stringifySafe=require('stringifySafe');









function processTransform(transform){
var result=MatrixMath.createIdentityMatrix();

transform.forEach(function(transformation){
var key=Object.keys(transformation)[0];
var value=transformation[key];
if(__DEV__){
_validateTransform(key,value,transformation);}


switch(key){
case 'matrix':
MatrixMath.multiplyInto(result,result,value);
break;
case 'perspective':
_multiplyTransform(result,MatrixMath.reusePerspectiveCommand,[value]);
break;
case 'rotateX':
_multiplyTransform(result,MatrixMath.reuseRotateXCommand,[_convertToRadians(value)]);
break;
case 'rotateY':
_multiplyTransform(result,MatrixMath.reuseRotateYCommand,[_convertToRadians(value)]);
break;
case 'rotate':
case 'rotateZ':
_multiplyTransform(result,MatrixMath.reuseRotateZCommand,[_convertToRadians(value)]);
break;
case 'scale':
_multiplyTransform(result,MatrixMath.reuseScaleCommand,[value]);
break;
case 'scaleX':
_multiplyTransform(result,MatrixMath.reuseScaleXCommand,[value]);
break;
case 'scaleY':
_multiplyTransform(result,MatrixMath.reuseScaleYCommand,[value]);
break;
case 'translate':
_multiplyTransform(result,MatrixMath.reuseTranslate3dCommand,[value[0],value[1],value[2] || 0]);
break;
case 'translateX':
_multiplyTransform(result,MatrixMath.reuseTranslate2dCommand,[value,0]);
break;
case 'translateY':
_multiplyTransform(result,MatrixMath.reuseTranslate2dCommand,[0,value]);
break;
case 'skewX':
_multiplyTransform(result,MatrixMath.reuseSkewXCommand,[_convertToRadians(value)]);
break;
case 'skewY':
_multiplyTransform(result,MatrixMath.reuseSkewYCommand,[_convertToRadians(value)]);
break;
default:
throw new Error('Invalid transform name: ' + key);}});







if(Platform.OS === 'android'){
return MatrixMath.decomposeMatrix(result);}

return result;}





function _multiplyTransform(
result,
matrixMathFunction,
args)
{
var matrixToApply=MatrixMath.createIdentityMatrix();
var argsWithIdentity=[matrixToApply].concat(args);
matrixMathFunction.apply(this,argsWithIdentity);
MatrixMath.multiplyInto(result,result,matrixToApply);}






function _convertToRadians(value){
var floatValue=parseFloat(value,10);
return value.indexOf('rad') > -1?floatValue:floatValue * Math.PI / 180;}


function _validateTransform(key,value,transformation){
invariant(
!value.getValue,
'You passed an Animated.Value to a normal component. ' + 
'You need to wrap that component in an Animated. For example, ' + 
'replace <View /> by <Animated.View />.');


var multivalueTransforms=[
'matrix',
'translate'];

if(multivalueTransforms.indexOf(key) !== -1){
invariant(
Array.isArray(value),
'Transform with key of %s must have an array as the value: %s',
key,
stringifySafe(transformation));}


switch(key){
case 'matrix':
invariant(
value.length === 9 || value.length === 16,
'Matrix transform must have a length of 9 (2d) or 16 (3d). ' + 
'Provided matrix has a length of %s: %s',
value.length,
stringifySafe(transformation));

break;
case 'translate':
break;
case 'rotateX':
case 'rotateY':
case 'rotateZ':
case 'rotate':
case 'skewX':
case 'skewY':
invariant(
typeof value === 'string',
'Transform with key of "%s" must be a string: %s',
key,
stringifySafe(transformation));

invariant(
value.indexOf('deg') > -1 || value.indexOf('rad') > -1,
'Rotate transform must be expressed in degrees (deg) or radians ' + 
'(rad): %s',
stringifySafe(transformation));

break;
default:
invariant(
typeof value === 'number',
'Transform with key of "%s" must be a number: %s',
key,
stringifySafe(transformation));}}




module.exports = processTransform;
});
__d('MatrixMath',function(global, require, module, exports) {  'use strict';







var invariant=require('invariant');





var MatrixMath={
createIdentityMatrix:function(){
return [
1,0,0,0,
0,1,0,0,
0,0,1,0,
0,0,0,1];},



createCopy:function(m){
return [
m[0],m[1],m[2],m[3],
m[4],m[5],m[6],m[7],
m[8],m[9],m[10],m[11],
m[12],m[13],m[14],m[15]];},



createOrthographic:function(left,right,bottom,top,near,far){
var a=2 / (right - left);
var b=2 / (top - bottom);
var c=-2 / (far - near);

var tx=-(right + left) / (right - left);
var ty=-(top + bottom) / (top - bottom);
var tz=-(far + near) / (far - near);

return [
a,0,0,0,
0,b,0,0,
0,0,c,0,
tx,ty,tz,1];},



createFrustum:function(left,right,bottom,top,near,far){
var r_width=1 / (right - left);
var r_height=1 / (top - bottom);
var r_depth=1 / (near - far);
var x=2 * (near * r_width);
var y=2 * (near * r_height);
var A=(right + left) * r_width;
var B=(top + bottom) * r_height;
var C=(far + near) * r_depth;
var D=2 * (far * near * r_depth);
return [
x,0,0,0,
0,y,0,0,
A,B,C,-1,
0,0,D,0];},



createPerspective:function(fovInRadians,aspect,near,far){
var h=1 / Math.tan(fovInRadians);
var r_depth=1 / (near - far);
var C=(far + near) * r_depth;
var D=2 * (far * near * r_depth);
return [
h / aspect,0,0,0,
0,h,0,0,
0,0,C,-1,
0,0,D,0];},



createTranslate2d:function(x,y){
var mat=MatrixMath.createIdentityMatrix();
MatrixMath.reuseTranslate2dCommand(mat,x,y);
return mat;},


reuseTranslate2dCommand:function(matrixCommand,x,y){
matrixCommand[12] = x;
matrixCommand[13] = y;},


reuseTranslate3dCommand:function(matrixCommand,x,y,z){
matrixCommand[12] = x;
matrixCommand[13] = y;
matrixCommand[14] = z;},


createScale:function(factor){
var mat=MatrixMath.createIdentityMatrix();
MatrixMath.reuseScaleCommand(mat,factor);
return mat;},


reuseScaleCommand:function(matrixCommand,factor){
matrixCommand[0] = factor;
matrixCommand[5] = factor;},


reuseScale3dCommand:function(matrixCommand,x,y,z){
matrixCommand[0] = x;
matrixCommand[5] = y;
matrixCommand[10] = z;},


reusePerspectiveCommand:function(matrixCommand,p){
matrixCommand[11] = -1 / p;},


reuseScaleXCommand:function(matrixCommand,factor){
matrixCommand[0] = factor;},


reuseScaleYCommand:function(matrixCommand,factor){
matrixCommand[5] = factor;},


reuseScaleZCommand:function(matrixCommand,factor){
matrixCommand[10] = factor;},


reuseRotateXCommand:function(matrixCommand,radians){
matrixCommand[5] = Math.cos(radians);
matrixCommand[6] = Math.sin(radians);
matrixCommand[9] = -Math.sin(radians);
matrixCommand[10] = Math.cos(radians);},


reuseRotateYCommand:function(matrixCommand,amount){
matrixCommand[0] = Math.cos(amount);
matrixCommand[2] = -Math.sin(amount);
matrixCommand[8] = Math.sin(amount);
matrixCommand[10] = Math.cos(amount);},



reuseRotateZCommand:function(matrixCommand,radians){
matrixCommand[0] = Math.cos(radians);
matrixCommand[1] = Math.sin(radians);
matrixCommand[4] = -Math.sin(radians);
matrixCommand[5] = Math.cos(radians);},


createRotateZ:function(radians){
var mat=MatrixMath.createIdentityMatrix();
MatrixMath.reuseRotateZCommand(mat,radians);
return mat;},


reuseSkewXCommand:function(matrixCommand,radians){
matrixCommand[4] = Math.sin(radians);
matrixCommand[5] = Math.cos(radians);},


reuseSkewYCommand:function(matrixCommand,radians){
matrixCommand[0] = Math.cos(radians);
matrixCommand[1] = Math.sin(radians);},


multiplyInto:function(out,a,b){
var a00=a[0],a01=a[1],a02=a[2],a03=a[3],
a10=a[4],a11=a[5],a12=a[6],a13=a[7],
a20=a[8],a21=a[9],a22=a[10],a23=a[11],
a30=a[12],a31=a[13],a32=a[14],a33=a[15];

var b0=b[0],b1=b[1],b2=b[2],b3=b[3];
out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;

b0 = b[4];b1 = b[5];b2 = b[6];b3 = b[7];
out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;

b0 = b[8];b1 = b[9];b2 = b[10];b3 = b[11];
out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;

b0 = b[12];b1 = b[13];b2 = b[14];b3 = b[15];
out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;},


determinant:function(matrix){var 

m00=



matrix[0];var m01=matrix[1];var m02=matrix[2];var m03=matrix[3];var m10=matrix[4];var m11=matrix[5];var m12=matrix[6];var m13=matrix[7];var m20=matrix[8];var m21=matrix[9];var m22=matrix[10];var m23=matrix[11];var m30=matrix[12];var m31=matrix[13];var m32=matrix[14];var m33=matrix[15];
return (
m03 * m12 * m21 * m30 - m02 * m13 * m21 * m30 - 
m03 * m11 * m22 * m30 + m01 * m13 * m22 * m30 + 
m02 * m11 * m23 * m30 - m01 * m12 * m23 * m30 - 
m03 * m12 * m20 * m31 + m02 * m13 * m20 * m31 + 
m03 * m10 * m22 * m31 - m00 * m13 * m22 * m31 - 
m02 * m10 * m23 * m31 + m00 * m12 * m23 * m31 + 
m03 * m11 * m20 * m32 - m01 * m13 * m20 * m32 - 
m03 * m10 * m21 * m32 + m00 * m13 * m21 * m32 + 
m01 * m10 * m23 * m32 - m00 * m11 * m23 * m32 - 
m02 * m11 * m20 * m33 + m01 * m12 * m20 * m33 + 
m02 * m10 * m21 * m33 - m00 * m12 * m21 * m33 - 
m01 * m10 * m22 * m33 + m00 * m11 * m22 * m33);},










inverse:function(matrix){
var det=MatrixMath.determinant(matrix);
if(!det){
return matrix;}var 


m00=



matrix[0];var m01=matrix[1];var m02=matrix[2];var m03=matrix[3];var m10=matrix[4];var m11=matrix[5];var m12=matrix[6];var m13=matrix[7];var m20=matrix[8];var m21=matrix[9];var m22=matrix[10];var m23=matrix[11];var m30=matrix[12];var m31=matrix[13];var m32=matrix[14];var m33=matrix[15];
return [
(m12 * m23 * m31 - m13 * m22 * m31 + m13 * m21 * m32 - m11 * m23 * m32 - m12 * m21 * m33 + m11 * m22 * m33) / det,
(m03 * m22 * m31 - m02 * m23 * m31 - m03 * m21 * m32 + m01 * m23 * m32 + m02 * m21 * m33 - m01 * m22 * m33) / det,
(m02 * m13 * m31 - m03 * m12 * m31 + m03 * m11 * m32 - m01 * m13 * m32 - m02 * m11 * m33 + m01 * m12 * m33) / det,
(m03 * m12 * m21 - m02 * m13 * m21 - m03 * m11 * m22 + m01 * m13 * m22 + m02 * m11 * m23 - m01 * m12 * m23) / det,
(m13 * m22 * m30 - m12 * m23 * m30 - m13 * m20 * m32 + m10 * m23 * m32 + m12 * m20 * m33 - m10 * m22 * m33) / det,
(m02 * m23 * m30 - m03 * m22 * m30 + m03 * m20 * m32 - m00 * m23 * m32 - m02 * m20 * m33 + m00 * m22 * m33) / det,
(m03 * m12 * m30 - m02 * m13 * m30 - m03 * m10 * m32 + m00 * m13 * m32 + m02 * m10 * m33 - m00 * m12 * m33) / det,
(m02 * m13 * m20 - m03 * m12 * m20 + m03 * m10 * m22 - m00 * m13 * m22 - m02 * m10 * m23 + m00 * m12 * m23) / det,
(m11 * m23 * m30 - m13 * m21 * m30 + m13 * m20 * m31 - m10 * m23 * m31 - m11 * m20 * m33 + m10 * m21 * m33) / det,
(m03 * m21 * m30 - m01 * m23 * m30 - m03 * m20 * m31 + m00 * m23 * m31 + m01 * m20 * m33 - m00 * m21 * m33) / det,
(m01 * m13 * m30 - m03 * m11 * m30 + m03 * m10 * m31 - m00 * m13 * m31 - m01 * m10 * m33 + m00 * m11 * m33) / det,
(m03 * m11 * m20 - m01 * m13 * m20 - m03 * m10 * m21 + m00 * m13 * m21 + m01 * m10 * m23 - m00 * m11 * m23) / det,
(m12 * m21 * m30 - m11 * m22 * m30 - m12 * m20 * m31 + m10 * m22 * m31 + m11 * m20 * m32 - m10 * m21 * m32) / det,
(m01 * m22 * m30 - m02 * m21 * m30 + m02 * m20 * m31 - m00 * m22 * m31 - m01 * m20 * m32 + m00 * m21 * m32) / det,
(m02 * m11 * m30 - m01 * m12 * m30 - m02 * m10 * m31 + m00 * m12 * m31 + m01 * m10 * m32 - m00 * m11 * m32) / det,
(m01 * m12 * m20 - m02 * m11 * m20 + m02 * m10 * m21 - m00 * m12 * m21 - m01 * m10 * m22 + m00 * m11 * m22) / det];},






transpose:function(m){
return [
m[0],m[4],m[8],m[12],
m[1],m[5],m[9],m[13],
m[2],m[6],m[10],m[14],
m[3],m[7],m[11],m[15]];},






multiplyVectorByMatrix:function(
v,
m)
{var 
vx=v[0];var vy=v[1];var vz=v[2];var vw=v[3];
return [
vx * m[0] + vy * m[4] + vz * m[8] + vw * m[12],
vx * m[1] + vy * m[5] + vz * m[9] + vw * m[13],
vx * m[2] + vy * m[6] + vz * m[10] + vw * m[14],
vx * m[3] + vy * m[7] + vz * m[11] + vw * m[15]];},






v3Length:function(a){
return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);},





v3Normalize:function(
vector,
v3Length)
{
var im=1 / (v3Length || MatrixMath.v3Length(vector));
return [
vector[0] * im,
vector[1] * im,
vector[2] * im];},







v3Dot:function(a,b){
return a[0] * b[0] + 
a[1] * b[1] + 
a[2] * b[2];},






v3Combine:function(
a,
b,
aScale,
bScale)
{
return [
aScale * a[0] + bScale * b[0],
aScale * a[1] + bScale * b[1],
aScale * a[2] + bScale * b[2]];},







v3Cross:function(a,b){
return [
a[1] * b[2] - a[2] * b[1],
a[2] * b[0] - a[0] * b[2],
a[0] * b[1] - a[1] * b[0]];},



















quaternionToDegreesXYZ:function(q,matrix,row){var 
qx=q[0];var qy=q[1];var qz=q[2];var qw=q[3];
var qw2=qw * qw;
var qx2=qx * qx;
var qy2=qy * qy;
var qz2=qz * qz;
var test=qx * qy + qz * qw;
var unit=qw2 + qx2 + qy2 + qz2;
var conv=180 / Math.PI;

if(test > 0.49999 * unit){
return [0,2 * Math.atan2(qx,qw) * conv,90];}

if(test < -0.49999 * unit){
return [0,-2 * Math.atan2(qx,qw) * conv,-90];}


return [
MatrixMath.roundTo3Places(
Math.atan2(2 * qx * qw - 2 * qy * qz,1 - 2 * qx2 - 2 * qz2) * conv),

MatrixMath.roundTo3Places(
Math.atan2(2 * qy * qw - 2 * qx * qz,1 - 2 * qy2 - 2 * qz2) * conv),

MatrixMath.roundTo3Places(
Math.asin(2 * qx * qy + 2 * qz * qw) * conv)];},








roundTo3Places:function(n){
var arr=n.toString().split('e');
return Math.round(arr[0] + 'e' + (arr[1]?+arr[1] - 3:3)) * 0.001;},













decomposeMatrix:function(transformMatrix){

invariant(
transformMatrix.length === 16,
'Matrix decomposition needs a list of 3d matrix values, received %s',
transformMatrix);



var perspective=[];
var quaternion=[];
var scale=[];
var skew=[];
var translation=[];



if(!transformMatrix[15]){
return;}

var matrix=[];
var perspectiveMatrix=[];
for(var i=0;i < 4;i++) {
matrix.push([]);
for(var j=0;j < 4;j++) {
var value=transformMatrix[i * 4 + j] / transformMatrix[15];
matrix[i].push(value);
perspectiveMatrix.push(j === 3?0:value);}}


perspectiveMatrix[15] = 1;


if(!MatrixMath.determinant(perspectiveMatrix)){
return;}



if(matrix[0][3] !== 0 || matrix[1][3] !== 0 || matrix[2][3] !== 0){


var rightHandSide=[
matrix[0][3],
matrix[1][3],
matrix[2][3],
matrix[3][3]];




var inversePerspectiveMatrix=MatrixMath.inverse3x3(
perspectiveMatrix);

var transposedInversePerspectiveMatrix=MatrixMath.transpose4x4(
inversePerspectiveMatrix);

var perspective=MatrixMath.multiplyVectorByMatrix(
rightHandSide,
transposedInversePerspectiveMatrix);}else 

{

perspective[0] = perspective[1] = perspective[2] = 0;
perspective[3] = 1;}



for(var i=0;i < 3;i++) {
translation[i] = matrix[3][i];}




var row=[];
for(i = 0;i < 3;i++) {
row[i] = [
matrix[i][0],
matrix[i][1],
matrix[i][2]];}




scale[0] = MatrixMath.v3Length(row[0]);
row[0] = MatrixMath.v3Normalize(row[0],scale[0]);


skew[0] = MatrixMath.v3Dot(row[0],row[1]);
row[1] = MatrixMath.v3Combine(row[1],row[0],1.0,-skew[0]);


skew[0] = MatrixMath.v3Dot(row[0],row[1]);
row[1] = MatrixMath.v3Combine(row[1],row[0],1.0,-skew[0]);


scale[1] = MatrixMath.v3Length(row[1]);
row[1] = MatrixMath.v3Normalize(row[1],scale[1]);
skew[0] /= scale[1];


skew[1] = MatrixMath.v3Dot(row[0],row[2]);
row[2] = MatrixMath.v3Combine(row[2],row[0],1.0,-skew[1]);
skew[2] = MatrixMath.v3Dot(row[1],row[2]);
row[2] = MatrixMath.v3Combine(row[2],row[1],1.0,-skew[2]);


scale[2] = MatrixMath.v3Length(row[2]);
row[2] = MatrixMath.v3Normalize(row[2],scale[2]);
skew[1] /= scale[2];
skew[2] /= scale[2];




var pdum3=MatrixMath.v3Cross(row[1],row[2]);
if(MatrixMath.v3Dot(row[0],pdum3) < 0){
for(i = 0;i < 3;i++) {
scale[i] *= -1;
row[i][0] *= -1;
row[i][1] *= -1;
row[i][2] *= -1;}}




quaternion[0] = 
0.5 * Math.sqrt(Math.max(1 + row[0][0] - row[1][1] - row[2][2],0));
quaternion[1] = 
0.5 * Math.sqrt(Math.max(1 - row[0][0] + row[1][1] - row[2][2],0));
quaternion[2] = 
0.5 * Math.sqrt(Math.max(1 - row[0][0] - row[1][1] + row[2][2],0));
quaternion[3] = 
0.5 * Math.sqrt(Math.max(1 + row[0][0] + row[1][1] + row[2][2],0));

if(row[2][1] > row[1][2]){
quaternion[0] = -quaternion[0];}

if(row[0][2] > row[2][0]){
quaternion[1] = -quaternion[1];}

if(row[1][0] > row[0][1]){
quaternion[2] = -quaternion[2];}



var rotationDegrees;
if(
quaternion[0] < 0.001 && quaternion[0] >= 0 && 
quaternion[1] < 0.001 && quaternion[1] >= 0)
{

rotationDegrees = [0,0,MatrixMath.roundTo3Places(
Math.atan2(row[0][1],row[0][0]) * 180 / Math.PI)];}else 

{
rotationDegrees = MatrixMath.quaternionToDegreesXYZ(quaternion,matrix,row);}



return {
rotationDegrees:rotationDegrees,
perspective:perspective,
quaternion:quaternion,
scale:scale,
skew:skew,
translation:translation,

rotate:rotationDegrees[2],
scaleX:scale[0],
scaleY:scale[1],
translateX:translation[0],
translateY:translation[1]};}};





module.exports = MatrixMath;
});
__d('sizesDiffer',function(global, require, module, exports) {  'use strict';






var dummySize={width:undefined,height:undefined};

var sizesDiffer=function(one,two){
one = one || dummySize;
two = two || dummySize;
return one !== two && (
one.width !== two.width || 
one.height !== two.height);};



module.exports = sizesDiffer;
});
__d('ReactMultiChild',function(global, require, module, exports) {  'use strict';













var ReactComponentEnvironment=require('ReactComponentEnvironment');
var ReactMultiChildUpdateTypes=require('ReactMultiChildUpdateTypes');

var ReactReconciler=require('ReactReconciler');
var ReactChildReconciler=require('ReactChildReconciler');








var updateDepth=0;









var updateQueue=[];







var markupQueue=[];









function enqueueMarkup(parentID,markup,toIndex){

updateQueue.push({
parentID:parentID,
parentNode:null,
type:ReactMultiChildUpdateTypes.INSERT_MARKUP,
markupIndex:markupQueue.push(markup) - 1,
textContent:null,
fromIndex:null,
toIndex:toIndex});}











function enqueueMove(parentID,fromIndex,toIndex){

updateQueue.push({
parentID:parentID,
parentNode:null,
type:ReactMultiChildUpdateTypes.MOVE_EXISTING,
markupIndex:null,
textContent:null,
fromIndex:fromIndex,
toIndex:toIndex});}










function enqueueRemove(parentID,fromIndex){

updateQueue.push({
parentID:parentID,
parentNode:null,
type:ReactMultiChildUpdateTypes.REMOVE_NODE,
markupIndex:null,
textContent:null,
fromIndex:fromIndex,
toIndex:null});}










function enqueueTextContent(parentID,textContent){

updateQueue.push({
parentID:parentID,
parentNode:null,
type:ReactMultiChildUpdateTypes.TEXT_CONTENT,
markupIndex:null,
textContent:textContent,
fromIndex:null,
toIndex:null});}








function processQueue(){
if(updateQueue.length){
ReactComponentEnvironment.processChildrenUpdates(
updateQueue,
markupQueue);

clearQueue();}}








function clearQueue(){
updateQueue.length = 0;
markupQueue.length = 0;}








var ReactMultiChild={








Mixin:{









mountChildren:function(nestedChildren,transaction,context){
var children=ReactChildReconciler.instantiateChildren(
nestedChildren,transaction,context);

this._renderedChildren = children;
var mountImages=[];
var index=0;
for(var name in children) {
if(children.hasOwnProperty(name)){
var child=children[name];

var rootID=this._rootNodeID + name;
var mountImage=ReactReconciler.mountComponent(
child,
rootID,
transaction,
context);

child._mountIndex = index;
mountImages.push(mountImage);
index++;}}


return mountImages;},








updateTextContent:function(nextContent){
updateDepth++;
var errorThrown=true;
try{
var prevChildren=this._renderedChildren;

ReactChildReconciler.unmountChildren(prevChildren);

for(var name in prevChildren) {
if(prevChildren.hasOwnProperty(name)){
this._unmountChildByName(prevChildren[name],name);}}



this.setTextContent(nextContent);
errorThrown = false;}finally 
{
updateDepth--;
if(!updateDepth){
if(errorThrown){
clearQueue();}else 
{
processQueue();}}}},












updateChildren:function(nextNestedChildren,transaction,context){
updateDepth++;
var errorThrown=true;
try{
this._updateChildren(nextNestedChildren,transaction,context);
errorThrown = false;}finally 
{
updateDepth--;
if(!updateDepth){
if(errorThrown){
clearQueue();}else 
{
processQueue();}}}},















_updateChildren:function(nextNestedChildren,transaction,context){
var prevChildren=this._renderedChildren;
var nextChildren=ReactChildReconciler.updateChildren(
prevChildren,nextNestedChildren,transaction,context);

this._renderedChildren = nextChildren;
if(!nextChildren && !prevChildren){
return;}

var name;


var lastIndex=0;
var nextIndex=0;
for(name in nextChildren) {
if(!nextChildren.hasOwnProperty(name)){
continue;}

var prevChild=prevChildren && prevChildren[name];
var nextChild=nextChildren[name];
if(prevChild === nextChild){
this.moveChild(prevChild,nextIndex,lastIndex);
lastIndex = Math.max(prevChild._mountIndex,lastIndex);
prevChild._mountIndex = nextIndex;}else 
{
if(prevChild){

lastIndex = Math.max(prevChild._mountIndex,lastIndex);
this._unmountChildByName(prevChild,name);}


this._mountChildByNameAtIndex(
nextChild,name,nextIndex,transaction,context);}


nextIndex++;}


for(name in prevChildren) {
if(prevChildren.hasOwnProperty(name) && 
!(nextChildren && nextChildren.hasOwnProperty(name))){
this._unmountChildByName(prevChildren[name],name);}}},










unmountChildren:function(){
var renderedChildren=this._renderedChildren;
ReactChildReconciler.unmountChildren(renderedChildren);
this._renderedChildren = null;},










moveChild:function(child,toIndex,lastIndex){



if(child._mountIndex < lastIndex){
enqueueMove(this._rootNodeID,child._mountIndex,toIndex);}},










createChild:function(child,mountImage){
enqueueMarkup(this._rootNodeID,mountImage,child._mountIndex);},








removeChild:function(child){
enqueueRemove(this._rootNodeID,child._mountIndex);},








setTextContent:function(textContent){
enqueueTextContent(this._rootNodeID,textContent);},













_mountChildByNameAtIndex:function(
child,
name,
index,
transaction,
context){

var rootID=this._rootNodeID + name;
var mountImage=ReactReconciler.mountComponent(
child,
rootID,
transaction,
context);

child._mountIndex = index;
this.createChild(child,mountImage);},











_unmountChildByName:function(child,name){
this.removeChild(child);
child._mountIndex = null;}}};






module.exports = ReactMultiChild;
});
__d('ReactChildReconciler',function(global, require, module, exports) {  'use strict';













var ReactReconciler=require('ReactReconciler');

var flattenChildren=require('flattenChildren');
var instantiateReactComponent=require('instantiateReactComponent');
var shouldUpdateReactComponent=require('shouldUpdateReactComponent');






var ReactChildReconciler={









instantiateChildren:function(nestedChildNodes,transaction,context){
var children=flattenChildren(nestedChildNodes);
for(var name in children) {
if(children.hasOwnProperty(name)){
var child=children[name];


var childInstance=instantiateReactComponent(child,null);
children[name] = childInstance;}}


return children;},












updateChildren:function(
prevChildren,
nextNestedChildNodes,
transaction,
context){





var nextChildren=flattenChildren(nextNestedChildNodes);
if(!nextChildren && !prevChildren){
return null;}

var name;
for(name in nextChildren) {
if(!nextChildren.hasOwnProperty(name)){
continue;}

var prevChild=prevChildren && prevChildren[name];
var prevElement=prevChild && prevChild._currentElement;
var nextElement=nextChildren[name];
if(shouldUpdateReactComponent(prevElement,nextElement)){
ReactReconciler.receiveComponent(
prevChild,nextElement,transaction,context);

nextChildren[name] = prevChild;}else 
{
if(prevChild){
ReactReconciler.unmountComponent(prevChild,name);}


var nextChildInstance=instantiateReactComponent(
nextElement,
null);

nextChildren[name] = nextChildInstance;}}



for(name in prevChildren) {
if(prevChildren.hasOwnProperty(name) && 
!(nextChildren && nextChildren.hasOwnProperty(name))){
ReactReconciler.unmountComponent(prevChildren[name]);}}


return nextChildren;},









unmountChildren:function(renderedChildren){
for(var name in renderedChildren) {
if(renderedChildren.hasOwnProperty(name)){
var renderedChild=renderedChildren[name];
ReactReconciler.unmountComponent(renderedChild);}}}};






module.exports = ReactChildReconciler;
});
__d('flattenChildren',function(global, require, module, exports) {  'use strict';












var traverseAllChildren=require('traverseAllChildren');
var warning=require('warning');






function flattenSingleChildIntoContext(traverseContext,child,name){

var result=traverseContext;
var keyUnique=result[name] === undefined;
if(__DEV__){
warning(
keyUnique,
'flattenChildren(...): Encountered two children with the same key, ' + 
'`%s`. Child keys must be unique; when two children share a key, only ' + 
'the first child will be used.',
name);}


if(keyUnique && child != null){
result[name] = child;}}








function flattenChildren(children){
if(children == null){
return children;}

var result={};
traverseAllChildren(children,flattenSingleChildIntoContext,result);
return result;}


module.exports = flattenChildren;
});
__d('traverseAllChildren',function(global, require, module, exports) {  'use strict';












var ReactElement=require('ReactElement');
var ReactFragment=require('ReactFragment');
var ReactInstanceHandles=require('ReactInstanceHandles');

var getIteratorFn=require('getIteratorFn');
var invariant=require('invariant');
var warning=require('warning');

var SEPARATOR=ReactInstanceHandles.SEPARATOR;
var SUBSEPARATOR=':';






var userProvidedKeyEscaperLookup={
'=':'=0',
'.':'=1',
':':'=2'};


var userProvidedKeyEscapeRegex=/[=.:]/g;

var didWarnAboutMaps=false;

function userProvidedKeyEscaper(match){
return userProvidedKeyEscaperLookup[match];}









function getComponentKey(component,index){
if(component && component.key != null){

return wrapUserProvidedKey(component.key);}


return index.toString(36);}








function escapeUserProvidedKey(text){
return ('' + text).replace(
userProvidedKeyEscapeRegex,
userProvidedKeyEscaper);}










function wrapUserProvidedKey(key){
return '$' + escapeUserProvidedKey(key);}










function traverseAllChildrenImpl(
children,
nameSoFar,
callback,
traverseContext)
{
var type=typeof children;

if(type === 'undefined' || type === 'boolean'){

children = null;}


if(children === null || 
type === 'string' || 
type === 'number' || 
ReactElement.isValidElement(children)){
callback(
traverseContext,
children,


nameSoFar === ''?SEPARATOR + getComponentKey(children,0):nameSoFar);

return 1;}


var child;
var nextName;
var subtreeCount=0;

if(Array.isArray(children)){
for(var i=0;i < children.length;i++) {
child = children[i];
nextName = 
(nameSoFar !== ''?nameSoFar + SUBSEPARATOR:SEPARATOR) + 
getComponentKey(child,i);

subtreeCount += traverseAllChildrenImpl(
child,
nextName,
callback,
traverseContext);}}else 


{
var iteratorFn=getIteratorFn(children);
if(iteratorFn){
var iterator=iteratorFn.call(children);
var step;
if(iteratorFn !== children.entries){
var ii=0;
while(!(step = iterator.next()).done) {
child = step.value;
nextName = 
(nameSoFar !== ''?nameSoFar + SUBSEPARATOR:SEPARATOR) + 
getComponentKey(child,ii++);

subtreeCount += traverseAllChildrenImpl(
child,
nextName,
callback,
traverseContext);}}else 


{
if(__DEV__){
warning(
didWarnAboutMaps,
'Using Maps as children is not yet fully supported. It is an ' + 
'experimental feature that might be removed. Convert it to a ' + 
'sequence / iterable of keyed ReactElements instead.');

didWarnAboutMaps = true;}


while(!(step = iterator.next()).done) {
var entry=step.value;
if(entry){
child = entry[1];
nextName = 
(nameSoFar !== ''?nameSoFar + SUBSEPARATOR:SEPARATOR) + 
wrapUserProvidedKey(entry[0]) + SUBSEPARATOR + 
getComponentKey(child,0);

subtreeCount += traverseAllChildrenImpl(
child,
nextName,
callback,
traverseContext);}}}}else 




if(type === 'object'){
invariant(
children.nodeType !== 1,
'traverseAllChildren(...): Encountered an invalid child; DOM ' + 
'elements are not valid children of React components.');

var fragment=ReactFragment.extract(children);
for(var key in fragment) {
if(fragment.hasOwnProperty(key)){
child = fragment[key];
nextName = 
(nameSoFar !== ''?nameSoFar + SUBSEPARATOR:SEPARATOR) + 
wrapUserProvidedKey(key) + SUBSEPARATOR + 
getComponentKey(child,0);

subtreeCount += traverseAllChildrenImpl(
child,
nextName,
callback,
traverseContext);}}}}






return subtreeCount;}


















function traverseAllChildren(children,callback,traverseContext){
if(children == null){
return 0;}


return traverseAllChildrenImpl(children,'',callback,traverseContext);}


module.exports = traverseAllChildren;
});
__d('getIteratorFn',function(global, require, module, exports) {  'use strict';














var ITERATOR_SYMBOL=typeof Symbol === 'function' && Symbol.iterator;
var FAUX_ITERATOR_SYMBOL='@@iterator';















function getIteratorFn(maybeIterable){
var iteratorFn=maybeIterable && (
ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || 
maybeIterable[FAUX_ITERATOR_SYMBOL]);

if(typeof iteratorFn === 'function'){
return iteratorFn;}}



module.exports = getIteratorFn;
});
__d('deepFreezeAndThrowOnMutationInDev',function(global, require, module, exports) {  'use strict';






























function deepFreezeAndThrowOnMutationInDev(object){
if(__DEV__){
if(typeof object !== 'object' || 
object === null || 
Object.isFrozen(object) || 
Object.isSealed(object)){
return;}


for(var key in object) {
if(object.hasOwnProperty(key)){
object.__defineGetter__(key,identity.bind(null,object[key]));
object.__defineSetter__(key,throwOnImmutableMutation.bind(null,key));
deepFreezeAndThrowOnMutationInDev(object[key]);}}


Object.freeze(object);
Object.seal(object);}}



function throwOnImmutableMutation(key,value){
throw Error(
'You attempted to set the key `' + key + '` with the value `' + 
JSON.stringify(value) + '` on an object that is meant to be immutable ' + 
'and has been frozen.');}



function identity(value){
return value;}


module.exports = deepFreezeAndThrowOnMutationInDev;
});
__d('RCTEventEmitter',function(global, require, module, exports) {  'use strict';












var ReactNativeEventEmitter=require('ReactNativeEventEmitter');


module.exports = ReactNativeEventEmitter;
});
__d('RCTLog',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var invariant=require('invariant');

var levelsMap={
log:'log',
info:'info',
warn:'warn',
error:'error',
mustfix:'error'};var 


RCTLog=(function(){function RCTLog(){_classCallCheck(this,RCTLog);}_createClass(RCTLog,null,[{key:'logIfNoNativeHook',value:

function logIfNoNativeHook(){
var args=Array.prototype.slice.call(arguments);
var level=args.shift();
var logFn=levelsMap[level];
invariant(
logFn,
'Level "' + level + '" not one of ' + Object.keys(levelsMap));

if(typeof global.nativeLoggingHook === 'undefined'){

console[logFn].apply(console,args);}

return true;}}]);return RCTLog;})();



module.exports = RCTLog;
});
__d('ReactChildren',function(global, require, module, exports) {  'use strict';












var PooledClass=require('PooledClass');
var ReactFragment=require('ReactFragment');

var traverseAllChildren=require('traverseAllChildren');
var warning=require('warning');

var twoArgumentPooler=PooledClass.twoArgumentPooler;
var threeArgumentPooler=PooledClass.threeArgumentPooler;









function ForEachBookKeeping(forEachFunction,forEachContext){
this.func = forEachFunction;
this.context = forEachContext;
this.count = 0;}

PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);

function forEachSingleChild(traverseContext,child,name){
var bookKeeping=traverseContext;
bookKeeping.func.call(bookKeeping.context,child,bookKeeping.count++);}












function forEachChildren(children,forEachFunc,forEachContext){
if(children == null){
return children;}


var traverseContext=
ForEachBookKeeping.getPooled(forEachFunc,forEachContext);
traverseAllChildren(children,forEachSingleChild,traverseContext);
ForEachBookKeeping.release(traverseContext);}











function MapBookKeeping(mapResult,mapFunction,mapContext){
this.result = mapResult;
this.func = mapFunction;
this.context = mapContext;
this.count = 0;}

PooledClass.addPoolingTo(MapBookKeeping,threeArgumentPooler);

function mapSingleChildIntoContext(traverseContext,child,name){
var bookKeeping=traverseContext;
var mapResult=bookKeeping.result;

var keyUnique=mapResult[name] === undefined;
if(__DEV__){
warning(
keyUnique,
'ReactChildren.map(...): Encountered two children with the same key, ' + 
'`%s`. Child keys must be unique; when two children share a key, only ' + 
'the first child will be used.',
name);}



if(keyUnique){
var mappedChild=
bookKeeping.func.call(bookKeeping.context,child,bookKeeping.count++);
mapResult[name] = mappedChild;}}

















function mapChildren(children,func,context){
if(children == null){
return children;}


var mapResult={};
var traverseContext=MapBookKeeping.getPooled(mapResult,func,context);
traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);
MapBookKeeping.release(traverseContext);
return ReactFragment.create(mapResult);}


function forEachSingleChildDummy(traverseContext,child,name){
return null;}









function countChildren(children,context){
return traverseAllChildren(children,forEachSingleChildDummy,null);}


var ReactChildren={
forEach:forEachChildren,
map:mapChildren,
count:countChildren};


module.exports = ReactChildren;
});
__d('ReactClass',function(global, require, module, exports) {  'use strict';












var ReactComponent=require('ReactComponent');
var ReactElement=require('ReactElement');
var ReactErrorUtils=require('ReactErrorUtils');
var ReactPropTypeLocations=require('ReactPropTypeLocations');
var ReactPropTypeLocationNames=require('ReactPropTypeLocationNames');
var ReactNoopUpdateQueue=require('ReactNoopUpdateQueue');

var assign=require('Object.assign');
var emptyObject=require('emptyObject');
var invariant=require('invariant');
var keyMirror=require('keyMirror');
var keyOf=require('keyOf');
var warning=require('warning');

var MIXINS_KEY=keyOf({mixins:null});




var SpecPolicy=keyMirror({



DEFINE_ONCE:null,




DEFINE_MANY:null,



OVERRIDE_BASE:null,





DEFINE_MANY_MERGED:null});



var injectedMixins=[];

var warnedSetProps=false;
function warnSetProps(){
if(!warnedSetProps){
warnedSetProps = true;
warning(
false,
'setProps(...) and replaceProps(...) are deprecated. ' + 
'Instead, call React.render again at the top level.');}}


























var ReactClassInterface={







mixins:SpecPolicy.DEFINE_MANY,








statics:SpecPolicy.DEFINE_MANY,







propTypes:SpecPolicy.DEFINE_MANY,







contextTypes:SpecPolicy.DEFINE_MANY,







childContextTypes:SpecPolicy.DEFINE_MANY,













getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,















getInitialState:SpecPolicy.DEFINE_MANY_MERGED,





getChildContext:SpecPolicy.DEFINE_MANY_MERGED,

















render:SpecPolicy.DEFINE_ONCE,












componentWillMount:SpecPolicy.DEFINE_MANY,











componentDidMount:SpecPolicy.DEFINE_MANY,




















componentWillReceiveProps:SpecPolicy.DEFINE_MANY,





















shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,
















componentWillUpdate:SpecPolicy.DEFINE_MANY,













componentDidUpdate:SpecPolicy.DEFINE_MANY,












componentWillUnmount:SpecPolicy.DEFINE_MANY,















updateComponent:SpecPolicy.OVERRIDE_BASE};












var RESERVED_SPEC_KEYS={
displayName:function(Constructor,displayName){
Constructor.displayName = displayName;},

mixins:function(Constructor,mixins){
if(mixins){
for(var i=0;i < mixins.length;i++) {
mixSpecIntoComponent(Constructor,mixins[i]);}}},



childContextTypes:function(Constructor,childContextTypes){
if(__DEV__){
validateTypeDef(
Constructor,
childContextTypes,
ReactPropTypeLocations.childContext);}


Constructor.childContextTypes = assign(
{},
Constructor.childContextTypes,
childContextTypes);},


contextTypes:function(Constructor,contextTypes){
if(__DEV__){
validateTypeDef(
Constructor,
contextTypes,
ReactPropTypeLocations.context);}


Constructor.contextTypes = assign(
{},
Constructor.contextTypes,
contextTypes);},






getDefaultProps:function(Constructor,getDefaultProps){
if(Constructor.getDefaultProps){
Constructor.getDefaultProps = createMergedResultFunction(
Constructor.getDefaultProps,
getDefaultProps);}else 

{
Constructor.getDefaultProps = getDefaultProps;}},


propTypes:function(Constructor,propTypes){
if(__DEV__){
validateTypeDef(
Constructor,
propTypes,
ReactPropTypeLocations.prop);}


Constructor.propTypes = assign(
{},
Constructor.propTypes,
propTypes);},


statics:function(Constructor,statics){
mixStaticSpecIntoComponent(Constructor,statics);}};



function validateTypeDef(Constructor,typeDef,location){
for(var propName in typeDef) {
if(typeDef.hasOwnProperty(propName)){


warning(
typeof typeDef[propName] === 'function',
'%s: %s type `%s` is invalid; it must be a function, usually from ' + 
'React.PropTypes.',
Constructor.displayName || 'ReactClass',
ReactPropTypeLocationNames[location],
propName);}}}





function validateMethodOverride(proto,name){
var specPolicy=ReactClassInterface.hasOwnProperty(name)?
ReactClassInterface[name]:
null;


if(ReactClassMixin.hasOwnProperty(name)){
invariant(
specPolicy === SpecPolicy.OVERRIDE_BASE,
'ReactClassInterface: You are attempting to override ' + 
'`%s` from your class specification. Ensure that your method names ' + 
'do not overlap with React methods.',
name);}




if(proto.hasOwnProperty(name)){
invariant(
specPolicy === SpecPolicy.DEFINE_MANY || 
specPolicy === SpecPolicy.DEFINE_MANY_MERGED,
'ReactClassInterface: You are attempting to define ' + 
'`%s` on your component more than once. This conflict may be due ' + 
'to a mixin.',
name);}}








function mixSpecIntoComponent(Constructor,spec){
if(!spec){
return;}


invariant(
typeof spec !== 'function',
'ReactClass: You\'re attempting to ' + 
'use a component class as a mixin. Instead, just use a regular object.');

invariant(
!ReactElement.isValidElement(spec),
'ReactClass: You\'re attempting to ' + 
'use a component as a mixin. Instead, just use a regular object.');


var proto=Constructor.prototype;




if(spec.hasOwnProperty(MIXINS_KEY)){
RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);}


for(var name in spec) {
if(!spec.hasOwnProperty(name)){
continue;}


if(name === MIXINS_KEY){

continue;}


var property=spec[name];
validateMethodOverride(proto,name);

if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){
RESERVED_SPEC_KEYS[name](Constructor,property);}else 
{




var isReactClassMethod=
ReactClassInterface.hasOwnProperty(name);
var isAlreadyDefined=proto.hasOwnProperty(name);
var isFunction=typeof property === 'function';
var shouldAutoBind=
isFunction && 
!isReactClassMethod && 
!isAlreadyDefined;

if(shouldAutoBind){
if(!proto.__reactAutoBindMap){
proto.__reactAutoBindMap = {};}

proto.__reactAutoBindMap[name] = property;
proto[name] = property;}else 
{
if(isAlreadyDefined){
var specPolicy=ReactClassInterface[name];


invariant(
isReactClassMethod && (
specPolicy === SpecPolicy.DEFINE_MANY_MERGED || 
specPolicy === SpecPolicy.DEFINE_MANY),

'ReactClass: Unexpected spec policy %s for key %s ' + 
'when mixing in component specs.',
specPolicy,
name);




if(specPolicy === SpecPolicy.DEFINE_MANY_MERGED){
proto[name] = createMergedResultFunction(proto[name],property);}else 
if(specPolicy === SpecPolicy.DEFINE_MANY){
proto[name] = createChainedFunction(proto[name],property);}}else 

{
proto[name] = property;
if(__DEV__){


if(typeof property === 'function' && spec.displayName){
proto[name].displayName = spec.displayName + '_' + name;}}}}}}}








function mixStaticSpecIntoComponent(Constructor,statics){
if(!statics){
return;}

for(var name in statics) {
var property=statics[name];
if(!statics.hasOwnProperty(name)){
continue;}


var isReserved=(name in RESERVED_SPEC_KEYS);
invariant(
!isReserved,
'ReactClass: You are attempting to define a reserved ' + 
'property, `%s`, that shouldn\'t be on the "statics" key. Define it ' + 
'as an instance property instead; it will still be accessible on the ' + 
'constructor.',
name);


var isInherited=(name in Constructor);
invariant(
!isInherited,
'ReactClass: You are attempting to define ' + 
'`%s` on your component more than once. This conflict may be ' + 
'due to a mixin.',
name);

Constructor[name] = property;}}










function mergeIntoWithNoDuplicateKeys(one,two){
invariant(
one && two && typeof one === 'object' && typeof two === 'object',
'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.');


for(var key in two) {
if(two.hasOwnProperty(key)){
invariant(
one[key] === undefined,
'mergeIntoWithNoDuplicateKeys(): ' + 
'Tried to merge two objects with the same key: `%s`. This conflict ' + 
'may be due to a mixin; in particular, this may be caused by two ' + 
'getInitialState() or getDefaultProps() methods returning objects ' + 
'with clashing keys.',
key);

one[key] = two[key];}}


return one;}










function createMergedResultFunction(one,two){
return function mergedResult(){
var a=one.apply(this,arguments);
var b=two.apply(this,arguments);
if(a == null){
return b;}else 
if(b == null){
return a;}

var c={};
mergeIntoWithNoDuplicateKeys(c,a);
mergeIntoWithNoDuplicateKeys(c,b);
return c;};}











function createChainedFunction(one,two){
return function chainedFunction(){
one.apply(this,arguments);
two.apply(this,arguments);};}










function bindAutoBindMethod(component,method){
var boundMethod=method.bind(component);
if(__DEV__){
boundMethod.__reactBoundContext = component;
boundMethod.__reactBoundMethod = method;
boundMethod.__reactBoundArguments = null;
var componentName=component.constructor.displayName;
var _bind=boundMethod.bind;

boundMethod.bind = function(newThis){for(var _len=arguments.length,args=Array(_len > 1?_len - 1:0),_key=1;_key < _len;_key++) {args[_key - 1] = arguments[_key];}



if(newThis !== component && newThis !== null){
warning(
false,
'bind(): React component methods may only be bound to the ' + 
'component instance. See %s',
componentName);}else 

if(!args.length){
warning(
false,
'bind(): You are binding a component method to the component. ' + 
'React does this for you automatically in a high-performance ' + 
'way, so you can safely remove this call. See %s',
componentName);

return boundMethod;}

var reboundMethod=_bind.apply(boundMethod,arguments);
reboundMethod.__reactBoundContext = component;
reboundMethod.__reactBoundMethod = method;
reboundMethod.__reactBoundArguments = args;
return reboundMethod;};}



return boundMethod;}







function bindAutoBindMethods(component){
for(var autoBindKey in component.__reactAutoBindMap) {
if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){
var method=component.__reactAutoBindMap[autoBindKey];
component[autoBindKey] = bindAutoBindMethod(
component,
ReactErrorUtils.guard(
method,
component.constructor.displayName + '.' + autoBindKey));}}}










var ReactClassMixin={





replaceState:function(newState,callback){
this.updater.enqueueReplaceState(this,newState);
if(callback){
this.updater.enqueueCallback(this,callback);}},









isMounted:function(){
return this.updater.isMounted(this);},











setProps:function(partialProps,callback){
if(__DEV__){
warnSetProps();}

this.updater.enqueueSetProps(this,partialProps);
if(callback){
this.updater.enqueueCallback(this,callback);}},












replaceProps:function(newProps,callback){
if(__DEV__){
warnSetProps();}

this.updater.enqueueReplaceProps(this,newProps);
if(callback){
this.updater.enqueueCallback(this,callback);}}};




var ReactClassComponent=function(){};
assign(
ReactClassComponent.prototype,
ReactComponent.prototype,
ReactClassMixin);







var ReactClass={








createClass:function(spec){
var Constructor=function(props,context,updater){



if(__DEV__){
warning(
this instanceof Constructor,
'Something is calling a React component directly. Use a factory or ' + 
'JSX instead. See: https://fb.me/react-legacyfactory');}




if(this.__reactAutoBindMap){
bindAutoBindMethods(this);}


this.props = props;
this.context = context;
this.refs = emptyObject;
this.updater = updater || ReactNoopUpdateQueue;

this.state = null;




var initialState=this.getInitialState?this.getInitialState():null;
if(__DEV__){

if(typeof initialState === 'undefined' && 
this.getInitialState._isMockFunction){


initialState = null;}}


invariant(
typeof initialState === 'object' && !Array.isArray(initialState),
'%s.getInitialState(): must return an object or null',
Constructor.displayName || 'ReactCompositeComponent');


this.state = initialState;};

Constructor.prototype = new ReactClassComponent();
Constructor.prototype.constructor = Constructor;

injectedMixins.forEach(
mixSpecIntoComponent.bind(null,Constructor));


mixSpecIntoComponent(Constructor,spec);


if(Constructor.getDefaultProps){
Constructor.defaultProps = Constructor.getDefaultProps();}


if(__DEV__){




if(Constructor.getDefaultProps){
Constructor.getDefaultProps.isReactClassApproved = {};}

if(Constructor.prototype.getInitialState){
Constructor.prototype.getInitialState.isReactClassApproved = {};}}



invariant(
Constructor.prototype.render,
'createClass(...): Class specification must implement a `render` method.');


if(__DEV__){
warning(
!Constructor.prototype.componentShouldUpdate,
'%s has a method called ' + 
'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 
'The name is phrased as a question because the function is ' + 
'expected to return a value.',
spec.displayName || 'A component');

warning(
!Constructor.prototype.componentWillRecieveProps,
'%s has a method called ' + 
'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',
spec.displayName || 'A component');}




for(var methodName in ReactClassInterface) {
if(!Constructor.prototype[methodName]){
Constructor.prototype[methodName] = null;}}



return Constructor;},


injection:{
injectMixin:function(mixin){
injectedMixins.push(mixin);}}};





module.exports = ReactClass;
});
__d('ReactComponent',function(global, require, module, exports) {  'use strict';












var ReactNoopUpdateQueue=require('ReactNoopUpdateQueue');

var emptyObject=require('emptyObject');
var invariant=require('invariant');
var warning=require('warning');




function ReactComponent(props,context,updater){
this.props = props;
this.context = context;
this.refs = emptyObject;


this.updater = updater || ReactNoopUpdateQueue;}



























ReactComponent.prototype.setState = function(partialState,callback){
invariant(
typeof partialState === 'object' || 
typeof partialState === 'function' || 
partialState == null,
'setState(...): takes an object of state variables to update or a ' + 
'function which returns an object of state variables.');

if(__DEV__){
warning(
partialState != null,
'setState(...): You passed an undefined or null state object; ' + 
'instead, use forceUpdate().');}


this.updater.enqueueSetState(this,partialState);
if(callback){
this.updater.enqueueCallback(this,callback);}};

















ReactComponent.prototype.forceUpdate = function(callback){
this.updater.enqueueForceUpdate(this);
if(callback){
this.updater.enqueueCallback(this,callback);}};








if(__DEV__){
var deprecatedAPIs={
getDOMNode:[
'getDOMNode',
'Use React.findDOMNode(component) instead.'],

isMounted:[
'isMounted',
'Instead, make sure to clean up subscriptions and pending requests in ' + 
'componentWillUnmount to prevent memory leaks.'],

replaceProps:[
'replaceProps',
'Instead, call React.render again at the top level.'],

replaceState:[
'replaceState',
'Refactor your code to use setState instead (see ' + 
'https://github.com/facebook/react/issues/3236).'],

setProps:[
'setProps',
'Instead, call React.render again at the top level.']};


var defineDeprecationWarning=function(methodName,info){
try{
Object.defineProperty(ReactComponent.prototype,methodName,{
get:function(){
warning(
false,
'%s(...) is deprecated in plain JavaScript React classes. %s',
info[0],
info[1]);

return undefined;}});}


catch(x) {}};



for(var fnName in deprecatedAPIs) {
if(deprecatedAPIs.hasOwnProperty(fnName)){
defineDeprecationWarning(fnName,deprecatedAPIs[fnName]);}}}




module.exports = ReactComponent;
});
__d('ReactNoopUpdateQueue',function(global, require, module, exports) {  'use strict';












var warning=require('warning');

function warnTDZ(publicInstance,callerName){
if(__DEV__){
warning(
false,
'%s(...): Can only update a mounted or mounting component. ' + 
'This usually means you called %s() on an unmounted component. ' + 
'This is a no-op. Please check the code for the %s component.',
callerName,
callerName,
publicInstance.constructor && publicInstance.constructor.displayName || '');}}







var ReactNoopUpdateQueue={








isMounted:function(publicInstance){
return false;},










enqueueCallback:function(publicInstance,callback){},














enqueueForceUpdate:function(publicInstance){
warnTDZ(publicInstance,'forceUpdate');},













enqueueReplaceState:function(publicInstance,completeState){
warnTDZ(publicInstance,'replaceState');},












enqueueSetState:function(publicInstance,partialState){
warnTDZ(publicInstance,'setState');},









enqueueSetProps:function(publicInstance,partialProps){
warnTDZ(publicInstance,'setProps');},









enqueueReplaceProps:function(publicInstance,props){
warnTDZ(publicInstance,'replaceProps');}};




module.exports = ReactNoopUpdateQueue;
});
__d('ReactErrorUtils',function(global, require, module, exports) {  'use strict';













var ReactErrorUtils={









guard:function(func,name){
return func;}};



module.exports = ReactErrorUtils;
});
__d('ReactElementValidator',function(global, require, module, exports) {  'use strict';



















var ReactElement=require('ReactElement');
var ReactFragment=require('ReactFragment');
var ReactPropTypeLocations=require('ReactPropTypeLocations');
var ReactPropTypeLocationNames=require('ReactPropTypeLocationNames');
var ReactCurrentOwner=require('ReactCurrentOwner');

var getIteratorFn=require('getIteratorFn');
var invariant=require('invariant');
var warning=require('warning');

function getDeclarationErrorAddendum(){
if(ReactCurrentOwner.current){
var name=ReactCurrentOwner.current.getName();
if(name){
return ' Check the render method of `' + name + '`.';}}


return '';}







var ownerHasKeyUseWarning={};

var loggedTypeFailures={};

var NUMERIC_PROPERTY_REGEX=/^\d+$/;







function getName(instance){
var publicInstance=instance && instance.getPublicInstance();
if(!publicInstance){
return undefined;}

var constructor=publicInstance.constructor;
if(!constructor){
return undefined;}

return constructor.displayName || constructor.name || undefined;}








function getCurrentOwnerDisplayName(){
var current=ReactCurrentOwner.current;
return (
current && getName(current) || undefined);}













function validateExplicitKey(element,parentType){
if(element._store.validated || element.key != null){
return;}

element._store.validated = true;

var addenda=getAddendaForKeyUse('uniqueKey',element,parentType);
if(addenda === null){

return;}

warning(
false,
'Each child in an array or iterator should have a unique "key" prop.' + 
'%s%s%s',
addenda.parentOrOwner || '',
addenda.childOwner || '',
addenda.url || '');}












function validatePropertyKey(name,element,parentType){
if(!NUMERIC_PROPERTY_REGEX.test(name)){
return;}

var addenda=getAddendaForKeyUse('numericKeys',element,parentType);
if(addenda === null){

return;}

warning(
false,
'Child objects should have non-numeric keys so ordering is preserved.' + 
'%s%s%s',
addenda.parentOrOwner || '',
addenda.childOwner || '',
addenda.url || '');}













function getAddendaForKeyUse(messageType,element,parentType){
var ownerName=getCurrentOwnerDisplayName();
var parentName=typeof parentType === 'string'?
parentType:parentType.displayName || parentType.name;

var useName=ownerName || parentName;
var memoizer=ownerHasKeyUseWarning[messageType] || (
ownerHasKeyUseWarning[messageType] = {});

if(memoizer[useName]){
return null;}

memoizer[useName] = true;

var addenda={
parentOrOwner:
ownerName?' Check the render method of ' + ownerName + '.':
parentName?' Check the React.render call using <' + parentName + '>.':
null,
url:' See https://fb.me/react-warning-keys for more information.',
childOwner:null};





if(element && 
element._owner && 
element._owner !== ReactCurrentOwner.current){

addenda.childOwner = ' It was passed a child from ' + 
getName(element._owner) + '.';}


return addenda;}











function validateChildKeys(node,parentType){
if(Array.isArray(node)){
for(var i=0;i < node.length;i++) {
var child=node[i];
if(ReactElement.isValidElement(child)){
validateExplicitKey(child,parentType);}}}else 


if(ReactElement.isValidElement(node)){

node._store.validated = true;}else 
if(node){
var iteratorFn=getIteratorFn(node);

if(iteratorFn){
if(iteratorFn !== node.entries){
var iterator=iteratorFn.call(node);
var step;
while(!(step = iterator.next()).done) {
if(ReactElement.isValidElement(step.value)){
validateExplicitKey(step.value,parentType);}}}}else 



if(typeof node === 'object'){
var fragment=ReactFragment.extractIfFragment(node);
for(var key in fragment) {
if(fragment.hasOwnProperty(key)){
validatePropertyKey(key,fragment[key],parentType);}}}}}















function checkPropTypes(componentName,propTypes,props,location){
for(var propName in propTypes) {
if(propTypes.hasOwnProperty(propName)){
var error;



try{


invariant(
typeof propTypes[propName] === 'function',
'%s: %s type `%s` is invalid; it must be a function, usually from ' + 
'React.PropTypes.',
componentName || 'React class',
ReactPropTypeLocationNames[location],
propName);

error = propTypes[propName](props,propName,componentName,location);}
catch(ex) {
error = ex;}

warning(
!error || error instanceof Error,
'%s: type specification of %s `%s` is invalid; the type checker ' + 
'function must return `null` or an `Error` but returned a %s. ' + 
'You may have forgotten to pass an argument to the type checker ' + 
'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 
'shape all require an argument).',
componentName || 'React class',
ReactPropTypeLocationNames[location],
propName,
typeof error);

if(error instanceof Error && !(error.message in loggedTypeFailures)){


loggedTypeFailures[error.message] = true;

var addendum=getDeclarationErrorAddendum();
warning(false,'Failed propType: %s%s',error.message,addendum);}}}}











function validatePropTypes(element){
var componentClass=element.type;
if(typeof componentClass !== 'function'){
return;}

var name=componentClass.displayName || componentClass.name;
if(componentClass.propTypes){
checkPropTypes(
name,
componentClass.propTypes,
element.props,
ReactPropTypeLocations.prop);}


if(typeof componentClass.getDefaultProps === 'function'){
warning(
componentClass.getDefaultProps.isReactClassApproved,
'getDefaultProps is only used on classic React.createClass ' + 
'definitions. Use a static property named `defaultProps` instead.');}}




var ReactElementValidator={

createElement:function(type,props,children){


warning(typeof type === 'string' || typeof type === 'function',
'React.createElement: type should not be null, undefined, boolean, or ' + 
'number. It should be a string (for DOM elements) or a ReactClass ' + 
'(for composite components).%s',
getDeclarationErrorAddendum());


var element=ReactElement.createElement.apply(this,arguments);



if(element == null){
return element;}


for(var i=2;i < arguments.length;i++) {
validateChildKeys(arguments[i],type);}


validatePropTypes(element);

return element;},


createFactory:function(type){
var validatedFactory=ReactElementValidator.createElement.bind(
null,
type);


validatedFactory.type = type;

if(__DEV__){
try{
Object.defineProperty(
validatedFactory,
'type',
{
enumerable:false,
get:function(){
warning(
false,
'Factory.type is deprecated. Access the class directly ' + 
'before passing it to createFactory.');

Object.defineProperty(this,'type',{
value:type});

return type;}});}



catch(x) {}}





return validatedFactory;},


cloneElement:function(element,props,children){
var newElement=ReactElement.cloneElement.apply(this,arguments);
for(var i=2;i < arguments.length;i++) {
validateChildKeys(arguments[i],newElement.type);}

validatePropTypes(newElement);
return newElement;}};




module.exports = ReactElementValidator;
});
__d('deprecated',function(global, require, module, exports) {  'use strict';












var assign=require('Object.assign');
var warning=require('warning');











function deprecated(fnName,newModule,ctx,fn){
var warned=false;
if(__DEV__){
var newFn=function(){
warning(
warned,



'`require' + '("react").%s` is deprecated. Please use `require' + '("%s").%s` ' + 
'instead.',
fnName,
newModule,
fnName);

warned = true;
return fn.apply(ctx,arguments);};



return assign(newFn,fn);}


return fn;}


module.exports = deprecated;
});
__d('onlyChild',function(global, require, module, exports) {  'use strict';











var ReactElement=require('ReactElement');

var invariant=require('invariant');












function onlyChild(children){
invariant(
ReactElement.isValidElement(children),
'onlyChild must be passed a children with exactly one child.');

return children;}


module.exports = onlyChild;
});
__d('ActivityIndicatorIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj) {if(keys.indexOf(i) >= 0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i] = obj[i];}return target;}












var NativeMethodsMixin=require('NativeMethodsMixin');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');

var GRAY='#999999';








var ActivityIndicatorIOS=React.createClass({displayName:'ActivityIndicatorIOS',
mixins:[NativeMethodsMixin],

propTypes:{



animating:PropTypes.bool,



color:PropTypes.string,



hidesWhenStopped:PropTypes.bool,



size:PropTypes.oneOf([
'small',
'large']),






onLayout:PropTypes.func},


getDefaultProps:function(){
return {
animating:true,
color:GRAY,
hidesWhenStopped:true,
size:'small'};},



render:function(){var _props=
this.props;var onLayout=_props.onLayout;var style=_props.style;var props=_objectWithoutProperties(_props,['onLayout','style']);
var sizeStyle=this.props.size === 'large'?styles.sizeLarge:styles.sizeSmall;
return (
React.createElement(View,{
onLayout:onLayout,
style:[styles.container,style]},
React.createElement(RCTActivityIndicatorView,_extends({},props,{style:sizeStyle}))));}});





var styles=StyleSheet.create({
container:{
alignItems:'center',
justifyContent:'center'},

sizeSmall:{
width:20,
height:20},

sizeLarge:{
width:36,
height:36}});



var RCTActivityIndicatorView=requireNativeComponent(
'RCTActivityIndicatorView',
ActivityIndicatorIOS,
{nativeOnly:{activityIndicatorViewStyle:true}});


module.exports = ActivityIndicatorIOS;
});
__d('StyleSheet',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var StyleSheetRegistry=require('StyleSheetRegistry');
var StyleSheetValidation=require('StyleSheetValidation');var 













































StyleSheet=(function(){function StyleSheet(){_classCallCheck(this,StyleSheet);}_createClass(StyleSheet,null,[{key:'create',value:
function create(obj){
var result={};
for(var key in obj) {
StyleSheetValidation.validateStyle(key,obj);
result[key] = StyleSheetRegistry.registerStyle(obj[key]);}

return result;}}]);return StyleSheet;})();



module.exports = StyleSheet;
});
__d('StyleSheetValidation',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var ImageStylePropTypes=require('ImageStylePropTypes');
var ReactPropTypeLocations=require('ReactPropTypeLocations');
var TextStylePropTypes=require('TextStylePropTypes');
var ViewStylePropTypes=require('ViewStylePropTypes');

var invariant=require('invariant');var 

StyleSheetValidation=(function(){function StyleSheetValidation(){_classCallCheck(this,StyleSheetValidation);}_createClass(StyleSheetValidation,null,[{key:'validateStyleProp',value:
function validateStyleProp(prop,style,caller){
if(!__DEV__){
return;}

if(allStylePropTypes[prop] === undefined){
var message1='"' + prop + '" is not a valid style property.';
var message2='\nValid style props: ' + 
JSON.stringify(Object.keys(allStylePropTypes).sort(),null,'  ');
styleError(message1,style,caller,message2);}

var error=allStylePropTypes[prop](
style,
prop,
caller,
ReactPropTypeLocations.prop);

if(error){
styleError(error.message,style,caller);}}},{key:'validateStyle',value:



function validateStyle(name,styles){
if(!__DEV__){
return;}

for(var prop in styles[name]) {
StyleSheetValidation.validateStyleProp(prop,styles[name],'StyleSheet ' + name);}}},{key:'addValidStylePropTypes',value:



function addValidStylePropTypes(stylePropTypes){
for(var key in stylePropTypes) {
allStylePropTypes[key] = stylePropTypes[key];}}}]);return StyleSheetValidation;})();




var styleError=function(message1,style,caller,message2){
invariant(
false,
message1 + '\n' + (caller || '<<unknown>>') + ': ' + 
JSON.stringify(style,null,'  ') + (message2 || ''));};



var allStylePropTypes={};

StyleSheetValidation.addValidStylePropTypes(ImageStylePropTypes);
StyleSheetValidation.addValidStylePropTypes(TextStylePropTypes);
StyleSheetValidation.addValidStylePropTypes(ViewStylePropTypes);

module.exports = StyleSheetValidation;
});
__d('View',function(global, require, module, exports) {  'use strict';












var NativeMethodsMixin=require('NativeMethodsMixin');
var PropTypes=require('ReactPropTypes');
var RCTUIManager=require('NativeModules').UIManager;
var React=require('React');
var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var StyleSheetPropType=require('StyleSheetPropType');
var ViewStylePropTypes=require('ViewStylePropTypes');

var createReactNativeComponentClass=require('createReactNativeComponentClass');

var stylePropType=StyleSheetPropType(ViewStylePropTypes);

var AccessibilityTraits=[
'none',
'button',
'link',
'header',
'search',
'image',
'selected',
'plays',
'key',
'text',
'summary',
'disabled',
'frequentUpdates',
'startsMedia',
'adjustable',
'allowsDirectInteraction',
'pageTurn'];


var AccessibilityComponentType=[
'none',
'button',
'radiobutton_checked',
'radiobutton_unchecked'];






















var View=React.createClass({displayName:'View',
mixins:[NativeMethodsMixin],





viewConfig:{
uiViewClassName:'RCTView',
validAttributes:ReactNativeViewAttributes.RCTView},


statics:{
AccessibilityTraits:AccessibilityTraits,
AccessibilityComponentType:AccessibilityComponentType},


propTypes:{




accessible:PropTypes.bool,






accessibilityLabel:PropTypes.string,






accessibilityComponentType:PropTypes.oneOf(AccessibilityComponentType),








accessibilityLiveRegion:PropTypes.oneOf([
'none',
'polite',
'assertive']),


















importantForAccessibility:PropTypes.oneOf([
'auto',
'yes',
'no',
'no-hide-descendants']),







accessibilityTraits:PropTypes.oneOfType([
PropTypes.oneOf(AccessibilityTraits),
PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits))]),






onAccessibilityTap:PropTypes.func,





onMagicTap:PropTypes.func,





testID:PropTypes.string,






onMoveShouldSetResponder:PropTypes.func,
onResponderGrant:PropTypes.func,
onResponderMove:PropTypes.func,
onResponderReject:PropTypes.func,
onResponderRelease:PropTypes.func,
onResponderTerminate:PropTypes.func,
onResponderTerminationRequest:PropTypes.func,
onStartShouldSetResponder:PropTypes.func,
onStartShouldSetResponderCapture:PropTypes.func,










onLayout:PropTypes.func,































pointerEvents:PropTypes.oneOf([
'box-none',
'none',
'box-only',
'auto']),

style:stylePropType,









removeClippedSubviews:PropTypes.bool,














renderToHardwareTextureAndroid:PropTypes.bool,














shouldRasterizeIOS:PropTypes.bool,








collapsable:PropTypes.bool,






















needsOffscreenAlphaCompositing:PropTypes.bool},


render:function(){
return React.createElement(RCTView,this.props);}});



var RCTView=createReactNativeComponentClass({
validAttributes:ReactNativeViewAttributes.RCTView,
uiViewClassName:'RCTView'});

RCTView.propTypes = View.propTypes;
if(__DEV__){
var viewConfig=RCTUIManager.viewConfigs && RCTUIManager.viewConfigs.RCTView || {};
for(var prop in viewConfig.nativeProps) {
var viewAny=View;
if(!viewAny.propTypes[prop] && !ReactNativeStyleAttributes[prop]){
throw new Error(
'View is missing propType for native prop `' + prop + '`');}}}





var ViewToExport=RCTView;
if(__DEV__){
ViewToExport = View;}


module.exports = ViewToExport;
});
__d('ReactNativeViewAttributes',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');

var ReactNativeViewAttributes={};

ReactNativeViewAttributes.UIView = {
pointerEvents:true,
accessible:true,
accessibilityLabel:true,
accessibilityComponentType:true,
accessibilityLiveRegion:true,
accessibilityTraits:true,
importantForAccessibility:true,
testID:true,
renderToHardwareTextureAndroid:true,
shouldRasterizeIOS:true,
onLayout:true,
onAccessibilityTap:true,
onMagicTap:true,
collapsable:true,
needsOffscreenAlphaCompositing:true,
style:ReactNativeStyleAttributes};


ReactNativeViewAttributes.RCTView = _extends({},
ReactNativeViewAttributes.UIView,{






removeClippedSubviews:true});


module.exports = ReactNativeViewAttributes;
});
__d('StyleSheetPropType',function(global, require, module, exports) {  'use strict';












var createStrictShapeTypeChecker=require('createStrictShapeTypeChecker');
var flattenStyle=require('flattenStyle');

function StyleSheetPropType(
shape)
{
var shapePropType=createStrictShapeTypeChecker(shape);
return function(props,propName,componentName,location){
var newProps=props;
if(props[propName]){

newProps = {};
newProps[propName] = flattenStyle(props[propName]);}

return shapePropType(newProps,propName,componentName,location);};}



module.exports = StyleSheetPropType;
});
__d('createStrictShapeTypeChecker',function(global, require, module, exports) {  'use strict';












var ReactPropTypeLocationNames=require('ReactPropTypeLocationNames');

var invariant=require('invariant');
var merge=require('merge');

function createStrictShapeTypeChecker(
shapeTypes)
{
function checkType(isRequired,props,propName,componentName,location){
if(!props[propName]){
if(isRequired){
invariant(
false,
'Required object `' + propName + '` was not specified in ' + ('`' + 
componentName + '`.'));}


return;}

var propValue=props[propName];
var propType=typeof propValue;
var locationName=
location && ReactPropTypeLocationNames[location] || '(unknown)';
if(propType !== 'object'){
invariant(
false,
'Invalid ' + locationName + ' `' + propName + '` of type `' + propType + '` ' + ('supplied to `' + 
componentName + '`, expected `object`.'));}




var allKeys=merge(props[propName],shapeTypes);
for(var key in allKeys) {
var checker=shapeTypes[key];
if(!checker){
invariant(
false,
'Invalid props.' + propName + ' key `' + key + '` supplied to `' + componentName + '`.' + '\nBad object: ' + 
JSON.stringify(props[propName],null,'  ') + '\nValid keys: ' + 
JSON.stringify(Object.keys(shapeTypes),null,'  '));}


var error=checker(propValue,key,componentName,location);
if(error){
invariant(
false,
error.message + '\nBad object: ' + 
JSON.stringify(props[propName],null,'  '));}}}




function chainedCheckType(
props,
propName,
componentName,
location)
{
return checkType(false,props,propName,componentName,location);}

chainedCheckType.isRequired = checkType.bind(null,true);
return chainedCheckType;}


module.exports = createStrictShapeTypeChecker;
});
__d('requireNativeComponent',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};










'use strict';

var RCTUIManager=require('NativeModules').UIManager;
var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');
var UnimplementedView=require('UnimplementedView');

var createReactNativeComponentClass=require('createReactNativeComponentClass');
var insetsDiffer=require('insetsDiffer');
var pointsDiffer=require('pointsDiffer');
var matricesDiffer=require('matricesDiffer');
var processColor=require('processColor');
var sizesDiffer=require('sizesDiffer');
var verifyPropTypes=require('verifyPropTypes');
var warning=require('warning');


















function requireNativeComponent(
viewName,
componentInterface,
extraConfig)
{
var viewConfig=RCTUIManager[viewName];
if(!viewConfig || !viewConfig.NativeProps){
warning(false,'Native component for "%s" does not exist',viewName);
return UnimplementedView;}

var nativeProps=_extends({},
RCTUIManager.RCTView.NativeProps,
viewConfig.NativeProps);

viewConfig.uiViewClassName = viewName;
viewConfig.validAttributes = {};
viewConfig.propTypes = componentInterface && componentInterface.propTypes;
for(var key in nativeProps) {
var useAttribute=false;
var attribute={};

var differ=TypeToDifferMap[nativeProps[key]];
if(differ){
attribute.diff = differ;
useAttribute = true;}


var processor=TypeToProcessorMap[nativeProps[key]];
if(processor){
attribute.process = processor;
useAttribute = true;}


viewConfig.validAttributes[key] = useAttribute?attribute:true;}







viewConfig.validAttributes.style = ReactNativeStyleAttributes;

if(__DEV__){
componentInterface && verifyPropTypes(
componentInterface,
viewConfig,
extraConfig && extraConfig.nativeOnly);}


return createReactNativeComponentClass(viewConfig);}


var TypeToDifferMap={

CATransform3D:matricesDiffer,
CGPoint:pointsDiffer,
CGSize:sizesDiffer,
UIEdgeInsets:insetsDiffer};




var TypeToProcessorMap={

CGColor:processColor,
CGColorArray:processColor,
UIColor:processColor,
UIColorArray:processColor,

Color:processColor};


module.exports = requireNativeComponent;
});
__d('verifyPropTypes',function(global, require, module, exports) {  'use strict';Object.defineProperty(exports,'__esModule',{value:true});












var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');
var View=require('View');







function verifyPropTypes(
componentInterface,
viewConfig,
nativePropsToIgnore)
{
if(!viewConfig){
return;}

var componentName=componentInterface.name || 
componentInterface.displayName || 
'unknown';
if(!componentInterface.propTypes){
throw new Error(
'`' + componentName + '` has no propTypes defined`');}



var nativeProps=viewConfig.NativeProps;
for(var prop in nativeProps) {
if(!componentInterface.propTypes[prop] && 
!View.propTypes[prop] && 
!ReactNativeStyleAttributes[prop] && (
!nativePropsToIgnore || !nativePropsToIgnore[prop])){
throw new Error(
'`' + componentName + '` has no propType for native prop `' + 
viewConfig.uiViewClassName + '.' + prop + '` of native type `' + 
nativeProps[prop] + '`');}}}





module.exports = verifyPropTypes;
});
__d('UnimplementedView',function(global, require, module, exports) {  'use strict';








var React=require('React');
var StyleSheet=require('StyleSheet');
var View=require('View');

var UnimplementedView=React.createClass({displayName:'UnimplementedView',
setNativeProps:function(){},




render:function(){
return (
React.createElement(View,{style:[styles.unimplementedView,this.props.style]},
this.props.children));}});





var styles=StyleSheet.create({
unimplementedView:{
borderWidth:1,
borderColor:'red',
alignSelf:'flex-start'}});



module.exports = UnimplementedView;
});
__d('insetsDiffer',function(global, require, module, exports) {  'use strict';



















var dummyInsets={
top:undefined,
left:undefined,
right:undefined,
bottom:undefined};


var insetsDiffer=function(
one,
two)
{
one = one || dummyInsets;
two = two || dummyInsets;
return one !== two && (
one.top !== two.top || 
one.left !== two.left || 
one.right !== two.right || 
one.bottom !== two.bottom);};



module.exports = insetsDiffer;
});
__d('pointsDiffer',function(global, require, module, exports) {  'use strict';

















var dummyPoint={x:undefined,y:undefined};

var pointsDiffer=function(one,two){
one = one || dummyPoint;
two = two || dummyPoint;
return one !== two && (
one.x !== two.x || 
one.y !== two.y);};



module.exports = pointsDiffer;
});
__d('DatePickerIOS',function(global, require, module, exports) {  'use strict';














var NativeMethodsMixin=require('NativeMethodsMixin');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var RCTDatePickerIOSConsts=require('NativeModules').UIManager.RCTDatePicker.Constants;
var StyleSheet=require('StyleSheet');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');

var DATEPICKER='datepicker';














var DatePickerIOS=React.createClass({displayName:'DatePickerIOS',
mixins:[NativeMethodsMixin],

propTypes:{



date:PropTypes.instanceOf(Date).isRequired,








onDateChange:PropTypes.func.isRequired,






maximumDate:PropTypes.instanceOf(Date),






minimumDate:PropTypes.instanceOf(Date),




mode:PropTypes.oneOf(['date','time','datetime']),




minuteInterval:PropTypes.oneOf([1,2,3,4,5,6,10,12,15,20,30]),








timeZoneOffsetInMinutes:PropTypes.number},


getDefaultProps:function(){
return {
mode:'datetime'};},



_onChange:function(event){
var nativeTimeStamp=event.nativeEvent.timestamp;
this.props.onDateChange && this.props.onDateChange(
new Date(nativeTimeStamp));

this.props.onChange && this.props.onChange(event);





var propsTimeStamp=this.props.date.getTime();
if(nativeTimeStamp !== propsTimeStamp){
this.refs[DATEPICKER].setNativeProps({
date:propsTimeStamp});}},




render:function(){
var props=this.props;
return (
React.createElement(View,{style:props.style},
React.createElement(RCTDatePickerIOS,{
ref:DATEPICKER,
style:styles.datePickerIOS,
date:props.date.getTime(),
maximumDate:
props.maximumDate?props.maximumDate.getTime():undefined,

minimumDate:
props.minimumDate?props.minimumDate.getTime():undefined,

mode:props.mode,
minuteInterval:props.minuteInterval,
timeZoneOffsetInMinutes:props.timeZoneOffsetInMinutes,
onChange:this._onChange})));}});






var styles=StyleSheet.create({
datePickerIOS:{
height:RCTDatePickerIOSConsts.ComponentHeight,
width:RCTDatePickerIOSConsts.ComponentWidth}});



var RCTDatePickerIOS=requireNativeComponent('RCTDatePicker',DatePickerIOS,{
nativeOnly:{onChange:true}});


module.exports = DatePickerIOS;
});
__d('DrawerLayoutAndroid',function(global, require, module, exports) {  'use strict';











module.exports = require('UnimplementedView');
});
__d('Image',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var EdgeInsetsPropType=require('EdgeInsetsPropType');
var ImageResizeMode=require('ImageResizeMode');
var ImageStylePropTypes=require('ImageStylePropTypes');
var NativeMethodsMixin=require('NativeMethodsMixin');
var NativeModules=require('NativeModules');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var View=require('View');
var StyleSheet=require('StyleSheet');
var StyleSheetPropType=require('StyleSheetPropType');

var flattenStyle=require('flattenStyle');
var invariant=require('invariant');
var requireNativeComponent=require('requireNativeComponent');
var resolveAssetSource=require('resolveAssetSource');
var warning=require('warning');

























var Image=React.createClass({displayName:'Image',
propTypes:{
style:StyleSheetPropType(ImageStylePropTypes),





source:PropTypes.oneOfType([
PropTypes.shape({
uri:PropTypes.string}),


PropTypes.number]),






defaultSource:PropTypes.shape({
uri:PropTypes.string}),





accessible:PropTypes.bool,





accessibilityLabel:PropTypes.string,








capInsets:EdgeInsetsPropType,




resizeMode:PropTypes.oneOf(['cover','contain','stretch']),




testID:PropTypes.string,




onLayout:PropTypes.func,




onLoadStart:PropTypes.func,




onProgress:PropTypes.func,




onError:PropTypes.func,




onLoad:PropTypes.func,




onLoadEnd:PropTypes.func},


statics:{
resizeMode:ImageResizeMode},


mixins:[NativeMethodsMixin],





viewConfig:{
uiViewClassName:'UIView',
validAttributes:ReactNativeViewAttributes.UIView},


contextTypes:{
isInAParentText:React.PropTypes.bool},


render:function(){
for(var prop in cfg.nativeOnly) {
if(this.props[prop] !== undefined){
console.warn('Prop `' + prop + ' = ' + this.props[prop] + '` should ' + 
'not be set directly on Image.');}}


var source=resolveAssetSource(this.props.source) || {};
var defaultSource=this.props.defaultSource && resolveAssetSource(this.props.defaultSource) || {};var 

width=source.width;var height=source.height;
var style=flattenStyle([{width:width,height:height},styles.base,this.props.style]) || {};

if(source.uri === ''){
console.warn('source.uri should not be an empty string');
return React.createElement(View,_extends({},this.props,{style:style}));}


var isNetwork=source.uri && source.uri.match(/^https?:/);
var RawImage=isNetwork?RCTNetworkImageView:RCTImageView;
var resizeMode=this.props.resizeMode || (style || {}).resizeMode || 'cover';
var tintColor=(style || {}).tintColor;



if(isNetwork && tintColor){
RawImage = RCTImageView;}


if(this.context.isInAParentText){
return React.createElement(RCTVirtualImage,{source:source});}else 
{
return (
React.createElement(RawImage,_extends({},
this.props,{
style:style,
resizeMode:resizeMode,
tintColor:tintColor,
src:source.uri,
defaultImageSrc:defaultSource.uri})));}}});






var styles=StyleSheet.create({
base:{
overflow:'hidden'}});



var cfg={
nativeOnly:{
src:true,
defaultImageSrc:true,
imageTag:true,
progressHandlerRegistered:true}};


var RCTImageView=requireNativeComponent('RCTImageView',Image,cfg);
var RCTNetworkImageView=NativeModules.NetworkImageViewManager?requireNativeComponent('RCTNetworkImageView',Image,cfg):RCTImageView;
var RCTVirtualImage=requireNativeComponent('RCTVirtualImage',Image);

module.exports = Image;
});
__d('EdgeInsetsPropType',function(global, require, module, exports) {  'use strict';












var PropTypes=require('ReactPropTypes');

var createStrictShapeTypeChecker=require('createStrictShapeTypeChecker');

var EdgeInsetsPropType=createStrictShapeTypeChecker({
top:PropTypes.number,
left:PropTypes.number,
bottom:PropTypes.number,
right:PropTypes.number});


module.exports = EdgeInsetsPropType;
});
__d('resolveAssetSource',function(global, require, module, exports) {  'use strict';Object.defineProperty(exports,'__esModule',{value:true});






















var AssetRegistry=require('AssetRegistry');
var PixelRatio=require('PixelRatio');
var Platform=require('Platform');
var SourceCode=require('NativeModules').SourceCode;

var _serverURL;

function getDevServerURL(){
if(_serverURL === undefined){
var scriptURL=SourceCode.scriptURL;
var match=scriptURL && scriptURL.match(/^https?:\/\/.*?\//);
if(match){

_serverURL = match[0];}else 
{

_serverURL = null;}}



return _serverURL;}





function getPathInArchive(asset){
if(Platform.OS === 'android'){
var assetDir=getBasePath(asset);


return (assetDir + '/' + asset.name).
toLowerCase().
replace(/\//g,'_').
replace(/([^a-z0-9_])/g,'').
replace(/^assets_/,'');}else 
{

return getScaledAssetPath(asset);}}







function getPathOnDevserver(devServerUrl,asset){
return devServerUrl + getScaledAssetPath(asset) + '?platform=' + Platform.OS + 
'&hash=' + asset.hash;}





function getBasePath(asset){


var path=asset.httpServerLocation;
if(path[0] === '/'){
path = path.substr(1);}

return path;}





function getScaledAssetPath(asset){
var scale=pickScale(asset.scales,PixelRatio.get());
var scaleSuffix=scale === 1?'':'@' + scale + 'x';
var assetDir=getBasePath(asset);
return assetDir + '/' + asset.name + scaleSuffix + '.' + asset.type;}


function pickScale(scales,deviceScale){

for(var i=0;i < scales.length;i++) {
if(scales[i] >= deviceScale){
return scales[i];}}






return scales[scales.length - 1] || 1;}


function resolveAssetSource(source){
if(typeof source === 'object'){
return source;}


var asset=AssetRegistry.getAssetByID(source);
if(asset){
return assetToImageSource(asset);}


return null;}


function assetToImageSource(asset){
var devServerURL=getDevServerURL();
return {
__packager_asset:true,
width:asset.width,
height:asset.height,
uri:devServerURL?getPathOnDevserver(devServerURL,asset):getPathInArchive(asset),
scale:pickScale(asset.scales,PixelRatio.get())};}



module.exports = resolveAssetSource;
module.exports.pickScale = pickScale;
});
__d('AssetRegistry',function(global, require, module, exports) {  'use strict';Object.defineProperty(exports,'__esModule',{value:true});




















var assets=[];

function registerAsset(asset){


return assets.push(asset);}


function getAssetByID(assetId){
return assets[assetId - 1];}


module.exports = {registerAsset:registerAsset,getAssetByID:getAssetByID};
});
__d('PixelRatio',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var Dimensions=require('Dimensions');var 
































PixelRatio=(function(){function PixelRatio(){_classCallCheck(this,PixelRatio);}_createClass(PixelRatio,null,[{key:'get',value:


















function get(){
return Dimensions.get('window').scale;}},{key:'getFontScale',value:













function getFontScale(){
return Dimensions.get('window').fontScale || PixelRatio.get();}},{key:'getPixelSizeForLayoutSize',value:







function getPixelSizeForLayoutSize(layoutSize){
return Math.round(layoutSize * PixelRatio.get());}},{key:'startDetecting',value:



function startDetecting(){}}]);return PixelRatio;})();


module.exports = PixelRatio;
});
__d('Dimensions',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var NativeModules=require('NativeModules');

var invariant=require('invariant');

var dimensions=NativeModules.UIManager.Dimensions;




if(dimensions && dimensions.windowPhysicalPixels){

dimensions = JSON.parse(JSON.stringify(dimensions));

var windowPhysicalPixels=dimensions.windowPhysicalPixels;
dimensions.window = {
width:windowPhysicalPixels.width / windowPhysicalPixels.scale,
height:windowPhysicalPixels.height / windowPhysicalPixels.scale,
scale:windowPhysicalPixels.scale,
fontScale:windowPhysicalPixels.fontScale};



delete dimensions.windowPhysicalPixels;}var 


Dimensions=(function(){function Dimensions(){_classCallCheck(this,Dimensions);}_createClass(Dimensions,null,[{key:'set',value:





function set(dims){
Object.assign(dimensions,dims);
return true;}},{key:'get',value:















function get(dim){
invariant(dimensions[dim],'No dimension set for key ' + dim);
return dimensions[dim];}}]);return Dimensions;})();



module.exports = Dimensions;
});
__d('ListView',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj) {if(keys.indexOf(i) >= 0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i] = obj[i];}return target;}



























var ListViewDataSource=require('ListViewDataSource');
var React=require('React');
var RCTUIManager=require('NativeModules').UIManager;
var RCTScrollViewManager=require('NativeModules').ScrollViewManager;
var ScrollView=require('ScrollView');
var ScrollResponder=require('ScrollResponder');
var StaticRenderer=require('StaticRenderer');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');

var isEmpty=require('isEmpty');
var logError=require('logError');
var merge=require('merge');

var PropTypes=React.PropTypes;

var DEFAULT_PAGE_SIZE=1;
var DEFAULT_INITIAL_ROWS=10;
var DEFAULT_SCROLL_RENDER_AHEAD=1000;
var DEFAULT_END_REACHED_THRESHOLD=1000;
var DEFAULT_SCROLL_CALLBACK_THROTTLE=50;
var SCROLLVIEW_REF='listviewscroll';


















































var ListView=React.createClass({displayName:'ListView',
mixins:[ScrollResponder.Mixin,TimerMixin],

statics:{
DataSource:ListViewDataSource},









propTypes:_extends({},
ScrollView.propTypes,{

dataSource:PropTypes.instanceOf(ListViewDataSource).isRequired,







renderSeparator:PropTypes.func,










renderRow:PropTypes.func.isRequired,





initialListSize:PropTypes.number,





onEndReached:PropTypes.func,



onEndReachedThreshold:PropTypes.number,



pageSize:PropTypes.number,








renderFooter:PropTypes.func,
renderHeader:PropTypes.func,









renderSectionHeader:PropTypes.func,






renderScrollComponent:React.PropTypes.func.isRequired,




scrollRenderAheadDistance:React.PropTypes.number,









onChangeVisibleRows:React.PropTypes.func,





removeClippedSubviews:React.PropTypes.bool}),





getMetrics:function(){
return {
contentLength:this.scrollProperties.contentLength,
totalRows:this.props.dataSource.getRowCount(),
renderedRows:this.state.curRenderedRowsCount,
visibleRows:Object.keys(this._visibleRows).length};},







getScrollResponder:function(){
return this.refs[SCROLLVIEW_REF] && 
this.refs[SCROLLVIEW_REF].getScrollResponder && 
this.refs[SCROLLVIEW_REF].getScrollResponder();},


setNativeProps:function(props){
this.refs[SCROLLVIEW_REF].setNativeProps(props);},






getDefaultProps:function(){
return {
initialListSize:DEFAULT_INITIAL_ROWS,
pageSize:DEFAULT_PAGE_SIZE,
renderScrollComponent:function(props){return React.createElement(ScrollView,props);},
scrollRenderAheadDistance:DEFAULT_SCROLL_RENDER_AHEAD,
onEndReachedThreshold:DEFAULT_END_REACHED_THRESHOLD};},



getInitialState:function(){
return {
curRenderedRowsCount:this.props.initialListSize,
prevRenderedRowsCount:0,
highlightedRow:{}};},



getInnerViewNode:function(){
return this.refs[SCROLLVIEW_REF].getInnerViewNode();},


componentWillMount:function(){

this.scrollProperties = {
visibleLength:null,
contentLength:null,
offset:0};

this._childFrames = [];
this._visibleRows = {};},


componentDidMount:function(){var _this=this;


this.requestAnimationFrame(function(){
_this._measureAndUpdateScrollProps();});},



componentWillReceiveProps:function(nextProps){
if(this.props.dataSource !== nextProps.dataSource){
this.setState(function(state,props){
var rowsToRender=Math.min(
state.curRenderedRowsCount + props.pageSize,
props.dataSource.getRowCount());

return {
prevRenderedRowsCount:0,
curRenderedRowsCount:rowsToRender};});}},





componentDidUpdate:function(){var _this2=this;
this.requestAnimationFrame(function(){
_this2._measureAndUpdateScrollProps();});},



onRowHighlighted:function(sectionID,rowID){
this.setState({highlightedRow:{sectionID:sectionID,rowID:rowID}});},


render:function(){
var bodyComponents=[];

var dataSource=this.props.dataSource;
var allRowIDs=dataSource.rowIdentities;
var rowCount=0;
var sectionHeaderIndices=[];

var header=this.props.renderHeader && this.props.renderHeader();
var footer=this.props.renderFooter && this.props.renderFooter();
var totalIndex=header?1:0;

for(var sectionIdx=0;sectionIdx < allRowIDs.length;sectionIdx++) {
var sectionID=dataSource.sectionIdentities[sectionIdx];
var rowIDs=allRowIDs[sectionIdx];
if(rowIDs.length === 0){
continue;}


if(this.props.renderSectionHeader){
var shouldUpdateHeader=rowCount >= this.state.prevRenderedRowsCount && 
dataSource.sectionHeaderShouldUpdate(sectionIdx);
bodyComponents.push(
React.createElement(StaticRenderer,{
key:'s_' + sectionID,
shouldUpdate:!!shouldUpdateHeader,
render:this.props.renderSectionHeader.bind(
null,
dataSource.getSectionHeaderData(sectionIdx),
sectionID)}));



sectionHeaderIndices.push(totalIndex++);}


for(var rowIdx=0;rowIdx < rowIDs.length;rowIdx++) {
var rowID=rowIDs[rowIdx];
var comboID=sectionID + rowID;
var shouldUpdateRow=rowCount >= this.state.prevRenderedRowsCount && 
dataSource.rowShouldUpdate(sectionIdx,rowIdx);
var row=
React.createElement(StaticRenderer,{
key:'r_' + comboID,
shouldUpdate:!!shouldUpdateRow,
render:this.props.renderRow.bind(
null,
dataSource.getRowData(sectionIdx,rowIdx),
sectionID,
rowID,
this.onRowHighlighted)});


bodyComponents.push(row);
totalIndex++;

if(this.props.renderSeparator && (
rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)){
var adjacentRowHighlighted=
this.state.highlightedRow.sectionID === sectionID && (
this.state.highlightedRow.rowID === rowID || 
this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);

var separator=this.props.renderSeparator(
sectionID,
rowID,
adjacentRowHighlighted);

bodyComponents.push(separator);
totalIndex++;}

if(++rowCount === this.state.curRenderedRowsCount){
break;}}


if(rowCount >= this.state.curRenderedRowsCount){
break;}}var _props=






this.props;var renderScrollComponent=_props.renderScrollComponent;var props=_objectWithoutProperties(_props,['renderScrollComponent']);
if(!props.scrollEventThrottle){
props.scrollEventThrottle = DEFAULT_SCROLL_CALLBACK_THROTTLE;}

if(props.removeClippedSubviews === undefined){
props.removeClippedSubviews = true;}

Object.assign(props,{
onScroll:this._onScroll,
stickyHeaderIndices:sectionHeaderIndices,



onKeyboardWillShow:undefined,
onKeyboardWillHide:undefined,
onKeyboardDidShow:undefined,
onKeyboardDidHide:undefined});




return React.cloneElement(renderScrollComponent(props),{
ref:SCROLLVIEW_REF},
header,bodyComponents,footer);},






_measureAndUpdateScrollProps:function(){
var scrollComponent=this.getScrollResponder();
if(!scrollComponent || !scrollComponent.getInnerViewNode){
return;}

RCTUIManager.measureLayout(
scrollComponent.getInnerViewNode(),
React.findNodeHandle(scrollComponent),
logError,
this._setScrollContentLength);

RCTUIManager.measureLayoutRelativeToParent(
React.findNodeHandle(scrollComponent),
logError,
this._setScrollVisibleLength);




RCTScrollViewManager && RCTScrollViewManager.calculateChildFrames && 
RCTScrollViewManager.calculateChildFrames(
React.findNodeHandle(scrollComponent),
this._updateChildFrames);},



_setScrollContentLength:function(left,top,width,height){
this.scrollProperties.contentLength = !this.props.horizontal?
height:width;},


_setScrollVisibleLength:function(left,top,width,height){
this.scrollProperties.visibleLength = !this.props.horizontal?
height:width;
this._updateVisibleRows();
this._renderMoreRowsIfNeeded();},


_updateChildFrames:function(childFrames){
this._updateVisibleRows(childFrames);},


_maybeCallOnEndReached:function(event){
if(this.props.onEndReached && 
this.scrollProperties.contentLength !== this._sentEndForContentLength && 
this._getDistanceFromEnd(this.scrollProperties) < this.props.onEndReachedThreshold && 
this.state.curRenderedRowsCount === this.props.dataSource.getRowCount()){
this._sentEndForContentLength = this.scrollProperties.contentLength;
this.props.onEndReached(event);
return true;}

return false;},


_renderMoreRowsIfNeeded:function(){
if(this.scrollProperties.contentLength === null || 
this.scrollProperties.visibleLength === null || 
this.state.curRenderedRowsCount === this.props.dataSource.getRowCount()){
this._maybeCallOnEndReached();
return;}


var distanceFromEnd=this._getDistanceFromEnd(this.scrollProperties);
if(distanceFromEnd < this.props.scrollRenderAheadDistance){
this._pageInNewRows();}},



_pageInNewRows:function(){var _this3=this;
this.setState(function(state,props){
var rowsToRender=Math.min(
state.curRenderedRowsCount + props.pageSize,
props.dataSource.getRowCount());

return {
prevRenderedRowsCount:state.curRenderedRowsCount,
curRenderedRowsCount:rowsToRender};},

function(){
_this3._measureAndUpdateScrollProps();
_this3.setState(function(state){return {
prevRenderedRowsCount:state.curRenderedRowsCount};});});},




_getDistanceFromEnd:function(scrollProperties){
return scrollProperties.contentLength - 
scrollProperties.visibleLength - 
scrollProperties.offset;},


_updateVisibleRows:function(updatedFrames){var _this4=this;
if(!this.props.onChangeVisibleRows){
return;}

if(updatedFrames){
updatedFrames.forEach(function(newFrame){
_this4._childFrames[newFrame.index] = merge(newFrame);});}


var isVertical=!this.props.horizontal;
var dataSource=this.props.dataSource;
var visibleMin=this.scrollProperties.offset;
var visibleMax=visibleMin + this.scrollProperties.visibleLength;
var allRowIDs=dataSource.rowIdentities;

var header=this.props.renderHeader && this.props.renderHeader();
var totalIndex=header?1:0;
var visibilityChanged=false;
var changedRows={};
for(var sectionIdx=0;sectionIdx < allRowIDs.length;sectionIdx++) {
var rowIDs=allRowIDs[sectionIdx];
if(rowIDs.length === 0){
continue;}

var sectionID=dataSource.sectionIdentities[sectionIdx];
if(this.props.renderSectionHeader){
totalIndex++;}

var visibleSection=this._visibleRows[sectionID];
if(!visibleSection){
visibleSection = {};}

for(var rowIdx=0;rowIdx < rowIDs.length;rowIdx++) {
var rowID=rowIDs[rowIdx];
var frame=this._childFrames[totalIndex];
totalIndex++;
if(!frame){
break;}

var rowVisible=visibleSection[rowID];
var min=isVertical?frame.y:frame.x;
var max=min + (isVertical?frame.height:frame.width);
if(min > visibleMax || max < visibleMin){
if(rowVisible){
visibilityChanged = true;
delete visibleSection[rowID];
if(!changedRows[sectionID]){
changedRows[sectionID] = {};}

changedRows[sectionID][rowID] = false;}}else 

if(!rowVisible){
visibilityChanged = true;
visibleSection[rowID] = true;
if(!changedRows[sectionID]){
changedRows[sectionID] = {};}

changedRows[sectionID][rowID] = true;}}


if(!isEmpty(visibleSection)){
this._visibleRows[sectionID] = visibleSection;}else 
if(this._visibleRows[sectionID]){
delete this._visibleRows[sectionID];}}


visibilityChanged && this.props.onChangeVisibleRows(this._visibleRows,changedRows);},


_onScroll:function(e){
var isVertical=!this.props.horizontal;
this.scrollProperties.visibleLength = e.nativeEvent.layoutMeasurement[
isVertical?'height':'width'];

this.scrollProperties.contentLength = e.nativeEvent.contentSize[
isVertical?'height':'width'];

this.scrollProperties.offset = e.nativeEvent.contentOffset[
isVertical?'y':'x'];

this._updateVisibleRows(e.nativeEvent.updatedChildFrames);
if(!this._maybeCallOnEndReached(e)){
this._renderMoreRowsIfNeeded();}


this.props.onScroll && this.props.onScroll(e);}});



module.exports = ListView;
});
__d('ListViewDataSource',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}





























var invariant=require('invariant');
var isEmpty=require('isEmpty');
var warning=require('warning');

function defaultGetRowData(
dataBlob,
sectionID,
rowID)
{
return dataBlob[sectionID][rowID];}


function defaultGetSectionHeaderData(
dataBlob,
sectionID)
{
return dataBlob[sectionID];}var 













































ListViewDataSource=(function(){


























function ListViewDataSource(params){_classCallCheck(this,ListViewDataSource);
invariant(
params && typeof params.rowHasChanged === 'function',
'Must provide a rowHasChanged function.');

this._rowHasChanged = params.rowHasChanged;
this._getRowData = params.getRowData || defaultGetRowData;
this._sectionHeaderHasChanged = params.sectionHeaderHasChanged;
this._getSectionHeaderData = 
params.getSectionHeaderData || defaultGetSectionHeaderData;

this._dataBlob = null;
this._dirtyRows = [];
this._dirtySections = [];
this._cachedRowCount = 0;



this.rowIdentities = [];
this.sectionIdentities = [];}_createClass(ListViewDataSource,[{key:'cloneWithRows',value:


















function cloneWithRows(
dataBlob,
rowIdentities)
{
var rowIds=rowIdentities?[rowIdentities]:null;
if(!this._sectionHeaderHasChanged){
this._sectionHeaderHasChanged = function(){return false;};}

return this.cloneWithRowsAndSections({s1:dataBlob},['s1'],rowIds);}},{key:'cloneWithRowsAndSections',value:













function cloneWithRowsAndSections(
dataBlob,
sectionIdentities,
rowIdentities)
{
invariant(
typeof this._sectionHeaderHasChanged === 'function',
'Must provide a sectionHeaderHasChanged function with section data.');

var newSource=new ListViewDataSource({
getRowData:this._getRowData,
getSectionHeaderData:this._getSectionHeaderData,
rowHasChanged:this._rowHasChanged,
sectionHeaderHasChanged:this._sectionHeaderHasChanged});

newSource._dataBlob = dataBlob;
if(sectionIdentities){
newSource.sectionIdentities = sectionIdentities;}else 
{
newSource.sectionIdentities = Object.keys(dataBlob);}

if(rowIdentities){
newSource.rowIdentities = rowIdentities;}else 
{
newSource.rowIdentities = [];
newSource.sectionIdentities.forEach(function(sectionID){
newSource.rowIdentities.push(Object.keys(dataBlob[sectionID]));});}


newSource._cachedRowCount = countRows(newSource.rowIdentities);

newSource._calculateDirtyArrays(
this._dataBlob,
this.sectionIdentities,
this.rowIdentities);


return newSource;}},{key:'getRowCount',value:


function getRowCount(){
return this._cachedRowCount;}},{key:'rowShouldUpdate',value:





function rowShouldUpdate(sectionIndex,rowIndex){
var needsUpdate=this._dirtyRows[sectionIndex][rowIndex];
warning(needsUpdate !== undefined,
'missing dirtyBit for section, row: ' + sectionIndex + ', ' + rowIndex);
return needsUpdate;}},{key:'getRowData',value:





function getRowData(sectionIndex,rowIndex){
var sectionID=this.sectionIdentities[sectionIndex];
var rowID=this.rowIdentities[sectionIndex][rowIndex];
warning(
sectionID !== undefined && rowID !== undefined,
'rendering invalid section, row: ' + sectionIndex + ', ' + rowIndex);

return this._getRowData(this._dataBlob,sectionID,rowID);}},{key:'getRowIDForFlatIndex',value:






function getRowIDForFlatIndex(index){
var accessIndex=index;
for(var ii=0;ii < this.sectionIdentities.length;ii++) {
if(accessIndex >= this.rowIdentities[ii].length){
accessIndex -= this.rowIdentities[ii].length;}else 
{
return this.rowIdentities[ii][accessIndex];}}


return null;}},{key:'getSectionIDForFlatIndex',value:






function getSectionIDForFlatIndex(index){
var accessIndex=index;
for(var ii=0;ii < this.sectionIdentities.length;ii++) {
if(accessIndex >= this.rowIdentities[ii].length){
accessIndex -= this.rowIdentities[ii].length;}else 
{
return this.sectionIdentities[ii];}}


return null;}},{key:'getSectionLengths',value:





function getSectionLengths(){
var results=[];
for(var ii=0;ii < this.sectionIdentities.length;ii++) {
results.push(this.rowIdentities[ii].length);}

return results;}},{key:'sectionHeaderShouldUpdate',value:





function sectionHeaderShouldUpdate(sectionIndex){
var needsUpdate=this._dirtySections[sectionIndex];
warning(needsUpdate !== undefined,
'missing dirtyBit for section: ' + sectionIndex);
return needsUpdate;}},{key:'getSectionHeaderData',value:





function getSectionHeaderData(sectionIndex){
if(!this._getSectionHeaderData){
return null;}

var sectionID=this.sectionIdentities[sectionIndex];
warning(sectionID !== undefined,
'renderSection called on invalid section: ' + sectionIndex);
return this._getSectionHeaderData(this._dataBlob,sectionID);}},{key:'_calculateDirtyArrays',value:





















function _calculateDirtyArrays(
prevDataBlob,
prevSectionIDs,
prevRowIDs)
{

var prevSectionsHash=keyedDictionaryFromArray(prevSectionIDs);
var prevRowsHash={};
for(var ii=0;ii < prevRowIDs.length;ii++) {
var sectionID=prevSectionIDs[ii];
warning(
!prevRowsHash[sectionID],
'SectionID appears more than once: ' + sectionID);

prevRowsHash[sectionID] = keyedDictionaryFromArray(prevRowIDs[ii]);}



this._dirtySections = [];
this._dirtyRows = [];

var dirty;
for(var sIndex=0;sIndex < this.sectionIdentities.length;sIndex++) {
var sectionID=this.sectionIdentities[sIndex];

dirty = !prevSectionsHash[sectionID];
var sectionHeaderHasChanged=this._sectionHeaderHasChanged;
if(!dirty && sectionHeaderHasChanged){
dirty = sectionHeaderHasChanged(
this._getSectionHeaderData(prevDataBlob,sectionID),
this._getSectionHeaderData(this._dataBlob,sectionID));}


this._dirtySections.push(!!dirty);

this._dirtyRows[sIndex] = [];
for(var rIndex=0;rIndex < this.rowIdentities[sIndex].length;rIndex++) {
var rowID=this.rowIdentities[sIndex][rIndex];

dirty = 
!prevSectionsHash[sectionID] || 
!prevRowsHash[sectionID][rowID] || 
this._rowHasChanged(
this._getRowData(prevDataBlob,sectionID,rowID),
this._getRowData(this._dataBlob,sectionID,rowID));

this._dirtyRows[sIndex].push(!!dirty);}}}}]);return ListViewDataSource;})();





function countRows(allRowIDs){
var totalRows=0;
for(var sectionIdx=0;sectionIdx < allRowIDs.length;sectionIdx++) {
var rowIDs=allRowIDs[sectionIdx];
totalRows += rowIDs.length;}

return totalRows;}


function keyedDictionaryFromArray(arr){
if(isEmpty(arr)){
return {};}

var result={};
for(var ii=0;ii < arr.length;ii++) {
var key=arr[ii];
warning(!result[key],'Value appears more than once in array: ' + key);
result[key] = true;}

return result;}



module.exports = ListViewDataSource;
});
__d('isEmpty',function(global, require, module, exports) {  function 



















isEmpty(obj){
if(Array.isArray(obj)){
return obj.length === 0;}else 
if(typeof obj === 'object'){
for(var i in obj) {
return false;}

return true;}else 
{
return !obj;}}



module.exports = isEmpty;
});
__d('ScrollView',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var EdgeInsetsPropType=require('EdgeInsetsPropType');
var Platform=require('Platform');
var PointPropType=require('PointPropType');
var RCTScrollView=require('NativeModules').UIManager.RCTScrollView;
var React=require('React');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var RCTUIManager=require('NativeModules').UIManager;
var ScrollResponder=require('ScrollResponder');
var StyleSheet=require('StyleSheet');
var StyleSheetPropType=require('StyleSheetPropType');
var View=require('View');
var ViewStylePropTypes=require('ViewStylePropTypes');

var createReactNativeComponentClass=require('createReactNativeComponentClass');
var deepDiffer=require('deepDiffer');
var dismissKeyboard=require('dismissKeyboard');
var flattenStyle=require('flattenStyle');
var insetsDiffer=require('insetsDiffer');
var invariant=require('invariant');
var pointsDiffer=require('pointsDiffer');
var requireNativeComponent=require('requireNativeComponent');

var PropTypes=React.PropTypes;

var SCROLLVIEW='ScrollView';
var INNERVIEW='InnerScrollView';
















var ScrollView=React.createClass({displayName:'ScrollView',
propTypes:{






automaticallyAdjustContentInsets:PropTypes.bool,





contentInset:EdgeInsetsPropType,





contentOffset:PointPropType,







bounces:PropTypes.bool,






bouncesZoom:PropTypes.bool,






alwaysBounceHorizontal:PropTypes.bool,






alwaysBounceVertical:PropTypes.bool,







centerContent:PropTypes.bool,















contentContainerStyle:StyleSheetPropType(ViewStylePropTypes),







decelerationRate:PropTypes.number,




horizontal:PropTypes.bool,





directionalLockEnabled:PropTypes.bool,





canCancelContentTouches:PropTypes.bool,








keyboardDismissMode:PropTypes.oneOf([
'none',
'interactive',
'on-drag']),







keyboardShouldPersistTaps:PropTypes.bool,




maximumZoomScale:PropTypes.number,




minimumZoomScale:PropTypes.number,




onScroll:PropTypes.func,




onScrollAnimationEnd:PropTypes.func,






pagingEnabled:PropTypes.bool,





scrollEnabled:PropTypes.bool,









scrollEventThrottle:PropTypes.number,






scrollIndicatorInsets:EdgeInsetsPropType,





scrollsToTop:PropTypes.bool,



showsHorizontalScrollIndicator:PropTypes.bool,



showsVerticalScrollIndicator:PropTypes.bool,








stickyHeaderIndices:PropTypes.arrayOf(PropTypes.number),
style:StyleSheetPropType(ViewStylePropTypes),







snapToInterval:PropTypes.number,








snapToAlignment:PropTypes.oneOf([
'start',
'center',
'end']),







removeClippedSubviews:PropTypes.bool,




zoomScale:PropTypes.number},


mixins:[ScrollResponder.Mixin],

getInitialState:function(){
return this.scrollResponderMixinGetInitialState();},


setNativeProps:function(props){
this.refs[SCROLLVIEW].setNativeProps(props);},








getScrollResponder:function(){
return this;},


getInnerViewNode:function(){
return React.findNodeHandle(this.refs[INNERVIEW]);},


scrollTo:function(destY,destX){

this.getScrollResponder().scrollResponderScrollTo(destX || 0,destY || 0);},


scrollWithoutAnimationTo:function(destY,destX){

this.getScrollResponder().scrollResponderScrollWithouthAnimationTo(
destX || 0,
destY || 0);},



handleScroll:function(e){
if(__DEV__){
if(this.props.onScroll && !this.props.scrollEventThrottle){
console.log(
'You specified `onScroll` on a <ScrollView> but not ' + 
'`scrollEventThrottle`. You will only receive one event. ' + 
'Using `16` you get all the events but be aware that it may ' + 
'cause frame drops, use a bigger number if you don\'t need as ' + 
'much precision.');}}



if(Platform.OS === 'android'){
if(this.props.keyboardDismissMode === 'on-drag'){
dismissKeyboard();}}


this.scrollResponderHandleScroll(e);},


render:function(){
var contentContainerStyle=[
this.props.horizontal && styles.contentContainerHorizontal,
this.props.contentContainerStyle];

if(__DEV__ && this.props.style){
var style=flattenStyle(this.props.style);
var childLayoutProps=['alignItems','justifyContent'].
filter(function(prop){return style && style[prop] !== undefined;});
invariant(
childLayoutProps.length === 0,
'ScrollView child layout (' + JSON.stringify(childLayoutProps) + 
') must by applied through the contentContainerStyle prop.');}



var contentContainer=
React.createElement(View,{
ref:INNERVIEW,
style:contentContainerStyle,
removeClippedSubviews:this.props.removeClippedSubviews,
collapsable:false},
this.props.children);


var alwaysBounceHorizontal=
this.props.alwaysBounceHorizontal !== undefined?
this.props.alwaysBounceHorizontal:
this.props.horizontal;

var alwaysBounceVertical=
this.props.alwaysBounceVertical !== undefined?
this.props.alwaysBounceVertical:
!this.props.horizontal;

var props=_extends({},
this.props,{
alwaysBounceHorizontal:alwaysBounceHorizontal,
alwaysBounceVertical:alwaysBounceVertical,
style:[styles.base,this.props.style],
onTouchStart:this.scrollResponderHandleTouchStart,
onTouchMove:this.scrollResponderHandleTouchMove,
onTouchEnd:this.scrollResponderHandleTouchEnd,
onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,
onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,
onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,
onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,
onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,
onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,
onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,
onScroll:this.handleScroll,
onResponderGrant:this.scrollResponderHandleResponderGrant,
onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,
onResponderTerminate:this.scrollResponderHandleTerminate,
onResponderRelease:this.scrollResponderHandleResponderRelease,
onResponderReject:this.scrollResponderHandleResponderReject});


var ScrollViewClass;
if(Platform.OS === 'ios'){
ScrollViewClass = RCTScrollView;}else 
if(Platform.OS === 'android'){
if(this.props.horizontal){
ScrollViewClass = AndroidHorizontalScrollView;}else 
{
ScrollViewClass = AndroidScrollView;}}


invariant(
ScrollViewClass !== undefined,
'ScrollViewClass must not be undefined');


return (
React.createElement(ScrollViewClass,_extends({},props,{ref:SCROLLVIEW}),
contentContainer));}});





var styles=StyleSheet.create({
base:{
flex:1},

contentContainerHorizontal:{
alignSelf:'flex-start',
flexDirection:'row'}});



var validAttributes=_extends({},
ReactNativeViewAttributes.UIView,{
alwaysBounceHorizontal:true,
alwaysBounceVertical:true,
automaticallyAdjustContentInsets:true,
bounces:true,
centerContent:true,
contentInset:{diff:insetsDiffer},
contentOffset:{diff:pointsDiffer},
decelerationRate:true,
horizontal:true,
keyboardDismissMode:true,
keyboardShouldPersistTaps:true,
maximumZoomScale:true,
minimumZoomScale:true,
pagingEnabled:true,
removeClippedSubviews:true,
scrollEnabled:true,
scrollIndicatorInsets:{diff:insetsDiffer},
scrollsToTop:true,
showsHorizontalScrollIndicator:true,
showsVerticalScrollIndicator:true,
snapToInterval:true,
snapToAlignment:true,
stickyHeaderIndices:{diff:deepDiffer},
scrollEventThrottle:true,
zoomScale:true});


if(Platform.OS === 'android'){
var AndroidScrollView=createReactNativeComponentClass({
validAttributes:validAttributes,
uiViewClassName:'RCTScrollView'});

var AndroidHorizontalScrollView=createReactNativeComponentClass({
validAttributes:validAttributes,
uiViewClassName:'AndroidHorizontalScrollView'});}else 

if(Platform.OS === 'ios'){
var RCTScrollView=requireNativeComponent('RCTScrollView',ScrollView);}


module.exports = ScrollView;
});
__d('PointPropType',function(global, require, module, exports) {  'use strict';












var PropTypes=require('ReactPropTypes');

var createStrictShapeTypeChecker=require('createStrictShapeTypeChecker');

var PointPropType=createStrictShapeTypeChecker({
x:PropTypes.number,
y:PropTypes.number});


module.exports = PointPropType;
});
__d('ScrollResponder',function(global, require, module, exports) {  'use strict';












var NativeModules=require('NativeModules');
var Platform=require('Platform');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var React=require('React');
var Subscribable=require('Subscribable');
var TextInputState=require('TextInputState');

var RCTUIManager=NativeModules.UIManager;
var RCTScrollViewConsts=RCTUIManager.RCTScrollView.Constants;

var warning=require('warning');















































































var IS_ANIMATING_TOUCH_START_THRESHOLD_MS=16;










var ScrollResponderMixin={
mixins:[Subscribable.Mixin],
statics:RCTScrollViewConsts,
scrollResponderMixinGetInitialState:function(){
return {
isTouching:false,
lastMomentumScrollBeginTime:0,
lastMomentumScrollEndTime:0,






observedScrollSinceBecomingResponder:false,
becameResponderWhileAnimating:false};},






scrollResponderHandleScrollShouldSetResponder:function(){
return this.state.isTouching;},



























scrollResponderHandleStartShouldSetResponder:function(){
return false;},













scrollResponderHandleStartShouldSetResponderCapture:function(e){

var currentlyFocusedTextInput=TextInputState.currentlyFocusedField();
if(!this.props.keyboardShouldPersistTaps && 
currentlyFocusedTextInput != null && 
e.target !== currentlyFocusedTextInput){
return true;}

return this.scrollResponderIsAnimating();},












scrollResponderHandleResponderReject:function(){
warning(false,"ScrollView doesn't take rejection well - scrolls anyway");},

















scrollResponderHandleTerminationRequest:function(){
return !this.state.observedScrollSinceBecomingResponder;},







scrollResponderHandleTouchEnd:function(e){
var nativeEvent=e.nativeEvent;
this.state.isTouching = nativeEvent.touches.length !== 0;
this.props.onTouchEnd && this.props.onTouchEnd(e);},





scrollResponderHandleResponderRelease:function(e){
this.props.onResponderRelease && this.props.onResponderRelease(e);



var currentlyFocusedTextInput=TextInputState.currentlyFocusedField();
if(!this.props.keyboardShouldPersistTaps && 
currentlyFocusedTextInput != null && 
e.target !== currentlyFocusedTextInput && 
!this.state.observedScrollSinceBecomingResponder && 
!this.state.becameResponderWhileAnimating){
this.props.onScrollResponderKeyboardDismissed && 
this.props.onScrollResponderKeyboardDismissed(e);
TextInputState.blurTextInput(currentlyFocusedTextInput);}},



scrollResponderHandleScroll:function(e){
this.state.observedScrollSinceBecomingResponder = true;
this.props.onScroll && this.props.onScroll(e);},





scrollResponderHandleResponderGrant:function(e){
this.state.observedScrollSinceBecomingResponder = false;
this.props.onResponderGrant && this.props.onResponderGrant(e);
this.state.becameResponderWhileAnimating = this.scrollResponderIsAnimating();},









scrollResponderHandleScrollBeginDrag:function(e){
this.props.onScrollBeginDrag && this.props.onScrollBeginDrag(e);},





scrollResponderHandleScrollEndDrag:function(e){
this.props.onScrollEndDrag && this.props.onScrollEndDrag(e);},





scrollResponderHandleMomentumScrollBegin:function(e){
this.state.lastMomentumScrollBeginTime = Date.now();
this.props.onMomentumScrollBegin && this.props.onMomentumScrollBegin(e);},





scrollResponderHandleMomentumScrollEnd:function(e){
this.state.lastMomentumScrollEndTime = Date.now();
this.props.onMomentumScrollEnd && this.props.onMomentumScrollEnd(e);},













scrollResponderHandleTouchStart:function(e){
this.state.isTouching = true;
this.props.onTouchStart && this.props.onTouchStart(e);},













scrollResponderHandleTouchMove:function(e){
this.props.onTouchMove && this.props.onTouchMove(e);},







scrollResponderIsAnimating:function(){
var now=Date.now();
var timeSinceLastMomentumScrollEnd=now - this.state.lastMomentumScrollEndTime;
var isAnimating=timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || 
this.state.lastMomentumScrollEndTime < this.state.lastMomentumScrollBeginTime;
return isAnimating;},







scrollResponderScrollTo:function(offsetX,offsetY){
if(Platform.OS === 'android'){
RCTUIManager.dispatchViewManagerCommand(
React.findNodeHandle(this),
RCTUIManager.RCTScrollView.Commands.scrollTo,
[Math.round(offsetX),Math.round(offsetY)]);}else 

{
RCTUIManager.scrollTo(
React.findNodeHandle(this),
offsetX,
offsetY);}},








scrollResponderScrollWithouthAnimationTo:function(offsetX,offsetY){
if(Platform.OS === 'android'){
RCTUIManager.dispatchViewManagerCommand(
React.findNodeHandle(this),
RCTUIManager.RCTScrollView.Commands.scrollWithoutAnimationTo,
[offsetX,offsetY]);}else 

{
RCTUIManager.scrollWithoutAnimationTo(
React.findNodeHandle(this),
offsetX,
offsetY);}},








scrollResponderZoomTo:function(rect){
RCTUIManager.zoomToRect(React.findNodeHandle(this),rect);},












scrollResponderScrollNativeHandleToKeyboard:function(nodeHandle,additionalOffset,preventNegativeScrollOffset){
this.additionalScrollOffset = additionalOffset || 0;
this.preventNegativeScrollOffset = !!preventNegativeScrollOffset;
RCTUIManager.measureLayout(
nodeHandle,
React.findNodeHandle(this.getInnerViewNode()),
this.scrollResponderTextInputFocusError,
this.scrollResponderInputMeasureAndScrollToKeyboard);},













scrollResponderInputMeasureAndScrollToKeyboard:function(left,top,width,height){
if(this.keyboardWillOpenTo){
var scrollOffsetY=
top - this.keyboardWillOpenTo.endCoordinates.screenY + height + 
this.additionalScrollOffset;





if(this.preventNegativeScrollOffset){
scrollOffsetY = Math.max(0,scrollOffsetY);}

this.scrollResponderScrollTo(0,scrollOffsetY);}

this.additionalOffset = 0;
this.preventNegativeScrollOffset = false;},


scrollResponderTextInputFocusError:function(e){
console.error('Error measuring text field: ',e);},








componentWillMount:function(){
this.keyboardWillOpenTo = null;
this.additionalScrollOffset = 0;
this.addListenerOn(RCTDeviceEventEmitter,'keyboardWillShow',this.scrollResponderKeyboardWillShow);
this.addListenerOn(RCTDeviceEventEmitter,'keyboardWillHide',this.scrollResponderKeyboardWillHide);
this.addListenerOn(RCTDeviceEventEmitter,'keyboardDidShow',this.scrollResponderKeyboardDidShow);
this.addListenerOn(RCTDeviceEventEmitter,'keyboardDidHide',this.scrollResponderKeyboardDidHide);
warning(this.getInnerViewNode,'You need to implement getInnerViewNode in ' + 
this.constructor.displayName + ' to get full' + 
'functionality from ScrollResponder mixin. See example of ListView and' + 
' ScrollView.');},






























scrollResponderKeyboardWillShow:function(e){
this.keyboardWillOpenTo = e;
this.props.onKeyboardWillShow && this.props.onKeyboardWillShow(e);},


scrollResponderKeyboardWillHide:function(e){
this.keyboardWillOpenTo = null;
this.props.onKeyboardWillHide && this.props.onKeyboardWillHide(e);},


scrollResponderKeyboardDidShow:function(e){


if(e){
this.keyboardWillOpenTo = e;}

this.props.onKeyboardDidShow && this.props.onKeyboardDidShow(e);},


scrollResponderKeyboardDidHide:function(){
this.keyboardWillOpenTo = null;
this.props.onKeyboardDidHide && this.props.onKeyboardDidHide();}};




var ScrollResponder={
Mixin:ScrollResponderMixin};


module.exports = ScrollResponder;
});
__d('Subscribable',function(global, require, module, exports) {  'use strict';






















var Subscribable={};

Subscribable.Mixin = {

componentWillMount:function(){
this._subscribableSubscriptions = [];},


componentWillUnmount:function(){
this._subscribableSubscriptions.forEach(
function(subscription){return subscription.remove();});

this._subscribableSubscriptions = null;},















addListenerOn:function(
eventEmitter,
eventType,
listener,
context)
{
this._subscribableSubscriptions.push(
eventEmitter.addListener(eventType,listener,context));}};




module.exports = Subscribable;
});
__d('dismissKeyboard',function(global, require, module, exports) {  'use strict';








var TextInputState=require('TextInputState');

function dismissKeyboard(){
TextInputState.blurTextInput(TextInputState.currentlyFocusedField());}


module.exports = dismissKeyboard;
});
__d('StaticRenderer',function(global, require, module, exports) {  'use strict';












var React=require('React');

var StaticRenderer=React.createClass({displayName:'StaticRenderer',
propTypes:{
shouldUpdate:React.PropTypes.bool.isRequired,
render:React.PropTypes.func.isRequired},


shouldComponentUpdate:function(nextProps){
return nextProps.shouldUpdate;},


render:function(){
return this.props.render();}});



module.exports = StaticRenderer;
});
__d('react-timer-mixin/TimerMixin.js',function(global, require, module, exports) {  'use strict';










var GLOBAL=typeof window === 'undefined'?global:window;

var setter=function(_setter,_clearer,array){
return function(callback,delta){
var id=_setter((function(){
_clearer.call(this,id);
callback.apply(this,arguments);}).
bind(this),delta);

if(!this[array]){
this[array] = [id];}else 
{
this[array].push(id);}

return id;};};



var clearer=function(_clearer,array){
return function(id){
if(this[array]){
var index=this[array].indexOf(id);
if(index !== -1){
this[array].splice(index,1);}}


_clearer(id);};};



var _timeouts='TimerMixin_timeouts';
var _clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts);
var _setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts);

var _intervals='TimerMixin_intervals';
var _clearInterval=clearer(GLOBAL.clearInterval,_intervals);
var _setInterval=setter(GLOBAL.setInterval,function(){},_intervals);

var _immediates='TimerMixin_immediates';
var _clearImmediate=clearer(GLOBAL.clearImmediate,_immediates);
var _setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates);

var _rafs='TimerMixin_rafs';
var _cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs);
var _requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs);

var TimerMixin={
componentWillUnmount:function(){
this[_timeouts] && this[_timeouts].forEach(function(id){
GLOBAL.clearTimeout(id);});

this[_timeouts] = null;
this[_intervals] && this[_intervals].forEach(function(id){
GLOBAL.clearInterval(id);});

this[_intervals] = null;
this[_immediates] && this[_immediates].forEach(function(id){
GLOBAL.clearImmediate(id);});

this[_immediates] = null;
this[_rafs] && this[_rafs].forEach(function(id){
GLOBAL.cancelAnimationFrame(id);});

this[_rafs] = null;},


setTimeout:_setTimeout,
clearTimeout:_clearTimeout,

setInterval:_setInterval,
clearInterval:_clearInterval,

setImmediate:_setImmediate,
clearImmediate:_clearImmediate,

requestAnimationFrame:_requestAnimationFrame,
cancelAnimationFrame:_cancelAnimationFrame};


module.exports = TimerMixin;
});
__d('MapView',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var EdgeInsetsPropType=require('EdgeInsetsPropType');
var NativeMethodsMixin=require('NativeMethodsMixin');
var Platform=require('Platform');
var React=require('React');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var View=require('View');

var createReactNativeComponentClass=require('createReactNativeComponentClass');
var deepDiffer=require('deepDiffer');
var insetsDiffer=require('insetsDiffer');
var merge=require('merge');
var requireNativeComponent=require('requireNativeComponent');









var MapView=React.createClass({displayName:'MapView',
mixins:[NativeMethodsMixin],

checkAnnotationIds:function(annotations){

var newAnnotations=annotations.map(function(annotation){
if(!annotation.id){

annotation.id = encodeURIComponent(JSON.stringify(annotation));}


return annotation;});


this.setState({
annotations:newAnnotations});},



componentWillMount:function(){
if(this.props.annotations){
this.checkAnnotationIds(this.props.annotations);}},



componentWillReceiveProps:function(nextProps){
if(nextProps.annotations){
this.checkAnnotationIds(nextProps.annotations);}},



propTypes:{




style:View.propTypes.style,









showsUserLocation:React.PropTypes.bool,





zoomEnabled:React.PropTypes.bool,








rotateEnabled:React.PropTypes.bool,








pitchEnabled:React.PropTypes.bool,





scrollEnabled:React.PropTypes.bool,








mapType:React.PropTypes.oneOf([
'standard',
'satellite',
'hybrid']),








region:React.PropTypes.shape({



latitude:React.PropTypes.number.isRequired,
longitude:React.PropTypes.number.isRequired,





latitudeDelta:React.PropTypes.number.isRequired,
longitudeDelta:React.PropTypes.number.isRequired}),





annotations:React.PropTypes.arrayOf(React.PropTypes.shape({



latitude:React.PropTypes.number.isRequired,
longitude:React.PropTypes.number.isRequired,




animateDrop:React.PropTypes.bool,




title:React.PropTypes.string,
subtitle:React.PropTypes.string,




hasLeftCallout:React.PropTypes.bool,
hasRightCallout:React.PropTypes.bool,




onLeftCalloutPress:React.PropTypes.func,
onRightCalloutPress:React.PropTypes.func,




id:React.PropTypes.string})),






maxDelta:React.PropTypes.number,




minDelta:React.PropTypes.number,





legalLabelInsets:EdgeInsetsPropType,




onRegionChange:React.PropTypes.func,




onRegionChangeComplete:React.PropTypes.func,




onAnnotationPress:React.PropTypes.func},


_onChange:function(event){
if(event.nativeEvent.continuous){
this.props.onRegionChange && 
this.props.onRegionChange(event.nativeEvent.region);}else 
{
this.props.onRegionChangeComplete && 
this.props.onRegionChangeComplete(event.nativeEvent.region);}},



_onPress:function(event){
if(event.nativeEvent.action === 'annotation-click'){
this.props.onAnnotationPress && this.props.onAnnotationPress(event.nativeEvent.annotation);}


if(event.nativeEvent.action === 'callout-click'){
if(!this.props.annotations){
return;}



for(var i=0;i < this.props.annotations.length;i++) {
var annotation=this.props.annotations[i];
if(annotation.id === event.nativeEvent.annotationId){

if(event.nativeEvent.side === 'left'){
annotation.onLeftCalloutPress && annotation.onLeftCalloutPress(event.nativeEvent);}else 
if(event.nativeEvent.side === 'right'){
annotation.onRightCalloutPress && annotation.onRightCalloutPress(event.nativeEvent);}}}}},







render:function(){
return React.createElement(RCTMap,_extends({},this.props,{onPress:this._onPress,onChange:this._onChange}));}});



if(Platform.OS === 'android'){
var RCTMap=createReactNativeComponentClass({
validAttributes:merge(
ReactNativeViewAttributes.UIView,{
active:true,
showsUserLocation:true,
zoomEnabled:true,
rotateEnabled:true,
pitchEnabled:true,
scrollEnabled:true,
region:{diff:deepDiffer},
annotations:{diff:deepDiffer},
maxDelta:true,
minDelta:true,
legalLabelInsets:{diff:insetsDiffer}}),


uiViewClassName:'RCTMap'});}else 

{
var RCTMap=requireNativeComponent('RCTMap',MapView,{
nativeOnly:{onChange:true,onPress:true}});}



module.exports = MapView;
});
__d('Modal',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');
var RCTModalHostView=requireNativeComponent('RCTModalHostView',null);var 














Modal=(function(_React$Component){_inherits(Modal,_React$Component);function Modal(){_classCallCheck(this,Modal);_get(Object.getPrototypeOf(Modal.prototype),'constructor',this).apply(this,arguments);}_createClass(Modal,[{key:'render',value:
function render(){
if(this.props.visible === false){
return null;}


if(this.props.transparent){
var containerBackgroundColor={backgroundColor:'transparent'};}


return (
React.createElement(RCTModalHostView,{
animated:this.props.animated,
transparent:this.props.transparent,
onDismiss:this.props.onDismiss,
style:styles.modal},
React.createElement(View,{style:[styles.container,containerBackgroundColor]},
this.props.children)));}}]);return Modal;})(React.Component);






Modal.propTypes = {
animated:PropTypes.bool,
transparent:PropTypes.bool,
onDismiss:PropTypes.func};


var styles=StyleSheet.create({
modal:{
position:'absolute'},

container:{
left:0,
position:'absolute',
top:0}});



module.exports = Modal;
});
__d('Navigator',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};




























var AnimationsDebugModule=require('NativeModules').AnimationsDebugModule;
var Dimensions=require('Dimensions');
var InteractionMixin=require('InteractionMixin');
var Map=require('Map');
var NavigationContext=require('NavigationContext');
var NavigatorBreadcrumbNavigationBar=require('NavigatorBreadcrumbNavigationBar');
var NavigatorNavigationBar=require('NavigatorNavigationBar');
var NavigatorSceneConfigs=require('NavigatorSceneConfigs');
var PanResponder=require('PanResponder');
var React=require('React');
var StyleSheet=require('StyleSheet');
var Subscribable=require('Subscribable');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');
var View=require('View');

var clamp=require('clamp');
var flattenStyle=require('flattenStyle');
var invariant=require('invariant');
var rebound=require('rebound/rebound.js');

var PropTypes=React.PropTypes;




var SCREEN_WIDTH=Dimensions.get('window').width;
var SCREEN_HEIGHT=Dimensions.get('window').height;
var SCENE_DISABLED_NATIVE_PROPS={
pointerEvents:'none',
style:{
top:SCREEN_HEIGHT,
bottom:-SCREEN_HEIGHT,
opacity:0}};



var __uid=0;
function getuid(){
return __uid++;}


function getRouteID(route){
if(route === null || typeof route !== 'object'){
return String(route);}


var key='__navigatorRouteID';

if(!route.hasOwnProperty(key)){
Object.defineProperty(route,key,{
enumerable:false,
configurable:false,
writable:false,
value:getuid()});}


return route[key];}



var styles=StyleSheet.create({
container:{
flex:1,
overflow:'hidden'},

defaultSceneStyle:{
position:'absolute',
left:0,
right:0,
bottom:0,
top:0},

baseScene:{
position:'absolute',
overflow:'hidden',
left:0,
right:0,
bottom:0,
top:0},

disabledScene:{
top:SCREEN_HEIGHT,
bottom:-SCREEN_HEIGHT},

transitioner:{
flex:1,
backgroundColor:'transparent',
overflow:'hidden'}});



var GESTURE_ACTIONS=[
'pop',
'jumpBack',
'jumpForward'];





























































var Navigator=React.createClass({displayName:'Navigator',

propTypes:{









configureScene:PropTypes.func,










renderScene:PropTypes.func.isRequired,







initialRoute:PropTypes.object,






initialRouteStack:PropTypes.arrayOf(PropTypes.object),







onWillFocus:PropTypes.func,








onDidFocus:PropTypes.func,





navigationBar:PropTypes.node,




navigator:PropTypes.object,




sceneStyle:View.propTypes.style},


statics:{
BreadcrumbNavigationBar:NavigatorBreadcrumbNavigationBar,
NavigationBar:NavigatorNavigationBar,
SceneConfigs:NavigatorSceneConfigs},


mixins:[TimerMixin,InteractionMixin,Subscribable.Mixin],

getDefaultProps:function(){
return {
configureScene:function(){return NavigatorSceneConfigs.PushFromRight;},
sceneStyle:styles.defaultSceneStyle};},



getInitialState:function(){var _this=this;
this._renderedSceneMap = new Map();

var routeStack=this.props.initialRouteStack || [this.props.initialRoute];
invariant(
routeStack.length >= 1,
'Navigator requires props.initialRoute or props.initialRouteStack.');

var initialRouteIndex=routeStack.length - 1;
if(this.props.initialRoute){
initialRouteIndex = routeStack.indexOf(this.props.initialRoute);
invariant(
initialRouteIndex !== -1,
'initialRoute is not in initialRouteStack.');}


return {
sceneConfigStack:routeStack.map(
function(route){return _this.props.configureScene(route);}),

routeStack:routeStack,
presentedIndex:initialRouteIndex,
transitionFromIndex:null,
activeGesture:null,
pendingGestureProgress:null,
transitionQueue:[]};},



componentWillMount:function(){var _this2=this;

this.__defineGetter__('navigationContext',this._getNavigationContext);

this._subRouteFocus = [];
this.parentNavigator = this.props.navigator;
this._handlers = {};
this.springSystem = new rebound.SpringSystem();
this.spring = this.springSystem.createSpring();
this.spring.setRestSpeedThreshold(0.05);
this.spring.setCurrentValue(0).setAtRest();
this.spring.addListener({
onSpringEndStateChange:function(){
if(!_this2._interactionHandle){
_this2._interactionHandle = _this2.createInteractionHandle();}},


onSpringUpdate:function(){
_this2._handleSpringUpdate();},

onSpringAtRest:function(){
_this2._completeTransition();}});


this.panGesture = PanResponder.create({
onMoveShouldSetPanResponder:this._handleMoveShouldSetPanResponder,
onPanResponderGrant:this._handlePanResponderGrant,
onPanResponderRelease:this._handlePanResponderRelease,
onPanResponderMove:this._handlePanResponderMove,
onPanResponderTerminate:this._handlePanResponderTerminate});

this._interactionHandle = null;
this._emitWillFocus(this.state.routeStack[this.state.presentedIndex]);},


componentDidMount:function(){
this._handleSpringUpdate();
this._emitDidFocus(this.state.routeStack[this.state.presentedIndex]);},


componentWillUnmount:function(){
if(this._navigationContext){
this._navigationContext.dispose();
this._navigationContext = null;}},










immediatelyResetRouteStack:function(nextRouteStack){var _this3=this;
var destIndex=nextRouteStack.length - 1;
this.setState({
routeStack:nextRouteStack,
sceneConfigStack:nextRouteStack.map(
this.props.configureScene),

presentedIndex:destIndex,
activeGesture:null,
transitionFromIndex:null,
transitionQueue:[]},
function(){
_this3._handleSpringUpdate();});},



_transitionTo:function(destIndex,velocity,jumpSpringTo,cb){
if(destIndex === this.state.presentedIndex){
return;}

if(this.state.transitionFromIndex !== null){
this.state.transitionQueue.push({
destIndex:destIndex,
velocity:velocity,
cb:cb});

return;}

this.state.transitionFromIndex = this.state.presentedIndex;
this.state.presentedIndex = destIndex;
this.state.transitionCb = cb;
this._onAnimationStart();
if(AnimationsDebugModule){
AnimationsDebugModule.startRecordingFps();}

var sceneConfig=this.state.sceneConfigStack[this.state.transitionFromIndex] || 
this.state.sceneConfigStack[this.state.presentedIndex];
invariant(
sceneConfig,
'Cannot configure scene at index ' + this.state.transitionFromIndex);

if(jumpSpringTo != null){
this.spring.setCurrentValue(jumpSpringTo);}

this.spring.setOvershootClampingEnabled(true);
this.spring.getSpringConfig().friction = sceneConfig.springFriction;
this.spring.getSpringConfig().tension = sceneConfig.springTension;
this.spring.setVelocity(velocity || sceneConfig.defaultTransitionVelocity);
this.spring.setEndValue(1);},






_handleSpringUpdate:function(){

if(this.state.transitionFromIndex != null){
this._transitionBetween(
this.state.transitionFromIndex,
this.state.presentedIndex,
this.spring.getCurrentValue());}else 

if(this.state.activeGesture != null){
var presentedToIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
this._transitionBetween(
this.state.presentedIndex,
presentedToIndex,
this.spring.getCurrentValue());}},







_completeTransition:function(){
if(this.spring.getCurrentValue() !== 1 && this.spring.getCurrentValue() !== 0){


if(this.state.pendingGestureProgress){
this.state.pendingGestureProgress = null;}

return;}

this._onAnimationEnd();
var presentedIndex=this.state.presentedIndex;
var didFocusRoute=this._subRouteFocus[presentedIndex] || this.state.routeStack[presentedIndex];
this._emitDidFocus(didFocusRoute);
if(AnimationsDebugModule){
AnimationsDebugModule.stopRecordingFps(Date.now());}

this.state.transitionFromIndex = null;
this.spring.setCurrentValue(0).setAtRest();
this._hideScenes();
if(this.state.transitionCb){
this.state.transitionCb();
this.state.transitionCb = null;}

if(this._interactionHandle){
this.clearInteractionHandle(this._interactionHandle);
this._interactionHandle = null;}

if(this.state.pendingGestureProgress){


var gestureToIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
this._enableScene(gestureToIndex);
this.spring.setEndValue(this.state.pendingGestureProgress);
return;}

if(this.state.transitionQueue.length){
var queuedTransition=this.state.transitionQueue.shift();
this._enableScene(queuedTransition.destIndex);
this._emitWillFocus(this.state.routeStack[queuedTransition.destIndex]);
this._transitionTo(
queuedTransition.destIndex,
queuedTransition.velocity,
null,
queuedTransition.cb);}},




_emitDidFocus:function(route){
this.navigationContext.emit('didfocus',{route:route});

if(this.props.onDidFocus){
this.props.onDidFocus(route);}},



_emitWillFocus:function(route){
this.navigationContext.emit('willfocus',{route:route});

var navBar=this._navBar;
if(navBar && navBar.handleWillFocus){
navBar.handleWillFocus(route);}

if(this.props.onWillFocus){
this.props.onWillFocus(route);}},






_hideScenes:function(){
var gesturingToIndex=null;
if(this.state.activeGesture){
gesturingToIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);}

for(var i=0;i < this.state.routeStack.length;i++) {
if(i === this.state.presentedIndex || 
i === this.state.transitionFromIndex || 
i === gesturingToIndex){
continue;}

this._disableScene(i);}},






_disableScene:function(sceneIndex){
this.refs['scene_' + sceneIndex] && 
this.refs['scene_' + sceneIndex].setNativeProps(SCENE_DISABLED_NATIVE_PROPS);},





_enableScene:function(sceneIndex){

var sceneStyle=flattenStyle([styles.baseScene,this.props.sceneStyle]);

var enabledSceneNativeProps={
pointerEvents:'auto',
style:{
top:sceneStyle.top,
bottom:sceneStyle.bottom}};


if(sceneIndex !== this.state.transitionFromIndex && 
sceneIndex !== this.state.presentedIndex){


enabledSceneNativeProps.style.opacity = 0;}

this.refs['scene_' + sceneIndex] && 
this.refs['scene_' + sceneIndex].setNativeProps(enabledSceneNativeProps);},


_onAnimationStart:function(){
var fromIndex=this.state.presentedIndex;
var toIndex=this.state.presentedIndex;
if(this.state.transitionFromIndex != null){
fromIndex = this.state.transitionFromIndex;}else 
if(this.state.activeGesture){
toIndex = this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);}

this._setRenderSceneToHardwareTextureAndroid(fromIndex,true);
this._setRenderSceneToHardwareTextureAndroid(toIndex,true);
var navBar=this._navBar;
if(navBar && navBar.onAnimationStart){
navBar.onAnimationStart(fromIndex,toIndex);}},



_onAnimationEnd:function(){
var max=this.state.routeStack.length - 1;
for(var index=0;index <= max;index++) {
this._setRenderSceneToHardwareTextureAndroid(index,false);}


var navBar=this._navBar;
if(navBar && navBar.onAnimationEnd){
navBar.onAnimationEnd();}},



_setRenderSceneToHardwareTextureAndroid:function(sceneIndex,shouldRenderToHardwareTexture){
var viewAtIndex=this.refs['scene_' + sceneIndex];
if(viewAtIndex === null || viewAtIndex === undefined){
return;}

viewAtIndex.setNativeProps({renderToHardwareTextureAndroid:shouldRenderToHardwareTexture});},


_handleTouchStart:function(){
this._eligibleGestures = GESTURE_ACTIONS;},


_handleMoveShouldSetPanResponder:function(e,gestureState){
var sceneConfig=this.state.sceneConfigStack[this.state.presentedIndex];
if(!sceneConfig){
return false;}

this._expectingGestureGrant = this._matchGestureAction(this._eligibleGestures,sceneConfig.gestures,gestureState);
return !!this._expectingGestureGrant;},


_doesGestureOverswipe:function(gestureName){
var wouldOverswipeBack=this.state.presentedIndex <= 0 && (
gestureName === 'pop' || gestureName === 'jumpBack');
var wouldOverswipeForward=this.state.presentedIndex >= this.state.routeStack.length - 1 && 
gestureName === 'jumpForward';
return wouldOverswipeForward || wouldOverswipeBack;},


_handlePanResponderGrant:function(e,gestureState){
invariant(
this._expectingGestureGrant,
'Responder granted unexpectedly.');

this._attachGesture(this._expectingGestureGrant);
this._onAnimationStart();
this._expectingGestureGrant = null;},


_deltaForGestureAction:function(gestureAction){
switch(gestureAction){
case 'pop':
case 'jumpBack':
return -1;
case 'jumpForward':
return 1;
default:
invariant(false,'Unsupported gesture action ' + gestureAction);
return;}},



_handlePanResponderRelease:function(e,gestureState){var _this4=this;
var sceneConfig=this.state.sceneConfigStack[this.state.presentedIndex];
var releaseGestureAction=this.state.activeGesture;
if(!releaseGestureAction){

return;}

var releaseGesture=sceneConfig.gestures[releaseGestureAction];
var destIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
if(this.spring.getCurrentValue() === 0){

this.spring.setCurrentValue(0).setAtRest();
this._completeTransition();
return;}

var isTravelVertical=releaseGesture.direction === 'top-to-bottom' || releaseGesture.direction === 'bottom-to-top';
var isTravelInverted=releaseGesture.direction === 'right-to-left' || releaseGesture.direction === 'bottom-to-top';
var velocity,gestureDistance;
if(isTravelVertical){
velocity = isTravelInverted?-gestureState.vy:gestureState.vy;
gestureDistance = isTravelInverted?-gestureState.dy:gestureState.dy;}else 
{
velocity = isTravelInverted?-gestureState.vx:gestureState.vx;
gestureDistance = isTravelInverted?-gestureState.dx:gestureState.dx;}

var transitionVelocity=clamp(-10,velocity,10);
if(Math.abs(velocity) < releaseGesture.notMoving){

var hasGesturedEnoughToComplete=gestureDistance > releaseGesture.fullDistance * releaseGesture.stillCompletionRatio;
transitionVelocity = hasGesturedEnoughToComplete?releaseGesture.snapVelocity:-releaseGesture.snapVelocity;}

if(transitionVelocity < 0 || this._doesGestureOverswipe(releaseGestureAction)){


if(this.state.transitionFromIndex == null){

var transitionBackToPresentedIndex=this.state.presentedIndex;

this.state.presentedIndex = destIndex;
this._transitionTo(
transitionBackToPresentedIndex,
-transitionVelocity,
1 - this.spring.getCurrentValue());}}else 


{

this._emitWillFocus(this.state.routeStack[destIndex]);
this._transitionTo(
destIndex,
transitionVelocity,
null,
function(){
if(releaseGestureAction === 'pop'){
_this4._cleanScenesPastIndex(destIndex);}});}




this._detachGesture();},


_handlePanResponderTerminate:function(e,gestureState){
if(this.state.activeGesture == null){
return;}

var destIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
this._detachGesture();
var transitionBackToPresentedIndex=this.state.presentedIndex;

this.state.presentedIndex = destIndex;
this._transitionTo(
transitionBackToPresentedIndex,
null,
1 - this.spring.getCurrentValue());},



_attachGesture:function(gestureId){
this.state.activeGesture = gestureId;
var gesturingToIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
this._enableScene(gesturingToIndex);},


_detachGesture:function(){
this.state.activeGesture = null;
this.state.pendingGestureProgress = null;
this._hideScenes();},


_handlePanResponderMove:function(e,gestureState){
var sceneConfig=this.state.sceneConfigStack[this.state.presentedIndex];
if(this.state.activeGesture){
var gesture=sceneConfig.gestures[this.state.activeGesture];
return this._moveAttachedGesture(gesture,gestureState);}

var matchedGesture=this._matchGestureAction(GESTURE_ACTIONS,sceneConfig.gestures,gestureState);
if(matchedGesture){
this._attachGesture(matchedGesture);}},



_moveAttachedGesture:function(gesture,gestureState){
var isTravelVertical=gesture.direction === 'top-to-bottom' || gesture.direction === 'bottom-to-top';
var isTravelInverted=gesture.direction === 'right-to-left' || gesture.direction === 'bottom-to-top';
var distance=isTravelVertical?gestureState.dy:gestureState.dx;
distance = isTravelInverted?-distance:distance;
var gestureDetectMovement=gesture.gestureDetectMovement;
var nextProgress=(distance - gestureDetectMovement) / (
gesture.fullDistance - gestureDetectMovement);
if(nextProgress < 0 && gesture.isDetachable){
var gesturingToIndex=this.state.presentedIndex + this._deltaForGestureAction(this.state.activeGesture);
this._transitionBetween(this.state.presentedIndex,gesturingToIndex,0);
this._detachGesture();
if(this.state.pendingGestureProgress != null){
this.spring.setCurrentValue(0);}

return;}

if(this._doesGestureOverswipe(this.state.activeGesture)){
var frictionConstant=gesture.overswipe.frictionConstant;
var frictionByDistance=gesture.overswipe.frictionByDistance;
var frictionRatio=1 / (frictionConstant + Math.abs(nextProgress) * frictionByDistance);
nextProgress *= frictionRatio;}

nextProgress = clamp(0,nextProgress,1);
if(this.state.transitionFromIndex != null){
this.state.pendingGestureProgress = nextProgress;}else 
if(this.state.pendingGestureProgress){
this.spring.setEndValue(nextProgress);}else 
{
this.spring.setCurrentValue(nextProgress);}},



_matchGestureAction:function(eligibleGestures,gestures,gestureState){var _this5=this;
if(!gestures){
return null;}

var matchedGesture=null;
eligibleGestures.some(function(gestureName,gestureIndex){
var gesture=gestures[gestureName];
if(!gesture){
return;}

if(gesture.overswipe == null && _this5._doesGestureOverswipe(gestureName)){

return false;}

var isTravelVertical=gesture.direction === 'top-to-bottom' || gesture.direction === 'bottom-to-top';
var isTravelInverted=gesture.direction === 'right-to-left' || gesture.direction === 'bottom-to-top';
var currentLoc=isTravelVertical?gestureState.moveY:gestureState.moveX;
var travelDist=isTravelVertical?gestureState.dy:gestureState.dx;
var oppositeAxisTravelDist=
isTravelVertical?gestureState.dx:gestureState.dy;
var edgeHitWidth=gesture.edgeHitWidth;
if(isTravelInverted){
currentLoc = -currentLoc;
travelDist = -travelDist;
oppositeAxisTravelDist = -oppositeAxisTravelDist;
edgeHitWidth = isTravelVertical?
-(SCREEN_HEIGHT - edgeHitWidth):
-(SCREEN_WIDTH - edgeHitWidth);}

var moveStartedInRegion=gesture.edgeHitWidth == null || 
currentLoc < edgeHitWidth;
if(!moveStartedInRegion){
return false;}

var moveTravelledFarEnough=travelDist >= gesture.gestureDetectMovement;
if(!moveTravelledFarEnough){
return false;}

var directionIsCorrect=Math.abs(travelDist) > Math.abs(oppositeAxisTravelDist) * gesture.directionRatio;
if(directionIsCorrect){
matchedGesture = gestureName;
return true;}else 
{
_this5._eligibleGestures = _this5._eligibleGestures.slice().splice(gestureIndex,1);}});


return matchedGesture;},


_transitionSceneStyle:function(fromIndex,toIndex,progress,index){
var viewAtIndex=this.refs['scene_' + index];
if(viewAtIndex === null || viewAtIndex === undefined){
return;}


var sceneConfigIndex=fromIndex < toIndex?toIndex:fromIndex;
var sceneConfig=this.state.sceneConfigStack[sceneConfigIndex];

if(!sceneConfig){
sceneConfig = this.state.sceneConfigStack[sceneConfigIndex - 1];}

var styleToUse={};
var useFn=index < fromIndex || index < toIndex?
sceneConfig.animationInterpolators.out:
sceneConfig.animationInterpolators.into;
var directionAdjustedProgress=fromIndex < toIndex?progress:1 - progress;
var didChange=useFn(styleToUse,directionAdjustedProgress);
if(didChange){
viewAtIndex.setNativeProps({style:styleToUse});}},



_transitionBetween:function(fromIndex,toIndex,progress){
this._transitionSceneStyle(fromIndex,toIndex,progress,fromIndex);
this._transitionSceneStyle(fromIndex,toIndex,progress,toIndex);
var navBar=this._navBar;
if(navBar && navBar.updateProgress && toIndex >= 0 && fromIndex >= 0){
navBar.updateProgress(progress,fromIndex,toIndex);}},



_handleResponderTerminationRequest:function(){
return false;},


_getDestIndexWithinBounds:function(n){
var currentIndex=this.state.presentedIndex;
var destIndex=currentIndex + n;
invariant(
destIndex >= 0,
'Cannot jump before the first route.');

var maxIndex=this.state.routeStack.length - 1;
invariant(
maxIndex >= destIndex,
'Cannot jump past the last route.');

return destIndex;},


_jumpN:function(n){
var destIndex=this._getDestIndexWithinBounds(n);
this._enableScene(destIndex);
this._emitWillFocus(this.state.routeStack[destIndex]);
this._transitionTo(destIndex);},


jumpTo:function(route){
var destIndex=this.state.routeStack.indexOf(route);
invariant(
destIndex !== -1,
'Cannot jump to route that is not in the route stack');

this._jumpN(destIndex - this.state.presentedIndex);},


jumpForward:function(){
this._jumpN(1);},


jumpBack:function(){
this._jumpN(-1);},


push:function(route){var _this6=this;
invariant(!!route,'Must supply route to push');
var activeLength=this.state.presentedIndex + 1;
var activeStack=this.state.routeStack.slice(0,activeLength);
var activeAnimationConfigStack=this.state.sceneConfigStack.slice(0,activeLength);
var nextStack=activeStack.concat([route]);
var destIndex=nextStack.length - 1;
var nextAnimationConfigStack=activeAnimationConfigStack.concat([
this.props.configureScene(route)]);

this._emitWillFocus(nextStack[destIndex]);
this.setState({
routeStack:nextStack,
sceneConfigStack:nextAnimationConfigStack},
function(){
_this6._enableScene(destIndex);
_this6._transitionTo(destIndex);});},



_popN:function(n){var _this7=this;
if(n === 0){
return;}

invariant(
this.state.presentedIndex - n >= 0,
'Cannot pop below zero');

var popIndex=this.state.presentedIndex - n;
this._enableScene(popIndex);
this._emitWillFocus(this.state.routeStack[popIndex]);
this._transitionTo(
popIndex,
null,
null,
function(){
_this7._cleanScenesPastIndex(popIndex);});},




pop:function(){
if(this.state.transitionQueue.length){






return;}


if(this.state.presentedIndex > 0){
this._popN(1);}},









replaceAtIndex:function(route,index,cb){var _this8=this;
invariant(!!route,'Must supply route to replace');
if(index < 0){
index += this.state.routeStack.length;}


if(this.state.routeStack.length <= index){
return;}


var nextRouteStack=this.state.routeStack.slice();
var nextAnimationModeStack=this.state.sceneConfigStack.slice();
nextRouteStack[index] = route;
nextAnimationModeStack[index] = this.props.configureScene(route);

if(index === this.state.presentedIndex){
this._emitWillFocus(route);}

this.setState({
routeStack:nextRouteStack,
sceneConfigStack:nextAnimationModeStack},
function(){
if(index === _this8.state.presentedIndex){
_this8._emitDidFocus(route);}

cb && cb();});},






replace:function(route){
this.replaceAtIndex(route,this.state.presentedIndex);},





replacePrevious:function(route){
this.replaceAtIndex(route,this.state.presentedIndex - 1);},


popToTop:function(){
this.popToRoute(this.state.routeStack[0]);},


popToRoute:function(route){
var indexOfRoute=this.state.routeStack.indexOf(route);
invariant(
indexOfRoute !== -1,
'Calling popToRoute for a route that doesn\'t exist!');

var numToPop=this.state.presentedIndex - indexOfRoute;
this._popN(numToPop);},


replacePreviousAndPop:function(route){
if(this.state.routeStack.length < 2){
return;}

this.replacePrevious(route);
this.pop();},


resetTo:function(route){var _this9=this;
invariant(!!route,'Must supply route to push');
this.replaceAtIndex(route,0,function(){


if(_this9.state.presentedIndex > 0){
_this9._popN(_this9.state.presentedIndex);}});},




getCurrentRoutes:function(){

return this.state.routeStack.slice();},


_cleanScenesPastIndex:function(index){
var newStackLength=index + 1;

if(newStackLength < this.state.routeStack.length){
this.setState({
sceneConfigStack:this.state.sceneConfigStack.slice(0,newStackLength),
routeStack:this.state.routeStack.slice(0,newStackLength)});}},




_renderScene:function(route,i){var _this10=this;
var disabledSceneStyle=null;
var disabledScenePointerEvents='auto';
if(i !== this.state.presentedIndex){
disabledSceneStyle = styles.disabledScene;
disabledScenePointerEvents = 'none';}

return (
React.createElement(View,{
key:'scene_' + getRouteID(route),
ref:'scene_' + i,
onStartShouldSetResponderCapture:function(){
return _this10.state.transitionFromIndex != null || _this10.state.transitionFromIndex != null;},

pointerEvents:disabledScenePointerEvents,
style:[styles.baseScene,this.props.sceneStyle,disabledSceneStyle]},
this.props.renderScene(
route,
this)));},





_renderNavigationBar:function(){var _this11=this;
if(!this.props.navigationBar){
return null;}

return React.cloneElement(this.props.navigationBar,{
ref:function(navBar){_this11._navBar = navBar;},
navigator:this,
navState:this.state});},



render:function(){var _this12=this;
var newRenderedSceneMap=new Map();
var scenes=this.state.routeStack.map(function(route,index){
var renderedScene;
if(_this12._renderedSceneMap.has(route) && 
index !== _this12.state.presentedIndex){
renderedScene = _this12._renderedSceneMap.get(route);}else 
{
renderedScene = _this12._renderScene(route,index);}

newRenderedSceneMap.set(route,renderedScene);
return renderedScene;});

this._renderedSceneMap = newRenderedSceneMap;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(View,_extends({
style:styles.transitioner},
this.panGesture.panHandlers,{
onTouchStart:this._handleTouchStart,
onResponderTerminationRequest:
this._handleResponderTerminationRequest}),

scenes),

this._renderNavigationBar()));},




_getNavigationContext:function(){
if(!this._navigationContext){
this._navigationContext = new NavigationContext();}

return this._navigationContext;}});



module.exports = Navigator;
});
__d('InteractionMixin',function(global, require, module, exports) {  'use strict';







var InteractionManager=require('InteractionManager');






var InteractionMixin={
componentWillUnmount:function(){
while(this._interactionMixinHandles.length) {
InteractionManager.clearInteractionHandle(
this._interactionMixinHandles.pop());}},




_interactionMixinHandles:[],

createInteractionHandle:function(){
var handle=InteractionManager.createInteractionHandle();
this._interactionMixinHandles.push(handle);
return handle;},


clearInteractionHandle:function(clearHandle){
InteractionManager.clearInteractionHandle(clearHandle);
this._interactionMixinHandles = this._interactionMixinHandles.filter(
function(handle){return handle !== clearHandle;});},








runAfterInteractions:function(callback){
InteractionManager.runAfterInteractions(callback);}};



module.exports = InteractionMixin;
});
__d('NavigationContext',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}

























'use strict';

var NavigationEvent=require('NavigationEvent');
var NavigationEventEmitter=require('NavigationEventEmitter');
var NavigationTreeNode=require('NavigationTreeNode');

var emptyFunction=require('emptyFunction');
var invariant=require('invariant');var 




AT_TARGET=


NavigationEvent.AT_TARGET;var BUBBLING_PHASE=NavigationEvent.BUBBLING_PHASE;var CAPTURING_PHASE=NavigationEvent.CAPTURING_PHASE;var 




NavigationContext=(function(){







function NavigationContext(){_classCallCheck(this,NavigationContext);
this._bubbleEventEmitter = new NavigationEventEmitter(this);
this._captureEventEmitter = new NavigationEventEmitter(this);
this._currentRoute = null;


this.__node = new NavigationTreeNode(this);

this._emitCounter = 0;
this._emitQueue = [];

this.addListener('willfocus',this._onFocus,this);
this.addListener('didfocus',this._onFocus,this);}_createClass(NavigationContext,[{key:'appendChild',value:













function appendChild(childContext){
this.__node.appendChild(childContext.__node);}},{key:'addListener',value:


function addListener(
eventType,
listener,
context,
useCapture)
{
var emitter=useCapture?
this._captureEventEmitter:
this._bubbleEventEmitter;
if(emitter){
return emitter.addListener(eventType,listener,context);}else 
{
return {remove:emptyFunction};}}},{key:'emit',value:



function emit(eventType,data,didEmitCallback){var _this=this;
if(this._emitCounter > 0){


var args=Array.prototype.slice.call(arguments);
this._emitQueue.push(args);
return;}


this._emitCounter++;

var targets=[this];
var parentTarget=this.parent;
while(parentTarget) {
targets.unshift(parentTarget);
parentTarget = parentTarget.parent;}


var propagationStopped=false;
var defaultPrevented=false;
var callback=function(event){
propagationStopped = propagationStopped || event.isPropagationStopped();
defaultPrevented = defaultPrevented || event.defaultPrevented;};



targets.some(function(currentTarget){
if(propagationStopped){
return true;}


var extraInfo={
defaultPrevented:defaultPrevented,
eventPhase:CAPTURING_PHASE,
propagationStopped:propagationStopped,
target:_this};


currentTarget.__emit(eventType,data,callback,extraInfo);},
this);


targets.reverse().some(function(currentTarget){
if(propagationStopped){
return true;}

var extraInfo={
defaultPrevented:defaultPrevented,
eventPhase:BUBBLING_PHASE,
propagationStopped:propagationStopped,
target:_this};

currentTarget.__emit(eventType,data,callback,extraInfo);},
this);

if(didEmitCallback){
var event=NavigationEvent.pool(eventType,this,data);
propagationStopped && event.stopPropagation();
defaultPrevented && event.preventDefault();
didEmitCallback.call(this,event);
event.dispose();}


this._emitCounter--;
while(this._emitQueue.length) {
var args=this._emitQueue.shift();
this.emit.apply(this,args);}}},{key:'dispose',value:



function dispose(){

this._bubbleEventEmitter && this._bubbleEventEmitter.removeAllListeners();
this._captureEventEmitter && this._captureEventEmitter.removeAllListeners();
this._bubbleEventEmitter = null;
this._captureEventEmitter = null;
this._currentRoute = null;}},{key:'__emit',value:



function __emit(
eventType,
data,
didEmitCallback,
extraInfo)
{
var emitter;
switch(extraInfo.eventPhase){
case CAPTURING_PHASE:
emitter = this._captureEventEmitter;
break;
case BUBBLING_PHASE:
emitter = this._bubbleEventEmitter;
break;
default:
invariant(false,'invalid event phase %s',extraInfo.eventPhase);}


if(extraInfo.target === this){

extraInfo.eventPhase = AT_TARGET;}


if(emitter){
emitter.emit(
eventType,
data,
didEmitCallback,
extraInfo);}}},{key:'_onFocus',value:




function _onFocus(event){
invariant(
event.data && event.data.hasOwnProperty('route'),
'didfocus event should provide route');

this._currentRoute = event.data.route;}},{key:'parent',get:function(){var parent=this.__node.getParent();return parent?parent.getValue():null;}},{key:'currentRoute',get:function(){return this._currentRoute;}}]);return NavigationContext;})();



module.exports = NavigationContext;
});
__d('NavigationEvent',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}




























var invariant=require('invariant');var 

NavigationEventPool=(function(){


function NavigationEventPool(){_classCallCheck(this,NavigationEventPool);
this._list = [];}_createClass(NavigationEventPool,[{key:'get',value:


function get(type,currentTarget,data){
var event;
if(this._list.length > 0){
event = this._list.pop();
event.constructor.call(event,type,currentTarget,data);}else 
{
event = new NavigationEvent(type,currentTarget,data);}

return event;}},{key:'put',value:


function put(event){
this._list.push(event);}}]);return NavigationEventPool;})();



var _navigationEventPool=new NavigationEventPool();var 























NavigationEvent=(function(){_createClass(NavigationEvent,null,[{key:'pool',value:


















function pool(type,currentTarget,data){
return _navigationEventPool.get(type,currentTarget,data);}}]);


function NavigationEvent(type,currentTarget,data){_classCallCheck(this,NavigationEvent);
this.target = currentTarget;
this.eventPhase = NavigationEvent.NONE;

this._type = type;
this._currentTarget = currentTarget;
this._data = data;
this._defaultPrevented = false;
this._disposed = false;
this._propagationStopped = false;}_createClass(NavigationEvent,[{key:'preventDefault',value:






















function preventDefault(){
this._defaultPrevented = true;}},{key:'stopPropagation',value:


function stopPropagation(){
this._propagationStopped = true;}},{key:'stop',value:


function stop(){
this.preventDefault();
this.stopPropagation();}},{key:'isPropagationStopped',value:


function isPropagationStopped(){
return this._propagationStopped;}},{key:'dispose',value:







function dispose(){
invariant(!this._disposed,'NavigationEvent is already disposed');
this._disposed = true;


this.target = null;
this.eventPhase = NavigationEvent.NONE;
this._type = null;
this._currentTarget = null;
this._data = null;
this._defaultPrevented = false;


_navigationEventPool.put(this);}},{key:'type',get:function(){return this._type;}},{key:'currentTarget',get:function(){return this._currentTarget;}},{key:'data',get:function(){return this._data;}},{key:'defaultPrevented',get:function(){return this._defaultPrevented;}}]);return NavigationEvent;})();










NavigationEvent.NONE = 0;


NavigationEvent.CAPTURING_PHASE = 1;



NavigationEvent.AT_TARGET = 2;





NavigationEvent.BUBBLING_PHASE = 3;

module.exports = NavigationEvent;
});
__d('NavigationEventEmitter',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}




























var EventEmitter=require('EventEmitter');
var NavigationEvent=require('NavigationEvent');var 








NavigationEventEmitter=(function(_EventEmitter){_inherits(NavigationEventEmitter,_EventEmitter);




function NavigationEventEmitter(target){_classCallCheck(this,NavigationEventEmitter);
_get(Object.getPrototypeOf(NavigationEventEmitter.prototype),'constructor',this).call(this);
this._emitting = false;
this._emitQueue = [];
this._target = target;}_createClass(NavigationEventEmitter,[{key:'emit',value:


function emit(
eventType,
data,
didEmitCallback,
extraInfo)
{
if(this._emitting){


var args=Array.prototype.slice.call(arguments);
this._emitQueue.unshift(args);
return;}


this._emitting = true;

var event=NavigationEvent.pool(eventType,this._target,data);

if(extraInfo){
if(extraInfo.target){
event.target = extraInfo.target;}


if(extraInfo.eventPhase){
event.eventPhase = extraInfo.eventPhase;}


if(extraInfo.defaultPrevented){
event.preventDefault();}


if(extraInfo.propagationStopped){
event.stopPropagation();}}





_get(Object.getPrototypeOf(NavigationEventEmitter.prototype),'emit',this).call(this,String(eventType),event);

if(typeof didEmitCallback === 'function'){
didEmitCallback.call(this._target,event);}

event.dispose();

this._emitting = false;

while(this._emitQueue.length) {
var args=this._emitQueue.shift();
this.emit.apply(this,args);}}}]);return NavigationEventEmitter;})(EventEmitter);




module.exports = NavigationEventEmitter;
});
__d('NavigationTreeNode',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}









var invariant=require('invariant');
var immutable=require('immutable/dist/immutable.js');var 

List=immutable.List;var 






NavigationTreeNode=(function(){






function NavigationTreeNode(value){_classCallCheck(this,NavigationTreeNode);
this.__parent = null;
this._children = new List();
this._value = value;}_createClass(NavigationTreeNode,[{key:'getValue',value:


function getValue(){
return this._value;}},{key:'getParent',value:


function getParent(){
return this.__parent;}},{key:'getChildrenCount',value:


function getChildrenCount(){
return this._children.size;}},{key:'getChildAt',value:


function getChildAt(index){
return index > -1 && index < this._children.size?
this._children.get(index):
null;}},{key:'appendChild',value:


function appendChild(child){
if(child.__parent){
child.__parent.removeChild(child);}

child.__parent = this;
this._children = this._children.push(child);}},{key:'removeChild',value:


function removeChild(child){
var index=this._children.indexOf(child);

invariant(
index > -1,
'The node to be removed is not a child of this node.');


child.__parent = null;

this._children = this._children.splice(index,1);}},{key:'indexOf',value:


function indexOf(child){
return this._children.indexOf(child);}},{key:'forEach',value:


function forEach(callback,context){
this._children.forEach(callback,context);}},{key:'map',value:


function map(callback,context){
return this._children.map(callback,context).toJS();}},{key:'some',value:


function some(callback,context){
return this._children.some(callback,context);}}]);return NavigationTreeNode;})();




module.exports = NavigationTreeNode;
});
__d('immutable/dist/immutable.js',function(global, require, module, exports) {  (







function(global,factory){
typeof exports === 'object' && typeof module !== 'undefined'?module.exports = factory():
typeof define === 'function' && define.amd?define(factory):
global.Immutable = factory();})(
this,function(){'use strict';var SLICE$0=Array.prototype.slice;

function createClass(ctor,superClass){
if(superClass){
ctor.prototype = Object.create(superClass.prototype);}

ctor.prototype.constructor = ctor;}



var DELETE='delete';


var SHIFT=5;
var SIZE=1 << SHIFT;
var MASK=SIZE - 1;



var NOT_SET={};


var CHANGE_LENGTH={value:false};
var DID_ALTER={value:false};

function MakeRef(ref){
ref.value = false;
return ref;}


function SetRef(ref){
ref && (ref.value = true);}





function OwnerID(){}


function arrCopy(arr,offset){
offset = offset || 0;
var len=Math.max(0,arr.length - offset);
var newArr=new Array(len);
for(var ii=0;ii < len;ii++) {
newArr[ii] = arr[ii + offset];}

return newArr;}


function ensureSize(iter){
if(iter.size === undefined){
iter.size = iter.__iterate(returnTrue);}

return iter.size;}


function wrapIndex(iter,index){







if(typeof index !== 'number'){
var numIndex=+index;
if('' + numIndex !== index){
return NaN;}

index = numIndex;}

return index < 0?ensureSize(iter) + index:index;}


function returnTrue(){
return true;}


function wholeSlice(begin,end,size){
return (begin === 0 || size !== undefined && begin <= -size) && (
end === undefined || size !== undefined && end >= size);}


function resolveBegin(begin,size){
return resolveIndex(begin,size,0);}


function resolveEnd(end,size){
return resolveIndex(end,size,size);}


function resolveIndex(index,size,defaultIndex){
return index === undefined?
defaultIndex:
index < 0?
Math.max(0,size + index):
size === undefined?
index:
Math.min(size,index);}


function Iterable(value){
return isIterable(value)?value:Seq(value);}



createClass(KeyedIterable,Iterable);
function KeyedIterable(value){
return isKeyed(value)?value:KeyedSeq(value);}



createClass(IndexedIterable,Iterable);
function IndexedIterable(value){
return isIndexed(value)?value:IndexedSeq(value);}



createClass(SetIterable,Iterable);
function SetIterable(value){
return isIterable(value) && !isAssociative(value)?value:SetSeq(value);}




function isIterable(maybeIterable){
return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);}


function isKeyed(maybeKeyed){
return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);}


function isIndexed(maybeIndexed){
return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);}


function isAssociative(maybeAssociative){
return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);}


function isOrdered(maybeOrdered){
return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);}


Iterable.isIterable = isIterable;
Iterable.isKeyed = isKeyed;
Iterable.isIndexed = isIndexed;
Iterable.isAssociative = isAssociative;
Iterable.isOrdered = isOrdered;

Iterable.Keyed = KeyedIterable;
Iterable.Indexed = IndexedIterable;
Iterable.Set = SetIterable;


var IS_ITERABLE_SENTINEL='@@__IMMUTABLE_ITERABLE__@@';
var IS_KEYED_SENTINEL='@@__IMMUTABLE_KEYED__@@';
var IS_INDEXED_SENTINEL='@@__IMMUTABLE_INDEXED__@@';
var IS_ORDERED_SENTINEL='@@__IMMUTABLE_ORDERED__@@';



var ITERATE_KEYS=0;
var ITERATE_VALUES=1;
var ITERATE_ENTRIES=2;

var REAL_ITERATOR_SYMBOL=typeof Symbol === 'function' && Symbol.iterator;
var FAUX_ITERATOR_SYMBOL='@@iterator';

var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;


function src_Iterator__Iterator(next){
this.next = next;}


src_Iterator__Iterator.prototype.toString = function(){
return '[Iterator]';};



src_Iterator__Iterator.KEYS = ITERATE_KEYS;
src_Iterator__Iterator.VALUES = ITERATE_VALUES;
src_Iterator__Iterator.ENTRIES = ITERATE_ENTRIES;

src_Iterator__Iterator.prototype.inspect = 
src_Iterator__Iterator.prototype.toSource = function(){return this.toString();};
src_Iterator__Iterator.prototype[ITERATOR_SYMBOL] = function(){
return this;};



function iteratorValue(type,k,v,iteratorResult){
var value=type === 0?k:type === 1?v:[k,v];
iteratorResult?iteratorResult.value = value:iteratorResult = {
value:value,done:false};

return iteratorResult;}


function iteratorDone(){
return {value:undefined,done:true};}


function hasIterator(maybeIterable){
return !!getIteratorFn(maybeIterable);}


function isIterator(maybeIterator){
return maybeIterator && typeof maybeIterator.next === 'function';}


function getIterator(iterable){
var iteratorFn=getIteratorFn(iterable);
return iteratorFn && iteratorFn.call(iterable);}


function getIteratorFn(iterable){
var iteratorFn=iterable && (
REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || 
iterable[FAUX_ITERATOR_SYMBOL]);

if(typeof iteratorFn === 'function'){
return iteratorFn;}}



function isArrayLike(value){
return value && typeof value.length === 'number';}


createClass(Seq,Iterable);
function Seq(value){
return value === null || value === undefined?emptySequence():
isIterable(value)?value.toSeq():seqFromValue(value);}


Seq.of = function(){
return Seq(arguments);};


Seq.prototype.toSeq = function(){
return this;};


Seq.prototype.toString = function(){
return this.__toString('Seq {','}');};


Seq.prototype.cacheResult = function(){
if(!this._cache && this.__iterateUncached){
this._cache = this.entrySeq().toArray();
this.size = this._cache.length;}

return this;};




Seq.prototype.__iterate = function(fn,reverse){
return seqIterate(this,fn,reverse,true);};




Seq.prototype.__iterator = function(type,reverse){
return seqIterator(this,type,reverse,true);};




createClass(KeyedSeq,Seq);
function KeyedSeq(value){
return value === null || value === undefined?
emptySequence().toKeyedSeq():
isIterable(value)?
isKeyed(value)?value.toSeq():value.fromEntrySeq():
keyedSeqFromValue(value);}


KeyedSeq.prototype.toKeyedSeq = function(){
return this;};




createClass(IndexedSeq,Seq);
function IndexedSeq(value){
return value === null || value === undefined?emptySequence():
!isIterable(value)?indexedSeqFromValue(value):
isKeyed(value)?value.entrySeq():value.toIndexedSeq();}


IndexedSeq.of = function(){
return IndexedSeq(arguments);};


IndexedSeq.prototype.toIndexedSeq = function(){
return this;};


IndexedSeq.prototype.toString = function(){
return this.__toString('Seq [',']');};


IndexedSeq.prototype.__iterate = function(fn,reverse){
return seqIterate(this,fn,reverse,false);};


IndexedSeq.prototype.__iterator = function(type,reverse){
return seqIterator(this,type,reverse,false);};




createClass(SetSeq,Seq);
function SetSeq(value){
return (
value === null || value === undefined?emptySequence():
!isIterable(value)?indexedSeqFromValue(value):
isKeyed(value)?value.entrySeq():value).
toSetSeq();}


SetSeq.of = function(){
return SetSeq(arguments);};


SetSeq.prototype.toSetSeq = function(){
return this;};




Seq.isSeq = isSeq;
Seq.Keyed = KeyedSeq;
Seq.Set = SetSeq;
Seq.Indexed = IndexedSeq;

var IS_SEQ_SENTINEL='@@__IMMUTABLE_SEQ__@@';

Seq.prototype[IS_SEQ_SENTINEL] = true;





createClass(ArraySeq,IndexedSeq);
function ArraySeq(array){
this._array = array;
this.size = array.length;}


ArraySeq.prototype.get = function(index,notSetValue){
return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue;};


ArraySeq.prototype.__iterate = function(fn,reverse){
var array=this._array;
var maxIndex=array.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
if(fn(array[reverse?maxIndex - ii:ii],ii,this) === false){
return ii + 1;}}


return ii;};


ArraySeq.prototype.__iterator = function(type,reverse){
var array=this._array;
var maxIndex=array.length - 1;
var ii=0;
return new src_Iterator__Iterator(function()
{return ii > maxIndex?
iteratorDone():
iteratorValue(type,ii,array[reverse?maxIndex - ii++:ii++]);});};





createClass(ObjectSeq,KeyedSeq);
function ObjectSeq(object){
var keys=Object.keys(object);
this._object = object;
this._keys = keys;
this.size = keys.length;}


ObjectSeq.prototype.get = function(key,notSetValue){
if(notSetValue !== undefined && !this.has(key)){
return notSetValue;}

return this._object[key];};


ObjectSeq.prototype.has = function(key){
return this._object.hasOwnProperty(key);};


ObjectSeq.prototype.__iterate = function(fn,reverse){
var object=this._object;
var keys=this._keys;
var maxIndex=keys.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
var key=keys[reverse?maxIndex - ii:ii];
if(fn(object[key],key,this) === false){
return ii + 1;}}


return ii;};


ObjectSeq.prototype.__iterator = function(type,reverse){
var object=this._object;
var keys=this._keys;
var maxIndex=keys.length - 1;
var ii=0;
return new src_Iterator__Iterator(function(){
var key=keys[reverse?maxIndex - ii:ii];
return ii++ > maxIndex?
iteratorDone():
iteratorValue(type,key,object[key]);});};



ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;


createClass(IterableSeq,IndexedSeq);
function IterableSeq(iterable){
this._iterable = iterable;
this.size = iterable.length || iterable.size;}


IterableSeq.prototype.__iterateUncached = function(fn,reverse){
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterable=this._iterable;
var iterator=getIterator(iterable);
var iterations=0;
if(isIterator(iterator)){
var step;
while(!(step = iterator.next()).done) {
if(fn(step.value,iterations++,this) === false){
break;}}}



return iterations;};


IterableSeq.prototype.__iteratorUncached = function(type,reverse){
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterable=this._iterable;
var iterator=getIterator(iterable);
if(!isIterator(iterator)){
return new src_Iterator__Iterator(iteratorDone);}

var iterations=0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:iteratorValue(type,iterations++,step.value);});};





createClass(IteratorSeq,IndexedSeq);
function IteratorSeq(iterator){
this._iterator = iterator;
this._iteratorCache = [];}


IteratorSeq.prototype.__iterateUncached = function(fn,reverse){
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterator=this._iterator;
var cache=this._iteratorCache;
var iterations=0;
while(iterations < cache.length) {
if(fn(cache[iterations],iterations++,this) === false){
return iterations;}}


var step;
while(!(step = iterator.next()).done) {
var val=step.value;
cache[iterations] = val;
if(fn(val,iterations++,this) === false){
break;}}


return iterations;};


IteratorSeq.prototype.__iteratorUncached = function(type,reverse){
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=this._iterator;
var cache=this._iteratorCache;
var iterations=0;
return new src_Iterator__Iterator(function(){
if(iterations >= cache.length){
var step=iterator.next();
if(step.done){
return step;}

cache[iterations] = step.value;}

return iteratorValue(type,iterations,cache[iterations++]);});};








function isSeq(maybeSeq){
return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);}


var EMPTY_SEQ;

function emptySequence(){
return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));}


function keyedSeqFromValue(value){
var seq=
Array.isArray(value)?new ArraySeq(value).fromEntrySeq():
isIterator(value)?new IteratorSeq(value).fromEntrySeq():
hasIterator(value)?new IterableSeq(value).fromEntrySeq():
typeof value === 'object'?new ObjectSeq(value):
undefined;
if(!seq){
throw new TypeError(
'Expected Array or iterable object of [k, v] entries, ' + 
'or keyed object: ' + value);}


return seq;}


function indexedSeqFromValue(value){
var seq=maybeIndexedSeqFromValue(value);
if(!seq){
throw new TypeError(
'Expected Array or iterable object of values: ' + value);}


return seq;}


function seqFromValue(value){
var seq=maybeIndexedSeqFromValue(value) || 
typeof value === 'object' && new ObjectSeq(value);
if(!seq){
throw new TypeError(
'Expected Array or iterable object of values, or keyed object: ' + value);}


return seq;}


function maybeIndexedSeqFromValue(value){
return (
isArrayLike(value)?new ArraySeq(value):
isIterator(value)?new IteratorSeq(value):
hasIterator(value)?new IterableSeq(value):
undefined);}



function seqIterate(seq,fn,reverse,useKeys){
var cache=seq._cache;
if(cache){
var maxIndex=cache.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
var entry=cache[reverse?maxIndex - ii:ii];
if(fn(entry[1],useKeys?entry[0]:ii,seq) === false){
return ii + 1;}}


return ii;}

return seq.__iterateUncached(fn,reverse);}


function seqIterator(seq,type,reverse,useKeys){
var cache=seq._cache;
if(cache){
var maxIndex=cache.length - 1;
var ii=0;
return new src_Iterator__Iterator(function(){
var entry=cache[reverse?maxIndex - ii:ii];
return ii++ > maxIndex?
iteratorDone():
iteratorValue(type,useKeys?entry[0]:ii - 1,entry[1]);});}


return seq.__iteratorUncached(type,reverse);}


createClass(Collection,Iterable);
function Collection(){
throw TypeError('Abstract');}



createClass(KeyedCollection,Collection);function KeyedCollection(){}

createClass(IndexedCollection,Collection);function IndexedCollection(){}

createClass(SetCollection,Collection);function SetCollection(){}


Collection.Keyed = KeyedCollection;
Collection.Indexed = IndexedCollection;
Collection.Set = SetCollection;























































function is(valueA,valueB){
if(valueA === valueB || valueA !== valueA && valueB !== valueB){
return true;}

if(!valueA || !valueB){
return false;}

if(typeof valueA.valueOf === 'function' && 
typeof valueB.valueOf === 'function'){
valueA = valueA.valueOf();
valueB = valueB.valueOf();
if(valueA === valueB || valueA !== valueA && valueB !== valueB){
return true;}

if(!valueA || !valueB){
return false;}}


if(typeof valueA.equals === 'function' && 
typeof valueB.equals === 'function' && 
valueA.equals(valueB)){
return true;}

return false;}


function fromJS(json,converter){
return converter?
fromJSWith(converter,json,'',{'':json}):
fromJSDefault(json);}


function fromJSWith(converter,json,key,parentJSON){
if(Array.isArray(json)){
return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json);}));}

if(isPlainObj(json)){
return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json);}));}

return json;}


function fromJSDefault(json){
if(Array.isArray(json)){
return IndexedSeq(json).map(fromJSDefault).toList();}

if(isPlainObj(json)){
return KeyedSeq(json).map(fromJSDefault).toMap();}

return json;}


function isPlainObj(value){
return value && (value.constructor === Object || value.constructor === undefined);}


var src_Math__imul=
typeof Math.imul === 'function' && Math.imul(0xffffffff,2) === -2?
Math.imul:
function imul(a,b){
a = a | 0;
b = b | 0;
var c=a & 0xffff;
var d=b & 0xffff;

return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0;};






function smi(i32){
return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;}


function hash(o){
if(o === false || o === null || o === undefined){
return 0;}

if(typeof o.valueOf === 'function'){
o = o.valueOf();
if(o === false || o === null || o === undefined){
return 0;}}


if(o === true){
return 1;}

var type=typeof o;
if(type === 'number'){
var h=o | 0;
if(h !== o){
h ^= o * 0xFFFFFFFF;}

while(o > 0xFFFFFFFF) {
o /= 0xFFFFFFFF;
h ^= o;}

return smi(h);}

if(type === 'string'){
return o.length > STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o);}

if(typeof o.hashCode === 'function'){
return o.hashCode();}

return hashJSObj(o);}


function cachedHashString(string){
var hash=stringHashCache[string];
if(hash === undefined){
hash = hashString(string);
if(STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE){
STRING_HASH_CACHE_SIZE = 0;
stringHashCache = {};}

STRING_HASH_CACHE_SIZE++;
stringHashCache[string] = hash;}

return hash;}



function hashString(string){






var hash=0;
for(var ii=0;ii < string.length;ii++) {
hash = 31 * hash + string.charCodeAt(ii) | 0;}

return smi(hash);}


function hashJSObj(obj){
var hash;
if(usingWeakMap){
hash = weakMap.get(obj);
if(hash !== undefined){
return hash;}}



hash = obj[UID_HASH_KEY];
if(hash !== undefined){
return hash;}


if(!canDefineProperty){
hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];
if(hash !== undefined){
return hash;}


hash = getIENodeHash(obj);
if(hash !== undefined){
return hash;}}



hash = ++objHashUID;
if(objHashUID & 0x40000000){
objHashUID = 0;}


if(usingWeakMap){
weakMap.set(obj,hash);}else 
if(isExtensible !== undefined && isExtensible(obj) === false){
throw new Error('Non-extensible objects are not allowed as keys.');}else 
if(canDefineProperty){
Object.defineProperty(obj,UID_HASH_KEY,{
'enumerable':false,
'configurable':false,
'writable':false,
'value':hash});}else 

if(obj.propertyIsEnumerable !== undefined && 
obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable){




obj.propertyIsEnumerable = function(){
return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};

obj.propertyIsEnumerable[UID_HASH_KEY] = hash;}else 
if(obj.nodeType !== undefined){




obj[UID_HASH_KEY] = hash;}else 
{
throw new Error('Unable to set a non-enumerable property on object.');}


return hash;}



var isExtensible=Object.isExtensible;


var canDefineProperty=(function(){
try{
Object.defineProperty({},'@',{});
return true;}
catch(e) {
return false;}})();





function getIENodeHash(node){
if(node && node.nodeType > 0){
switch(node.nodeType){
case 1:
return node.uniqueID;
case 9:
return node.documentElement && node.documentElement.uniqueID;}}}





var usingWeakMap=typeof WeakMap === 'function';
var weakMap;
if(usingWeakMap){
weakMap = new WeakMap();}


var objHashUID=0;

var UID_HASH_KEY='__immutablehash__';
if(typeof Symbol === 'function'){
UID_HASH_KEY = Symbol(UID_HASH_KEY);}


var STRING_HASH_CACHE_MIN_STRLEN=16;
var STRING_HASH_CACHE_MAX_SIZE=255;
var STRING_HASH_CACHE_SIZE=0;
var stringHashCache={};

function invariant(condition,error){
if(!condition)throw new Error(error);}


function assertNotInfinite(size){
invariant(
size !== Infinity,
'Cannot perform this action with an infinite size.');}



createClass(ToKeyedSequence,KeyedSeq);
function ToKeyedSequence(indexed,useKeys){
this._iter = indexed;
this._useKeys = useKeys;
this.size = indexed.size;}


ToKeyedSequence.prototype.get = function(key,notSetValue){
return this._iter.get(key,notSetValue);};


ToKeyedSequence.prototype.has = function(key){
return this._iter.has(key);};


ToKeyedSequence.prototype.valueSeq = function(){
return this._iter.valueSeq();};


ToKeyedSequence.prototype.reverse = function(){var this$0=this;
var reversedSequence=reverseFactory(this,true);
if(!this._useKeys){
reversedSequence.valueSeq = function(){return this$0._iter.toSeq().reverse();};}

return reversedSequence;};


ToKeyedSequence.prototype.map = function(mapper,context){var this$0=this;
var mappedSequence=mapFactory(this,mapper,context);
if(!this._useKeys){
mappedSequence.valueSeq = function(){return this$0._iter.toSeq().map(mapper,context);};}

return mappedSequence;};


ToKeyedSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
var ii;
return this._iter.__iterate(
this._useKeys?
function(v,k){return fn(v,k,this$0);}:(
ii = reverse?resolveSize(this):0,
function(v){return fn(v,reverse?--ii:ii++,this$0);}),
reverse);};



ToKeyedSequence.prototype.__iterator = function(type,reverse){
if(this._useKeys){
return this._iter.__iterator(type,reverse);}

var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
var ii=reverse?resolveSize(this):0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,reverse?--ii:ii++,step.value,step);});};



ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;


createClass(ToIndexedSequence,IndexedSeq);
function ToIndexedSequence(iter){
this._iter = iter;
this.size = iter.size;}


ToIndexedSequence.prototype.includes = function(value){
return this._iter.includes(value);};


ToIndexedSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
var iterations=0;
return this._iter.__iterate(function(v){return fn(v,iterations++,this$0);},reverse);};


ToIndexedSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
var iterations=0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,iterations++,step.value,step);});};





createClass(ToSetSequence,SetSeq);
function ToSetSequence(iter){
this._iter = iter;
this.size = iter.size;}


ToSetSequence.prototype.has = function(key){
return this._iter.includes(key);};


ToSetSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._iter.__iterate(function(v){return fn(v,v,this$0);},reverse);};


ToSetSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,step.value,step.value,step);});};





createClass(FromEntriesSequence,KeyedSeq);
function FromEntriesSequence(entries){
this._iter = entries;
this.size = entries.size;}


FromEntriesSequence.prototype.entrySeq = function(){
return this._iter.toSeq();};


FromEntriesSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._iter.__iterate(function(entry){


if(entry){
validateEntry(entry);
var indexedIterable=isIterable(entry);
return fn(
indexedIterable?entry.get(1):entry[1],
indexedIterable?entry.get(0):entry[0],
this$0);}},


reverse);};


FromEntriesSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
return new src_Iterator__Iterator(function(){
while(true) {
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;


if(entry){
validateEntry(entry);
var indexedIterable=isIterable(entry);
return iteratorValue(
type,
indexedIterable?entry.get(0):entry[0],
indexedIterable?entry.get(1):entry[1],
step);}}});};







ToIndexedSequence.prototype.cacheResult = 
ToKeyedSequence.prototype.cacheResult = 
ToSetSequence.prototype.cacheResult = 
FromEntriesSequence.prototype.cacheResult = 
cacheResultThrough;


function flipFactory(iterable){
var flipSequence=makeSequence(iterable);
flipSequence._iter = iterable;
flipSequence.size = iterable.size;
flipSequence.flip = function(){return iterable;};
flipSequence.reverse = function(){
var reversedSequence=iterable.reverse.apply(this);
reversedSequence.flip = function(){return iterable.reverse();};
return reversedSequence;};

flipSequence.has = function(key){return iterable.includes(key);};
flipSequence.includes = function(key){return iterable.has(key);};
flipSequence.cacheResult = cacheResultThrough;
flipSequence.__iterateUncached = function(fn,reverse){var this$0=this;
return iterable.__iterate(function(v,k){return fn(k,v,this$0) !== false;},reverse);};

flipSequence.__iteratorUncached = function(type,reverse){
if(type === ITERATE_ENTRIES){
var iterator=iterable.__iterator(type,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
if(!step.done){
var k=step.value[0];
step.value[0] = step.value[1];
step.value[1] = k;}

return step;});}


return iterable.__iterator(
type === ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,
reverse);};


return flipSequence;}



function mapFactory(iterable,mapper,context){
var mappedSequence=makeSequence(iterable);
mappedSequence.size = iterable.size;
mappedSequence.has = function(key){return iterable.has(key);};
mappedSequence.get = function(key,notSetValue){
var v=iterable.get(key,NOT_SET);
return v === NOT_SET?
notSetValue:
mapper.call(context,v,key,iterable);};

mappedSequence.__iterateUncached = function(fn,reverse){var this$0=this;
return iterable.__iterate(
function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0) !== false;},
reverse);};


mappedSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var key=entry[0];
return iteratorValue(
type,
key,
mapper.call(context,entry[1],key,iterable),
step);});};



return mappedSequence;}



function reverseFactory(iterable,useKeys){
var reversedSequence=makeSequence(iterable);
reversedSequence._iter = iterable;
reversedSequence.size = iterable.size;
reversedSequence.reverse = function(){return iterable;};
if(iterable.flip){
reversedSequence.flip = function(){
var flipSequence=flipFactory(iterable);
flipSequence.reverse = function(){return iterable.flip();};
return flipSequence;};}


reversedSequence.get = function(key,notSetValue)
{return iterable.get(useKeys?key:-1 - key,notSetValue);};
reversedSequence.has = function(key)
{return iterable.has(useKeys?key:-1 - key);};
reversedSequence.includes = function(value){return iterable.includes(value);};
reversedSequence.cacheResult = cacheResultThrough;
reversedSequence.__iterate = function(fn,reverse){var this$0=this;
return iterable.__iterate(function(v,k){return fn(v,k,this$0);},!reverse);};

reversedSequence.__iterator = 
function(type,reverse){return iterable.__iterator(type,!reverse);};
return reversedSequence;}



function filterFactory(iterable,predicate,context,useKeys){
var filterSequence=makeSequence(iterable);
if(useKeys){
filterSequence.has = function(key){
var v=iterable.get(key,NOT_SET);
return v !== NOT_SET && !!predicate.call(context,v,key,iterable);};

filterSequence.get = function(key,notSetValue){
var v=iterable.get(key,NOT_SET);
return v !== NOT_SET && predicate.call(context,v,key,iterable)?
v:notSetValue;};}


filterSequence.__iterateUncached = function(fn,reverse){var this$0=this;
var iterations=0;
iterable.__iterate(function(v,k,c){
if(predicate.call(context,v,k,c)){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0);}},

reverse);
return iterations;};

filterSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var iterations=0;
return new src_Iterator__Iterator(function(){
while(true) {
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var key=entry[0];
var value=entry[1];
if(predicate.call(context,value,key,iterable)){
return iteratorValue(type,useKeys?key:iterations++,value,step);}}});};




return filterSequence;}



function countByFactory(iterable,grouper,context){
var groups=src_Map__Map().asMutable();
iterable.__iterate(function(v,k){
groups.update(
grouper.call(context,v,k,iterable),
0,
function(a){return a + 1;});});


return groups.asImmutable();}



function groupByFactory(iterable,grouper,context){
var isKeyedIter=isKeyed(iterable);
var groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();
iterable.__iterate(function(v,k){
groups.update(
grouper.call(context,v,k,iterable),
function(a){return a = a || [],a.push(isKeyedIter?[k,v]:v),a;});});


var coerce=iterableClass(iterable);
return groups.map(function(arr){return reify(iterable,coerce(arr));});}



function sliceFactory(iterable,begin,end,useKeys){
var originalSize=iterable.size;



if(begin !== undefined){
begin = begin | 0;}

if(end !== undefined){
end = end | 0;}


if(wholeSlice(begin,end,originalSize)){
return iterable;}


var resolvedBegin=resolveBegin(begin,originalSize);
var resolvedEnd=resolveEnd(end,originalSize);




if(resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd){
return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);}






var resolvedSize=resolvedEnd - resolvedBegin;
var sliceSize;
if(resolvedSize === resolvedSize){
sliceSize = resolvedSize < 0?0:resolvedSize;}


var sliceSeq=makeSequence(iterable);



sliceSeq.size = sliceSize === 0?sliceSize:iterable.size && sliceSize || undefined;

if(!useKeys && isSeq(iterable) && sliceSize >= 0){
sliceSeq.get = function(index,notSetValue){
index = wrapIndex(this,index);
return index >= 0 && index < sliceSize?
iterable.get(index + resolvedBegin,notSetValue):
notSetValue;};}



sliceSeq.__iterateUncached = function(fn,reverse){var this$0=this;
if(sliceSize === 0){
return 0;}

if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var skipped=0;
var isSkipping=true;
var iterations=0;
iterable.__iterate(function(v,k){
if(!(isSkipping && (isSkipping = skipped++ < resolvedBegin))){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0) !== false && 
iterations !== sliceSize;}});


return iterations;};


sliceSeq.__iteratorUncached = function(type,reverse){
if(sliceSize !== 0 && reverse){
return this.cacheResult().__iterator(type,reverse);}


var iterator=sliceSize !== 0 && iterable.__iterator(type,reverse);
var skipped=0;
var iterations=0;
return new src_Iterator__Iterator(function(){
while(skipped++ < resolvedBegin) {
iterator.next();}

if(++iterations > sliceSize){
return iteratorDone();}

var step=iterator.next();
if(useKeys || type === ITERATE_VALUES){
return step;}else 
if(type === ITERATE_KEYS){
return iteratorValue(type,iterations - 1,undefined,step);}else 
{
return iteratorValue(type,iterations - 1,step.value[1],step);}});};




return sliceSeq;}



function takeWhileFactory(iterable,predicate,context){
var takeSequence=makeSequence(iterable);
takeSequence.__iterateUncached = function(fn,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterations=0;
iterable.__iterate(function(v,k,c)
{return predicate.call(context,v,k,c) && ++iterations && fn(v,k,this$0);});

return iterations;};

takeSequence.__iteratorUncached = function(type,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var iterating=true;
return new src_Iterator__Iterator(function(){
if(!iterating){
return iteratorDone();}

var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var k=entry[0];
var v=entry[1];
if(!predicate.call(context,v,k,this$0)){
iterating = false;
return iteratorDone();}

return type === ITERATE_ENTRIES?step:
iteratorValue(type,k,v,step);});};


return takeSequence;}



function skipWhileFactory(iterable,predicate,context,useKeys){
var skipSequence=makeSequence(iterable);
skipSequence.__iterateUncached = function(fn,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var isSkipping=true;
var iterations=0;
iterable.__iterate(function(v,k,c){
if(!(isSkipping && (isSkipping = predicate.call(context,v,k,c)))){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0);}});


return iterations;};

skipSequence.__iteratorUncached = function(type,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var skipping=true;
var iterations=0;
return new src_Iterator__Iterator(function(){
var step,k,v;
do {
step = iterator.next();
if(step.done){
if(useKeys || type === ITERATE_VALUES){
return step;}else 
if(type === ITERATE_KEYS){
return iteratorValue(type,iterations++,undefined,step);}else 
{
return iteratorValue(type,iterations++,step.value[1],step);}}


var entry=step.value;
k = entry[0];
v = entry[1];
skipping && (skipping = predicate.call(context,v,k,this$0));}while(
skipping);
return type === ITERATE_ENTRIES?step:
iteratorValue(type,k,v,step);});};


return skipSequence;}



function concatFactory(iterable,values){
var isKeyedIterable=isKeyed(iterable);
var iters=[iterable].concat(values).map(function(v){
if(!isIterable(v)){
v = isKeyedIterable?
keyedSeqFromValue(v):
indexedSeqFromValue(Array.isArray(v)?v:[v]);}else 
if(isKeyedIterable){
v = KeyedIterable(v);}

return v;}).
filter(function(v){return v.size !== 0;});

if(iters.length === 0){
return iterable;}


if(iters.length === 1){
var singleton=iters[0];
if(singleton === iterable || 
isKeyedIterable && isKeyed(singleton) || 
isIndexed(iterable) && isIndexed(singleton)){
return singleton;}}



var concatSeq=new ArraySeq(iters);
if(isKeyedIterable){
concatSeq = concatSeq.toKeyedSeq();}else 
if(!isIndexed(iterable)){
concatSeq = concatSeq.toSetSeq();}

concatSeq = concatSeq.flatten(true);
concatSeq.size = iters.reduce(
function(sum,seq){
if(sum !== undefined){
var size=seq.size;
if(size !== undefined){
return sum + size;}}},



0);

return concatSeq;}



function flattenFactory(iterable,depth,useKeys){
var flatSequence=makeSequence(iterable);
flatSequence.__iterateUncached = function(fn,reverse){
var iterations=0;
var stopped=false;
function flatDeep(iter,currentDepth){var this$0=this;
iter.__iterate(function(v,k){
if((!depth || currentDepth < depth) && isIterable(v)){
flatDeep(v,currentDepth + 1);}else 
if(fn(v,useKeys?k:iterations++,this$0) === false){
stopped = true;}

return !stopped;},
reverse);}

flatDeep(iterable,0);
return iterations;};

flatSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(type,reverse);
var stack=[];
var iterations=0;
return new src_Iterator__Iterator(function(){
while(iterator) {
var step=iterator.next();
if(step.done !== false){
iterator = stack.pop();
continue;}

var v=step.value;
if(type === ITERATE_ENTRIES){
v = v[1];}

if((!depth || stack.length < depth) && isIterable(v)){
stack.push(iterator);
iterator = v.__iterator(type,reverse);}else 
{
return useKeys?step:iteratorValue(type,iterations++,v,step);}}


return iteratorDone();});};


return flatSequence;}



function flatMapFactory(iterable,mapper,context){
var coerce=iterableClass(iterable);
return iterable.toSeq().map(
function(v,k){return coerce(mapper.call(context,v,k,iterable));}).
flatten(true);}



function interposeFactory(iterable,separator){
var interposedSequence=makeSequence(iterable);
interposedSequence.size = iterable.size && iterable.size * 2 - 1;
interposedSequence.__iterateUncached = function(fn,reverse){var this$0=this;
var iterations=0;
iterable.__iterate(function(v,k)
{return (!iterations || fn(separator,iterations++,this$0) !== false) && 
fn(v,iterations++,this$0) !== false;},
reverse);

return iterations;};

interposedSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_VALUES,reverse);
var iterations=0;
var step;
return new src_Iterator__Iterator(function(){
if(!step || iterations % 2){
step = iterator.next();
if(step.done){
return step;}}


return iterations % 2?
iteratorValue(type,iterations++,separator):
iteratorValue(type,iterations++,step.value,step);});};


return interposedSequence;}



function sortFactory(iterable,comparator,mapper){
if(!comparator){
comparator = defaultComparator;}

var isKeyedIterable=isKeyed(iterable);
var index=0;
var entries=iterable.toSeq().map(
function(v,k){return [k,v,index++,mapper?mapper(v,k,iterable):v];}).
toArray();
entries.sort(function(a,b){return comparator(a[3],b[3]) || a[2] - b[2];}).forEach(
isKeyedIterable?
function(v,i){entries[i].length = 2;}:
function(v,i){entries[i] = v[1];});

return isKeyedIterable?KeyedSeq(entries):
isIndexed(iterable)?IndexedSeq(entries):
SetSeq(entries);}



function maxFactory(iterable,comparator,mapper){
if(!comparator){
comparator = defaultComparator;}

if(mapper){
var entry=iterable.toSeq().
map(function(v,k){return [v,mapper(v,k,iterable)];}).
reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a;});
return entry && entry[0];}else 
{
return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a;});}}



function maxCompare(comparator,a,b){
var comp=comparator(b,a);


return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;}



function zipWithFactory(keyIter,zipper,iters){
var zipSequence=makeSequence(keyIter);
zipSequence.size = new ArraySeq(iters).map(function(i){return i.size;}).min();


zipSequence.__iterate = function(fn,reverse){













var iterator=this.__iterator(ITERATE_VALUES,reverse);
var step;
var iterations=0;
while(!(step = iterator.next()).done) {
if(fn(step.value,iterations++,this) === false){
break;}}


return iterations;};

zipSequence.__iteratorUncached = function(type,reverse){
var iterators=iters.map(function(i)
{return i = Iterable(i),getIterator(reverse?i.reverse():i);});

var iterations=0;
var isDone=false;
return new src_Iterator__Iterator(function(){
var steps;
if(!isDone){
steps = iterators.map(function(i){return i.next();});
isDone = steps.some(function(s){return s.done;});}

if(isDone){
return iteratorDone();}

return iteratorValue(
type,
iterations++,
zipper.apply(null,steps.map(function(s){return s.value;})));});};



return zipSequence;}





function reify(iter,seq){
return isSeq(iter)?seq:iter.constructor(seq);}


function validateEntry(entry){
if(entry !== Object(entry)){
throw new TypeError('Expected [K, V] tuple: ' + entry);}}



function resolveSize(iter){
assertNotInfinite(iter.size);
return ensureSize(iter);}


function iterableClass(iterable){
return isKeyed(iterable)?KeyedIterable:
isIndexed(iterable)?IndexedIterable:
SetIterable;}


function makeSequence(iterable){
return Object.create(
(
isKeyed(iterable)?KeyedSeq:
isIndexed(iterable)?IndexedSeq:
SetSeq).
prototype);}



function cacheResultThrough(){
if(this._iter.cacheResult){
this._iter.cacheResult();
this.size = this._iter.size;
return this;}else 
{
return Seq.prototype.cacheResult.call(this);}}



function defaultComparator(a,b){
return a > b?1:a < b?-1:0;}


function forceIterator(keyPath){
var iter=getIterator(keyPath);
if(!iter){


if(!isArrayLike(keyPath)){
throw new TypeError('Expected iterable or array-like: ' + keyPath);}

iter = getIterator(Iterable(keyPath));}

return iter;}


createClass(src_Map__Map,KeyedCollection);



function src_Map__Map(value){
return value === null || value === undefined?emptyMap():
isMap(value) && !isOrdered(value)?value:
emptyMap().withMutations(function(map){
var iter=KeyedIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v,k){return map.set(k,v);});});}



src_Map__Map.prototype.toString = function(){
return this.__toString('Map {','}');};




src_Map__Map.prototype.get = function(k,notSetValue){
return this._root?
this._root.get(0,undefined,k,notSetValue):
notSetValue;};




src_Map__Map.prototype.set = function(k,v){
return updateMap(this,k,v);};


src_Map__Map.prototype.setIn = function(keyPath,v){
return this.updateIn(keyPath,NOT_SET,function(){return v;});};


src_Map__Map.prototype.remove = function(k){
return updateMap(this,k,NOT_SET);};


src_Map__Map.prototype.deleteIn = function(keyPath){
return this.updateIn(keyPath,function(){return NOT_SET;});};


src_Map__Map.prototype.update = function(k,notSetValue,updater){
return arguments.length === 1?
k(this):
this.updateIn([k],notSetValue,updater);};


src_Map__Map.prototype.updateIn = function(keyPath,notSetValue,updater){
if(!updater){
updater = notSetValue;
notSetValue = undefined;}

var updatedValue=updateInDeepMap(
this,
forceIterator(keyPath),
notSetValue,
updater);

return updatedValue === NOT_SET?undefined:updatedValue;};


src_Map__Map.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._root = null;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyMap();};




src_Map__Map.prototype.merge = function(){
return mergeIntoMapWith(this,undefined,arguments);};


src_Map__Map.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoMapWith(this,merger,iters);};


src_Map__Map.prototype.mergeIn = function(keyPath){var iters=SLICE$0.call(arguments,1);
return this.updateIn(
keyPath,
emptyMap(),
function(m){return typeof m.merge === 'function'?
m.merge.apply(m,iters):
iters[iters.length - 1];});};



src_Map__Map.prototype.mergeDeep = function(){
return mergeIntoMapWith(this,deepMerger(undefined),arguments);};


src_Map__Map.prototype.mergeDeepWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoMapWith(this,deepMerger(merger),iters);};


src_Map__Map.prototype.mergeDeepIn = function(keyPath){var iters=SLICE$0.call(arguments,1);
return this.updateIn(
keyPath,
emptyMap(),
function(m){return typeof m.mergeDeep === 'function'?
m.mergeDeep.apply(m,iters):
iters[iters.length - 1];});};



src_Map__Map.prototype.sort = function(comparator){

return OrderedMap(sortFactory(this,comparator));};


src_Map__Map.prototype.sortBy = function(mapper,comparator){

return OrderedMap(sortFactory(this,comparator,mapper));};




src_Map__Map.prototype.withMutations = function(fn){
var mutable=this.asMutable();
fn(mutable);
return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this;};


src_Map__Map.prototype.asMutable = function(){
return this.__ownerID?this:this.__ensureOwner(new OwnerID());};


src_Map__Map.prototype.asImmutable = function(){
return this.__ensureOwner();};


src_Map__Map.prototype.wasAltered = function(){
return this.__altered;};


src_Map__Map.prototype.__iterator = function(type,reverse){
return new MapIterator(this,type,reverse);};


src_Map__Map.prototype.__iterate = function(fn,reverse){var this$0=this;
var iterations=0;
this._root && this._root.iterate(function(entry){
iterations++;
return fn(entry[1],entry[0],this$0);},
reverse);
return iterations;};


src_Map__Map.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
this.__altered = false;
return this;}

return makeMap(this.size,this._root,ownerID,this.__hash);};



function isMap(maybeMap){
return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);}


src_Map__Map.isMap = isMap;

var IS_MAP_SENTINEL='@@__IMMUTABLE_MAP__@@';

var MapPrototype=src_Map__Map.prototype;
MapPrototype[IS_MAP_SENTINEL] = true;
MapPrototype[DELETE] = MapPrototype.remove;
MapPrototype.removeIn = MapPrototype.deleteIn;






function ArrayMapNode(ownerID,entries){
this.ownerID = ownerID;
this.entries = entries;}


ArrayMapNode.prototype.get = function(shift,keyHash,key,notSetValue){
var entries=this.entries;
for(var ii=0,len=entries.length;ii < len;ii++) {
if(is(key,entries[ii][0])){
return entries[ii][1];}}


return notSetValue;};


ArrayMapNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
var removed=value === NOT_SET;

var entries=this.entries;
var idx=0;
for(var len=entries.length;idx < len;idx++) {
if(is(key,entries[idx][0])){
break;}}


var exists=idx < len;

if(exists?entries[idx][1] === value:removed){
return this;}


SetRef(didAlter);
(removed || !exists) && SetRef(didChangeSize);

if(removed && entries.length === 1){
return;}


if(!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE){
return createNodes(ownerID,entries,key,value);}


var isEditable=ownerID && ownerID === this.ownerID;
var newEntries=isEditable?entries:arrCopy(entries);

if(exists){
if(removed){
idx === len - 1?newEntries.pop():newEntries[idx] = newEntries.pop();}else 
{
newEntries[idx] = [key,value];}}else 

{
newEntries.push([key,value]);}


if(isEditable){
this.entries = newEntries;
return this;}


return new ArrayMapNode(ownerID,newEntries);};





function BitmapIndexedNode(ownerID,bitmap,nodes){
this.ownerID = ownerID;
this.bitmap = bitmap;
this.nodes = nodes;}


BitmapIndexedNode.prototype.get = function(shift,keyHash,key,notSetValue){
if(keyHash === undefined){
keyHash = hash(key);}

var bit=1 << ((shift === 0?keyHash:keyHash >>> shift) & MASK);
var bitmap=this.bitmap;
return (bitmap & bit) === 0?notSetValue:
this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT,keyHash,key,notSetValue);};


BitmapIndexedNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}

var keyHashFrag=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var bit=1 << keyHashFrag;
var bitmap=this.bitmap;
var exists=(bitmap & bit) !== 0;

if(!exists && value === NOT_SET){
return this;}


var idx=popCount(bitmap & bit - 1);
var nodes=this.nodes;
var node=exists?nodes[idx]:undefined;
var newNode=updateNode(node,ownerID,shift + SHIFT,keyHash,key,value,didChangeSize,didAlter);

if(newNode === node){
return this;}


if(!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE){
return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);}


if(exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])){
return nodes[idx ^ 1];}


if(exists && newNode && nodes.length === 1 && isLeafNode(newNode)){
return newNode;}


var isEditable=ownerID && ownerID === this.ownerID;
var newBitmap=exists?newNode?bitmap:bitmap ^ bit:bitmap | bit;
var newNodes=exists?newNode?
setIn(nodes,idx,newNode,isEditable):
spliceOut(nodes,idx,isEditable):
spliceIn(nodes,idx,newNode,isEditable);

if(isEditable){
this.bitmap = newBitmap;
this.nodes = newNodes;
return this;}


return new BitmapIndexedNode(ownerID,newBitmap,newNodes);};





function HashArrayMapNode(ownerID,count,nodes){
this.ownerID = ownerID;
this.count = count;
this.nodes = nodes;}


HashArrayMapNode.prototype.get = function(shift,keyHash,key,notSetValue){
if(keyHash === undefined){
keyHash = hash(key);}

var idx=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var node=this.nodes[idx];
return node?node.get(shift + SHIFT,keyHash,key,notSetValue):notSetValue;};


HashArrayMapNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}

var idx=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var removed=value === NOT_SET;
var nodes=this.nodes;
var node=nodes[idx];

if(removed && !node){
return this;}


var newNode=updateNode(node,ownerID,shift + SHIFT,keyHash,key,value,didChangeSize,didAlter);
if(newNode === node){
return this;}


var newCount=this.count;
if(!node){
newCount++;}else 
if(!newNode){
newCount--;
if(newCount < MIN_HASH_ARRAY_MAP_SIZE){
return packNodes(ownerID,nodes,newCount,idx);}}



var isEditable=ownerID && ownerID === this.ownerID;
var newNodes=setIn(nodes,idx,newNode,isEditable);

if(isEditable){
this.count = newCount;
this.nodes = newNodes;
return this;}


return new HashArrayMapNode(ownerID,newCount,newNodes);};





function HashCollisionNode(ownerID,keyHash,entries){
this.ownerID = ownerID;
this.keyHash = keyHash;
this.entries = entries;}


HashCollisionNode.prototype.get = function(shift,keyHash,key,notSetValue){
var entries=this.entries;
for(var ii=0,len=entries.length;ii < len;ii++) {
if(is(key,entries[ii][0])){
return entries[ii][1];}}


return notSetValue;};


HashCollisionNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}


var removed=value === NOT_SET;

if(keyHash !== this.keyHash){
if(removed){
return this;}

SetRef(didAlter);
SetRef(didChangeSize);
return mergeIntoNode(this,ownerID,shift,keyHash,[key,value]);}


var entries=this.entries;
var idx=0;
for(var len=entries.length;idx < len;idx++) {
if(is(key,entries[idx][0])){
break;}}


var exists=idx < len;

if(exists?entries[idx][1] === value:removed){
return this;}


SetRef(didAlter);
(removed || !exists) && SetRef(didChangeSize);

if(removed && len === 2){
return new ValueNode(ownerID,this.keyHash,entries[idx ^ 1]);}


var isEditable=ownerID && ownerID === this.ownerID;
var newEntries=isEditable?entries:arrCopy(entries);

if(exists){
if(removed){
idx === len - 1?newEntries.pop():newEntries[idx] = newEntries.pop();}else 
{
newEntries[idx] = [key,value];}}else 

{
newEntries.push([key,value]);}


if(isEditable){
this.entries = newEntries;
return this;}


return new HashCollisionNode(ownerID,this.keyHash,newEntries);};





function ValueNode(ownerID,keyHash,entry){
this.ownerID = ownerID;
this.keyHash = keyHash;
this.entry = entry;}


ValueNode.prototype.get = function(shift,keyHash,key,notSetValue){
return is(key,this.entry[0])?this.entry[1]:notSetValue;};


ValueNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
var removed=value === NOT_SET;
var keyMatch=is(key,this.entry[0]);
if(keyMatch?value === this.entry[1]:removed){
return this;}


SetRef(didAlter);

if(removed){
SetRef(didChangeSize);
return;}


if(keyMatch){
if(ownerID && ownerID === this.ownerID){
this.entry[1] = value;
return this;}

return new ValueNode(ownerID,this.keyHash,[key,value]);}


SetRef(didChangeSize);
return mergeIntoNode(this,ownerID,shift,hash(key),[key,value]);};






ArrayMapNode.prototype.iterate = 
HashCollisionNode.prototype.iterate = function(fn,reverse){
var entries=this.entries;
for(var ii=0,maxIndex=entries.length - 1;ii <= maxIndex;ii++) {
if(fn(entries[reverse?maxIndex - ii:ii]) === false){
return false;}}};




BitmapIndexedNode.prototype.iterate = 
HashArrayMapNode.prototype.iterate = function(fn,reverse){
var nodes=this.nodes;
for(var ii=0,maxIndex=nodes.length - 1;ii <= maxIndex;ii++) {
var node=nodes[reverse?maxIndex - ii:ii];
if(node && node.iterate(fn,reverse) === false){
return false;}}};




ValueNode.prototype.iterate = function(fn,reverse){
return fn(this.entry);};


createClass(MapIterator,src_Iterator__Iterator);

function MapIterator(map,type,reverse){
this._type = type;
this._reverse = reverse;
this._stack = map._root && mapIteratorFrame(map._root);}


MapIterator.prototype.next = function(){
var type=this._type;
var stack=this._stack;
while(stack) {
var node=stack.node;
var index=stack.index++;
var maxIndex;
if(node.entry){
if(index === 0){
return mapIteratorValue(type,node.entry);}}else 

if(node.entries){
maxIndex = node.entries.length - 1;
if(index <= maxIndex){
return mapIteratorValue(type,node.entries[this._reverse?maxIndex - index:index]);}}else 

{
maxIndex = node.nodes.length - 1;
if(index <= maxIndex){
var subNode=node.nodes[this._reverse?maxIndex - index:index];
if(subNode){
if(subNode.entry){
return mapIteratorValue(type,subNode.entry);}

stack = this._stack = mapIteratorFrame(subNode,stack);}

continue;}}


stack = this._stack = this._stack.__prev;}

return iteratorDone();};



function mapIteratorValue(type,entry){
return iteratorValue(type,entry[0],entry[1]);}


function mapIteratorFrame(node,prev){
return {
node:node,
index:0,
__prev:prev};}



function makeMap(size,root,ownerID,hash){
var map=Object.create(MapPrototype);
map.size = size;
map._root = root;
map.__ownerID = ownerID;
map.__hash = hash;
map.__altered = false;
return map;}


var EMPTY_MAP;
function emptyMap(){
return EMPTY_MAP || (EMPTY_MAP = makeMap(0));}


function updateMap(map,k,v){
var newRoot;
var newSize;
if(!map._root){
if(v === NOT_SET){
return map;}

newSize = 1;
newRoot = new ArrayMapNode(map.__ownerID,[[k,v]]);}else 
{
var didChangeSize=MakeRef(CHANGE_LENGTH);
var didAlter=MakeRef(DID_ALTER);
newRoot = updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);
if(!didAlter.value){
return map;}

newSize = map.size + (didChangeSize.value?v === NOT_SET?-1:1:0);}

if(map.__ownerID){
map.size = newSize;
map._root = newRoot;
map.__hash = undefined;
map.__altered = true;
return map;}

return newRoot?makeMap(newSize,newRoot):emptyMap();}


function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(!node){
if(value === NOT_SET){
return node;}

SetRef(didAlter);
SetRef(didChangeSize);
return new ValueNode(ownerID,keyHash,[key,value]);}

return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter);}


function isLeafNode(node){
return node.constructor === ValueNode || node.constructor === HashCollisionNode;}


function mergeIntoNode(node,ownerID,shift,keyHash,entry){
if(node.keyHash === keyHash){
return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);}


var idx1=(shift === 0?node.keyHash:node.keyHash >>> shift) & MASK;
var idx2=(shift === 0?keyHash:keyHash >>> shift) & MASK;

var newNode;
var nodes=idx1 === idx2?
[mergeIntoNode(node,ownerID,shift + SHIFT,keyHash,entry)]:(
newNode = new ValueNode(ownerID,keyHash,entry),idx1 < idx2?[node,newNode]:[newNode,node]);

return new BitmapIndexedNode(ownerID,1 << idx1 | 1 << idx2,nodes);}


function createNodes(ownerID,entries,key,value){
if(!ownerID){
ownerID = new OwnerID();}

var node=new ValueNode(ownerID,hash(key),[key,value]);
for(var ii=0;ii < entries.length;ii++) {
var entry=entries[ii];
node = node.update(ownerID,0,undefined,entry[0],entry[1]);}

return node;}


function packNodes(ownerID,nodes,count,excluding){
var bitmap=0;
var packedII=0;
var packedNodes=new Array(count);
for(var ii=0,bit=1,len=nodes.length;ii < len;ii++,bit <<= 1) {
var node=nodes[ii];
if(node !== undefined && ii !== excluding){
bitmap |= bit;
packedNodes[packedII++] = node;}}


return new BitmapIndexedNode(ownerID,bitmap,packedNodes);}


function expandNodes(ownerID,nodes,bitmap,including,node){
var count=0;
var expandedNodes=new Array(SIZE);
for(var ii=0;bitmap !== 0;ii++,bitmap >>>= 1) {
expandedNodes[ii] = bitmap & 1?nodes[count++]:undefined;}

expandedNodes[including] = node;
return new HashArrayMapNode(ownerID,count + 1,expandedNodes);}


function mergeIntoMapWith(map,merger,iterables){
var iters=[];
for(var ii=0;ii < iterables.length;ii++) {
var value=iterables[ii];
var iter=KeyedIterable(value);
if(!isIterable(value)){
iter = iter.map(function(v){return fromJS(v);});}

iters.push(iter);}

return mergeIntoCollectionWith(map,merger,iters);}


function deepMerger(merger){
return function(existing,value,key)
{return existing && existing.mergeDeepWith && isIterable(value)?
existing.mergeDeepWith(merger,value):
merger?merger(existing,value,key):value;};}


function mergeIntoCollectionWith(collection,merger,iters){
iters = iters.filter(function(x){return x.size !== 0;});
if(iters.length === 0){
return collection;}

if(collection.size === 0 && !collection.__ownerID && iters.length === 1){
return collection.constructor(iters[0]);}

return collection.withMutations(function(collection){
var mergeIntoMap=merger?
function(value,key){
collection.update(key,NOT_SET,function(existing)
{return existing === NOT_SET?value:merger(existing,value,key);});}:


function(value,key){
collection.set(key,value);};

for(var ii=0;ii < iters.length;ii++) {
iters[ii].forEach(mergeIntoMap);}});}




function updateInDeepMap(existing,keyPathIter,notSetValue,updater){
var isNotSet=existing === NOT_SET;
var step=keyPathIter.next();
if(step.done){
var existingValue=isNotSet?notSetValue:existing;
var newValue=updater(existingValue);
return newValue === existingValue?existing:newValue;}

invariant(
isNotSet || existing && existing.set,
'invalid keyPath');

var key=step.value;
var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);
var nextUpdated=updateInDeepMap(
nextExisting,
keyPathIter,
notSetValue,
updater);

return nextUpdated === nextExisting?existing:
nextUpdated === NOT_SET?existing.remove(key):
(isNotSet?emptyMap():existing).set(key,nextUpdated);}


function popCount(x){
x = x - (x >> 1 & 0x55555555);
x = (x & 0x33333333) + (x >> 2 & 0x33333333);
x = x + (x >> 4) & 0x0f0f0f0f;
x = x + (x >> 8);
x = x + (x >> 16);
return x & 0x7f;}


function setIn(array,idx,val,canEdit){
var newArray=canEdit?array:arrCopy(array);
newArray[idx] = val;
return newArray;}


function spliceIn(array,idx,val,canEdit){
var newLen=array.length + 1;
if(canEdit && idx + 1 === newLen){
array[idx] = val;
return array;}

var newArray=new Array(newLen);
var after=0;
for(var ii=0;ii < newLen;ii++) {
if(ii === idx){
newArray[ii] = val;
after = -1;}else 
{
newArray[ii] = array[ii + after];}}


return newArray;}


function spliceOut(array,idx,canEdit){
var newLen=array.length - 1;
if(canEdit && idx === newLen){
array.pop();
return array;}

var newArray=new Array(newLen);
var after=0;
for(var ii=0;ii < newLen;ii++) {
if(ii === idx){
after = 1;}

newArray[ii] = array[ii + after];}

return newArray;}


var MAX_ARRAY_MAP_SIZE=SIZE / 4;
var MAX_BITMAP_INDEXED_SIZE=SIZE / 2;
var MIN_HASH_ARRAY_MAP_SIZE=SIZE / 4;

createClass(List,IndexedCollection);



function List(value){
var empty=emptyList();
if(value === null || value === undefined){
return empty;}

if(isList(value)){
return value;}

var iter=IndexedIterable(value);
var size=iter.size;
if(size === 0){
return empty;}

assertNotInfinite(size);
if(size > 0 && size < SIZE){
return makeList(0,size,SHIFT,null,new VNode(iter.toArray()));}

return empty.withMutations(function(list){
list.setSize(size);
iter.forEach(function(v,i){return list.set(i,v);});});}



List.of = function(){
return this(arguments);};


List.prototype.toString = function(){
return this.__toString('List [',']');};




List.prototype.get = function(index,notSetValue){
index = wrapIndex(this,index);
if(index >= 0 && index < this.size){
index += this._origin;
var node=listNodeFor(this,index);
return node && node.array[index & MASK];}

return notSetValue;};




List.prototype.set = function(index,value){
return updateList(this,index,value);};


List.prototype.remove = function(index){
return !this.has(index)?this:
index === 0?this.shift():
index === this.size - 1?this.pop():
this.splice(index,1);};


List.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = this._origin = this._capacity = 0;
this._level = SHIFT;
this._root = this._tail = null;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyList();};


List.prototype.push = function(){
var values=arguments;
var oldSize=this.size;
return this.withMutations(function(list){
setListBounds(list,0,oldSize + values.length);
for(var ii=0;ii < values.length;ii++) {
list.set(oldSize + ii,values[ii]);}});};




List.prototype.pop = function(){
return setListBounds(this,0,-1);};


List.prototype.unshift = function(){
var values=arguments;
return this.withMutations(function(list){
setListBounds(list,-values.length);
for(var ii=0;ii < values.length;ii++) {
list.set(ii,values[ii]);}});};




List.prototype.shift = function(){
return setListBounds(this,1);};




List.prototype.merge = function(){
return mergeIntoListWith(this,undefined,arguments);};


List.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoListWith(this,merger,iters);};


List.prototype.mergeDeep = function(){
return mergeIntoListWith(this,deepMerger(undefined),arguments);};


List.prototype.mergeDeepWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoListWith(this,deepMerger(merger),iters);};


List.prototype.setSize = function(size){
return setListBounds(this,0,size);};




List.prototype.slice = function(begin,end){
var size=this.size;
if(wholeSlice(begin,end,size)){
return this;}

return setListBounds(
this,
resolveBegin(begin,size),
resolveEnd(end,size));};



List.prototype.__iterator = function(type,reverse){
var index=0;
var values=iterateList(this,reverse);
return new src_Iterator__Iterator(function(){
var value=values();
return value === DONE?
iteratorDone():
iteratorValue(type,index++,value);});};



List.prototype.__iterate = function(fn,reverse){
var index=0;
var values=iterateList(this,reverse);
var value;
while((value = values()) !== DONE) {
if(fn(value,index++,this) === false){
break;}}


return index;};


List.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
return this;}

return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash);};



function isList(maybeList){
return !!(maybeList && maybeList[IS_LIST_SENTINEL]);}


List.isList = isList;

var IS_LIST_SENTINEL='@@__IMMUTABLE_LIST__@@';

var ListPrototype=List.prototype;
ListPrototype[IS_LIST_SENTINEL] = true;
ListPrototype[DELETE] = ListPrototype.remove;
ListPrototype.setIn = MapPrototype.setIn;
ListPrototype.deleteIn = 
ListPrototype.removeIn = MapPrototype.removeIn;
ListPrototype.update = MapPrototype.update;
ListPrototype.updateIn = MapPrototype.updateIn;
ListPrototype.mergeIn = MapPrototype.mergeIn;
ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
ListPrototype.withMutations = MapPrototype.withMutations;
ListPrototype.asMutable = MapPrototype.asMutable;
ListPrototype.asImmutable = MapPrototype.asImmutable;
ListPrototype.wasAltered = MapPrototype.wasAltered;



function VNode(array,ownerID){
this.array = array;
this.ownerID = ownerID;}




VNode.prototype.removeBefore = function(ownerID,level,index){
if(index === level?1 << level:0 || this.array.length === 0){
return this;}

var originIndex=index >>> level & MASK;
if(originIndex >= this.array.length){
return new VNode([],ownerID);}

var removingFirst=originIndex === 0;
var newChild;
if(level > 0){
var oldChild=this.array[originIndex];
newChild = oldChild && oldChild.removeBefore(ownerID,level - SHIFT,index);
if(newChild === oldChild && removingFirst){
return this;}}


if(removingFirst && !newChild){
return this;}

var editable=editableVNode(this,ownerID);
if(!removingFirst){
for(var ii=0;ii < originIndex;ii++) {
editable.array[ii] = undefined;}}


if(newChild){
editable.array[originIndex] = newChild;}

return editable;};


VNode.prototype.removeAfter = function(ownerID,level,index){
if(index === (level?1 << level:0) || this.array.length === 0){
return this;}

var sizeIndex=index - 1 >>> level & MASK;
if(sizeIndex >= this.array.length){
return this;}


var newChild;
if(level > 0){
var oldChild=this.array[sizeIndex];
newChild = oldChild && oldChild.removeAfter(ownerID,level - SHIFT,index);
if(newChild === oldChild && sizeIndex === this.array.length - 1){
return this;}}



var editable=editableVNode(this,ownerID);
editable.array.splice(sizeIndex + 1);
if(newChild){
editable.array[sizeIndex] = newChild;}

return editable;};




var DONE={};

function iterateList(list,reverse){
var left=list._origin;
var right=list._capacity;
var tailPos=getTailOffset(right);
var tail=list._tail;

return iterateNodeOrLeaf(list._root,list._level,0);

function iterateNodeOrLeaf(node,level,offset){
return level === 0?
iterateLeaf(node,offset):
iterateNode(node,level,offset);}


function iterateLeaf(node,offset){
var array=offset === tailPos?tail && tail.array:node && node.array;
var from=offset > left?0:left - offset;
var to=right - offset;
if(to > SIZE){
to = SIZE;}

return function(){
if(from === to){
return DONE;}

var idx=reverse?--to:from++;
return array && array[idx];};}



function iterateNode(node,level,offset){
var values;
var array=node && node.array;
var from=offset > left?0:left - offset >> level;
var to=(right - offset >> level) + 1;
if(to > SIZE){
to = SIZE;}

return function(){
do {
if(values){
var value=values();
if(value !== DONE){
return value;}

values = null;}

if(from === to){
return DONE;}

var idx=reverse?--to:from++;
values = iterateNodeOrLeaf(
array && array[idx],level - SHIFT,offset + (idx << level));}while(

true);};}}




function makeList(origin,capacity,level,root,tail,ownerID,hash){
var list=Object.create(ListPrototype);
list.size = capacity - origin;
list._origin = origin;
list._capacity = capacity;
list._level = level;
list._root = root;
list._tail = tail;
list.__ownerID = ownerID;
list.__hash = hash;
list.__altered = false;
return list;}


var EMPTY_LIST;
function emptyList(){
return EMPTY_LIST || (EMPTY_LIST = makeList(0,0,SHIFT));}


function updateList(list,index,value){
index = wrapIndex(list,index);

if(index !== index){
return list;}


if(index >= list.size || index < 0){
return list.withMutations(function(list){
index < 0?
setListBounds(list,index).set(0,value):
setListBounds(list,0,index + 1).set(index,value);});}



index += list._origin;

var newTail=list._tail;
var newRoot=list._root;
var didAlter=MakeRef(DID_ALTER);
if(index >= getTailOffset(list._capacity)){
newTail = updateVNode(newTail,list.__ownerID,0,index,value,didAlter);}else 
{
newRoot = updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter);}


if(!didAlter.value){
return list;}


if(list.__ownerID){
list._root = newRoot;
list._tail = newTail;
list.__hash = undefined;
list.__altered = true;
return list;}

return makeList(list._origin,list._capacity,list._level,newRoot,newTail);}


function updateVNode(node,ownerID,level,index,value,didAlter){
var idx=index >>> level & MASK;
var nodeHas=node && idx < node.array.length;
if(!nodeHas && value === undefined){
return node;}


var newNode;

if(level > 0){
var lowerNode=node && node.array[idx];
var newLowerNode=updateVNode(lowerNode,ownerID,level - SHIFT,index,value,didAlter);
if(newLowerNode === lowerNode){
return node;}

newNode = editableVNode(node,ownerID);
newNode.array[idx] = newLowerNode;
return newNode;}


if(nodeHas && node.array[idx] === value){
return node;}


SetRef(didAlter);

newNode = editableVNode(node,ownerID);
if(value === undefined && idx === newNode.array.length - 1){
newNode.array.pop();}else 
{
newNode.array[idx] = value;}

return newNode;}


function editableVNode(node,ownerID){
if(ownerID && node && ownerID === node.ownerID){
return node;}

return new VNode(node?node.array.slice():[],ownerID);}


function listNodeFor(list,rawIndex){
if(rawIndex >= getTailOffset(list._capacity)){
return list._tail;}

if(rawIndex < 1 << list._level + SHIFT){
var node=list._root;
var level=list._level;
while(node && level > 0) {
node = node.array[rawIndex >>> level & MASK];
level -= SHIFT;}

return node;}}



function setListBounds(list,begin,end){


if(begin !== undefined){
begin = begin | 0;}

if(end !== undefined){
end = end | 0;}

var owner=list.__ownerID || new OwnerID();
var oldOrigin=list._origin;
var oldCapacity=list._capacity;
var newOrigin=oldOrigin + begin;
var newCapacity=end === undefined?oldCapacity:end < 0?oldCapacity + end:oldOrigin + end;
if(newOrigin === oldOrigin && newCapacity === oldCapacity){
return list;}



if(newOrigin >= newCapacity){
return list.clear();}


var newLevel=list._level;
var newRoot=list._root;


var offsetShift=0;
while(newOrigin + offsetShift < 0) {
newRoot = new VNode(newRoot && newRoot.array.length?[undefined,newRoot]:[],owner);
newLevel += SHIFT;
offsetShift += 1 << newLevel;}

if(offsetShift){
newOrigin += offsetShift;
oldOrigin += offsetShift;
newCapacity += offsetShift;
oldCapacity += offsetShift;}


var oldTailOffset=getTailOffset(oldCapacity);
var newTailOffset=getTailOffset(newCapacity);


while(newTailOffset >= 1 << newLevel + SHIFT) {
newRoot = new VNode(newRoot && newRoot.array.length?[newRoot]:[],owner);
newLevel += SHIFT;}



var oldTail=list._tail;
var newTail=newTailOffset < oldTailOffset?
listNodeFor(list,newCapacity - 1):
newTailOffset > oldTailOffset?new VNode([],owner):oldTail;


if(oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length){
newRoot = editableVNode(newRoot,owner);
var node=newRoot;
for(var level=newLevel;level > SHIFT;level -= SHIFT) {
var idx=oldTailOffset >>> level & MASK;
node = node.array[idx] = editableVNode(node.array[idx],owner);}

node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;}



if(newCapacity < oldCapacity){
newTail = newTail && newTail.removeAfter(owner,0,newCapacity);}



if(newOrigin >= newTailOffset){
newOrigin -= newTailOffset;
newCapacity -= newTailOffset;
newLevel = SHIFT;
newRoot = null;
newTail = newTail && newTail.removeBefore(owner,0,newOrigin);}else 


if(newOrigin > oldOrigin || newTailOffset < oldTailOffset){
offsetShift = 0;


while(newRoot) {
var beginIndex=newOrigin >>> newLevel & MASK;
if(beginIndex !== newTailOffset >>> newLevel & MASK){
break;}

if(beginIndex){
offsetShift += (1 << newLevel) * beginIndex;}

newLevel -= SHIFT;
newRoot = newRoot.array[beginIndex];}



if(newRoot && newOrigin > oldOrigin){
newRoot = newRoot.removeBefore(owner,newLevel,newOrigin - offsetShift);}

if(newRoot && newTailOffset < oldTailOffset){
newRoot = newRoot.removeAfter(owner,newLevel,newTailOffset - offsetShift);}

if(offsetShift){
newOrigin -= offsetShift;
newCapacity -= offsetShift;}}



if(list.__ownerID){
list.size = newCapacity - newOrigin;
list._origin = newOrigin;
list._capacity = newCapacity;
list._level = newLevel;
list._root = newRoot;
list._tail = newTail;
list.__hash = undefined;
list.__altered = true;
return list;}

return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail);}


function mergeIntoListWith(list,merger,iterables){
var iters=[];
var maxSize=0;
for(var ii=0;ii < iterables.length;ii++) {
var value=iterables[ii];
var iter=IndexedIterable(value);
if(iter.size > maxSize){
maxSize = iter.size;}

if(!isIterable(value)){
iter = iter.map(function(v){return fromJS(v);});}

iters.push(iter);}

if(maxSize > list.size){
list = list.setSize(maxSize);}

return mergeIntoCollectionWith(list,merger,iters);}


function getTailOffset(size){
return size < SIZE?0:size - 1 >>> SHIFT << SHIFT;}


createClass(OrderedMap,src_Map__Map);



function OrderedMap(value){
return value === null || value === undefined?emptyOrderedMap():
isOrderedMap(value)?value:
emptyOrderedMap().withMutations(function(map){
var iter=KeyedIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v,k){return map.set(k,v);});});}



OrderedMap.of = function(){
return this(arguments);};


OrderedMap.prototype.toString = function(){
return this.__toString('OrderedMap {','}');};




OrderedMap.prototype.get = function(k,notSetValue){
var index=this._map.get(k);
return index !== undefined?this._list.get(index)[1]:notSetValue;};




OrderedMap.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._map.clear();
this._list.clear();
return this;}

return emptyOrderedMap();};


OrderedMap.prototype.set = function(k,v){
return updateOrderedMap(this,k,v);};


OrderedMap.prototype.remove = function(k){
return updateOrderedMap(this,k,NOT_SET);};


OrderedMap.prototype.wasAltered = function(){
return this._map.wasAltered() || this._list.wasAltered();};


OrderedMap.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._list.__iterate(
function(entry){return entry && fn(entry[1],entry[0],this$0);},
reverse);};



OrderedMap.prototype.__iterator = function(type,reverse){
return this._list.fromEntrySeq().__iterator(type,reverse);};


OrderedMap.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map.__ensureOwner(ownerID);
var newList=this._list.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
this._list = newList;
return this;}

return makeOrderedMap(newMap,newList,ownerID,this.__hash);};



function isOrderedMap(maybeOrderedMap){
return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);}


OrderedMap.isOrderedMap = isOrderedMap;

OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;
OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;



function makeOrderedMap(map,list,ownerID,hash){
var omap=Object.create(OrderedMap.prototype);
omap.size = map?map.size:0;
omap._map = map;
omap._list = list;
omap.__ownerID = ownerID;
omap.__hash = hash;
return omap;}


var EMPTY_ORDERED_MAP;
function emptyOrderedMap(){
return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(),emptyList()));}


function updateOrderedMap(omap,k,v){
var map=omap._map;
var list=omap._list;
var i=map.get(k);
var has=i !== undefined;
var newMap;
var newList;
if(v === NOT_SET){
if(!has){
return omap;}

if(list.size >= SIZE && list.size >= map.size * 2){
newList = list.filter(function(entry,idx){return entry !== undefined && i !== idx;});
newMap = newList.toKeyedSeq().map(function(entry){return entry[0];}).flip().toMap();
if(omap.__ownerID){
newMap.__ownerID = newList.__ownerID = omap.__ownerID;}}else 

{
newMap = map.remove(k);
newList = i === list.size - 1?list.pop():list.set(i,undefined);}}else 

{
if(has){
if(v === list.get(i)[1]){
return omap;}

newMap = map;
newList = list.set(i,[k,v]);}else 
{
newMap = map.set(k,list.size);
newList = list.set(list.size,[k,v]);}}


if(omap.__ownerID){
omap.size = newMap.size;
omap._map = newMap;
omap._list = newList;
omap.__hash = undefined;
return omap;}

return makeOrderedMap(newMap,newList);}


createClass(Stack,IndexedCollection);



function Stack(value){
return value === null || value === undefined?emptyStack():
isStack(value)?value:
emptyStack().unshiftAll(value);}


Stack.of = function(){
return this(arguments);};


Stack.prototype.toString = function(){
return this.__toString('Stack [',']');};




Stack.prototype.get = function(index,notSetValue){
var head=this._head;
index = wrapIndex(this,index);
while(head && index--) {
head = head.next;}

return head?head.value:notSetValue;};


Stack.prototype.peek = function(){
return this._head && this._head.value;};




Stack.prototype.push = function(){
if(arguments.length === 0){
return this;}

var newSize=this.size + arguments.length;
var head=this._head;
for(var ii=arguments.length - 1;ii >= 0;ii--) {
head = {
value:arguments[ii],
next:head};}


if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};


Stack.prototype.pushAll = function(iter){
iter = IndexedIterable(iter);
if(iter.size === 0){
return this;}

assertNotInfinite(iter.size);
var newSize=this.size;
var head=this._head;
iter.reverse().forEach(function(value){
newSize++;
head = {
value:value,
next:head};});


if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};


Stack.prototype.pop = function(){
return this.slice(1);};


Stack.prototype.unshift = function(){
return this.push.apply(this,arguments);};


Stack.prototype.unshiftAll = function(iter){
return this.pushAll(iter);};


Stack.prototype.shift = function(){
return this.pop.apply(this,arguments);};


Stack.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._head = undefined;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyStack();};


Stack.prototype.slice = function(begin,end){
if(wholeSlice(begin,end,this.size)){
return this;}

var resolvedBegin=resolveBegin(begin,this.size);
var resolvedEnd=resolveEnd(end,this.size);
if(resolvedEnd !== this.size){

return IndexedCollection.prototype.slice.call(this,begin,end);}

var newSize=this.size - resolvedBegin;
var head=this._head;
while(resolvedBegin--) {
head = head.next;}

if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};




Stack.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
this.__altered = false;
return this;}

return makeStack(this.size,this._head,ownerID,this.__hash);};




Stack.prototype.__iterate = function(fn,reverse){
if(reverse){
return this.reverse().__iterate(fn);}

var iterations=0;
var node=this._head;
while(node) {
if(fn(node.value,iterations++,this) === false){
break;}

node = node.next;}

return iterations;};


Stack.prototype.__iterator = function(type,reverse){
if(reverse){
return this.reverse().__iterator(type);}

var iterations=0;
var node=this._head;
return new src_Iterator__Iterator(function(){
if(node){
var value=node.value;
node = node.next;
return iteratorValue(type,iterations++,value);}

return iteratorDone();});};




function isStack(maybeStack){
return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);}


Stack.isStack = isStack;

var IS_STACK_SENTINEL='@@__IMMUTABLE_STACK__@@';

var StackPrototype=Stack.prototype;
StackPrototype[IS_STACK_SENTINEL] = true;
StackPrototype.withMutations = MapPrototype.withMutations;
StackPrototype.asMutable = MapPrototype.asMutable;
StackPrototype.asImmutable = MapPrototype.asImmutable;
StackPrototype.wasAltered = MapPrototype.wasAltered;


function makeStack(size,head,ownerID,hash){
var map=Object.create(StackPrototype);
map.size = size;
map._head = head;
map.__ownerID = ownerID;
map.__hash = hash;
map.__altered = false;
return map;}


var EMPTY_STACK;
function emptyStack(){
return EMPTY_STACK || (EMPTY_STACK = makeStack(0));}


createClass(src_Set__Set,SetCollection);



function src_Set__Set(value){
return value === null || value === undefined?emptySet():
isSet(value) && !isOrdered(value)?value:
emptySet().withMutations(function(set){
var iter=SetIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v){return set.add(v);});});}



src_Set__Set.of = function(){
return this(arguments);};


src_Set__Set.fromKeys = function(value){
return this(KeyedIterable(value).keySeq());};


src_Set__Set.prototype.toString = function(){
return this.__toString('Set {','}');};




src_Set__Set.prototype.has = function(value){
return this._map.has(value);};




src_Set__Set.prototype.add = function(value){
return updateSet(this,this._map.set(value,true));};


src_Set__Set.prototype.remove = function(value){
return updateSet(this,this._map.remove(value));};


src_Set__Set.prototype.clear = function(){
return updateSet(this,this._map.clear());};




src_Set__Set.prototype.union = function(){var iters=SLICE$0.call(arguments,0);
iters = iters.filter(function(x){return x.size !== 0;});
if(iters.length === 0){
return this;}

if(this.size === 0 && !this.__ownerID && iters.length === 1){
return this.constructor(iters[0]);}

return this.withMutations(function(set){
for(var ii=0;ii < iters.length;ii++) {
SetIterable(iters[ii]).forEach(function(value){return set.add(value);});}});};




src_Set__Set.prototype.intersect = function(){var iters=SLICE$0.call(arguments,0);
if(iters.length === 0){
return this;}

iters = iters.map(function(iter){return SetIterable(iter);});
var originalSet=this;
return this.withMutations(function(set){
originalSet.forEach(function(value){
if(!iters.every(function(iter){return iter.includes(value);})){
set.remove(value);}});});};





src_Set__Set.prototype.subtract = function(){var iters=SLICE$0.call(arguments,0);
if(iters.length === 0){
return this;}

iters = iters.map(function(iter){return SetIterable(iter);});
var originalSet=this;
return this.withMutations(function(set){
originalSet.forEach(function(value){
if(iters.some(function(iter){return iter.includes(value);})){
set.remove(value);}});});};





src_Set__Set.prototype.merge = function(){
return this.union.apply(this,arguments);};


src_Set__Set.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return this.union.apply(this,iters);};


src_Set__Set.prototype.sort = function(comparator){

return OrderedSet(sortFactory(this,comparator));};


src_Set__Set.prototype.sortBy = function(mapper,comparator){

return OrderedSet(sortFactory(this,comparator,mapper));};


src_Set__Set.prototype.wasAltered = function(){
return this._map.wasAltered();};


src_Set__Set.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._map.__iterate(function(_,k){return fn(k,k,this$0);},reverse);};


src_Set__Set.prototype.__iterator = function(type,reverse){
return this._map.map(function(_,k){return k;}).__iterator(type,reverse);};


src_Set__Set.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
return this;}

return this.__make(newMap,ownerID);};



function isSet(maybeSet){
return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);}


src_Set__Set.isSet = isSet;

var IS_SET_SENTINEL='@@__IMMUTABLE_SET__@@';

var SetPrototype=src_Set__Set.prototype;
SetPrototype[IS_SET_SENTINEL] = true;
SetPrototype[DELETE] = SetPrototype.remove;
SetPrototype.mergeDeep = SetPrototype.merge;
SetPrototype.mergeDeepWith = SetPrototype.mergeWith;
SetPrototype.withMutations = MapPrototype.withMutations;
SetPrototype.asMutable = MapPrototype.asMutable;
SetPrototype.asImmutable = MapPrototype.asImmutable;

SetPrototype.__empty = emptySet;
SetPrototype.__make = makeSet;

function updateSet(set,newMap){
if(set.__ownerID){
set.size = newMap.size;
set._map = newMap;
return set;}

return newMap === set._map?set:
newMap.size === 0?set.__empty():
set.__make(newMap);}


function makeSet(map,ownerID){
var set=Object.create(SetPrototype);
set.size = map?map.size:0;
set._map = map;
set.__ownerID = ownerID;
return set;}


var EMPTY_SET;
function emptySet(){
return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));}


createClass(OrderedSet,src_Set__Set);



function OrderedSet(value){
return value === null || value === undefined?emptyOrderedSet():
isOrderedSet(value)?value:
emptyOrderedSet().withMutations(function(set){
var iter=SetIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v){return set.add(v);});});}



OrderedSet.of = function(){
return this(arguments);};


OrderedSet.fromKeys = function(value){
return this(KeyedIterable(value).keySeq());};


OrderedSet.prototype.toString = function(){
return this.__toString('OrderedSet {','}');};



function isOrderedSet(maybeOrderedSet){
return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);}


OrderedSet.isOrderedSet = isOrderedSet;

var OrderedSetPrototype=OrderedSet.prototype;
OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;

OrderedSetPrototype.__empty = emptyOrderedSet;
OrderedSetPrototype.__make = makeOrderedSet;

function makeOrderedSet(map,ownerID){
var set=Object.create(OrderedSetPrototype);
set.size = map?map.size:0;
set._map = map;
set.__ownerID = ownerID;
return set;}


var EMPTY_ORDERED_SET;
function emptyOrderedSet(){
return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));}


createClass(Record,KeyedCollection);

function Record(defaultValues,name){
var hasInitialized;

var RecordType=function Record(values){
if(values instanceof RecordType){
return values;}

if(!(this instanceof RecordType)){
return new RecordType(values);}

if(!hasInitialized){
hasInitialized = true;
var keys=Object.keys(defaultValues);
setProps(RecordTypePrototype,keys);
RecordTypePrototype.size = keys.length;
RecordTypePrototype._name = name;
RecordTypePrototype._keys = keys;
RecordTypePrototype._defaultValues = defaultValues;}

this._map = src_Map__Map(values);};


var RecordTypePrototype=RecordType.prototype = Object.create(RecordPrototype);
RecordTypePrototype.constructor = RecordType;

return RecordType;}


Record.prototype.toString = function(){
return this.__toString(recordName(this) + ' {','}');};




Record.prototype.has = function(k){
return this._defaultValues.hasOwnProperty(k);};


Record.prototype.get = function(k,notSetValue){
if(!this.has(k)){
return notSetValue;}

var defaultVal=this._defaultValues[k];
return this._map?this._map.get(k,defaultVal):defaultVal;};




Record.prototype.clear = function(){
if(this.__ownerID){
this._map && this._map.clear();
return this;}

var RecordType=this.constructor;
return RecordType._empty || (RecordType._empty = makeRecord(this,emptyMap()));};


Record.prototype.set = function(k,v){
if(!this.has(k)){
throw new Error('Cannot set unknown key "' + k + '" on ' + recordName(this));}

var newMap=this._map && this._map.set(k,v);
if(this.__ownerID || newMap === this._map){
return this;}

return makeRecord(this,newMap);};


Record.prototype.remove = function(k){
if(!this.has(k)){
return this;}

var newMap=this._map && this._map.remove(k);
if(this.__ownerID || newMap === this._map){
return this;}

return makeRecord(this,newMap);};


Record.prototype.wasAltered = function(){
return this._map.wasAltered();};


Record.prototype.__iterator = function(type,reverse){var this$0=this;
return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k);}).__iterator(type,reverse);};


Record.prototype.__iterate = function(fn,reverse){var this$0=this;
return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k);}).__iterate(fn,reverse);};


Record.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map && this._map.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
return this;}

return makeRecord(this,newMap,ownerID);};



var RecordPrototype=Record.prototype;
RecordPrototype[DELETE] = RecordPrototype.remove;
RecordPrototype.deleteIn = 
RecordPrototype.removeIn = MapPrototype.removeIn;
RecordPrototype.merge = MapPrototype.merge;
RecordPrototype.mergeWith = MapPrototype.mergeWith;
RecordPrototype.mergeIn = MapPrototype.mergeIn;
RecordPrototype.mergeDeep = MapPrototype.mergeDeep;
RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;
RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
RecordPrototype.setIn = MapPrototype.setIn;
RecordPrototype.update = MapPrototype.update;
RecordPrototype.updateIn = MapPrototype.updateIn;
RecordPrototype.withMutations = MapPrototype.withMutations;
RecordPrototype.asMutable = MapPrototype.asMutable;
RecordPrototype.asImmutable = MapPrototype.asImmutable;


function makeRecord(likeRecord,map,ownerID){
var record=Object.create(Object.getPrototypeOf(likeRecord));
record._map = map;
record.__ownerID = ownerID;
return record;}


function recordName(record){
return record._name || record.constructor.name || 'Record';}


function setProps(prototype,names){
try{
names.forEach(setProp.bind(undefined,prototype));}
catch(error) {}}




function setProp(prototype,name){
Object.defineProperty(prototype,name,{
get:function(){
return this.get(name);},

set:function(value){
invariant(this.__ownerID,'Cannot set on an immutable record.');
this.set(name,value);}});}




function deepEqual(a,b){
if(a === b){
return true;}


if(
!isIterable(b) || 
a.size !== undefined && b.size !== undefined && a.size !== b.size || 
a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || 
isKeyed(a) !== isKeyed(b) || 
isIndexed(a) !== isIndexed(b) || 
isOrdered(a) !== isOrdered(b))
{
return false;}


if(a.size === 0 && b.size === 0){
return true;}


var notAssociative=!isAssociative(a);

if(isOrdered(a)){
var entries=a.entries();
return b.every(function(v,k){
var entry=entries.next().value;
return entry && is(entry[1],v) && (notAssociative || is(entry[0],k));}) && 
entries.next().done;}


var flipped=false;

if(a.size === undefined){
if(b.size === undefined){
if(typeof a.cacheResult === 'function'){
a.cacheResult();}}else 

{
flipped = true;
var _=a;
a = b;
b = _;}}



var allEqual=true;
var bSize=b.__iterate(function(v,k){
if(notAssociative?!a.has(v):
flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){
allEqual = false;
return false;}});



return allEqual && a.size === bSize;}


createClass(Range,IndexedSeq);

function Range(start,end,step){
if(!(this instanceof Range)){
return new Range(start,end,step);}

invariant(step !== 0,'Cannot step a Range by 0');
start = start || 0;
if(end === undefined){
end = Infinity;}

step = step === undefined?1:Math.abs(step);
if(end < start){
step = -step;}

this._start = start;
this._end = end;
this._step = step;
this.size = Math.max(0,Math.ceil((end - start) / step - 1) + 1);
if(this.size === 0){
if(EMPTY_RANGE){
return EMPTY_RANGE;}

EMPTY_RANGE = this;}}



Range.prototype.toString = function(){
if(this.size === 0){
return 'Range []';}

return 'Range [ ' + 
this._start + '...' + this._end + (
this._step > 1?' by ' + this._step:'') + 
' ]';};


Range.prototype.get = function(index,notSetValue){
return this.has(index)?
this._start + wrapIndex(this,index) * this._step:
notSetValue;};


Range.prototype.includes = function(searchValue){
var possibleIndex=(searchValue - this._start) / this._step;
return possibleIndex >= 0 && 
possibleIndex < this.size && 
possibleIndex === Math.floor(possibleIndex);};


Range.prototype.slice = function(begin,end){
if(wholeSlice(begin,end,this.size)){
return this;}

begin = resolveBegin(begin,this.size);
end = resolveEnd(end,this.size);
if(end <= begin){
return new Range(0,0);}

return new Range(this.get(begin,this._end),this.get(end,this._end),this._step);};


Range.prototype.indexOf = function(searchValue){
var offsetValue=searchValue - this._start;
if(offsetValue % this._step === 0){
var index=offsetValue / this._step;
if(index >= 0 && index < this.size){
return index;}}


return -1;};


Range.prototype.lastIndexOf = function(searchValue){
return this.indexOf(searchValue);};


Range.prototype.__iterate = function(fn,reverse){
var maxIndex=this.size - 1;
var step=this._step;
var value=reverse?this._start + maxIndex * step:this._start;
for(var ii=0;ii <= maxIndex;ii++) {
if(fn(value,ii,this) === false){
return ii + 1;}

value += reverse?-step:step;}

return ii;};


Range.prototype.__iterator = function(type,reverse){
var maxIndex=this.size - 1;
var step=this._step;
var value=reverse?this._start + maxIndex * step:this._start;
var ii=0;
return new src_Iterator__Iterator(function(){
var v=value;
value += reverse?-step:step;
return ii > maxIndex?iteratorDone():iteratorValue(type,ii++,v);});};



Range.prototype.equals = function(other){
return other instanceof Range?
this._start === other._start && 
this._end === other._end && 
this._step === other._step:
deepEqual(this,other);};



var EMPTY_RANGE;

createClass(Repeat,IndexedSeq);

function Repeat(value,times){
if(!(this instanceof Repeat)){
return new Repeat(value,times);}

this._value = value;
this.size = times === undefined?Infinity:Math.max(0,times);
if(this.size === 0){
if(EMPTY_REPEAT){
return EMPTY_REPEAT;}

EMPTY_REPEAT = this;}}



Repeat.prototype.toString = function(){
if(this.size === 0){
return 'Repeat []';}

return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';};


Repeat.prototype.get = function(index,notSetValue){
return this.has(index)?this._value:notSetValue;};


Repeat.prototype.includes = function(searchValue){
return is(this._value,searchValue);};


Repeat.prototype.slice = function(begin,end){
var size=this.size;
return wholeSlice(begin,end,size)?this:
new Repeat(this._value,resolveEnd(end,size) - resolveBegin(begin,size));};


Repeat.prototype.reverse = function(){
return this;};


Repeat.prototype.indexOf = function(searchValue){
if(is(this._value,searchValue)){
return 0;}

return -1;};


Repeat.prototype.lastIndexOf = function(searchValue){
if(is(this._value,searchValue)){
return this.size;}

return -1;};


Repeat.prototype.__iterate = function(fn,reverse){
for(var ii=0;ii < this.size;ii++) {
if(fn(this._value,ii,this) === false){
return ii + 1;}}


return ii;};


Repeat.prototype.__iterator = function(type,reverse){var this$0=this;
var ii=0;
return new src_Iterator__Iterator(function()
{return ii < this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone();});};



Repeat.prototype.equals = function(other){
return other instanceof Repeat?
is(this._value,other._value):
deepEqual(other);};



var EMPTY_REPEAT;




function mixin(ctor,methods){
var keyCopier=function(key){ctor.prototype[key] = methods[key];};
Object.keys(methods).forEach(keyCopier);
Object.getOwnPropertySymbols && 
Object.getOwnPropertySymbols(methods).forEach(keyCopier);
return ctor;}


Iterable.Iterator = src_Iterator__Iterator;

mixin(Iterable,{



toArray:function(){
assertNotInfinite(this.size);
var array=new Array(this.size || 0);
this.valueSeq().__iterate(function(v,i){array[i] = v;});
return array;},


toIndexedSeq:function(){
return new ToIndexedSequence(this);},


toJS:function(){
return this.toSeq().map(
function(value){return value && typeof value.toJS === 'function'?value.toJS():value;}).
__toJS();},


toJSON:function(){
return this.toSeq().map(
function(value){return value && typeof value.toJSON === 'function'?value.toJSON():value;}).
__toJS();},


toKeyedSeq:function(){
return new ToKeyedSequence(this,true);},


toMap:function(){

return src_Map__Map(this.toKeyedSeq());},


toObject:function(){
assertNotInfinite(this.size);
var object={};
this.__iterate(function(v,k){object[k] = v;});
return object;},


toOrderedMap:function(){

return OrderedMap(this.toKeyedSeq());},


toOrderedSet:function(){

return OrderedSet(isKeyed(this)?this.valueSeq():this);},


toSet:function(){

return src_Set__Set(isKeyed(this)?this.valueSeq():this);},


toSetSeq:function(){
return new ToSetSequence(this);},


toSeq:function(){
return isIndexed(this)?this.toIndexedSeq():
isKeyed(this)?this.toKeyedSeq():
this.toSetSeq();},


toStack:function(){

return Stack(isKeyed(this)?this.valueSeq():this);},


toList:function(){

return List(isKeyed(this)?this.valueSeq():this);},





toString:function(){
return '[Iterable]';},


__toString:function(head,tail){
if(this.size === 0){
return head + tail;}

return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;},





concat:function(){var values=SLICE$0.call(arguments,0);
return reify(this,concatFactory(this,values));},


includes:function(searchValue){
return this.some(function(value){return is(value,searchValue);});},


entries:function(){
return this.__iterator(ITERATE_ENTRIES);},


every:function(predicate,context){
assertNotInfinite(this.size);
var returnValue=true;
this.__iterate(function(v,k,c){
if(!predicate.call(context,v,k,c)){
returnValue = false;
return false;}});


return returnValue;},


filter:function(predicate,context){
return reify(this,filterFactory(this,predicate,context,true));},


find:function(predicate,context,notSetValue){
var entry=this.findEntry(predicate,context);
return entry?entry[1]:notSetValue;},


findEntry:function(predicate,context){
var found;
this.__iterate(function(v,k,c){
if(predicate.call(context,v,k,c)){
found = [k,v];
return false;}});


return found;},


findLastEntry:function(predicate,context){
return this.toSeq().reverse().findEntry(predicate,context);},


forEach:function(sideEffect,context){
assertNotInfinite(this.size);
return this.__iterate(context?sideEffect.bind(context):sideEffect);},


join:function(separator){
assertNotInfinite(this.size);
separator = separator !== undefined?'' + separator:',';
var joined='';
var isFirst=true;
this.__iterate(function(v){
isFirst?isFirst = false:joined += separator;
joined += v !== null && v !== undefined?v.toString():'';});

return joined;},


keys:function(){
return this.__iterator(ITERATE_KEYS);},


map:function(mapper,context){
return reify(this,mapFactory(this,mapper,context));},


reduce:function(reducer,initialReduction,context){
assertNotInfinite(this.size);
var reduction;
var useFirst;
if(arguments.length < 2){
useFirst = true;}else 
{
reduction = initialReduction;}

this.__iterate(function(v,k,c){
if(useFirst){
useFirst = false;
reduction = v;}else 
{
reduction = reducer.call(context,reduction,v,k,c);}});


return reduction;},


reduceRight:function(reducer,initialReduction,context){
var reversed=this.toKeyedSeq().reverse();
return reversed.reduce.apply(reversed,arguments);},


reverse:function(){
return reify(this,reverseFactory(this,true));},


slice:function(begin,end){
return reify(this,sliceFactory(this,begin,end,true));},


some:function(predicate,context){
return !this.every(not(predicate),context);},


sort:function(comparator){
return reify(this,sortFactory(this,comparator));},


values:function(){
return this.__iterator(ITERATE_VALUES);},





butLast:function(){
return this.slice(0,-1);},


isEmpty:function(){
return this.size !== undefined?this.size === 0:!this.some(function(){return true;});},


count:function(predicate,context){
return ensureSize(
predicate?this.toSeq().filter(predicate,context):this);},



countBy:function(grouper,context){
return countByFactory(this,grouper,context);},


equals:function(other){
return deepEqual(this,other);},


entrySeq:function(){
var iterable=this;
if(iterable._cache){

return new ArraySeq(iterable._cache);}

var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();
entriesSequence.fromEntrySeq = function(){return iterable.toSeq();};
return entriesSequence;},


filterNot:function(predicate,context){
return this.filter(not(predicate),context);},


findLast:function(predicate,context,notSetValue){
return this.toKeyedSeq().reverse().find(predicate,context,notSetValue);},


first:function(){
return this.find(returnTrue);},


flatMap:function(mapper,context){
return reify(this,flatMapFactory(this,mapper,context));},


flatten:function(depth){
return reify(this,flattenFactory(this,depth,true));},


fromEntrySeq:function(){
return new FromEntriesSequence(this);},


get:function(searchKey,notSetValue){
return this.find(function(_,key){return is(key,searchKey);},undefined,notSetValue);},


getIn:function(searchKeyPath,notSetValue){
var nested=this;


var iter=forceIterator(searchKeyPath);
var step;
while(!(step = iter.next()).done) {
var key=step.value;
nested = nested && nested.get?nested.get(key,NOT_SET):NOT_SET;
if(nested === NOT_SET){
return notSetValue;}}


return nested;},


groupBy:function(grouper,context){
return groupByFactory(this,grouper,context);},


has:function(searchKey){
return this.get(searchKey,NOT_SET) !== NOT_SET;},


hasIn:function(searchKeyPath){
return this.getIn(searchKeyPath,NOT_SET) !== NOT_SET;},


isSubset:function(iter){
iter = typeof iter.includes === 'function'?iter:Iterable(iter);
return this.every(function(value){return iter.includes(value);});},


isSuperset:function(iter){
iter = typeof iter.isSubset === 'function'?iter:Iterable(iter);
return iter.isSubset(this);},


keySeq:function(){
return this.toSeq().map(keyMapper).toIndexedSeq();},


last:function(){
return this.toSeq().reverse().first();},


max:function(comparator){
return maxFactory(this,comparator);},


maxBy:function(mapper,comparator){
return maxFactory(this,comparator,mapper);},


min:function(comparator){
return maxFactory(this,comparator?neg(comparator):defaultNegComparator);},


minBy:function(mapper,comparator){
return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper);},


rest:function(){
return this.slice(1);},


skip:function(amount){
return this.slice(Math.max(0,amount));},


skipLast:function(amount){
return reify(this,this.toSeq().reverse().skip(amount).reverse());},


skipWhile:function(predicate,context){
return reify(this,skipWhileFactory(this,predicate,context,true));},


skipUntil:function(predicate,context){
return this.skipWhile(not(predicate),context);},


sortBy:function(mapper,comparator){
return reify(this,sortFactory(this,comparator,mapper));},


take:function(amount){
return this.slice(0,Math.max(0,amount));},


takeLast:function(amount){
return reify(this,this.toSeq().reverse().take(amount).reverse());},


takeWhile:function(predicate,context){
return reify(this,takeWhileFactory(this,predicate,context));},


takeUntil:function(predicate,context){
return this.takeWhile(not(predicate),context);},


valueSeq:function(){
return this.toIndexedSeq();},





hashCode:function(){
return this.__hash || (this.__hash = hashIterable(this));}});















var IterablePrototype=Iterable.prototype;
IterablePrototype[IS_ITERABLE_SENTINEL] = true;
IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;
IterablePrototype.__toJS = IterablePrototype.toArray;
IterablePrototype.__toStringMapper = quoteString;
IterablePrototype.inspect = 
IterablePrototype.toSource = function(){return this.toString();};
IterablePrototype.chain = IterablePrototype.flatMap;
IterablePrototype.contains = IterablePrototype.includes;


(function(){
try{
Object.defineProperty(IterablePrototype,'length',{
get:function(){
if(!Iterable.noLengthWarning){
var stack;
try{
throw new Error();}
catch(error) {
stack = error.stack;}

if(stack.indexOf('_wrapObject') === -1){
console && console.warn && console.warn(
'iterable.length has been deprecated, ' + 
'use iterable.size or iterable.count(). ' + 
'This warning will become a silent error in a future version. ' + 
stack);

return this.size;}}}});}




catch(e) {}})();




mixin(KeyedIterable,{



flip:function(){
return reify(this,flipFactory(this));},


findKey:function(predicate,context){
var entry=this.findEntry(predicate,context);
return entry && entry[0];},


findLastKey:function(predicate,context){
return this.toSeq().reverse().findKey(predicate,context);},


keyOf:function(searchValue){
return this.findKey(function(value){return is(value,searchValue);});},


lastKeyOf:function(searchValue){
return this.findLastKey(function(value){return is(value,searchValue);});},


mapEntries:function(mapper,context){var this$0=this;
var iterations=0;
return reify(this,
this.toSeq().map(
function(v,k){return mapper.call(context,[k,v],iterations++,this$0);}).
fromEntrySeq());},



mapKeys:function(mapper,context){var this$0=this;
return reify(this,
this.toSeq().flip().map(
function(k,v){return mapper.call(context,k,v,this$0);}).
flip());}});





var KeyedIterablePrototype=KeyedIterable.prototype;
KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;
KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;
KeyedIterablePrototype.__toJS = IterablePrototype.toObject;
KeyedIterablePrototype.__toStringMapper = function(v,k){return JSON.stringify(k) + ': ' + quoteString(v);};



mixin(IndexedIterable,{



toKeyedSeq:function(){
return new ToKeyedSequence(this,false);},





filter:function(predicate,context){
return reify(this,filterFactory(this,predicate,context,false));},


findIndex:function(predicate,context){
var entry=this.findEntry(predicate,context);
return entry?entry[0]:-1;},


indexOf:function(searchValue){
var key=this.toKeyedSeq().keyOf(searchValue);
return key === undefined?-1:key;},


lastIndexOf:function(searchValue){
return this.toSeq().reverse().indexOf(searchValue);},


reverse:function(){
return reify(this,reverseFactory(this,false));},


slice:function(begin,end){
return reify(this,sliceFactory(this,begin,end,false));},


splice:function(index,removeNum){
var numArgs=arguments.length;
removeNum = Math.max(removeNum | 0,0);
if(numArgs === 0 || numArgs === 2 && !removeNum){
return this;}




index = resolveBegin(index,index < 0?this.count():this.size);
var spliced=this.slice(0,index);
return reify(
this,
numArgs === 1?
spliced:
spliced.concat(arrCopy(arguments,2),this.slice(index + removeNum)));},






findLastIndex:function(predicate,context){
var key=this.toKeyedSeq().findLastKey(predicate,context);
return key === undefined?-1:key;},


first:function(){
return this.get(0);},


flatten:function(depth){
return reify(this,flattenFactory(this,depth,false));},


get:function(index,notSetValue){
index = wrapIndex(this,index);
return index < 0 || this.size === Infinity || 
this.size !== undefined && index > this.size?
notSetValue:
this.find(function(_,key){return key === index;},undefined,notSetValue);},


has:function(index){
index = wrapIndex(this,index);
return index >= 0 && (this.size !== undefined?
this.size === Infinity || index < this.size:
this.indexOf(index) !== -1);},



interpose:function(separator){
return reify(this,interposeFactory(this,separator));},


interleave:function(){
var iterables=[this].concat(arrCopy(arguments));
var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);
var interleaved=zipped.flatten(true);
if(zipped.size){
interleaved.size = zipped.size * iterables.length;}

return reify(this,interleaved);},


last:function(){
return this.get(-1);},


skipWhile:function(predicate,context){
return reify(this,skipWhileFactory(this,predicate,context,false));},


zip:function(){
var iterables=[this].concat(arrCopy(arguments));
return reify(this,zipWithFactory(this,defaultZipper,iterables));},


zipWith:function(zipper){
var iterables=arrCopy(arguments);
iterables[0] = this;
return reify(this,zipWithFactory(this,zipper,iterables));}});




IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;
IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;



mixin(SetIterable,{



get:function(value,notSetValue){
return this.has(value)?value:notSetValue;},


includes:function(value){
return this.has(value);},





keySeq:function(){
return this.valueSeq();}});




SetIterable.prototype.has = IterablePrototype.includes;




mixin(KeyedSeq,KeyedIterable.prototype);
mixin(IndexedSeq,IndexedIterable.prototype);
mixin(SetSeq,SetIterable.prototype);

mixin(KeyedCollection,KeyedIterable.prototype);
mixin(IndexedCollection,IndexedIterable.prototype);
mixin(SetCollection,SetIterable.prototype);




function keyMapper(v,k){
return k;}


function entryMapper(v,k){
return [k,v];}


function not(predicate){
return function(){
return !predicate.apply(this,arguments);};}



function neg(predicate){
return function(){
return -predicate.apply(this,arguments);};}



function quoteString(value){
return typeof value === 'string'?JSON.stringify(value):value;}


function defaultZipper(){
return arrCopy(arguments);}


function defaultNegComparator(a,b){
return a < b?1:a > b?-1:0;}


function hashIterable(iterable){
if(iterable.size === Infinity){
return 0;}

var ordered=isOrdered(iterable);
var keyed=isKeyed(iterable);
var h=ordered?1:0;
var size=iterable.__iterate(
keyed?
ordered?
function(v,k){h = 31 * h + hashMerge(hash(v),hash(k)) | 0;}:
function(v,k){h = h + hashMerge(hash(v),hash(k)) | 0;}:
ordered?
function(v){h = 31 * h + hash(v) | 0;}:
function(v){h = h + hash(v) | 0;});

return murmurHashOfSize(size,h);}


function murmurHashOfSize(size,h){
h = src_Math__imul(h,0xCC9E2D51);
h = src_Math__imul(h << 15 | h >>> -15,0x1B873593);
h = src_Math__imul(h << 13 | h >>> -13,5);
h = (h + 0xE6546B64 | 0) ^ size;
h = src_Math__imul(h ^ h >>> 16,0x85EBCA6B);
h = src_Math__imul(h ^ h >>> 13,0xC2B2AE35);
h = smi(h ^ h >>> 16);
return h;}


function hashMerge(a,b){
return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0;}


var Immutable={

Iterable:Iterable,

Seq:Seq,
Collection:Collection,
Map:src_Map__Map,
OrderedMap:OrderedMap,
List:List,
Stack:Stack,
Set:src_Set__Set,
OrderedSet:OrderedSet,

Record:Record,
Range:Range,
Repeat:Repeat,

is:is,
fromJS:fromJS};



return Immutable;});
});
__d('NavigatorBreadcrumbNavigationBar',function(global, require, module, exports) {  'use strict';



























var NavigatorBreadcrumbNavigationBarStyles=require('NavigatorBreadcrumbNavigationBarStyles');
var NavigatorNavigationBarStylesAndroid=require('NavigatorNavigationBarStylesAndroid');
var NavigatorNavigationBarStylesIOS=require('NavigatorNavigationBarStylesIOS');
var Platform=require('Platform');
var React=require('React');
var StyleSheet=require('StyleSheet');
var View=require('View');var _require=

require('immutable/dist/immutable.js');var Map=_require.Map;

var invariant=require('invariant');

var Interpolators=NavigatorBreadcrumbNavigationBarStyles.Interpolators;
var NavigatorNavigationBarStyles=Platform.OS === 'android'?
NavigatorNavigationBarStylesAndroid:NavigatorNavigationBarStylesIOS;
var PropTypes=React.PropTypes;




var CRUMB_PROPS=Interpolators.map(function(){return {style:{}};});
var ICON_PROPS=Interpolators.map(function(){return {style:{}};});
var SEPARATOR_PROPS=Interpolators.map(function(){return {style:{}};});
var TITLE_PROPS=Interpolators.map(function(){return {style:{}};});
var RIGHT_BUTTON_PROPS=Interpolators.map(function(){return {style:{}};});


var navStatePresentedIndex=function(navState){
if(navState.presentedIndex !== undefined){
return navState.presentedIndex;}


return navState.observedTopOfStack;};










var initStyle=function(index,presentedIndex){
return index === presentedIndex?NavigatorBreadcrumbNavigationBarStyles.Center[index]:
index < presentedIndex?NavigatorBreadcrumbNavigationBarStyles.Left[index]:
NavigatorBreadcrumbNavigationBarStyles.Right[index];};


var NavigatorBreadcrumbNavigationBar=React.createClass({displayName:'NavigatorBreadcrumbNavigationBar',
propTypes:{
navigator:PropTypes.shape({
push:PropTypes.func,
pop:PropTypes.func,
replace:PropTypes.func,
popToRoute:PropTypes.func,
popToTop:PropTypes.func}),

routeMapper:PropTypes.shape({
rightContentForRoute:PropTypes.func,
titleContentForRoute:PropTypes.func,
iconForRoute:PropTypes.func}),

navState:React.PropTypes.shape({
routeStack:React.PropTypes.arrayOf(React.PropTypes.object),
presentedIndex:React.PropTypes.number}),

style:View.propTypes.style},


statics:{
Styles:NavigatorBreadcrumbNavigationBarStyles},


_updateIndexProgress:function(progress,index,fromIndex,toIndex){
var amount=toIndex > fromIndex?progress:1 - progress;
var oldDistToCenter=index - fromIndex;
var newDistToCenter=index - toIndex;
var interpolate;
invariant(
Interpolators[index],
'Cannot find breadcrumb interpolators for ' + index);

if(oldDistToCenter > 0 && newDistToCenter === 0 || 
newDistToCenter > 0 && oldDistToCenter === 0){
interpolate = Interpolators[index].RightToCenter;}else 
if(oldDistToCenter < 0 && newDistToCenter === 0 || 
newDistToCenter < 0 && oldDistToCenter === 0){
interpolate = Interpolators[index].CenterToLeft;}else 
if(oldDistToCenter === newDistToCenter){
interpolate = Interpolators[index].RightToCenter;}else 
{
interpolate = Interpolators[index].RightToLeft;}


if(interpolate.Crumb(CRUMB_PROPS[index].style,amount)){
this._setPropsIfExists('crumb_' + index,CRUMB_PROPS[index]);}

if(interpolate.Icon(ICON_PROPS[index].style,amount)){
this._setPropsIfExists('icon_' + index,ICON_PROPS[index]);}

if(interpolate.Separator(SEPARATOR_PROPS[index].style,amount)){
this._setPropsIfExists('separator_' + index,SEPARATOR_PROPS[index]);}

if(interpolate.Title(TITLE_PROPS[index].style,amount)){
this._setPropsIfExists('title_' + index,TITLE_PROPS[index]);}

var right=this.refs['right_' + index];
if(right && 
interpolate.RightItem(RIGHT_BUTTON_PROPS[index].style,amount)){
right.setNativeProps(RIGHT_BUTTON_PROPS[index]);}},



updateProgress:function(progress,fromIndex,toIndex){
var max=Math.max(fromIndex,toIndex);
var min=Math.min(fromIndex,toIndex);
for(var index=min;index <= max;index++) {
this._updateIndexProgress(progress,index,fromIndex,toIndex);}},



onAnimationStart:function(fromIndex,toIndex){
var max=Math.max(fromIndex,toIndex);
var min=Math.min(fromIndex,toIndex);
for(var index=min;index <= max;index++) {
this._setRenderViewsToHardwareTextureAndroid(index,true);}},



onAnimationEnd:function(){
var max=this.props.navState.routeStack.length - 1;
for(var index=0;index <= max;index++) {
this._setRenderViewsToHardwareTextureAndroid(index,false);}},



_setRenderViewsToHardwareTextureAndroid:function(index,renderToHardwareTexture){
var props={
renderToHardwareTextureAndroid:renderToHardwareTexture};


this._setPropsIfExists('icon_' + index,props);
this._setPropsIfExists('separator_' + index,props);
this._setPropsIfExists('title_' + index,props);
this._setPropsIfExists('right_' + index,props);},


componentWillMount:function(){
this._descriptors = {
crumb:new Map(),
title:new Map(),
right:new Map()};},



render:function(){
var navState=this.props.navState;
var icons=navState && navState.routeStack.map(this._getBreadcrumb);
var titles=navState.routeStack.map(this._getTitle);
var buttons=navState.routeStack.map(this._getRightButton);
return (
React.createElement(View,{style:[styles.breadCrumbContainer,this.props.style]},
titles,
icons,
buttons));},




_getBreadcrumb:function(route,index){
if(this._descriptors.crumb.has(route)){
return this._descriptors.crumb.get(route);}


var navBarRouteMapper=this.props.routeMapper;
var firstStyles=initStyle(index,navStatePresentedIndex(this.props.navState));

var breadcrumbDescriptor=
React.createElement(View,{ref:'crumb_' + index,style:firstStyles.Crumb},
React.createElement(View,{ref:'icon_' + index,style:firstStyles.Icon},
navBarRouteMapper.iconForRoute(route,this.props.navigator)),

React.createElement(View,{ref:'separator_' + index,style:firstStyles.Separator},
navBarRouteMapper.separatorForRoute(route,this.props.navigator)));




this._descriptors.crumb = this._descriptors.crumb.set(route,breadcrumbDescriptor);
return breadcrumbDescriptor;},


_getTitle:function(route,index){
if(this._descriptors.title.has(route)){
return this._descriptors.title.get(route);}


var titleContent=this.props.routeMapper.titleContentForRoute(
this.props.navState.routeStack[index],
this.props.navigator);

var firstStyles=initStyle(index,navStatePresentedIndex(this.props.navState));

var titleDescriptor=
React.createElement(View,{ref:'title_' + index,style:firstStyles.Title},
titleContent);


this._descriptors.title = this._descriptors.title.set(route,titleDescriptor);
return titleDescriptor;},


_getRightButton:function(route,index){
if(this._descriptors.right.has(route)){
return this._descriptors.right.get(route);}

var rightContent=this.props.routeMapper.rightContentForRoute(
this.props.navState.routeStack[index],
this.props.navigator);

if(!rightContent){
this._descriptors.right = this._descriptors.right.set(route,null);
return null;}

var firstStyles=initStyle(index,navStatePresentedIndex(this.props.navState));
var rightButtonDescriptor=
React.createElement(View,{ref:'right_' + index,style:firstStyles.RightItem},
rightContent);


this._descriptors.right = this._descriptors.right.set(route,rightButtonDescriptor);
return rightButtonDescriptor;},


_setPropsIfExists:function(ref,props){
var ref=this.refs[ref];
ref && ref.setNativeProps(props);}});



var styles=StyleSheet.create({
breadCrumbContainer:{
overflow:'hidden',
position:'absolute',
height:NavigatorNavigationBarStyles.General.TotalNavHeight,
top:0,
left:0,
right:0}});



module.exports = NavigatorBreadcrumbNavigationBar;
});
__d('NavigatorBreadcrumbNavigationBarStyles',function(global, require, module, exports) {  'use strict';



























var Dimensions=require('Dimensions');
var NavigatorNavigationBarStylesIOS=require('NavigatorNavigationBarStylesIOS');

var buildStyleInterpolator=require('buildStyleInterpolator');
var merge=require('merge');

var SCREEN_WIDTH=Dimensions.get('window').width;
var STATUS_BAR_HEIGHT=NavigatorNavigationBarStylesIOS.General.StatusBarHeight;
var NAV_BAR_HEIGHT=NavigatorNavigationBarStylesIOS.General.NavBarHeight;

var SPACING=4;
var ICON_WIDTH=40;
var SEPARATOR_WIDTH=9;
var CRUMB_WIDTH=ICON_WIDTH + SEPARATOR_WIDTH;

var OPACITY_RATIO=100;
var ICON_INACTIVE_OPACITY=0.6;
var MAX_BREADCRUMBS=10;

var CRUMB_BASE={
position:'absolute',
flexDirection:'row',
top:STATUS_BAR_HEIGHT,
width:CRUMB_WIDTH,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};


var ICON_BASE={
width:ICON_WIDTH,
height:NAV_BAR_HEIGHT};


var SEPARATOR_BASE={
width:SEPARATOR_WIDTH,
height:NAV_BAR_HEIGHT};


var TITLE_BASE={
position:'absolute',
top:STATUS_BAR_HEIGHT,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};



var FIRST_TITLE_BASE=merge(TITLE_BASE,{
left:0,
right:0,
alignItems:'center',
height:NAV_BAR_HEIGHT});


var RIGHT_BUTTON_BASE={
position:'absolute',
top:STATUS_BAR_HEIGHT,
right:SPACING,
overflow:'hidden',
opacity:1,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'};






var LEFT=[];
var CENTER=[];
var RIGHT=[];
for(var i=0;i < MAX_BREADCRUMBS;i++) {
var crumbLeft=CRUMB_WIDTH * i + SPACING;
LEFT[i] = {
Crumb:merge(CRUMB_BASE,{left:crumbLeft}),
Icon:merge(ICON_BASE,{opacity:ICON_INACTIVE_OPACITY}),
Separator:merge(SEPARATOR_BASE,{opacity:1}),
Title:merge(TITLE_BASE,{left:crumbLeft,opacity:0}),
RightItem:merge(RIGHT_BUTTON_BASE,{opacity:0})};

CENTER[i] = {
Crumb:merge(CRUMB_BASE,{left:crumbLeft}),
Icon:merge(ICON_BASE,{opacity:1}),
Separator:merge(SEPARATOR_BASE,{opacity:0}),
Title:merge(TITLE_BASE,{
left:crumbLeft + ICON_WIDTH,
opacity:1}),

RightItem:merge(RIGHT_BUTTON_BASE,{opacity:1})};

var crumbRight=SCREEN_WIDTH - 100;
RIGHT[i] = {
Crumb:merge(CRUMB_BASE,{left:crumbRight}),
Icon:merge(ICON_BASE,{opacity:0}),
Separator:merge(SEPARATOR_BASE,{opacity:0}),
Title:merge(TITLE_BASE,{
left:crumbRight + ICON_WIDTH,
opacity:0}),

RightItem:merge(RIGHT_BUTTON_BASE,{opacity:0})};}




CENTER[0] = {
Crumb:merge(CRUMB_BASE,{left:SCREEN_WIDTH / 4}),
Icon:merge(ICON_BASE,{opacity:0}),
Separator:merge(SEPARATOR_BASE,{opacity:0}),
Title:merge(FIRST_TITLE_BASE,{opacity:1}),
RightItem:CENTER[0].RightItem};

LEFT[0].Title = merge(FIRST_TITLE_BASE,{left:-SCREEN_WIDTH / 4,opacity:0});
RIGHT[0].Title = merge(FIRST_TITLE_BASE,{opacity:0});


var buildIndexSceneInterpolator=function(startStyles,endStyles){
return {
Crumb:buildStyleInterpolator({
left:{
type:'linear',
from:startStyles.Crumb.left,
to:endStyles.Crumb.left,
min:0,
max:1,
extrapolate:true}}),


Icon:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Icon.opacity,
to:endStyles.Icon.opacity,
min:0,
max:1}}),


Separator:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Separator.opacity,
to:endStyles.Separator.opacity,
min:0,
max:1}}),


Title:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


RightItem:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.RightItem.opacity,
to:endStyles.RightItem.opacity,
min:0,
max:1,
round:OPACITY_RATIO}})};};





var Interpolators=CENTER.map(function(_,ii){
return {

RightToCenter:buildIndexSceneInterpolator(RIGHT[ii],CENTER[ii]),

CenterToLeft:buildIndexSceneInterpolator(CENTER[ii],LEFT[ii]),

RightToLeft:buildIndexSceneInterpolator(RIGHT[ii],LEFT[ii])};});







module.exports = {
Interpolators:Interpolators,
Left:LEFT,
Center:CENTER,
Right:RIGHT,
IconWidth:ICON_WIDTH,
IconHeight:NAV_BAR_HEIGHT,
SeparatorWidth:SEPARATOR_WIDTH,
SeparatorHeight:NAV_BAR_HEIGHT};
});
__d('NavigatorNavigationBarStylesIOS',function(global, require, module, exports) {  'use strict';



























var Dimensions=require('Dimensions');

var buildStyleInterpolator=require('buildStyleInterpolator');
var merge=require('merge');

var SCREEN_WIDTH=Dimensions.get('window').width;
var NAV_BAR_HEIGHT=44;
var STATUS_BAR_HEIGHT=20;
var NAV_HEIGHT=NAV_BAR_HEIGHT + STATUS_BAR_HEIGHT;

var BASE_STYLES={
Title:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
right:0,
alignItems:'center',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

LeftButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
overflow:'hidden',
opacity:1,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

RightButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
right:0,
overflow:'hidden',
opacity:1,
alignItems:'flex-end',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'}};










var Stages={
Left:{
Title:merge(BASE_STYLES.Title,{left:-SCREEN_WIDTH / 2,opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{left:-SCREEN_WIDTH / 3,opacity:1}),
RightButton:merge(BASE_STYLES.RightButton,{left:SCREEN_WIDTH / 3,opacity:0})},

Center:{
Title:merge(BASE_STYLES.Title,{left:0,opacity:1}),
LeftButton:merge(BASE_STYLES.LeftButton,{left:0,opacity:1}),
RightButton:merge(BASE_STYLES.RightButton,{left:2 * SCREEN_WIDTH / 3 - 0,opacity:1})},

Right:{
Title:merge(BASE_STYLES.Title,{left:SCREEN_WIDTH / 2,opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{left:0,opacity:0}),
RightButton:merge(BASE_STYLES.RightButton,{left:SCREEN_WIDTH,opacity:0})}};




var opacityRatio=100;

function buildSceneInterpolators(startStyles,endStyles){
return {
Title:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


LeftButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.LeftButton.opacity,
to:endStyles.LeftButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.LeftButton.left,
to:endStyles.LeftButton.left,
min:0,
max:1}}),


RightButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.RightButton.opacity,
to:endStyles.RightButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.RightButton.left,
to:endStyles.RightButton.left,
min:0,
max:1,
extrapolate:true}})};}





var Interpolators={

RightToCenter:buildSceneInterpolators(Stages.Right,Stages.Center),

CenterToLeft:buildSceneInterpolators(Stages.Center,Stages.Left),

RightToLeft:buildSceneInterpolators(Stages.Right,Stages.Left)};



module.exports = {
General:{
NavBarHeight:NAV_BAR_HEIGHT,
StatusBarHeight:STATUS_BAR_HEIGHT,
TotalNavHeight:NAV_HEIGHT},

Interpolators:Interpolators,
Stages:Stages};
});
__d('buildStyleInterpolator',function(global, require, module, exports) {  var 










keyOf=require('keyOf');

var X_DIM=keyOf({x:null});
var Y_DIM=keyOf({y:null});
var Z_DIM=keyOf({z:null});
var W_DIM=keyOf({w:null});

var TRANSFORM_ROTATE_NAME=keyOf({transformRotateRadians:null});

var ShouldAllocateReusableOperationVars={
transformRotateRadians:true,
transformScale:true,
transformTranslate:true};


var InitialOperationField={
transformRotateRadians:[0,0,0,1],
transformTranslate:[0,0,0],
transformScale:[1,1,1]};



























































var ARGUMENT_NAMES_RE=/([^\s,]+)/g;



















var inline=function(func,replaceWithArgs){
var fnStr=func.toString();
var parameterNames=fnStr.slice(fnStr.indexOf('(') + 1,fnStr.indexOf(')')).
match(ARGUMENT_NAMES_RE) || 
[];
var replaceRegexStr=parameterNames.map(function(paramName){
return '\\b' + paramName + '\\b';}).
join('|');
var replaceRegex=new RegExp(replaceRegexStr,'g');
var fnBody=fnStr.substring(fnStr.indexOf('{') + 1,fnStr.lastIndexOf('}'));
var newFnBody=fnBody.replace(replaceRegex,function(parameterName){
var indexInParameterNames=parameterNames.indexOf(parameterName);
var replacementName=replaceWithArgs[indexInParameterNames];
return replacementName;});

return newFnBody.split('\n');};






var MatrixOps={
unroll:function(matVar,m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15){
m0 = matVar[0];
m1 = matVar[1];
m2 = matVar[2];
m3 = matVar[3];
m4 = matVar[4];
m5 = matVar[5];
m6 = matVar[6];
m7 = matVar[7];
m8 = matVar[8];
m9 = matVar[9];
m10 = matVar[10];
m11 = matVar[11];
m12 = matVar[12];
m13 = matVar[13];
m14 = matVar[14];
m15 = matVar[15];},


matrixDiffers:function(retVar,matVar,m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,m15){
retVar = retVar || 
m0 !== matVar[0] || 
m1 !== matVar[1] || 
m2 !== matVar[2] || 
m3 !== matVar[3] || 
m4 !== matVar[4] || 
m5 !== matVar[5] || 
m6 !== matVar[6] || 
m7 !== matVar[7] || 
m8 !== matVar[8] || 
m9 !== matVar[9] || 
m10 !== matVar[10] || 
m11 !== matVar[11] || 
m12 !== matVar[12] || 
m13 !== matVar[13] || 
m14 !== matVar[14] || 
m15 !== matVar[15];},


transformScale:function(matVar,opVar){

var x=opVar[0];
var y=opVar[1];
var z=opVar[2];
matVar[0] = matVar[0] * x;
matVar[1] = matVar[1] * x;
matVar[2] = matVar[2] * x;
matVar[3] = matVar[3] * x;
matVar[4] = matVar[4] * y;
matVar[5] = matVar[5] * y;
matVar[6] = matVar[6] * y;
matVar[7] = matVar[7] * y;
matVar[8] = matVar[8] * z;
matVar[9] = matVar[9] * z;
matVar[10] = matVar[10] * z;
matVar[11] = matVar[11] * z;
matVar[12] = matVar[12];
matVar[13] = matVar[13];
matVar[14] = matVar[14];
matVar[15] = matVar[15];},






transformTranslate:function(matVar,opVar){

var x=opVar[0];
var y=opVar[1];
var z=opVar[2];
matVar[12] = matVar[0] * x + matVar[4] * y + matVar[8] * z + matVar[12];
matVar[13] = matVar[1] * x + matVar[5] * y + matVar[9] * z + matVar[13];
matVar[14] = matVar[2] * x + matVar[6] * y + matVar[10] * z + matVar[14];
matVar[15] = matVar[3] * x + matVar[7] * y + matVar[11] * z + matVar[15];},






transformRotateRadians:function(matVar,q){

var xQuat=q[0],yQuat=q[1],zQuat=q[2],wQuat=q[3];
var x2Quat=xQuat + xQuat;
var y2Quat=yQuat + yQuat;
var z2Quat=zQuat + zQuat;
var xxQuat=xQuat * x2Quat;
var xyQuat=xQuat * y2Quat;
var xzQuat=xQuat * z2Quat;
var yyQuat=yQuat * y2Quat;
var yzQuat=yQuat * z2Quat;
var zzQuat=zQuat * z2Quat;
var wxQuat=wQuat * x2Quat;
var wyQuat=wQuat * y2Quat;
var wzQuat=wQuat * z2Quat;

var quatMat0=1 - (yyQuat + zzQuat);
var quatMat1=xyQuat + wzQuat;
var quatMat2=xzQuat - wyQuat;
var quatMat4=xyQuat - wzQuat;
var quatMat5=1 - (xxQuat + zzQuat);
var quatMat6=yzQuat + wxQuat;
var quatMat8=xzQuat + wyQuat;
var quatMat9=yzQuat - wxQuat;
var quatMat10=1 - (xxQuat + yyQuat);



var a00=matVar[0];
var a01=matVar[1];
var a02=matVar[2];
var a03=matVar[3];
var a10=matVar[4];
var a11=matVar[5];
var a12=matVar[6];
var a13=matVar[7];
var a20=matVar[8];
var a21=matVar[9];
var a22=matVar[10];
var a23=matVar[11];

var b0=quatMat0,b1=quatMat1,b2=quatMat2;
matVar[0] = b0 * a00 + b1 * a10 + b2 * a20;
matVar[1] = b0 * a01 + b1 * a11 + b2 * a21;
matVar[2] = b0 * a02 + b1 * a12 + b2 * a22;
matVar[3] = b0 * a03 + b1 * a13 + b2 * a23;
b0 = quatMat4;b1 = quatMat5;b2 = quatMat6;
matVar[4] = b0 * a00 + b1 * a10 + b2 * a20;
matVar[5] = b0 * a01 + b1 * a11 + b2 * a21;
matVar[6] = b0 * a02 + b1 * a12 + b2 * a22;
matVar[7] = b0 * a03 + b1 * a13 + b2 * a23;
b0 = quatMat8;b1 = quatMat9;b2 = quatMat10;
matVar[8] = b0 * a00 + b1 * a10 + b2 * a20;
matVar[9] = b0 * a01 + b1 * a11 + b2 * a21;
matVar[10] = b0 * a02 + b1 * a12 + b2 * a22;
matVar[11] = b0 * a03 + b1 * a13 + b2 * a23;}};





var MatrixOpsInitial={
transformScale:function(matVar,opVar){

matVar[0] = opVar[0];
matVar[1] = 0;
matVar[2] = 0;
matVar[3] = 0;
matVar[4] = 0;
matVar[5] = opVar[1];
matVar[6] = 0;
matVar[7] = 0;
matVar[8] = 0;
matVar[9] = 0;
matVar[10] = opVar[2];
matVar[11] = 0;
matVar[12] = 0;
matVar[13] = 0;
matVar[14] = 0;
matVar[15] = 1;},


transformTranslate:function(matVar,opVar){

matVar[0] = 1;
matVar[1] = 0;
matVar[2] = 0;
matVar[3] = 0;
matVar[4] = 0;
matVar[5] = 1;
matVar[6] = 0;
matVar[7] = 0;
matVar[8] = 0;
matVar[9] = 0;
matVar[10] = 1;
matVar[11] = 0;
matVar[12] = opVar[0];
matVar[13] = opVar[1];
matVar[14] = opVar[2];
matVar[15] = 1;},







transformRotateRadians:function(matVar,q){


var xQuat=q[0],yQuat=q[1],zQuat=q[2],wQuat=q[3];
var x2Quat=xQuat + xQuat;
var y2Quat=yQuat + yQuat;
var z2Quat=zQuat + zQuat;
var xxQuat=xQuat * x2Quat;
var xyQuat=xQuat * y2Quat;
var xzQuat=xQuat * z2Quat;
var yyQuat=yQuat * y2Quat;
var yzQuat=yQuat * z2Quat;
var zzQuat=zQuat * z2Quat;
var wxQuat=wQuat * x2Quat;
var wyQuat=wQuat * y2Quat;
var wzQuat=wQuat * z2Quat;

var quatMat0=1 - (yyQuat + zzQuat);
var quatMat1=xyQuat + wzQuat;
var quatMat2=xzQuat - wyQuat;
var quatMat4=xyQuat - wzQuat;
var quatMat5=1 - (xxQuat + zzQuat);
var quatMat6=yzQuat + wxQuat;
var quatMat8=xzQuat + wyQuat;
var quatMat9=yzQuat - wxQuat;
var quatMat10=1 - (xxQuat + yyQuat);



var b0=quatMat0,b1=quatMat1,b2=quatMat2;
matVar[0] = b0;
matVar[1] = b1;
matVar[2] = b2;
matVar[3] = 0;
b0 = quatMat4;b1 = quatMat5;b2 = quatMat6;
matVar[4] = b0;
matVar[5] = b1;
matVar[6] = b2;
matVar[7] = 0;
b0 = quatMat8;b1 = quatMat9;b2 = quatMat10;
matVar[8] = b0;
matVar[9] = b1;
matVar[10] = b2;
matVar[11] = 0;
matVar[12] = 0;
matVar[13] = 0;
matVar[14] = 0;
matVar[15] = 1;}};




var setNextValAndDetectChange=function(name,tmpVarName){
return (
'  if (!didChange) {\n' + 
'    var prevVal = result.' + name + ';\n' + 
'    result.' + name + ' = ' + tmpVarName + ';\n' + 
'    didChange = didChange  || (' + tmpVarName + ' !== prevVal);\n' + 
'  } else {\n' + 
'    result.' + name + ' = ' + tmpVarName + ';\n' + 
'  }\n');};



var computeNextValLinear=function(anim,from,to,tmpVarName){
var hasRoundRatio=('round' in anim);
var roundRatio=anim.round;
var fn='  ratio = (value - ' + anim.min + ') / ' + (anim.max - anim.min) + ';\n';
if(!anim.extrapolate){
fn += '  ratio = ratio > 1 ? 1 : (ratio < 0 ? 0 : ratio);\n';}


var roundOpen=hasRoundRatio?'Math.round(' + roundRatio + ' * ':'';
var roundClose=hasRoundRatio?') / ' + roundRatio:'';
fn += 
'  ' + tmpVarName + ' = ' + 
roundOpen + 
'(' + from + ' * (1 - ratio) + ' + to + ' * ratio)' + 
roundClose + ';\n';
return fn;};


var computeNextValLinearScalar=function(anim){
return computeNextValLinear(anim,anim.from,anim.to,'nextScalarVal');};


var computeNextValConstant=function(anim){
var constantExpression=JSON.stringify(anim.value);
return '  nextScalarVal = ' + constantExpression + ';\n';};


var computeNextValStep=function(anim){
return (
'  nextScalarVal = value >= ' + (
anim.threshold + ' ? ' + anim.to + ' : ' + anim.from) + ';\n');};



var computeNextValIdentity=function(anim){
return '  nextScalarVal = value;\n';};


var operationVar=function(name){
return name + 'ReuseOp';};


var createReusableOperationVars=function(anims){
var ret='';
for(var name in anims) {
if(ShouldAllocateReusableOperationVars[name]){
ret += 'var ' + operationVar(name) + ' = [];\n';}}


return ret;};


var newlines=function(statements){
return '\n' + statements.join('\n') + '\n';};








var computeNextMatrixOperationField=function(anim,name,dimension,index){
var fieldAccess=operationVar(name) + '[' + index + ']';
if(anim.from[dimension] !== undefined && anim.to[dimension] !== undefined){
return '  ' + anim.from[dimension] !== anim.to[dimension]?
computeNextValLinear(anim,anim.from[dimension],anim.to[dimension],fieldAccess):
fieldAccess + ' = ' + anim.from[dimension] + ';';}else 
{
return '  ' + fieldAccess + ' = ' + InitialOperationField[name][index] + ';';}};



var unrolledVars=[];
for(var varIndex=0;varIndex < 16;varIndex++) {
unrolledVars.push('m' + varIndex);}

var setNextMatrixAndDetectChange=function(orderedMatrixOperations){
var fn=[
'  var transformMatrix = result.transformMatrix !== undefined ? ' + 
'result.transformMatrix : (result.transformMatrix = []);'];

fn.push.apply(
fn,
inline(MatrixOps.unroll,['transformMatrix'].concat(unrolledVars)));

for(var i=0;i < orderedMatrixOperations.length;i++) {
var opName=orderedMatrixOperations[i];
if(i === 0){
fn.push.apply(
fn,
inline(MatrixOpsInitial[opName],['transformMatrix',operationVar(opName)]));}else 

{
fn.push.apply(
fn,
inline(MatrixOps[opName],['transformMatrix',operationVar(opName)]));}}



fn.push.apply(
fn,
inline(MatrixOps.matrixDiffers,['didChange','transformMatrix'].concat(unrolledVars)));

return fn;};


var InterpolateMatrix={
transformTranslate:true,
transformRotateRadians:true,
transformScale:true};


var createFunctionString=function(anims){


var orderedMatrixOperations=[];



var fn='return (function() {\n';
fn += createReusableOperationVars(anims);
fn += 'return function(result, value) {\n';
fn += '  var didChange = false;\n';
fn += '  var nextScalarVal;\n';
fn += '  var ratio;\n';

for(var name in anims) {
var anim=anims[name];
if(anim.type === 'linear'){
if(InterpolateMatrix[name]){
orderedMatrixOperations.push(name);
var setOperations=[
computeNextMatrixOperationField(anim,name,X_DIM,0),
computeNextMatrixOperationField(anim,name,Y_DIM,1),
computeNextMatrixOperationField(anim,name,Z_DIM,2)];

if(name === TRANSFORM_ROTATE_NAME){
setOperations.push(computeNextMatrixOperationField(anim,name,W_DIM,3));}

fn += newlines(setOperations);}else 
{
fn += computeNextValLinearScalar(anim,'nextScalarVal');
fn += setNextValAndDetectChange(name,'nextScalarVal');}}else 

if(anim.type === 'constant'){
fn += computeNextValConstant(anim);
fn += setNextValAndDetectChange(name,'nextScalarVal');}else 
if(anim.type === 'step'){
fn += computeNextValStep(anim);
fn += setNextValAndDetectChange(name,'nextScalarVal');}else 
if(anim.type === 'identity'){
fn += computeNextValIdentity(anim);
fn += setNextValAndDetectChange(name,'nextScalarVal');}}


if(orderedMatrixOperations.length){
fn += newlines(setNextMatrixAndDetectChange(orderedMatrixOperations));}

fn += '  return didChange;\n';
fn += '};\n';
fn += '})()';
return fn;};







var buildStyleInterpolator=function(anims){
return Function(createFunctionString(anims))();};



module.exports = buildStyleInterpolator;
});
__d('NavigatorNavigationBarStylesAndroid',function(global, require, module, exports) {  'use strict';



























var buildStyleInterpolator=require('buildStyleInterpolator');
var merge=require('merge');


var NAV_BAR_HEIGHT=56;
var TITLE_LEFT=72;
var BUTTON_SIZE=24;
var TOUCH_TARGT_SIZE=48;
var BUTTON_HORIZONTAL_MARGIN=16;

var BUTTON_EFFECTIVE_MARGIN=BUTTON_HORIZONTAL_MARGIN - (TOUCH_TARGT_SIZE - BUTTON_SIZE) / 2;
var NAV_ELEMENT_HEIGHT=NAV_BAR_HEIGHT;

var BASE_STYLES={
Title:{
position:'absolute',
bottom:0,
left:0,
right:0,
alignItems:'flex-start',
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent',
marginLeft:TITLE_LEFT},

LeftButton:{
position:'absolute',
top:0,
left:BUTTON_EFFECTIVE_MARGIN,
overflow:'hidden',
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent'},

RightButton:{
position:'absolute',
top:0,
right:BUTTON_EFFECTIVE_MARGIN,
overflow:'hidden',
alignItems:'flex-end',
height:NAV_ELEMENT_HEIGHT,
backgroundColor:'transparent'}};










var Stages={
Left:{
Title:merge(BASE_STYLES.Title,{opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:0}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:0})},

Center:{
Title:merge(BASE_STYLES.Title,{opacity:1}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:1}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:1})},

Right:{
Title:merge(BASE_STYLES.Title,{opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:0}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:0})}};




var opacityRatio=100;

function buildSceneInterpolators(startStyles,endStyles){
return {
Title:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


LeftButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.LeftButton.opacity,
to:endStyles.LeftButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.LeftButton.left,
to:endStyles.LeftButton.left,
min:0,
max:1}}),


RightButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.RightButton.opacity,
to:endStyles.RightButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.RightButton.left,
to:endStyles.RightButton.left,
min:0,
max:1,
extrapolate:true}})};}





var Interpolators={

RightToCenter:buildSceneInterpolators(Stages.Right,Stages.Center),

CenterToLeft:buildSceneInterpolators(Stages.Center,Stages.Left),

RightToLeft:buildSceneInterpolators(Stages.Right,Stages.Left)};



module.exports = {
General:{
NavBarHeight:NAV_BAR_HEIGHT,
StatusBarHeight:0,
TotalNavHeight:NAV_BAR_HEIGHT},

Interpolators:Interpolators,
Stages:Stages};
});
__d('NavigatorNavigationBar',function(global, require, module, exports) {  'use strict';



























var React=require('React');
var NavigatorNavigationBarStylesAndroid=require('NavigatorNavigationBarStylesAndroid');
var NavigatorNavigationBarStylesIOS=require('NavigatorNavigationBarStylesIOS');
var Platform=require('Platform');
var StaticContainer=require('StaticContainer.react');
var StyleSheet=require('StyleSheet');
var View=require('View');var _require=

require('immutable/dist/immutable.js');var Map=_require.Map;

var COMPONENT_NAMES=['Title','LeftButton','RightButton'];

var NavigatorNavigationBarStyles=Platform.OS === 'android'?
NavigatorNavigationBarStylesAndroid:NavigatorNavigationBarStylesIOS;

var navStatePresentedIndex=function(navState){
if(navState.presentedIndex !== undefined){
return navState.presentedIndex;}


return navState.observedTopOfStack;};


var NavigatorNavigationBar=React.createClass({displayName:'NavigatorNavigationBar',

propTypes:{
navigator:React.PropTypes.object,
routeMapper:React.PropTypes.shape({
Title:React.PropTypes.func.isRequired,
LeftButton:React.PropTypes.func.isRequired,
RightButton:React.PropTypes.func.isRequired}).
isRequired,
navState:React.PropTypes.shape({
routeStack:React.PropTypes.arrayOf(React.PropTypes.object),
presentedIndex:React.PropTypes.number}),

navigationStyles:React.PropTypes.object,
style:View.propTypes.style},


statics:{
Styles:NavigatorNavigationBarStyles,
StylesAndroid:NavigatorNavigationBarStylesAndroid,
StylesIOS:NavigatorNavigationBarStylesIOS},


getDefaultProps:function(){
return {
navigationStyles:NavigatorNavigationBarStyles};},



componentWillMount:function(){var _this=this;
this._components = {};
this._descriptors = {};

COMPONENT_NAMES.forEach(function(componentName){
_this._components[componentName] = new Map();
_this._descriptors[componentName] = new Map();});},



_getReusableProps:function(
componentName,
index)
{
if(!this._reusableProps){
this._reusableProps = {};}

var propStack=this._reusableProps[componentName];
if(!propStack){
propStack = this._reusableProps[componentName] = [];}

var props=propStack[index];
if(!props){
props = propStack[index] = {style:{}};}

return props;},


_updateIndexProgress:function(
progress,
index,
fromIndex,
toIndex)
{
var amount=toIndex > fromIndex?progress:1 - progress;
var oldDistToCenter=index - fromIndex;
var newDistToCenter=index - toIndex;
var interpolate;
if(oldDistToCenter > 0 && newDistToCenter === 0 || 
newDistToCenter > 0 && oldDistToCenter === 0){
interpolate = this.props.navigationStyles.Interpolators.RightToCenter;}else 
if(oldDistToCenter < 0 && newDistToCenter === 0 || 
newDistToCenter < 0 && oldDistToCenter === 0){
interpolate = this.props.navigationStyles.Interpolators.CenterToLeft;}else 
if(oldDistToCenter === newDistToCenter){
interpolate = this.props.navigationStyles.Interpolators.RightToCenter;}else 
{
interpolate = this.props.navigationStyles.Interpolators.RightToLeft;}


COMPONENT_NAMES.forEach(function(componentName){
var component=this._components[componentName].get(this.props.navState.routeStack[index]);
var props=this._getReusableProps(componentName,index);
if(component && interpolate[componentName](props.style,amount)){
component.setNativeProps(props);}},

this);},


updateProgress:function(
progress,
fromIndex,
toIndex)
{
var max=Math.max(fromIndex,toIndex);
var min=Math.min(fromIndex,toIndex);
for(var index=min;index <= max;index++) {
this._updateIndexProgress(progress,index,fromIndex,toIndex);}},



render:function(){
var navBarStyle={
height:this.props.navigationStyles.General.TotalNavHeight};

var navState=this.props.navState;
var components=COMPONENT_NAMES.map(function(componentName){
return navState.routeStack.map(
this._getComponent.bind(this,componentName));},

this);

return (
React.createElement(View,{style:[styles.navBarContainer,navBarStyle,this.props.style]},
components));},




_getComponent:function(
componentName,
route,
index)
{var _this2=this;
if(this._descriptors[componentName].includes(route)){
return this._descriptors[componentName].get(route);}


var rendered=null;

var content=this.props.routeMapper[componentName](
this.props.navState.routeStack[index],
this.props.navigator,
index,
this.props.navState);

if(!content){
return null;}


var initialStage=index === navStatePresentedIndex(this.props.navState)?
this.props.navigationStyles.Stages.Center:
this.props.navigationStyles.Stages.Left;
rendered = 
React.createElement(View,{
ref:function(ref){
_this2._components[componentName] = _this2._components[componentName].set(route,ref);},

style:initialStage[componentName]},
content);



this._descriptors[componentName] = this._descriptors[componentName].set(route,rendered);
return rendered;}});





var styles=StyleSheet.create({
navBarContainer:{
position:'absolute',
top:0,
left:0,
right:0,
backgroundColor:'transparent'}});



module.exports = NavigatorNavigationBar;
});
__d('StaticContainer.react',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}




















var React=require('React');

var onlyChild=require('onlyChild');var 
















StaticContainer=(function(_React$Component){_inherits(StaticContainer,_React$Component);function StaticContainer(){_classCallCheck(this,StaticContainer);_get(Object.getPrototypeOf(StaticContainer.prototype),'constructor',this).apply(this,arguments);}_createClass(StaticContainer,[{key:'shouldComponentUpdate',value:

function shouldComponentUpdate(nextProps){
return !!nextProps.shouldUpdate;}},{key:'render',value:


function render(){
var child=this.props.children;
return child === null || child === false?null:onlyChild(child);}}]);return StaticContainer;})(React.Component);




module.exports = StaticContainer;
});
__d('NavigatorSceneConfigs',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};



























var Dimensions=require('Dimensions');
var PixelRatio=require('PixelRatio');

var buildStyleInterpolator=require('buildStyleInterpolator');

var SCREEN_WIDTH=Dimensions.get('window').width;
var SCREEN_HEIGHT=Dimensions.get('window').height;

var FadeToTheLeft={


transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:-Math.round(Dimensions.get('window').width * 0.3),y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},












transformScale:{
from:{x:1,y:1,z:1},
to:{x:0.95,y:0.95,z:1},
min:0,
max:1,
type:'linear',
extrapolate:true},

opacity:{
from:1,
to:0.3,
min:0,
max:1,
type:'linear',
extrapolate:false,
round:100},

translateX:{
from:0,
to:-Math.round(Dimensions.get('window').width * 0.3),
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

scaleX:{
from:1,
to:0.95,
min:0,
max:1,
type:'linear',
extrapolate:true},

scaleY:{
from:1,
to:0.95,
min:0,
max:1,
type:'linear',
extrapolate:true}};



var FadeToTheRight=_extends({},
FadeToTheLeft,{
transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:Math.round(SCREEN_WIDTH * 0.3),y:0,z:0}},

translateX:{
from:0,
to:Math.round(SCREEN_WIDTH * 0.3)}});



var FadeIn={
opacity:{
from:0,
to:1,
min:0.5,
max:1,
type:'linear',
extrapolate:false,
round:100}};



var FadeOut={
opacity:{
from:1,
to:0,
min:0,
max:0.5,
type:'linear',
extrapolate:false,
round:100}};



var ToTheLeft={
transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:-Dimensions.get('window').width,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

opacity:{
value:1.0,
type:'constant'},


translateX:{
from:0,
to:-Dimensions.get('window').width,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}};



var ToTheUp={
transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:0,y:-Dimensions.get('window').height,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

opacity:{
value:1.0,
type:'constant'},

translateY:{
from:0,
to:-Dimensions.get('window').height,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}};



var ToTheDown={
transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:0,y:Dimensions.get('window').height,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

opacity:{
value:1.0,
type:'constant'},

translateY:{
from:0,
to:Dimensions.get('window').height,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}};



var FromTheRight={
opacity:{
value:1.0,
type:'constant'},


transformTranslate:{
from:{x:Dimensions.get('window').width,y:0,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},


translateX:{
from:Dimensions.get('window').width,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},


scaleX:{
value:1,
type:'constant'},

scaleY:{
value:1,
type:'constant'}};



var FromTheLeft=_extends({},
FromTheRight,{
transformTranslate:{
from:{x:-SCREEN_WIDTH,y:0,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

translateX:{
from:-SCREEN_WIDTH,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}});



var FromTheDown=_extends({},
FromTheRight,{
transformTranslate:{
from:{y:SCREEN_HEIGHT,x:0,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

translateY:{
from:SCREEN_HEIGHT,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}});



var FromTheTop=_extends({},
FromTheRight,{
transformTranslate:{
from:{y:-SCREEN_HEIGHT,x:0,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

translateY:{
from:-SCREEN_HEIGHT,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}});



var ToTheBack={


transformTranslate:{
from:{x:0,y:0,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

transformScale:{
from:{x:1,y:1,z:1},
to:{x:0.95,y:0.95,z:1},
min:0,
max:1,
type:'linear',
extrapolate:true},

opacity:{
from:1,
to:0.3,
min:0,
max:1,
type:'linear',
extrapolate:false,
round:100},

scaleX:{
from:1,
to:0.95,
min:0,
max:1,
type:'linear',
extrapolate:true},

scaleY:{
from:1,
to:0.95,
min:0,
max:1,
type:'linear',
extrapolate:true}};



var FromTheFront={
opacity:{
value:1.0,
type:'constant'},


transformTranslate:{
from:{x:0,y:Dimensions.get('window').height,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

translateY:{
from:Dimensions.get('window').height,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

scaleX:{
value:1,
type:'constant'},

scaleY:{
value:1,
type:'constant'}};



var ToTheBackAndroid={
opacity:{
value:1,
type:'constant'}};



var FromTheFrontAndroid={
opacity:{
from:0,
to:1,
min:0.5,
max:1,
type:'linear',
extrapolate:false,
round:100},

transformTranslate:{
from:{x:0,y:100,z:0},
to:{x:0,y:0,z:0},
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()},

translateY:{
from:100,
to:0,
min:0,
max:1,
type:'linear',
extrapolate:true,
round:PixelRatio.get()}};



var BaseOverswipeConfig={
frictionConstant:1,
frictionByDistance:1.5};


var BaseLeftToRightGesture={


isDetachable:false,


gestureDetectMovement:2,


notMoving:0.3,


directionRatio:0.66,


snapVelocity:2,


edgeHitWidth:30,


stillCompletionRatio:3 / 5,

fullDistance:SCREEN_WIDTH,

direction:'left-to-right'};



var BaseRightToLeftGesture=_extends({},
BaseLeftToRightGesture,{
direction:'right-to-left'});


var BaseDownUpGesture=_extends({},
BaseLeftToRightGesture,{
fullDistance:SCREEN_HEIGHT,
direction:'down-to-up'});


var BaseUpDownGesture=_extends({},
BaseLeftToRightGesture,{
fullDistance:SCREEN_HEIGHT,
direction:'up-to-down'});


var BaseConfig={

gestures:{
pop:BaseLeftToRightGesture},



springFriction:26,
springTension:200,


defaultTransitionVelocity:1.5,


animationInterpolators:{
into:buildStyleInterpolator(FromTheRight),
out:buildStyleInterpolator(FadeToTheLeft)}};



var NavigatorSceneConfigs={
PushFromRight:_extends({},
BaseConfig),


FloatFromRight:_extends({},
BaseConfig),


FloatFromLeft:_extends({},
BaseConfig,{
animationInterpolators:{
into:buildStyleInterpolator(FromTheLeft),
out:buildStyleInterpolator(FadeToTheRight)}}),


FloatFromBottom:_extends({},
BaseConfig,{
gestures:{
pop:_extends({},
BaseLeftToRightGesture,{
edgeHitWidth:150,
direction:'top-to-bottom',
fullDistance:SCREEN_HEIGHT})},


animationInterpolators:{
into:buildStyleInterpolator(FromTheFront),
out:buildStyleInterpolator(ToTheBack)}}),


FloatFromBottomAndroid:_extends({},
BaseConfig,{
gestures:null,
defaultTransitionVelocity:3,
springFriction:20,
animationInterpolators:{
into:buildStyleInterpolator(FromTheFrontAndroid),
out:buildStyleInterpolator(ToTheBackAndroid)}}),


FadeAndroid:_extends({},
BaseConfig,{
gestures:null,
animationInterpolators:{
into:buildStyleInterpolator(FadeIn),
out:buildStyleInterpolator(FadeOut)}}),


HorizontalSwipeJump:_extends({},
BaseConfig,{
gestures:{
jumpBack:_extends({},
BaseLeftToRightGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true}),

jumpForward:_extends({},
BaseRightToLeftGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true})},


animationInterpolators:{
into:buildStyleInterpolator(FromTheRight),
out:buildStyleInterpolator(ToTheLeft)}}),


VerticalUpSwipeJump:_extends({},
BaseConfig,{
gestures:{
jumpBack:_extends({},
BaseDownUpGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true}),

jumpForward:_extends({},
BaseDownUpGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true})},


animationInterpolators:{
into:buildStyleInterpolator(FromTheDown),
out:buildStyleInterpolator(ToTheUp)}}),


VerticalDownSwipeJump:_extends({},
BaseConfig,{
gestures:{
jumpBack:_extends({},
BaseUpDownGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true}),

jumpForward:_extends({},
BaseUpDownGesture,{
overswipe:BaseOverswipeConfig,
edgeHitWidth:null,
isDetachable:true})},


animationInterpolators:{
into:buildStyleInterpolator(FromTheTop),
out:buildStyleInterpolator(ToTheDown)}})};




module.exports = NavigatorSceneConfigs;
});
__d('PanResponder',function(global, require, module, exports) {  "use strict";





var TouchHistoryMath=require('TouchHistoryMath');

var currentCentroidXOfTouchesChangedAfter=
TouchHistoryMath.currentCentroidXOfTouchesChangedAfter;
var currentCentroidYOfTouchesChangedAfter=
TouchHistoryMath.currentCentroidYOfTouchesChangedAfter;
var previousCentroidXOfTouchesChangedAfter=
TouchHistoryMath.previousCentroidXOfTouchesChangedAfter;
var previousCentroidYOfTouchesChangedAfter=
TouchHistoryMath.previousCentroidYOfTouchesChangedAfter;
var currentCentroidX=TouchHistoryMath.currentCentroidX;
var currentCentroidY=TouchHistoryMath.currentCentroidY;















































































var PanResponder={
































































_initializeGestureState:function(gestureState){
gestureState.moveX = 0;
gestureState.moveY = 0;
gestureState.x0 = 0;
gestureState.y0 = 0;
gestureState.dx = 0;
gestureState.dy = 0;
gestureState.vx = 0;
gestureState.vy = 0;
gestureState.numberActiveTouches = 0;

gestureState._accountsForMovesUpTo = 0;},


























_updateGestureStateOnMove:function(gestureState,touchHistory){
gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
gestureState.moveX = currentCentroidXOfTouchesChangedAfter(
touchHistory,
gestureState._accountsForMovesUpTo);

gestureState.moveY = currentCentroidYOfTouchesChangedAfter(
touchHistory,
gestureState._accountsForMovesUpTo);

var movedAfter=gestureState._accountsForMovesUpTo;
var prevX=previousCentroidXOfTouchesChangedAfter(touchHistory,movedAfter);
var x=currentCentroidXOfTouchesChangedAfter(touchHistory,movedAfter);
var prevY=previousCentroidYOfTouchesChangedAfter(touchHistory,movedAfter);
var y=currentCentroidYOfTouchesChangedAfter(touchHistory,movedAfter);
var nextDX=gestureState.dx + (x - prevX);
var nextDY=gestureState.dy + (y - prevY);


var dt=
touchHistory.mostRecentTimeStamp - gestureState._accountsForMovesUpTo;
gestureState.vx = (nextDX - gestureState.dx) / dt;
gestureState.vy = (nextDY - gestureState.dy) / dt;

gestureState.dx = nextDX;
gestureState.dy = nextDY;
gestureState._accountsForMovesUpTo = touchHistory.mostRecentTimeStamp;},


































create:function(config){
var gestureState={

stateID:Math.random()};

PanResponder._initializeGestureState(gestureState);
var panHandlers={
onStartShouldSetResponder:function(e){
return config.onStartShouldSetPanResponder === undefined?false:
config.onStartShouldSetPanResponder(e,gestureState);},

onMoveShouldSetResponder:function(e){
return config.onMoveShouldSetPanResponder === undefined?false:
config.onMoveShouldSetPanResponder(e,gestureState);},

onStartShouldSetResponderCapture:function(e){


if(e.nativeEvent.touches.length === 1){
PanResponder._initializeGestureState(gestureState);}

gestureState.numberActiveTouches = e.touchHistory.numberActiveTouches;
return config.onStartShouldSetPanResponderCapture !== undefined?
config.onStartShouldSetPanResponderCapture(e,gestureState):false;},


onMoveShouldSetResponderCapture:function(e){
var touchHistory=e.touchHistory;



if(gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp){
return false;}

PanResponder._updateGestureStateOnMove(gestureState,touchHistory);
return config.onMoveShouldSetPanResponderCapture?
config.onMoveShouldSetPanResponderCapture(e,gestureState):false;},


onResponderGrant:function(e){
gestureState.x0 = currentCentroidX(e.touchHistory);
gestureState.y0 = currentCentroidY(e.touchHistory);
gestureState.dx = 0;
gestureState.dy = 0;
config.onPanResponderGrant && config.onPanResponderGrant(e,gestureState);

return config.onShouldBlockNativeResponder === undefined?true:
config.onShouldBlockNativeResponder();},


onResponderReject:function(e){
config.onPanResponderReject && config.onPanResponderReject(e,gestureState);},


onResponderRelease:function(e){
config.onPanResponderRelease && config.onPanResponderRelease(e,gestureState);
PanResponder._initializeGestureState(gestureState);},


onResponderStart:function(e){
var touchHistory=e.touchHistory;
gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
config.onPanResponderStart && config.onPanResponderStart(e,gestureState);},


onResponderMove:function(e){
var touchHistory=e.touchHistory;


if(gestureState._accountsForMovesUpTo === touchHistory.mostRecentTimeStamp){
return;}



PanResponder._updateGestureStateOnMove(gestureState,touchHistory);
config.onPanResponderMove && config.onPanResponderMove(e,gestureState);},


onResponderEnd:function(e){
var touchHistory=e.touchHistory;
gestureState.numberActiveTouches = touchHistory.numberActiveTouches;
config.onPanResponderEnd && config.onPanResponderEnd(e,gestureState);},


onResponderTerminate:function(e){
config.onPanResponderTerminate && 
config.onPanResponderTerminate(e,gestureState);
PanResponder._initializeGestureState(gestureState);},


onResponderTerminationRequest:function(e){
return config.onPanResponderTerminationRequest === undefined?true:
config.onPanResponderTerminationRequest(e,gestureState);}};


return {panHandlers:panHandlers};}};



module.exports = PanResponder;
});
__d('TouchHistoryMath',function(global, require, module, exports) {  "use strict";





var TouchHistoryMath={
















centroidDimension:function(touchHistory,touchesChangedAfter,isXAxis,ofCurrent){
var touchBank=touchHistory.touchBank;
var total=0;
var count=0;

var oneTouchData=touchHistory.numberActiveTouches === 1?
touchHistory.touchBank[touchHistory.indexOfSingleActiveTouch]:null;

if(oneTouchData !== null){
if(oneTouchData.touchActive && oneTouchData.currentTimeStamp > touchesChangedAfter){
total += ofCurrent && isXAxis?oneTouchData.currentPageX:
ofCurrent && !isXAxis?oneTouchData.currentPageY:
!ofCurrent && isXAxis?oneTouchData.previousPageX:
oneTouchData.previousPageY;
count = 1;}}else 

{
for(var i=0;i < touchBank.length;i++) {
var touchTrack=touchBank[i];
if(touchTrack !== null && 
touchTrack !== undefined && 
touchTrack.touchActive && 
touchTrack.currentTimeStamp >= touchesChangedAfter){
var toAdd;
if(ofCurrent && isXAxis){
toAdd = touchTrack.currentPageX;}else 
if(ofCurrent && !isXAxis){
toAdd = touchTrack.currentPageY;}else 
if(!ofCurrent && isXAxis){
toAdd = touchTrack.previousPageX;}else 
{
toAdd = touchTrack.previousPageY;}

total += toAdd;
count++;}}}



return count > 0?total / count:TouchHistoryMath.noCentroid;},


currentCentroidXOfTouchesChangedAfter:function(touchHistory,touchesChangedAfter){
return TouchHistoryMath.centroidDimension(
touchHistory,
touchesChangedAfter,
true,
true);},



currentCentroidYOfTouchesChangedAfter:function(touchHistory,touchesChangedAfter){
return TouchHistoryMath.centroidDimension(
touchHistory,
touchesChangedAfter,
false,
true);},



previousCentroidXOfTouchesChangedAfter:function(touchHistory,touchesChangedAfter){
return TouchHistoryMath.centroidDimension(
touchHistory,
touchesChangedAfter,
true,
false);},



previousCentroidYOfTouchesChangedAfter:function(touchHistory,touchesChangedAfter){
return TouchHistoryMath.centroidDimension(
touchHistory,
touchesChangedAfter,
false,
false);},



currentCentroidX:function(touchHistory){
return TouchHistoryMath.centroidDimension(
touchHistory,
0,
true,
true);},



currentCentroidY:function(touchHistory){
return TouchHistoryMath.centroidDimension(
touchHistory,
0,
false,
true);},



noCentroid:-1};


module.exports = TouchHistoryMath;
});
__d('clamp',function(global, require, module, exports) {  function 























clamp(min,value,max){
if(value < min){
return min;}

if(value > max){
return max;}

return value;}


module.exports = clamp;
});
__d('rebound/rebound.js',function(global, require, module, exports) {  (


























































































































function(){
var rebound={};
var util=rebound.util = {};
var concat=Array.prototype.concat;
var slice=Array.prototype.slice;


util.bind = function bind(func,context){
var args=slice.call(arguments,2);
return function(){
func.apply(context,concat.call(args,slice.call(arguments)));};};




util.extend = function extend(target,source){
for(var key in source) {
if(source.hasOwnProperty(key)){
target[key] = source[key];}}};









var SpringSystem=rebound.SpringSystem = function SpringSystem(looper){
this._springRegistry = {};
this._activeSprings = [];
this.listeners = [];
this._idleSpringIndices = [];
this.looper = looper || new AnimationLooper();
this.looper.springSystem = this;};


util.extend(SpringSystem.prototype,{

_springRegistry:null,

_isIdle:true,

_lastTimeMillis:-1,

_activeSprings:null,

listeners:null,

_idleSpringIndices:null,






setLooper:function(looper){
this.looper = looper;
looper.springSystem = this;},






createSpring:function(tension,friction){
var springConfig;
if(tension === undefined || friction === undefined){
springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;}else 
{
springConfig = 
SpringConfig.fromOrigamiTensionAndFriction(tension,friction);}

return this.createSpringWithConfig(springConfig);},





createSpringWithBouncinessAndSpeed:function(bounciness,speed){
var springConfig;
if(bounciness === undefined || speed === undefined){
springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;}else 
{
springConfig = 
SpringConfig.fromBouncinessAndSpeed(bounciness,speed);}

return this.createSpringWithConfig(springConfig);},



createSpringWithConfig:function(springConfig){
var spring=new Spring(this);
this.registerSpring(spring);
spring.setSpringConfig(springConfig);
return spring;},






getIsIdle:function(){
return this._isIdle;},





getSpringById:function(id){
return this._springRegistry[id];},




getAllSprings:function(){
var vals=[];
for(var id in this._springRegistry) {
if(this._springRegistry.hasOwnProperty(id)){
vals.push(this._springRegistry[id]);}}


return vals;},






registerSpring:function(spring){
this._springRegistry[spring.getId()] = spring;},






deregisterSpring:function(spring){
removeFirst(this._activeSprings,spring);
delete this._springRegistry[spring.getId()];},


advance:function(time,deltaTime){
while(this._idleSpringIndices.length > 0) this._idleSpringIndices.pop();
for(var i=0,len=this._activeSprings.length;i < len;i++) {
var spring=this._activeSprings[i];
if(spring.systemShouldAdvance()){
spring.advance(time / 1000.0,deltaTime / 1000.0);}else 
{
this._idleSpringIndices.push(this._activeSprings.indexOf(spring));}}


while(this._idleSpringIndices.length > 0) {
var idx=this._idleSpringIndices.pop();
idx >= 0 && this._activeSprings.splice(idx,1);}},
















loop:function(currentTimeMillis){
var listener;
if(this._lastTimeMillis === -1){
this._lastTimeMillis = currentTimeMillis - 1;}

var ellapsedMillis=currentTimeMillis - this._lastTimeMillis;
this._lastTimeMillis = currentTimeMillis;

var i=0,len=this.listeners.length;
for(i = 0;i < len;i++) {
listener = this.listeners[i];
listener.onBeforeIntegrate && listener.onBeforeIntegrate(this);}


this.advance(currentTimeMillis,ellapsedMillis);
if(this._activeSprings.length === 0){
this._isIdle = true;
this._lastTimeMillis = -1;}


for(i = 0;i < len;i++) {
listener = this.listeners[i];
listener.onAfterIntegrate && listener.onAfterIntegrate(this);}


if(!this._isIdle){
this.looper.run();}},






activateSpring:function(springId){
var spring=this._springRegistry[springId];
if(this._activeSprings.indexOf(spring) == -1){
this._activeSprings.push(spring);}

if(this.getIsIdle()){
this._isIdle = false;
this.looper.run();}},






addListener:function(listener){
this.listeners.push(listener);},



removeListener:function(listener){
removeFirst(this.listeners,listener);},



removeAllListeners:function(){
this.listeners = [];}});


















var Spring=rebound.Spring = function Spring(springSystem){
this._id = 's' + Spring._ID++;
this._springSystem = springSystem;
this.listeners = [];
this._currentState = new PhysicsState();
this._previousState = new PhysicsState();
this._tempState = new PhysicsState();};


util.extend(Spring,{
_ID:0,

MAX_DELTA_TIME_SEC:0.064,

SOLVER_TIMESTEP_SEC:0.001});



util.extend(Spring.prototype,{

_id:0,

_springConfig:null,

_overshootClampingEnabled:false,

_currentState:null,

_previousState:null,

_tempState:null,

_startValue:0,

_endValue:0,

_wasAtRest:true,

_restSpeedThreshold:0.001,

_displacementFromRestThreshold:0.001,

listeners:null,

_timeAccumulator:0,

_springSystem:null,


destroy:function(){
this.listeners = [];
this.frames = [];
this._springSystem.deregisterSpring(this);},




getId:function(){
return this._id;},





setSpringConfig:function(springConfig){
this._springConfig = springConfig;
return this;},



getSpringConfig:function(){
return this._springConfig;},





























setCurrentValue:function(currentValue,skipSetAtRest){
this._startValue = currentValue;
this._currentState.position = currentValue;
if(!skipSetAtRest){
this.setAtRest();}

this.notifyPositionUpdated(false,false);
return this;},





getStartValue:function(){
return this._startValue;},



getCurrentValue:function(){
return this._currentState.position;},




getCurrentDisplacementDistance:function(){
return this.getDisplacementDistanceForState(this._currentState);},


getDisplacementDistanceForState:function(state){
return Math.abs(this._endValue - state.position);},








setEndValue:function(endValue){
if(this._endValue == endValue && this.isAtRest()){
return this;}

this._startValue = this.getCurrentValue();
this._endValue = endValue;
this._springSystem.activateSpring(this.getId());
for(var i=0,len=this.listeners.length;i < len;i++) {
var listener=this.listeners[i];
var onChange=listener.onSpringEndStateChange;
onChange && onChange(this);}

return this;},



getEndValue:function(){
return this._endValue;},









setVelocity:function(velocity){
if(velocity === this._currentState.velocity){
return this;}

this._currentState.velocity = velocity;
this._springSystem.activateSpring(this.getId());
return this;},



getVelocity:function(){
return this._currentState.velocity;},




setRestSpeedThreshold:function(restSpeedThreshold){
this._restSpeedThreshold = restSpeedThreshold;
return this;},



getRestSpeedThreshold:function(){
return this._restSpeedThreshold;},





setRestDisplacementThreshold:function(displacementFromRestThreshold){
this._displacementFromRestThreshold = displacementFromRestThreshold;},



getRestDisplacementThreshold:function(){
return this._displacementFromRestThreshold;},







setOvershootClampingEnabled:function(enabled){
this._overshootClampingEnabled = enabled;
return this;},



isOvershootClampingEnabled:function(){
return this._overshootClampingEnabled;},





isOvershooting:function(){
var start=this._startValue;
var end=this._endValue;
return this._springConfig.tension > 0 && (
start < end && this.getCurrentValue() > end || 
start > end && this.getCurrentValue() < end);},







advance:function(time,realDeltaTime){
var isAtRest=this.isAtRest();

if(isAtRest && this._wasAtRest){
return;}


var adjustedDeltaTime=realDeltaTime;
if(realDeltaTime > Spring.MAX_DELTA_TIME_SEC){
adjustedDeltaTime = Spring.MAX_DELTA_TIME_SEC;}


this._timeAccumulator += adjustedDeltaTime;

var tension=this._springConfig.tension,
friction=this._springConfig.friction,

position=this._currentState.position,
velocity=this._currentState.velocity,
tempPosition=this._tempState.position,
tempVelocity=this._tempState.velocity,

aVelocity,aAcceleration,
bVelocity,bAcceleration,
cVelocity,cAcceleration,
dVelocity,dAcceleration,

dxdt,dvdt;

while(this._timeAccumulator >= Spring.SOLVER_TIMESTEP_SEC) {

this._timeAccumulator -= Spring.SOLVER_TIMESTEP_SEC;

if(this._timeAccumulator < Spring.SOLVER_TIMESTEP_SEC){
this._previousState.position = position;
this._previousState.velocity = velocity;}


aVelocity = velocity;
aAcceleration = 
tension * (this._endValue - tempPosition) - friction * velocity;

tempPosition = position + aVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
tempVelocity = 
velocity + aAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
bVelocity = tempVelocity;
bAcceleration = 
tension * (this._endValue - tempPosition) - friction * tempVelocity;

tempPosition = position + bVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
tempVelocity = 
velocity + bAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
cVelocity = tempVelocity;
cAcceleration = 
tension * (this._endValue - tempPosition) - friction * tempVelocity;

tempPosition = position + cVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
tempVelocity = 
velocity + cAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
dVelocity = tempVelocity;
dAcceleration = 
tension * (this._endValue - tempPosition) - friction * tempVelocity;

dxdt = 
1.0 / 6.0 * (aVelocity + 2.0 * (bVelocity + cVelocity) + dVelocity);
dvdt = 1.0 / 6.0 * (
aAcceleration + 2.0 * (bAcceleration + cAcceleration) + dAcceleration);


position += dxdt * Spring.SOLVER_TIMESTEP_SEC;
velocity += dvdt * Spring.SOLVER_TIMESTEP_SEC;}


this._tempState.position = tempPosition;
this._tempState.velocity = tempVelocity;

this._currentState.position = position;
this._currentState.velocity = velocity;

if(this._timeAccumulator > 0){
this._interpolate(this._timeAccumulator / Spring.SOLVER_TIMESTEP_SEC);}


if(this.isAtRest() || 
this._overshootClampingEnabled && this.isOvershooting()){

if(this._springConfig.tension > 0){
this._startValue = this._endValue;
this._currentState.position = this._endValue;}else 
{
this._endValue = this._currentState.position;
this._startValue = this._endValue;}

this.setVelocity(0);
isAtRest = true;}


var notifyActivate=false;
if(this._wasAtRest){
this._wasAtRest = false;
notifyActivate = true;}


var notifyAtRest=false;
if(isAtRest){
this._wasAtRest = true;
notifyAtRest = true;}


this.notifyPositionUpdated(notifyActivate,notifyAtRest);},


notifyPositionUpdated:function(notifyActivate,notifyAtRest){
for(var i=0,len=this.listeners.length;i < len;i++) {
var listener=this.listeners[i];
if(notifyActivate && listener.onSpringActivate){
listener.onSpringActivate(this);}


if(listener.onSpringUpdate){
listener.onSpringUpdate(this);}


if(notifyAtRest && listener.onSpringAtRest){
listener.onSpringAtRest(this);}}},









systemShouldAdvance:function(){
return !this.isAtRest() || !this.wasAtRest();},


wasAtRest:function(){
return this._wasAtRest;},








isAtRest:function(){
return Math.abs(this._currentState.velocity) < this._restSpeedThreshold && (
this.getDisplacementDistanceForState(this._currentState) <= 
this._displacementFromRestThreshold || 
this._springConfig.tension === 0);},






setAtRest:function(){
this._endValue = this._currentState.position;
this._tempState.position = this._currentState.position;
this._currentState.velocity = 0;
return this;},


_interpolate:function(alpha){
this._currentState.position = this._currentState.position * 
alpha + this._previousState.position * (1 - alpha);
this._currentState.velocity = this._currentState.velocity * 
alpha + this._previousState.velocity * (1 - alpha);},


getListeners:function(){
return this.listeners;},


addListener:function(newListener){
this.listeners.push(newListener);
return this;},


removeListener:function(listenerToRemove){
removeFirst(this.listeners,listenerToRemove);
return this;},


removeAllListeners:function(){
this.listeners = [];
return this;},


currentValueIsApproximately:function(value){
return Math.abs(this.getCurrentValue() - value) <= 
this.getRestDisplacementThreshold();}});









var PhysicsState=function PhysicsState(){};

util.extend(PhysicsState.prototype,{
position:0,
velocity:0});








var SpringConfig=rebound.SpringConfig = 
function SpringConfig(tension,friction){
this.tension = tension;
this.friction = friction;};







var AnimationLooper=rebound.AnimationLooper = function AnimationLooper(){
this.springSystem = null;
var _this=this;
var _run=function(){
_this.springSystem.loop(Date.now());};


this.run = function(){
util.onFrame(_run);};};









rebound.SimulationLooper = function SimulationLooper(timestep){
this.springSystem = null;
var time=0;
var running=false;
timestep = timestep || 16.667;

this.run = function(){
if(running){
return;}

running = true;
while(!this.springSystem.getIsIdle()) {
this.springSystem.loop(time += timestep);}

running = false;};};








rebound.SteppingSimulationLooper = function(timestep){
this.springSystem = null;
var time=0;



this.run = function(){};


this.step = function(timestep){
this.springSystem.loop(time += timestep);};};








var OrigamiValueConverter=rebound.OrigamiValueConverter = {
tensionFromOrigamiValue:function(oValue){
return (oValue - 30.0) * 3.62 + 194.0;},


origamiValueFromTension:function(tension){
return (tension - 194.0) / 3.62 + 30.0;},


frictionFromOrigamiValue:function(oValue){
return (oValue - 8.0) * 3.0 + 25.0;},


origamiFromFriction:function(friction){
return (friction - 25.0) / 3.0 + 8.0;}};










var BouncyConversion=rebound.BouncyConversion = function(bounciness,speed){
this.bounciness = bounciness;
this.speed = speed;
var b=this.normalize(bounciness / 1.7,0,20.0);
b = this.projectNormal(b,0.0,0.8);
var s=this.normalize(speed / 1.7,0,20.0);
this.bouncyTension = this.projectNormal(s,0.5,200);
this.bouncyFriction = this.quadraticOutInterpolation(
b,
this.b3Nobounce(this.bouncyTension),
0.01);};


util.extend(BouncyConversion.prototype,{

normalize:function(value,startValue,endValue){
return (value - startValue) / (endValue - startValue);},


projectNormal:function(n,start,end){
return start + n * (end - start);},


linearInterpolation:function(t,start,end){
return t * end + (1.0 - t) * start;},


quadraticOutInterpolation:function(t,start,end){
return this.linearInterpolation(2 * t - t * t,start,end);},


b3Friction1:function(x){
return 0.0007 * Math.pow(x,3) - 
0.031 * Math.pow(x,2) + 0.64 * x + 1.28;},


b3Friction2:function(x){
return 0.000044 * Math.pow(x,3) - 
0.006 * Math.pow(x,2) + 0.36 * x + 2.;},


b3Friction3:function(x){
return 0.00000045 * Math.pow(x,3) - 
0.000332 * Math.pow(x,2) + 0.1078 * x + 5.84;},


b3Nobounce:function(tension){
var friction=0;
if(tension <= 18){
friction = this.b3Friction1(tension);}else 
if(tension > 18 && tension <= 44){
friction = this.b3Friction2(tension);}else 
{
friction = this.b3Friction3(tension);}

return friction;}});



util.extend(SpringConfig,{




fromOrigamiTensionAndFriction:function(tension,friction){
return new SpringConfig(
OrigamiValueConverter.tensionFromOrigamiValue(tension),
OrigamiValueConverter.frictionFromOrigamiValue(friction));},





fromBouncinessAndSpeed:function(bounciness,speed){
var bouncyConversion=new rebound.BouncyConversion(bounciness,speed);
return this.fromOrigamiTensionAndFriction(
bouncyConversion.bouncyTension,
bouncyConversion.bouncyFriction);},




coastingConfigWithOrigamiFriction:function(friction){
return new SpringConfig(
0,
OrigamiValueConverter.frictionFromOrigamiValue(friction));}});




SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG = 
SpringConfig.fromOrigamiTensionAndFriction(40,7);

util.extend(SpringConfig.prototype,{friction:0,tension:0});




var colorCache={};
util.hexToRGB = function(color){
if(colorCache[color]){
return colorCache[color];}

color = color.replace('#','');
if(color.length === 3){
color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];}

var parts=color.match(/.{2}/g);

var ret={
r:parseInt(parts[0],16),
g:parseInt(parts[1],16),
b:parseInt(parts[2],16)};


colorCache[color] = ret;
return ret;};


util.rgbToHex = function(r,g,b){
r = r.toString(16);
g = g.toString(16);
b = b.toString(16);
r = r.length < 2?'0' + r:r;
g = g.length < 2?'0' + g:g;
b = b.length < 2?'0' + b:b;
return '#' + r + g + b;};


var MathUtil=rebound.MathUtil = {








mapValueInRange:function(value,fromLow,fromHigh,toLow,toHigh){
var fromRangeSize=fromHigh - fromLow;
var toRangeSize=toHigh - toLow;
var valueScale=(value - fromLow) / fromRangeSize;
return toLow + valueScale * toRangeSize;},





interpolateColor:
function(val,startColor,endColor,fromLow,fromHigh,asRGB){
fromLow = fromLow === undefined?0:fromLow;
fromHigh = fromHigh === undefined?1:fromHigh;
startColor = util.hexToRGB(startColor);
endColor = util.hexToRGB(endColor);
var r=Math.floor(
util.mapValueInRange(val,fromLow,fromHigh,startColor.r,endColor.r));

var g=Math.floor(
util.mapValueInRange(val,fromLow,fromHigh,startColor.g,endColor.g));

var b=Math.floor(
util.mapValueInRange(val,fromLow,fromHigh,startColor.b,endColor.b));

if(asRGB){
return 'rgb(' + r + ',' + g + ',' + b + ')';}else 
{
return util.rgbToHex(r,g,b);}},



degreesToRadians:function(deg){
return deg * Math.PI / 180;},


radiansToDegrees:function(rad){
return rad * 180 / Math.PI;}};




util.extend(util,MathUtil);







function removeFirst(array,item){
var idx=array.indexOf(item);
idx != -1 && array.splice(idx,1);}


var _onFrame;
if(typeof window !== 'undefined'){
_onFrame = window.requestAnimationFrame || 
window.webkitRequestAnimationFrame || 
window.mozRequestAnimationFrame || 
window.msRequestAnimationFrame || 
window.oRequestAnimationFrame || 
function(callback){
window.setTimeout(callback,1000 / 60);};}


if(!_onFrame && typeof process !== 'undefined' && process.title === 'node'){
_onFrame = setImmediate;}



util.onFrame = function onFrame(func){
return _onFrame(func);};




if(typeof exports != 'undefined'){
util.extend(exports,rebound);}else 
if(typeof window != 'undefined'){
window.rebound = rebound;}})();
});
__d('NavigatorIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var EventEmitter=require('EventEmitter');
var Image=require('Image');
var NavigationContext=require('NavigationContext');
var RCTNavigatorManager=require('NativeModules').NavigatorManager;
var React=require('React');
var StaticContainer=require('StaticContainer.react');
var StyleSheet=require('StyleSheet');
var View=require('View');

var invariant=require('invariant');
var logError=require('logError');
var requireNativeComponent=require('requireNativeComponent');
var resolveAssetSource=require('resolveAssetSource');

var TRANSITIONER_REF='transitionerRef';

var PropTypes=React.PropTypes;

var __uid=0;
function getuid(){
return __uid++;}


var NavigatorTransitionerIOS=React.createClass({displayName:'NavigatorTransitionerIOS',
requestSchedulingNavigation:function(cb){
RCTNavigatorManager.requestSchedulingJavaScriptNavigation(
React.findNodeHandle(this),
logError,
cb);},



render:function(){
return (
React.createElement(RCTNavigator,this.props));}});

























































































































var NavigatorIOS=React.createClass({displayName:'NavigatorIOS',

propTypes:{






initialRoute:PropTypes.shape({



component:PropTypes.func.isRequired,




title:PropTypes.string.isRequired,





passProps:PropTypes.object,






backButtonIcon:Image.propTypes.source,






backButtonTitle:PropTypes.string,




leftButtonIcon:Image.propTypes.source,




leftButtonTitle:PropTypes.string,




onLeftButtonPress:PropTypes.func,




rightButtonIcon:Image.propTypes.source,




rightButtonTitle:PropTypes.string,




onRightButtonPress:PropTypes.func,




wrapperStyle:View.propTypes.style}).

isRequired,




navigationBarHidden:PropTypes.bool,




shadowHidden:PropTypes.bool,





itemWrapperStyle:View.propTypes.style,




tintColor:PropTypes.string,




barTintColor:PropTypes.string,




titleTextColor:PropTypes.string,




translucent:PropTypes.bool},



navigator:undefined,
navigationContext:new NavigationContext(),

componentWillMount:function(){


this.navigator = {
push:this.push,
pop:this.pop,
popN:this.popN,
replace:this.replace,
replacePrevious:this.replacePrevious,
replacePreviousAndPop:this.replacePreviousAndPop,
resetTo:this.resetTo,
popToRoute:this.popToRoute,
popToTop:this.popToTop,
navigationContext:this.navigationContext};

this._emitWillFocus(this.state.routeStack[this.state.observedTopOfStack]);},


componentDidMount:function(){
this._emitDidFocus(this.state.routeStack[this.state.observedTopOfStack]);},


componentWillUnmount:function(){
this.navigationContext.dispose();
this.navigationContext = new NavigationContext();},


getInitialState:function(){
return {
idStack:[getuid()],
routeStack:[this.props.initialRoute],

requestedTopOfStack:0,






observedTopOfStack:0,
progress:1,
fromIndex:0,
toIndex:0,


makingNavigatorRequest:false,



updatingAllIndicesAtOrBeyond:0};},



_toFocusOnNavigationComplete:undefined,

_handleFocusRequest:function(item){
if(this.state.makingNavigatorRequest){
this._toFocusOnNavigationComplete = item;}else 
{
this._getFocusEmitter().emit('focus',item);}},



_focusEmitter:undefined,

_getFocusEmitter:function(){

var focusEmitter=this._focusEmitter;
if(!focusEmitter){
focusEmitter = new EventEmitter();
this._focusEmitter = focusEmitter;}

return focusEmitter;},


getChildContext:function()


{
return {
onFocusRequested:this._handleFocusRequest,
focusEmitter:this._getFocusEmitter()};},



childContextTypes:{
onFocusRequested:React.PropTypes.func,
focusEmitter:React.PropTypes.instanceOf(EventEmitter)},


_tryLockNavigator:function(cb){
this.refs[TRANSITIONER_REF].requestSchedulingNavigation(
function(acquiredLock){return acquiredLock && cb();});},



_handleNavigatorStackChanged:function(e){
var newObservedTopOfStack=e.nativeEvent.stackLength - 1;
this._emitDidFocus(this.state.routeStack[newObservedTopOfStack]);

invariant(
newObservedTopOfStack <= this.state.requestedTopOfStack,
'No navigator item should be pushed without JS knowing about it %s %s',newObservedTopOfStack,this.state.requestedTopOfStack);

var wasWaitingForConfirmation=
this.state.requestedTopOfStack !== this.state.observedTopOfStack;
if(wasWaitingForConfirmation){
invariant(
newObservedTopOfStack === this.state.requestedTopOfStack,
'If waiting for observedTopOfStack to reach requestedTopOfStack, ' + 
'the only valid observedTopOfStack should be requestedTopOfStack.');}











var nextState={
observedTopOfStack:newObservedTopOfStack,
makingNavigatorRequest:false,
updatingAllIndicesAtOrBeyond:null,
progress:1,
toIndex:newObservedTopOfStack,
fromIndex:newObservedTopOfStack};

this.setState(nextState,this._eliminateUnneededChildren);},


_eliminateUnneededChildren:function(){



var updatingAllIndicesAtOrBeyond=
this.state.routeStack.length > this.state.observedTopOfStack + 1?
this.state.observedTopOfStack + 1:
null;
this.setState({
idStack:this.state.idStack.slice(0,this.state.observedTopOfStack + 1),
routeStack:this.state.routeStack.slice(0,this.state.observedTopOfStack + 1),

requestedTopOfStack:this.state.observedTopOfStack,
makingNavigatorRequest:true,
updatingAllIndicesAtOrBeyond:updatingAllIndicesAtOrBeyond});},



_emitDidFocus:function(route){
this.navigationContext.emit('didfocus',{route:route});},


_emitWillFocus:function(route){
this.navigationContext.emit('willfocus',{route:route});},


push:function(route){var _this=this;
invariant(!!route,'Must supply route to push');

if(this.state.requestedTopOfStack === this.state.observedTopOfStack){
this._tryLockNavigator(function(){
_this._emitWillFocus(route);

var nextStack=_this.state.routeStack.concat([route]);
var nextIDStack=_this.state.idStack.concat([getuid()]);
_this.setState({


idStack:nextIDStack,
routeStack:nextStack,
requestedTopOfStack:nextStack.length - 1,
makingNavigatorRequest:true,
updatingAllIndicesAtOrBeyond:nextStack.length - 1});});}},





popN:function(n){var _this2=this;
if(n === 0){
return;}


if(this.state.requestedTopOfStack === this.state.observedTopOfStack){
if(this.state.requestedTopOfStack > 0){
this._tryLockNavigator(function(){
var newRequestedTopOfStack=_this2.state.requestedTopOfStack - n;
invariant(newRequestedTopOfStack >= 0,'Cannot pop below 0');
_this2._emitWillFocus(_this2.state.routeStack[newRequestedTopOfStack]);
_this2.setState({
requestedTopOfStack:newRequestedTopOfStack,
makingNavigatorRequest:true,


updatingAllIndicesAtOrBeyond:null});});}}},






pop:function(){
this.popN(1);},








replaceAtIndex:function(route,index){
invariant(!!route,'Must supply route to replace');
if(index < 0){
index += this.state.routeStack.length;}


if(this.state.routeStack.length <= index){
return;}




var nextIDStack=this.state.idStack.slice();
var nextRouteStack=this.state.routeStack.slice();
nextIDStack[index] = getuid();
nextRouteStack[index] = route;

this.setState({
idStack:nextIDStack,
routeStack:nextRouteStack,
makingNavigatorRequest:false,
updatingAllIndicesAtOrBeyond:index});


this._emitWillFocus(route);
this._emitDidFocus(route);},





replace:function(route){
this.replaceAtIndex(route,-1);},





replacePrevious:function(route){
this.replaceAtIndex(route,-2);},


popToTop:function(){
this.popToRoute(this.state.routeStack[0]);},


popToRoute:function(route){
var indexOfRoute=this.state.routeStack.indexOf(route);
invariant(
indexOfRoute !== -1,
'Calling pop to route for a route that doesn\'t exist!');

var numToPop=this.state.routeStack.length - indexOfRoute - 1;
this.popN(numToPop);},


replacePreviousAndPop:function(route){var _this3=this;

if(this.state.requestedTopOfStack !== this.state.observedTopOfStack){
return;}

if(this.state.routeStack.length < 2){
return;}

this._tryLockNavigator(function(){
_this3.replacePrevious(route);
_this3.setState({
requestedTopOfStack:_this3.state.requestedTopOfStack - 1,
makingNavigatorRequest:true});});},




resetTo:function(route){
invariant(!!route,'Must supply route to push');

if(this.state.requestedTopOfStack !== this.state.observedTopOfStack){
return;}

this.replaceAtIndex(route,0);
this.popToRoute(route);},


handleNavigationComplete:function(e){
if(this._toFocusOnNavigationComplete){
this._getFocusEmitter().emit('focus',this._toFocusOnNavigationComplete);
this._toFocusOnNavigationComplete = null;}

this._handleNavigatorStackChanged(e);},


_routeToStackItem:function(route,i){
var Component=route.component;
var shouldUpdateChild=this.state.updatingAllIndicesAtOrBeyond !== null && 
this.state.updatingAllIndicesAtOrBeyond >= i;

return (
React.createElement(StaticContainer,{key:'nav' + i,shouldUpdate:shouldUpdateChild},
React.createElement(RCTNavigatorItem,{
title:route.title,
style:[
styles.stackItem,
this.props.itemWrapperStyle,
route.wrapperStyle],

backButtonIcon:resolveAssetSource(route.backButtonIcon),
backButtonTitle:route.backButtonTitle,
leftButtonIcon:resolveAssetSource(route.leftButtonIcon),
leftButtonTitle:route.leftButtonTitle,
onNavLeftButtonTap:route.onLeftButtonPress,
rightButtonIcon:resolveAssetSource(route.rightButtonIcon),
rightButtonTitle:route.rightButtonTitle,
onNavRightButtonTap:route.onRightButtonPress,
navigationBarHidden:this.props.navigationBarHidden,
shadowHidden:this.props.shadowHidden,
tintColor:this.props.tintColor,
barTintColor:this.props.barTintColor,
translucent:this.props.translucent !== false,
titleTextColor:this.props.titleTextColor},
React.createElement(Component,_extends({
navigator:this.navigator,
route:route},
route.passProps)))));},






renderNavigationStackItems:function(){
var shouldRecurseToNavigator=
this.state.makingNavigatorRequest || 
this.state.updatingAllIndicesAtOrBeyond !== null;


var items=shouldRecurseToNavigator?
this.state.routeStack.map(this._routeToStackItem):null;
return (
React.createElement(StaticContainer,{shouldUpdate:shouldRecurseToNavigator},
React.createElement(NavigatorTransitionerIOS,{
ref:TRANSITIONER_REF,
style:styles.transitioner,
vertical:this.props.vertical,
requestedTopOfStack:this.state.requestedTopOfStack,
onNavigationComplete:this.handleNavigationComplete},
items)));},





render:function(){
return (
React.createElement(View,{style:this.props.style},
this.renderNavigationStackItems()));}});





var styles=StyleSheet.create({
stackItem:{
backgroundColor:'white',
overflow:'hidden',
position:'absolute',
top:0,
left:0,
right:0,
bottom:0},

transitioner:{
flex:1}});



var RCTNavigator=requireNativeComponent('RCTNavigator');
var RCTNavigatorItem=requireNativeComponent('RCTNavItem');

module.exports = NavigatorIOS;
});
__d('PickerIOS',function(global, require, module, exports) {  'use strict';













var NativeMethodsMixin=require('NativeMethodsMixin');
var React=require('React');
var ReactChildren=require('ReactChildren');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var RCTPickerIOSConsts=require('NativeModules').UIManager.RCTPicker.Constants;
var StyleSheet=require('StyleSheet');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');
var merge=require('merge');

var PICKER='picker';

var PickerIOS=React.createClass({displayName:'PickerIOS',
mixins:[NativeMethodsMixin],

propTypes:{
onValueChange:React.PropTypes.func,
selectedValue:React.PropTypes.any},


getInitialState:function(){
return this._stateFromProps(this.props);},


componentWillReceiveProps:function(nextProps){
this.setState(this._stateFromProps(nextProps));},



_stateFromProps:function(props){
var selectedIndex=0;
var items=[];
ReactChildren.forEach(props.children,function(child,index){
if(child.props.value === props.selectedValue){
selectedIndex = index;}

items.push({value:child.props.value,label:child.props.label});});

return {selectedIndex:selectedIndex,items:items};},


render:function(){
return (
React.createElement(View,{style:this.props.style},
React.createElement(RCTPickerIOS,{
ref:PICKER,
style:styles.pickerIOS,
items:this.state.items,
selectedIndex:this.state.selectedIndex,
onChange:this._onChange})));},





_onChange:function(event){
if(this.props.onChange){
this.props.onChange(event);}

if(this.props.onValueChange){
this.props.onValueChange(event.nativeEvent.newValue);}








if(this.state.selectedIndex !== event.nativeEvent.newIndex){
this.refs[PICKER].setNativeProps({
selectedIndex:this.state.selectedIndex});}}});





PickerIOS.Item = React.createClass({displayName:'Item',
propTypes:{
value:React.PropTypes.any,
label:React.PropTypes.string},


render:function(){

return null;}});



var styles=StyleSheet.create({
pickerIOS:{



height:RCTPickerIOSConsts.ComponentHeight}});



var RCTPickerIOS=requireNativeComponent('RCTPicker',PickerIOS,{
nativeOnly:{
items:true,
onChange:true,
selectedIndex:true}});



module.exports = PickerIOS;
});
__d('ProgressBarAndroid',function(global, require, module, exports) {  'use strict';











module.exports = require('UnimplementedView');
});
__d('ProgressViewIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var Image=require('Image');
var NativeMethodsMixin=require('NativeMethodsMixin');
var NativeModules=require('NativeModules');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');

var requireNativeComponent=require('requireNativeComponent');




var ProgressViewIOS=React.createClass({displayName:'ProgressViewIOS',
mixins:[NativeMethodsMixin],

propTypes:{



progressViewStyle:PropTypes.oneOf(['default','bar']),




progress:PropTypes.number,




progressTintColor:PropTypes.string,




trackTintColor:PropTypes.string,




progressImage:Image.propTypes.source,




trackImage:Image.propTypes.source},


render:function(){
return (
React.createElement(RCTProgressView,_extends({},
this.props,{
style:[styles.progressView,this.props.style]})));}});





var styles=StyleSheet.create({
progressView:{
height:NativeModules.ProgressViewManager.ComponentHeight}});



var RCTProgressView=requireNativeComponent(
'RCTProgressView',
ProgressViewIOS);


module.exports = ProgressViewIOS;
});
__d('SegmentedControlIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var NativeMethodsMixin=require('NativeMethodsMixin');
var NativeModules=require('NativeModules');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');

var requireNativeComponent=require('requireNativeComponent');






var SEGMENTED_CONTROL_REFERENCE='segmentedcontrol';






var SegmentedControlIOS=React.createClass({displayName:'SegmentedControlIOS',
mixins:[NativeMethodsMixin],

propTypes:{



values:PropTypes.arrayOf(PropTypes.string),




selectedIndex:PropTypes.number,





onValueChange:PropTypes.func,





onChange:PropTypes.func,





enabled:PropTypes.bool,




tintColor:PropTypes.string,





momentary:PropTypes.bool},


getDefaultProps:function(){
return {
values:[],
enabled:true};},



_onChange:function(event){
this.props.onChange && this.props.onChange(event);
this.props.onValueChange && this.props.onValueChange(event.nativeEvent.value);},


render:function(){
return (
React.createElement(RCTSegmentedControl,_extends({},
this.props,{
ref:SEGMENTED_CONTROL_REFERENCE,
style:[styles.segmentedControl,this.props.style],
onChange:this._onChange})));}});





var styles=StyleSheet.create({
segmentedControl:{
height:NativeModules.SegmentedControlManager.ComponentHeight}});



var RCTSegmentedControl=requireNativeComponent(
'RCTSegmentedControl',
SegmentedControlIOS);


module.exports = SegmentedControlIOS;
});
__d('SliderIOS',function(global, require, module, exports) {  'use strict';












var NativeMethodsMixin=require('NativeMethodsMixin');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');



var SliderIOS=React.createClass({displayName:'SliderIOS',
mixins:[NativeMethodsMixin],

propTypes:{




style:View.propTypes.style,









value:PropTypes.number,




minimumValue:PropTypes.number,




maximumValue:PropTypes.number,





minimumTrackTintColor:PropTypes.string,





maximumTrackTintColor:PropTypes.string,




onValueChange:PropTypes.func,





onSlidingComplete:PropTypes.func},


_onValueChange:function(event){
this.props.onChange && this.props.onChange(event);
if(event.nativeEvent.continuous){
this.props.onValueChange && 
this.props.onValueChange(event.nativeEvent.value);}else 
{
this.props.onSlidingComplete && event.nativeEvent.value !== undefined && 
this.props.onSlidingComplete(event.nativeEvent.value);}},



render:function(){
return (
React.createElement(RCTSlider,{
style:[styles.slider,this.props.style],
value:this.props.value,
maximumValue:this.props.maximumValue,
minimumValue:this.props.minimumValue,
minimumTrackTintColor:this.props.minimumTrackTintColor,
maximumTrackTintColor:this.props.maximumTrackTintColor,
onChange:this._onValueChange}));}});





var styles=StyleSheet.create({
slider:{
height:40}});



var RCTSlider=requireNativeComponent('RCTSlider',SliderIOS,{
nativeOnly:{onChange:true}});


module.exports = SliderIOS;
});
__d('SnapshotViewIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var Platform=require('Platform');
var React=require('React');
var StyleSheet=require('StyleSheet');var _require=
require('NativeModules');var TestModule=_require.TestModule;var UIManager=_require.UIManager;
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');

var SnapshotViewIOS=React.createClass({displayName:'SnapshotViewIOS',
onDefaultAction:function(event){
TestModule.verifySnapshot(TestModule.markTestPassed);},


render:function(){
var testIdentifier=this.props.testIdentifier || 'test';
var onSnapshotReady=this.props.onSnapshotReady || this.onDefaultAction;
return (
React.createElement(RCTSnapshot,_extends({
style:style.snapshot},
this.props,{
onSnapshotReady:onSnapshotReady,
testIdentifier:testIdentifier})));},




propTypes:{

onSnapshotReady:React.PropTypes.func,

testIdentifier:React.PropTypes.string}});



var style=StyleSheet.create({
snapshot:{
flex:1}});






var RCTSnapshot=UIManager.RCTSnapshot?
requireNativeComponent('RCTSnapshot',SnapshotViewIOS):
View;

module.exports = SnapshotViewIOS;
});
__d('Switch',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};







var Platform=require('Platform');
var NativeMethodsMixin=require('NativeMethodsMixin');
var React=require('React');
var StyleSheet=require('StyleSheet');

var requireNativeComponent=require('requireNativeComponent');









var Switch=React.createClass({displayName:'Switch',
propTypes:{




value:React.PropTypes.bool,




disabled:React.PropTypes.bool,



onValueChange:React.PropTypes.func,



testID:React.PropTypes.string,





tintColor:React.PropTypes.string,




onTintColor:React.PropTypes.string,




thumbTintColor:React.PropTypes.string},


getDefaultProps:function(){
return {
value:false,
disabled:false};},



mixins:[NativeMethodsMixin],

_rctSwitch:{},
_onChange:function(event){
this.props.onChange && this.props.onChange(event);
this.props.onValueChange && this.props.onValueChange(event.nativeEvent.value);



if(Platform.OS === 'android'){
this._rctSwitch.setNativeProps({on:this.props.value});}else 
{
this._rctSwitch.setNativeProps({value:this.props.value});}},



render:function(){var _this=this;
var props=_extends({},this.props);
props.onStartShouldSetResponder = function(){return true;};
props.onResponderTerminationRequest = function(){return false;};
if(Platform.OS === 'android'){
props.enabled = !this.props.disabled;
props.on = this.props.value;
props.style = [styles.rctSwitchAndroid,this.props.style];}else 
if(Platform.OS === 'ios'){
props.style = [styles.rctSwitchIOS,this.props.style];}

return (
React.createElement(RCTSwitch,_extends({},
props,{
ref:function(ref){_this._rctSwitch = ref;},
onChange:this._onChange})));}});





var styles=StyleSheet.create({
rctSwitchIOS:{
height:31,
width:51},

rctSwitchAndroid:{
height:27,
width:40}});



if(Platform.OS === 'android'){
var RCTSwitch=requireNativeComponent('AndroidSwitch',null,{
nativeOnly:{onChange:true,on:true,enabled:true}});}else 

{
var RCTSwitch=requireNativeComponent('RCTSwitch',Switch,{
nativeOnly:{onChange:true}});}



module.exports = Switch;
});
__d('SwitchAndroid',function(global, require, module, exports) {  'use strict';











module.exports = require('UnimplementedView');
});
__d('SwitchIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};














var NativeMethodsMixin=require('NativeMethodsMixin');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleSheet=require('StyleSheet');

var requireNativeComponent=require('requireNativeComponent');

var SWITCH='switch';















var SwitchIOS=React.createClass({displayName:'SwitchIOS',
mixins:[NativeMethodsMixin],

propTypes:{




value:PropTypes.bool,





disabled:PropTypes.bool,




onValueChange:PropTypes.func,




onTintColor:PropTypes.string,




thumbTintColor:PropTypes.string,




tintColor:PropTypes.string},


getDefaultProps:function(){
return {
value:false,
disabled:false};},



_onChange:function(event){


this.refs[SWITCH].setNativeProps({value:this.props.value});

if(this.props.value === event.nativeEvent.value || this.props.disabled){
return;}


this.props.onChange && this.props.onChange(event);
this.props.onValueChange && this.props.onValueChange(event.nativeEvent.value);},


render:function(){
return (
React.createElement(RCTSwitch,_extends({},
this.props,{
ref:SWITCH,
onChange:this._onChange,
style:[styles.rkSwitch,this.props.style]})));}});





var styles=StyleSheet.create({
rkSwitch:{
height:31,
width:51}});



var RCTSwitch=requireNativeComponent('RCTSwitch',SwitchIOS,{
nativeOnly:{onChange:true}});


module.exports = SwitchIOS;
});
__d('TabBarIOS',function(global, require, module, exports) {  'use strict';












var React=require('React');
var StyleSheet=require('StyleSheet');
var TabBarItemIOS=require('TabBarItemIOS');
var View=require('View');

var requireNativeComponent=require('requireNativeComponent');

var TabBarIOS=React.createClass({displayName:'TabBarIOS',
statics:{
Item:TabBarItemIOS},


propTypes:{
style:View.propTypes.style,



tintColor:React.PropTypes.string,



barTintColor:React.PropTypes.string,



translucent:React.PropTypes.bool},


render:function(){
return (
React.createElement(RCTTabBar,{
style:[styles.tabGroup,this.props.style],
tintColor:this.props.tintColor,
barTintColor:this.props.barTintColor,
translucent:this.props.translucent !== false},
this.props.children));}});





var styles=StyleSheet.create({
tabGroup:{
flex:1}});



var RCTTabBar=requireNativeComponent('RCTTabBar',TabBarIOS);

module.exports = TabBarIOS;
});
__d('TabBarItemIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};











var Image=require('Image');
var React=require('React');
var StaticContainer=require('StaticContainer.react');
var StyleSheet=require('StyleSheet');
var View=require('View');
var resolveAssetSource=require('resolveAssetSource');

var requireNativeComponent=require('requireNativeComponent');

var TabBarItemIOS=React.createClass({displayName:'TabBarItemIOS',
propTypes:{



badge:React.PropTypes.oneOfType([
React.PropTypes.string,
React.PropTypes.number]),






systemIcon:React.PropTypes.oneOf([
'bookmarks',
'contacts',
'downloads',
'favorites',
'featured',
'history',
'more',
'most-recent',
'most-viewed',
'recents',
'search',
'top-rated']),




icon:Image.propTypes.source,




selectedIcon:Image.propTypes.source,




onPress:React.PropTypes.func,




selected:React.PropTypes.bool,



style:View.propTypes.style,




title:React.PropTypes.string},


getInitialState:function(){
return {
hasBeenSelected:false};},



componentWillMount:function(){
if(this.props.selected){
this.setState({hasBeenSelected:true});}},



componentWillReceiveProps:function(nextProps){
if(this.state.hasBeenSelected || nextProps.selected){
this.setState({hasBeenSelected:true});}},



render:function(){
var tabContents=null;


if(this.state.hasBeenSelected){
tabContents = 
React.createElement(StaticContainer,{shouldUpdate:this.props.selected},
this.props.children);}else 

{
tabContents = React.createElement(View,null);}


var badge=typeof this.props.badge === 'number'?
'' + this.props.badge:
this.props.badge;

return (
React.createElement(RCTTabBarItem,_extends({},
this.props,{
icon:this.props.systemIcon || resolveAssetSource(this.props.icon),
selectedIcon:resolveAssetSource(this.props.selectedIcon),
badge:badge,
style:[styles.tab,this.props.style]}),
tabContents));}});





var styles=StyleSheet.create({
tab:{
position:'absolute',
top:0,
right:0,
bottom:0,
left:0}});



var RCTTabBarItem=requireNativeComponent('RCTTabBarItem',TabBarItemIOS);

module.exports = TabBarItemIOS;
});
__d('Text',function(global, require, module, exports) {  'use strict';












var NativeMethodsMixin=require('NativeMethodsMixin');
var Platform=require('Platform');
var React=require('React');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var StyleSheetPropType=require('StyleSheetPropType');
var TextStylePropTypes=require('TextStylePropTypes');
var Touchable=require('Touchable');

var createReactNativeComponentClass=
require('createReactNativeComponentClass');
var merge=require('merge');

var stylePropType=StyleSheetPropType(TextStylePropTypes);

var viewConfig={
validAttributes:merge(ReactNativeViewAttributes.UIView,{
isHighlighted:true,
numberOfLines:true,
allowFontScaling:true}),

uiViewClassName:'RCTText'};



































var Text=React.createClass({displayName:'Text',

mixins:[Touchable.Mixin,NativeMethodsMixin],

propTypes:{





numberOfLines:React.PropTypes.number,





onLayout:React.PropTypes.func,



onPress:React.PropTypes.func,





suppressHighlighting:React.PropTypes.bool,
style:stylePropType,



testID:React.PropTypes.string,



allowFontScaling:React.PropTypes.bool},


viewConfig:viewConfig,

getInitialState:function(){
return merge(this.touchableGetInitialState(),{
isHighlighted:false});},


getDefaultProps:function(){
return {
allowFontScaling:true};},



onStartShouldSetResponder:function(){
var shouldSetFromProps=this.props.onStartShouldSetResponder && 
this.props.onStartShouldSetResponder();
return shouldSetFromProps || !!this.props.onPress;},





handleResponderTerminationRequest:function(){


var allowTermination=this.touchableHandleResponderTerminationRequest();
if(allowTermination && this.props.onResponderTerminationRequest){
allowTermination = this.props.onResponderTerminationRequest();}

return allowTermination;},


handleResponderGrant:function(e,dispatchID){
this.touchableHandleResponderGrant(e,dispatchID);
this.props.onResponderGrant && 
this.props.onResponderGrant.apply(this,arguments);},


handleResponderMove:function(e){
this.touchableHandleResponderMove(e);
this.props.onResponderMove && 
this.props.onResponderMove.apply(this,arguments);},


handleResponderRelease:function(e){
this.touchableHandleResponderRelease(e);
this.props.onResponderRelease && 
this.props.onResponderRelease.apply(this,arguments);},


handleResponderTerminate:function(e){
this.touchableHandleResponderTerminate(e);
this.props.onResponderTerminate && 
this.props.onResponderTerminate.apply(this,arguments);},


touchableHandleActivePressIn:function(){
if(this.props.suppressHighlighting || !this.props.onPress){
return;}

this.setState({
isHighlighted:true});},



touchableHandleActivePressOut:function(){
if(this.props.suppressHighlighting || !this.props.onPress){
return;}

this.setState({
isHighlighted:false});},



touchableHandlePress:function(){
this.props.onPress && this.props.onPress();},


touchableGetPressRectOffset:function(){
return PRESS_RECT_OFFSET;},


getChildContext:function(){
return {isInAParentText:true};},


childContextTypes:{
isInAParentText:React.PropTypes.bool},


render:function(){
var props={};
for(var key in this.props) {
props[key] = this.props[key];}


if(props.accessible !== false){
props.accessible = true;}

props.isHighlighted = this.state.isHighlighted;
props.onStartShouldSetResponder = this.onStartShouldSetResponder;
props.onResponderTerminationRequest = 
this.handleResponderTerminationRequest;
props.onResponderGrant = this.handleResponderGrant;
props.onResponderMove = this.handleResponderMove;
props.onResponderRelease = this.handleResponderRelease;
props.onResponderTerminate = this.handleResponderTerminate;


var context=ReactInstanceMap.get(this)._context;
if(context.isInAParentText){
return React.createElement(RCTVirtualText,props);}else 
{
return React.createElement(RCTText,props);}}});











var PRESS_RECT_OFFSET={top:20,left:20,right:20,bottom:30};

var RCTText=createReactNativeComponentClass(viewConfig);
var RCTVirtualText=RCTText;

if(Platform.OS === 'android'){
RCTVirtualText = createReactNativeComponentClass({
validAttributes:merge(ReactNativeViewAttributes.UIView,{
isHighlighted:true}),

uiViewClassName:'RCTVirtualText'});}



module.exports = Text;
});
__d('Touchable',function(global, require, module, exports) {  'use strict';





var BoundingDimensions=require('BoundingDimensions');
var Position=require('Position');
var TouchEventUtils=require('TouchEventUtils');

var keyMirror=require('keyMirror');
var queryLayoutByID=require('queryLayoutByID');

























































































var States=keyMirror({
NOT_RESPONDER:null,
RESPONDER_INACTIVE_PRESS_IN:null,
RESPONDER_INACTIVE_PRESS_OUT:null,
RESPONDER_ACTIVE_PRESS_IN:null,
RESPONDER_ACTIVE_PRESS_OUT:null,
RESPONDER_ACTIVE_LONG_PRESS_IN:null,
RESPONDER_ACTIVE_LONG_PRESS_OUT:null,
ERROR:null});





var IsActive={
RESPONDER_ACTIVE_PRESS_OUT:true,
RESPONDER_ACTIVE_PRESS_IN:true};






var IsPressingIn={
RESPONDER_INACTIVE_PRESS_IN:true,
RESPONDER_ACTIVE_PRESS_IN:true,
RESPONDER_ACTIVE_LONG_PRESS_IN:true};


var IsLongPressingIn={
RESPONDER_ACTIVE_LONG_PRESS_IN:true};





var Signals=keyMirror({
DELAY:null,
RESPONDER_GRANT:null,
RESPONDER_RELEASE:null,
RESPONDER_TERMINATED:null,
ENTER_PRESS_RECT:null,
LEAVE_PRESS_RECT:null,
LONG_PRESS_DETECTED:null});





var Transitions={
NOT_RESPONDER:{
DELAY:States.ERROR,
RESPONDER_GRANT:States.RESPONDER_INACTIVE_PRESS_IN,
RESPONDER_RELEASE:States.ERROR,
RESPONDER_TERMINATED:States.ERROR,
ENTER_PRESS_RECT:States.ERROR,
LEAVE_PRESS_RECT:States.ERROR,
LONG_PRESS_DETECTED:States.ERROR},

RESPONDER_INACTIVE_PRESS_IN:{
DELAY:States.RESPONDER_ACTIVE_PRESS_IN,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_INACTIVE_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_INACTIVE_PRESS_OUT,
LONG_PRESS_DETECTED:States.ERROR},

RESPONDER_INACTIVE_PRESS_OUT:{
DELAY:States.RESPONDER_ACTIVE_PRESS_OUT,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_INACTIVE_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_INACTIVE_PRESS_OUT,
LONG_PRESS_DETECTED:States.ERROR},

RESPONDER_ACTIVE_PRESS_IN:{
DELAY:States.ERROR,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_ACTIVE_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_ACTIVE_PRESS_OUT,
LONG_PRESS_DETECTED:States.RESPONDER_ACTIVE_LONG_PRESS_IN},

RESPONDER_ACTIVE_PRESS_OUT:{
DELAY:States.ERROR,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_ACTIVE_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_ACTIVE_PRESS_OUT,
LONG_PRESS_DETECTED:States.ERROR},

RESPONDER_ACTIVE_LONG_PRESS_IN:{
DELAY:States.ERROR,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_ACTIVE_LONG_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
LONG_PRESS_DETECTED:States.RESPONDER_ACTIVE_LONG_PRESS_IN},

RESPONDER_ACTIVE_LONG_PRESS_OUT:{
DELAY:States.ERROR,
RESPONDER_GRANT:States.ERROR,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.RESPONDER_ACTIVE_LONG_PRESS_IN,
LEAVE_PRESS_RECT:States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
LONG_PRESS_DETECTED:States.ERROR},

error:{
DELAY:States.NOT_RESPONDER,
RESPONDER_GRANT:States.RESPONDER_INACTIVE_PRESS_IN,
RESPONDER_RELEASE:States.NOT_RESPONDER,
RESPONDER_TERMINATED:States.NOT_RESPONDER,
ENTER_PRESS_RECT:States.NOT_RESPONDER,
LEAVE_PRESS_RECT:States.NOT_RESPONDER,
LONG_PRESS_DETECTED:States.NOT_RESPONDER}};






var HIGHLIGHT_DELAY_MS=130;

var PRESS_EXPAND_PX=20;

var LONG_PRESS_THRESHOLD=500;

var LONG_PRESS_DELAY_MS=LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;

var LONG_PRESS_ALLOWED_MOVEMENT=10;



































































var TouchableMixin={



componentWillUnmount:function(){
this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);},









touchableGetInitialState:function(){
return {
touchable:{touchState:undefined,responderID:null}};},







touchableHandleResponderTerminationRequest:function(){
return !this.props.rejectResponderTermination;},





touchableHandleStartShouldSetResponder:function(){
return true;},





touchableLongPressCancelsPress:function(){
return true;},








touchableHandleResponderGrant:function(e,dispatchID){



e.persist();

this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
this.pressOutDelayTimeout = null;

this.state.touchable.touchState = States.NOT_RESPONDER;
this.state.touchable.responderID = dispatchID;
this._receiveSignal(Signals.RESPONDER_GRANT,e);
var delayMS=
this.touchableGetHighlightDelayMS !== undefined?
Math.max(this.touchableGetHighlightDelayMS(),0):HIGHLIGHT_DELAY_MS;
delayMS = isNaN(delayMS)?HIGHLIGHT_DELAY_MS:delayMS;
if(delayMS !== 0){
this.touchableDelayTimeout = setTimeout(
this._handleDelay.bind(this,e),
delayMS);}else 

{
this._handleDelay(e);}


var longDelayMS=
this.touchableGetLongPressDelayMS !== undefined?
Math.max(this.touchableGetLongPressDelayMS(),10):LONG_PRESS_DELAY_MS;
longDelayMS = isNaN(longDelayMS)?LONG_PRESS_DELAY_MS:longDelayMS;
this.longPressDelayTimeout = setTimeout(
this._handleLongDelay.bind(this,e),
longDelayMS + delayMS);},






touchableHandleResponderRelease:function(e){
this._receiveSignal(Signals.RESPONDER_RELEASE,e);},





touchableHandleResponderTerminate:function(e){
this._receiveSignal(Signals.RESPONDER_TERMINATED,e);},





touchableHandleResponderMove:function(e){


if(this.state.touchable.touchState === States.RESPONDER_INACTIVE_PRESS_IN){
return;}



if(!this.state.touchable.positionOnActivate){
return;}


var positionOnActivate=this.state.touchable.positionOnActivate;
var dimensionsOnActivate=this.state.touchable.dimensionsOnActivate;
var pressRectOffset=this.touchableGetPressRectOffset?
this.touchableGetPressRectOffset():{
left:PRESS_EXPAND_PX,
right:PRESS_EXPAND_PX,
top:PRESS_EXPAND_PX,
bottom:PRESS_EXPAND_PX};


var pressExpandLeft=pressRectOffset.left;
var pressExpandTop=pressRectOffset.top;
var pressExpandRight=pressRectOffset.right;
var pressExpandBottom=pressRectOffset.bottom;

var touch=TouchEventUtils.extractSingleTouch(e.nativeEvent);
var pageX=touch && touch.pageX;
var pageY=touch && touch.pageY;

if(this.pressInLocation){
var movedDistance=this._getDistanceBetweenPoints(pageX,pageY,this.pressInLocation.pageX,this.pressInLocation.pageY);
if(movedDistance > LONG_PRESS_ALLOWED_MOVEMENT){
this._cancelLongPressDelayTimeout();}}



var isTouchWithinActive=
pageX > positionOnActivate.left - pressExpandLeft && 
pageY > positionOnActivate.top - pressExpandTop && 
pageX < 
positionOnActivate.left + 
dimensionsOnActivate.width + 
pressExpandRight && 
pageY < 
positionOnActivate.top + 
dimensionsOnActivate.height + 
pressExpandBottom;
if(isTouchWithinActive){
this._receiveSignal(Signals.ENTER_PRESS_RECT,e);}else 
{
this._cancelLongPressDelayTimeout();
this._receiveSignal(Signals.LEAVE_PRESS_RECT,e);}},

















































































_remeasureMetricsOnActivation:function(){
queryLayoutByID(
this.state.touchable.responderID,
null,
this._handleQueryLayout);},



_handleQueryLayout:function(l,t,w,h,globalX,globalY){
this.state.touchable.positionOnActivate && 
Position.release(this.state.touchable.positionOnActivate);
this.state.touchable.dimensionsOnActivate && 
BoundingDimensions.release(this.state.touchable.dimensionsOnActivate);
this.state.touchable.positionOnActivate = Position.getPooled(globalX,globalY);
this.state.touchable.dimensionsOnActivate = BoundingDimensions.getPooled(w,h);},


_handleDelay:function(e){
this.touchableDelayTimeout = null;
this._receiveSignal(Signals.DELAY,e);},


_handleLongDelay:function(e){
this.longPressDelayTimeout = null;
this._receiveSignal(Signals.LONG_PRESS_DETECTED,e);},










_receiveSignal:function(signal,e){
var curState=this.state.touchable.touchState;
if(!(Transitions[curState] && Transitions[curState][signal])){
throw new Error(
'Unrecognized signal `' + signal + '` or state `' + curState + 
'` for Touchable responder `' + this.state.touchable.responderID + '`');}


var nextState=Transitions[curState][signal];
if(nextState === States.ERROR){
throw new Error(
'Touchable cannot transition from `' + curState + '` to `' + signal + 
'` for responder `' + this.state.touchable.responderID + '`');}


if(curState !== nextState){
this._performSideEffectsForTransition(curState,nextState,signal,e);
this.state.touchable.touchState = nextState;}},



_cancelLongPressDelayTimeout:function(){
this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
this.longPressDelayTimeout = null;},


_isHighlight:function(state){
return state === States.RESPONDER_ACTIVE_PRESS_IN || 
state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;},


_savePressInLocation:function(e){
var touch=TouchEventUtils.extractSingleTouch(e.nativeEvent);
var pageX=touch && touch.pageX;
var pageY=touch && touch.pageY;
this.pressInLocation = {pageX:pageX,pageY:pageY};},


_getDistanceBetweenPoints:function(aX,aY,bX,bY){
var deltaX=aX - bX;
var deltaY=aY - bY;
return Math.sqrt(deltaX * deltaX + deltaY * deltaY);},













_performSideEffectsForTransition:function(curState,nextState,signal,e){
var curIsHighlight=this._isHighlight(curState);
var newIsHighlight=this._isHighlight(nextState);

var isFinalSignal=
signal === Signals.RESPONDER_TERMINATED || 
signal === Signals.RESPONDER_RELEASE;

if(isFinalSignal){
this._cancelLongPressDelayTimeout();}


if(!IsActive[curState] && IsActive[nextState]){
this._remeasureMetricsOnActivation();}


if(IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED){
this.touchableHandleLongPress && this.touchableHandleLongPress(e);}


if(newIsHighlight && !curIsHighlight){
this._savePressInLocation(e);
this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);}else 
if(!newIsHighlight && curIsHighlight && this.touchableHandleActivePressOut){
if(this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()){
this.pressOutDelayTimeout = this.setTimeout(function(){
this.touchableHandleActivePressOut(e);},
this.touchableGetPressOutDelayMS());}else 
{
this.touchableHandleActivePressOut(e);}}



if(IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE){
var hasLongPressHandler=!!this.props.onLongPress;
var pressIsLongButStillCallOnPress=
IsLongPressingIn[curState] && (
!hasLongPressHandler || 
!this.touchableLongPressCancelsPress());


var shouldInvokePress=!IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;
if(shouldInvokePress && this.touchableHandlePress){
this.touchableHandlePress(e);}}



this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
this.touchableDelayTimeout = null;}};




var Touchable={
Mixin:TouchableMixin};


module.exports = Touchable;
});
__d('BoundingDimensions',function(global, require, module, exports) {  "use strict";





var PooledClass=require('PooledClass');

var twoArgumentPooler=PooledClass.twoArgumentPooler;








function BoundingDimensions(width,height){
this.width = width;
this.height = height;}






BoundingDimensions.getPooledFromElement = function(element){
return BoundingDimensions.getPooled(
element.offsetWidth,
element.offsetHeight);};



PooledClass.addPoolingTo(BoundingDimensions,twoArgumentPooler);

module.exports = BoundingDimensions;
});
__d('Position',function(global, require, module, exports) {  "use strict";





var PooledClass=require('PooledClass');

var twoArgumentPooler=PooledClass.twoArgumentPooler;









function Position(left,top){
this.left = left;
this.top = top;}


PooledClass.addPoolingTo(Position,twoArgumentPooler);

module.exports = Position;
});
__d('TouchEventUtils',function(global, require, module, exports) {  var 










TouchEventUtils={










extractSingleTouch:function(nativeEvent){
var touches=nativeEvent.touches;
var changedTouches=nativeEvent.changedTouches;
var hasTouches=touches && touches.length > 0;
var hasChangedTouches=changedTouches && changedTouches.length > 0;

return !hasTouches && hasChangedTouches?changedTouches[0]:
hasTouches?touches[0]:
nativeEvent;}};



module.exports = TouchEventUtils;
});
__d('queryLayoutByID',function(global, require, module, exports) {  'use strict';












var ReactNativeTagHandles=require('ReactNativeTagHandles');
var RCTUIManager=require('NativeModules').UIManager;
































var queryLayoutByID=function(
rootNodeID,
onError,
onSuccess)
{

RCTUIManager.measure(
ReactNativeTagHandles.rootNodeIDToTag[rootNodeID],
onSuccess);};



module.exports = queryLayoutByID;
});
__d('TextInput',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var DocumentSelectionState=require('DocumentSelectionState');
var EventEmitter=require('EventEmitter');
var NativeMethodsMixin=require('NativeMethodsMixin');
var RCTUIManager=require('NativeModules').UIManager;
var Platform=require('Platform');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var ReactChildren=require('ReactChildren');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var TextInputState=require('TextInputState');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');
var TouchableWithoutFeedback=require('TouchableWithoutFeedback');

var createReactNativeComponentClass=require('createReactNativeComponentClass');
var emptyFunction=require('emptyFunction');
var invariant=require('invariant');
var requireNativeComponent=require('requireNativeComponent');

var onlyMultiline={
onSelectionChange:true,
onTextInput:true,
children:true};


var notMultiline={
onSubmitEditing:true};


if(Platform.OS === 'android'){
var AndroidTextInput=requireNativeComponent('AndroidTextInput',null);}else 
if(Platform.OS === 'ios'){
var RCTTextView=requireNativeComponent('RCTTextView',null);
var RCTTextField=requireNativeComponent('RCTTextField',null);}




































var TextInput=React.createClass({displayName:'TextInput',
propTypes:{








autoCapitalize:PropTypes.oneOf([
'none',
'sentences',
'words',
'characters']),




autoCorrect:PropTypes.bool,




autoFocus:PropTypes.bool,




textAlign:PropTypes.oneOf([
'start',
'center',
'end']),





textAlignVertical:PropTypes.oneOf([
'top',
'center',
'bottom']),




editable:PropTypes.bool,








keyboardType:PropTypes.oneOf([

'default',
'numeric',
'email-address',

'ascii-capable',
'numbers-and-punctuation',
'url',
'number-pad',
'phone-pad',
'name-phone-pad',
'decimal-pad',
'twitter',
'web-search']),





returnKeyType:PropTypes.oneOf([
'default',
'go',
'google',
'join',
'next',
'route',
'search',
'send',
'yahoo',
'done',
'emergency-call']),






maxLength:PropTypes.number,





numberOfLines:PropTypes.number,





enablesReturnKeyAutomatically:PropTypes.bool,




multiline:PropTypes.bool,



onBlur:PropTypes.func,



onFocus:PropTypes.func,



onChange:PropTypes.func,




onChangeText:PropTypes.func,



onEndEditing:PropTypes.func,



onSubmitEditing:PropTypes.func,



onLayout:PropTypes.func,



placeholder:PropTypes.string,



placeholderTextColor:PropTypes.string,




secureTextEntry:PropTypes.bool,





selectionState:PropTypes.instanceOf(DocumentSelectionState),









value:PropTypes.string,





defaultValue:PropTypes.string,




clearButtonMode:PropTypes.oneOf([
'never',
'while-editing',
'unless-editing',
'always']),





clearTextOnFocus:PropTypes.bool,




selectTextOnFocus:PropTypes.bool,



style:Text.propTypes.style,



testID:PropTypes.string,




underlineColorAndroid:PropTypes.string},






mixins:[NativeMethodsMixin,TimerMixin],

viewConfig:Platform.OS === 'ios'?RCTTextField.viewConfig:
Platform.OS === 'android'?AndroidTextInput.viewConfig:{},

isFocused:function(){
return TextInputState.currentlyFocusedField() === 
React.findNodeHandle(this.refs.input);},


getInitialState:function(){
return {
mostRecentEventCount:0};},



contextTypes:{
onFocusRequested:React.PropTypes.func,
focusEmitter:React.PropTypes.instanceOf(EventEmitter)},


_focusSubscription:undefined,

componentDidMount:function(){var _this=this;
if(!this.context.focusEmitter){
if(this.props.autoFocus){
this.requestAnimationFrame(this.focus);}

return;}

this._focusSubscription = this.context.focusEmitter.addListener(
'focus',
function(el){
if(_this === el){
_this.requestAnimationFrame(_this.focus);}else 
if(_this.isFocused()){
_this.blur();}});



if(this.props.autoFocus){
this.context.onFocusRequested(this);}},



componentWillUnmount:function(){
this._focusSubscription && this._focusSubscription.remove();
if(this.isFocused()){
this.blur();}},



getChildContext:function(){
return {isInAParentText:true};},


childContextTypes:{
isInAParentText:React.PropTypes.bool},


clear:function(){
this.setNativeProps({text:''});},


render:function(){
if(Platform.OS === 'ios'){
return this._renderIOS();}else 
if(Platform.OS === 'android'){
return this._renderAndroid();}},



_getText:function(){
return typeof this.props.value === 'string'?
this.props.value:
this.props.defaultValue;},


_renderIOS:function(){
var textContainer;

var props=Object.assign({},this.props);
props.style = [styles.input,this.props.style];
if(!props.multiline){
for(var propKey in onlyMultiline) {
if(props[propKey]){
throw new Error(
'TextInput prop `' + propKey + '` is only supported with multiline.');}}



textContainer = 
React.createElement(RCTTextField,_extends({
ref:'input'},
props,{
onFocus:this._onFocus,
onBlur:this._onBlur,
onChange:this._onChange,
onSelectionChangeShouldSetResponder:function(){return true;},
text:this._getText(),
mostRecentEventCount:this.state.mostRecentEventCount}));}else 

{
for(var propKey in notMultiline) {
if(props[propKey]){
throw new Error(
'TextInput prop `' + propKey + '` cannot be used with multiline.');}}




var children=props.children;
var childCount=0;
ReactChildren.forEach(children,function(){return ++childCount;});
invariant(
!(props.value && childCount),
'Cannot specify both value and children.');

if(childCount > 1){
children = React.createElement(Text,null,children);}

if(props.inputView){
children = [children,props.inputView];}

textContainer = 
React.createElement(RCTTextView,_extends({
ref:'input'},
props,{
children:children,
mostRecentEventCount:this.state.mostRecentEventCount,
onFocus:this._onFocus,
onBlur:this._onBlur,
onChange:this._onChange,
onSelectionChange:this._onSelectionChange,
onTextInput:this._onTextInput,
onSelectionChangeShouldSetResponder:emptyFunction.thatReturnsTrue,
text:this._getText()}));}



return (
React.createElement(TouchableWithoutFeedback,{
onPress:this._onPress,
rejectResponderTermination:true,
testID:props.testID},
textContainer));},




_renderAndroid:function(){
var autoCapitalize=RCTUIManager.UIText.AutocapitalizationType[this.props.autoCapitalize];
var textAlign=
RCTUIManager.AndroidTextInput.Constants.TextAlign[this.props.textAlign];
var textAlignVertical=
RCTUIManager.AndroidTextInput.Constants.TextAlignVertical[this.props.textAlignVertical];
var children=this.props.children;
var childCount=0;
ReactChildren.forEach(children,function(){return ++childCount;});
invariant(
!(this.props.value && childCount),
'Cannot specify both value and children.');

if(childCount > 1){
children = React.createElement(Text,null,children);}

var textContainer=
React.createElement(AndroidTextInput,{
ref:'input',
style:[this.props.style],
autoCapitalize:autoCapitalize,
autoCorrect:this.props.autoCorrect,
textAlign:textAlign,
textAlignVertical:textAlignVertical,
keyboardType:this.props.keyboardType,
mostRecentEventCount:this.state.mostRecentEventCount,
multiline:this.props.multiline,
numberOfLines:this.props.numberOfLines,
onFocus:this._onFocus,
onBlur:this._onBlur,
onChange:this._onChange,
onTextInput:this._onTextInput,
onEndEditing:this.props.onEndEditing,
onSubmitEditing:this.props.onSubmitEditing,
onLayout:this.props.onLayout,
password:this.props.password || this.props.secureTextEntry,
placeholder:this.props.placeholder,
placeholderTextColor:this.props.placeholderTextColor,
text:this._getText(),
underlineColorAndroid:this.props.underlineColorAndroid,
children:children,
editable:this.props.editable});


return (
React.createElement(TouchableWithoutFeedback,{
onPress:this._onPress,
testID:this.props.testID},
textContainer));},




_onFocus:function(event){
if(this.props.onFocus){
this.props.onFocus(event);}},



_onPress:function(event){
if(this.props.editable || this.props.editable === undefined){
this.focus();}},



_onChange:function(event){var _this2=this;
if(Platform.OS === 'android'){

this.refs.input.setNativeProps({
mostRecentEventCount:event.nativeEvent.eventCount});}


var text=event.nativeEvent.text;
var eventCount=event.nativeEvent.eventCount;
this.props.onChange && this.props.onChange(event);
this.props.onChangeText && this.props.onChangeText(text);
this.setState({mostRecentEventCount:eventCount},function(){



if(text !== _this2.props.value && typeof _this2.props.value === 'string'){
_this2.refs.input.setNativeProps({
text:_this2.props.value});}});},





_onBlur:function(event){
this.blur();
if(this.props.onBlur){
this.props.onBlur(event);}},



_onSelectionChange:function(event){
if(this.props.selectionState){
var selection=event.nativeEvent.selection;
this.props.selectionState.update(selection.start,selection.end);}

this.props.onSelectionChange && this.props.onSelectionChange(event);},


_onTextInput:function(event){
this.props.onTextInput && this.props.onTextInput(event);}});



var styles=StyleSheet.create({
input:{
alignSelf:'stretch'}});



module.exports = TextInput;
});
__d('DocumentSelectionState',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}

















var mixInEventEmitter=require('mixInEventEmitter');var 










DocumentSelectionState=(function(){




function DocumentSelectionState(anchor,focus){_classCallCheck(this,DocumentSelectionState);
this._anchorOffset = anchor;
this._focusOffset = focus;
this._hasFocus = false;}_createClass(DocumentSelectionState,[{key:'update',value:









function update(anchor,focus){
if(this._anchorOffset !== anchor || this._focusOffset !== focus){
this._anchorOffset = anchor;
this._focusOffset = focus;
this.emit('update');}}},{key:'constrainLength',value:









function constrainLength(maxLength){
this.update(
Math.min(this._anchorOffset,maxLength),
Math.min(this._focusOffset,maxLength));}},{key:'focus',value:



function focus(){
if(!this._hasFocus){
this._hasFocus = true;
this.emit('focus');}}},{key:'blur',value:



function blur(){
if(this._hasFocus){
this._hasFocus = false;
this.emit('blur');}}},{key:'hasFocus',value:






function hasFocus(){
return this._hasFocus;}},{key:'isCollapsed',value:





function isCollapsed(){
return this._anchorOffset === this._focusOffset;}},{key:'isBackward',value:





function isBackward(){
return this._anchorOffset > this._focusOffset;}},{key:'getAnchorOffset',value:





function getAnchorOffset(){
return this._hasFocus?this._anchorOffset:null;}},{key:'getFocusOffset',value:





function getFocusOffset(){
return this._hasFocus?this._focusOffset:null;}},{key:'getStartOffset',value:





function getStartOffset(){
return (
this._hasFocus?Math.min(this._anchorOffset,this._focusOffset):null);}},{key:'getEndOffset',value:






function getEndOffset(){
return (
this._hasFocus?Math.max(this._anchorOffset,this._focusOffset):null);}},{key:'overlaps',value:








function overlaps(start,end){
return (
this.hasFocus() && 
this.getStartOffset() <= end && start <= this.getEndOffset());}}]);return DocumentSelectionState;})();




mixInEventEmitter(DocumentSelectionState,{
'blur':true,
'focus':true,
'update':true});


module.exports = DocumentSelectionState;
});
__d('mixInEventEmitter',function(global, require, module, exports) {  var 
















EventEmitter=require('EventEmitter');
var EventEmitterWithHolding=require('EventEmitterWithHolding');
var EventHolder=require('EventHolder');
var EventValidator=require('EventValidator');

var copyProperties=require('copyProperties');
var invariant=require('invariant');
var keyOf=require('keyOf');

var TYPES_KEY=keyOf({__types:true});






















function mixInEventEmitter(klass,types){
invariant(types,'Must supply set of valid event types');
invariant(!this.__eventEmitter,'An active emitter is already mixed in');



var target=klass.prototype || klass;

var ctor=klass.constructor;
if(ctor){
invariant(
ctor === Object || ctor === Function,
'Mix EventEmitter into a class, not an instance');}





if(target.hasOwnProperty(TYPES_KEY)){
copyProperties(target.__types,types);}else 
if(target.__types){
target.__types = copyProperties({},target.__types,types);}else 
{
target.__types = types;}

copyProperties(target,EventEmitterMixin);}


var EventEmitterMixin={
emit:function(eventType,a,b,c,d,e,_){
return this.__getEventEmitter().emit(eventType,a,b,c,d,e,_);},


emitAndHold:function(eventType,a,b,c,d,e,_){
return this.__getEventEmitter().emitAndHold(eventType,a,b,c,d,e,_);},


addListener:function(eventType,listener,context){
return this.__getEventEmitter().addListener(eventType,listener,context);},


once:function(eventType,listener,context){
return this.__getEventEmitter().once(eventType,listener,context);},


addRetroactiveListener:function(eventType,listener,context){
return this.__getEventEmitter().addRetroactiveListener(
eventType,
listener,
context);},



addListenerMap:function(listenerMap,context){
return this.__getEventEmitter().addListenerMap(listenerMap,context);},


addRetroactiveListenerMap:function(listenerMap,context){
return this.__getEventEmitter().addListenerMap(listenerMap,context);},


removeAllListeners:function(){
this.__getEventEmitter().removeAllListeners();},


removeCurrentListener:function(){
this.__getEventEmitter().removeCurrentListener();},


releaseHeldEventType:function(eventType){
this.__getEventEmitter().releaseHeldEventType(eventType);},


__getEventEmitter:function(){
if(!this.__eventEmitter){
var emitter=new EventEmitter();
emitter = EventValidator.addValidation(emitter,this.__types);

var holder=new EventHolder();
this.__eventEmitter = new EventEmitterWithHolding(emitter,holder);}

return this.__eventEmitter;}};



module.exports = mixInEventEmitter;
});
__d('EventEmitterWithHolding',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var 






























EventEmitterWithHolding=(function(){







function EventEmitterWithHolding(emitter,holder){_classCallCheck(this,EventEmitterWithHolding);
this._emitter = emitter;
this._eventHolder = holder;
this._currentEventToken = null;
this._emittingHeldEvents = false;}_createClass(EventEmitterWithHolding,[{key:'addListener',value:





function addListener(eventType,listener,context){
return this._emitter.addListener(eventType,listener,context);}},{key:'once',value:





function once(eventType,listener,context){
return this._emitter.once(eventType,listener,context);}},{key:'addRetroactiveListener',value:






















function addRetroactiveListener(
eventType,listener,context){
var subscription=this._emitter.addListener(eventType,listener,context);

this._emittingHeldEvents = true;
this._eventHolder.emitToListener(eventType,listener,context);
this._emittingHeldEvents = false;

return subscription;}},{key:'removeAllListeners',value:





function removeAllListeners(eventType){
this._emitter.removeAllListeners(eventType);}},{key:'removeCurrentListener',value:





function removeCurrentListener(){
this._emitter.removeCurrentListener();}},{key:'listeners',value:





function listeners(eventType){
return this._emitter.listeners(eventType);}},{key:'emit',value:





function emit(eventType,a,b,c,d,e,_){
this._emitter.emit(eventType,a,b,c,d,e,_);}},{key:'emitAndHold',value:

















function emitAndHold(eventType,a,b,c,d,e,_){
this._currentEventToken = this._eventHolder.holdEvent(
eventType,
a,b,c,d,e,_);

this._emitter.emit(eventType,a,b,c,d,e,_);
this._currentEventToken = null;}},{key:'releaseCurrentEvent',value:





function releaseCurrentEvent(){
if(this._currentEventToken !== null){
this._eventHolder.releaseEvent(this._currentEventToken);}else 
if(this._emittingHeldEvents){
this._eventHolder.releaseCurrentEvent();}}},{key:'releaseHeldEventType',value:







function releaseHeldEventType(eventType){
this._eventHolder.releaseEventType(eventType);}}]);return EventEmitterWithHolding;})();



module.exports = EventEmitterWithHolding;
});
__d('EventHolder',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}


















var invariant=require('invariant');var 

EventHolder=(function(){
function EventHolder(){_classCallCheck(this,EventHolder);
this._heldEvents = {};
this._currentEventKey = null;}_createClass(EventHolder,[{key:'holdEvent',value:























function holdEvent(eventType,a,b,c,d,e,_){
this._heldEvents[eventType] = this._heldEvents[eventType] || [];
var eventsOfType=this._heldEvents[eventType];
var key={
eventType:eventType,
index:eventsOfType.length};

eventsOfType.push([a,b,c,d,e,_]);
return key;}},{key:'emitToListener',value:










function emitToListener(eventType,listener,context){var _this=this;
var eventsOfType=this._heldEvents[eventType];
if(!eventsOfType){
return;}

var origEventKey=this._currentEventKey;
eventsOfType.forEach(function(eventHeld,index){
if(!eventHeld){
return;}

_this._currentEventKey = {
eventType:eventType,
index:index};

listener.apply(context,eventHeld);});

this._currentEventKey = origEventKey;}},{key:'releaseCurrentEvent',value:










function releaseCurrentEvent(){
invariant(
this._currentEventKey !== null,
'Not in an emitting cycle; there is no current event');

this.releaseEvent(this._currentEventKey);}},{key:'releaseEvent',value:








function releaseEvent(token){
delete this._heldEvents[token.eventType][token.index];}},{key:'releaseEventType',value:







function releaseEventType(type){
this._heldEvents[type] = [];}}]);return EventHolder;})();



module.exports = EventHolder;
});
__d('EventValidator',function(global, require, module, exports) {  'use strict';

















var copyProperties=require('copyProperties');










var EventValidator={










addValidation:function(emitter,types){
var eventTypes=Object.keys(types);
var emitterWithValidation=Object.create(emitter);

copyProperties(emitterWithValidation,{
emit:function emit(type,a,b,c,d,e,_){
assertAllowsEventType(type,eventTypes);
return emitter.emit.call(this,type,a,b,c,d,e,_);}});



return emitterWithValidation;}};



function assertAllowsEventType(type,allowedTypes){
if(allowedTypes.indexOf(type) === -1){
throw new TypeError(errorMessageFor(type,allowedTypes));}}



function errorMessageFor(type,allowedTypes){
var message='Unknown event type "' + type + '". ';
if(__DEV__){
message += recommendationFor(type,allowedTypes);}

message += 'Known event types: ' + allowedTypes.join(', ') + '.';
return message;}



if(__DEV__){
var recommendationFor=function(type,allowedTypes){
var closestTypeRecommendation=closestTypeFor(type,allowedTypes);
if(isCloseEnough(closestTypeRecommendation,type)){
return 'Did you mean "' + closestTypeRecommendation.type + '"? ';}else 
{
return '';}};



var closestTypeFor=function(type,allowedTypes){
var typeRecommendations=allowedTypes.map(
typeRecommendationFor.bind(this,type));

return typeRecommendations.sort(recommendationSort)[0];};


var typeRecommendationFor=function(type,recomendedType){
return {
type:recomendedType,
distance:damerauLevenshteinDistance(type,recomendedType)};};



var recommendationSort=function(recommendationA,recommendationB){
if(recommendationA.distance < recommendationB.distance){
return -1;}else 
if(recommendationA.distance > recommendationB.distance){
return 1;}else 
{
return 0;}};



var isCloseEnough=function(closestType,actualType){
return closestType.distance / actualType.length < 0.334;};


var damerauLevenshteinDistance=function(a,b){
var i,j;
var d=[];

for(i = 0;i <= a.length;i++) {
d[i] = [i];}


for(j = 1;j <= b.length;j++) {
d[0][j] = j;}


for(i = 1;i <= a.length;i++) {
for(j = 1;j <= b.length;j++) {
var cost=a.charAt(i - 1) === b.charAt(j - 1)?0:1;

d[i][j] = Math.min(
d[i - 1][j] + 1,
d[i][j - 1] + 1,
d[i - 1][j - 1] + cost);


if(i > 1 && j > 1 && 
a.charAt(i - 1) == b.charAt(j - 2) && 
a.charAt(i - 2) == b.charAt(j - 1)){
d[i][j] = Math.min(d[i][j],d[i - 2][j - 2] + cost);}}}




return d[a.length][b.length];};}



module.exports = EventValidator;
});
__d('copyProperties',function(global, require, module, exports) {  function 























copyProperties(obj,a,b,c,d,e,f){
obj = obj || {};

if(__DEV__){
if(f){
throw new Error('Too many arguments passed to copyProperties');}}



var args=[a,b,c,d,e];
var ii=0,v;
while(args[ii]) {
v = args[ii++];
for(var k in v) {
obj[k] = v[k];}




if(v.hasOwnProperty && v.hasOwnProperty('toString') && 
typeof v.toString != 'undefined' && obj.toString !== v.toString){
obj.toString = v.toString;}}



return obj;}


module.exports = copyProperties;
});
__d('TouchableWithoutFeedback',function(global, require, module, exports) {  'use strict';












var React=require('React');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');
var Touchable=require('Touchable');
var View=require('View');
var ensurePositiveDelayProps=require('ensurePositiveDelayProps');
var onlyChild=require('onlyChild');









var PRESS_RECT_OFFSET={top:20,left:20,right:20,bottom:30};






var TouchableWithoutFeedback=React.createClass({displayName:'TouchableWithoutFeedback',
mixins:[TimerMixin,Touchable.Mixin],

propTypes:{
accessible:React.PropTypes.bool,
accessibilityComponentType:React.PropTypes.oneOf(View.AccessibilityComponentType),
accessibilityTraits:React.PropTypes.oneOfType([
React.PropTypes.oneOf(View.AccessibilityTraits),
React.PropTypes.arrayOf(React.PropTypes.oneOf(View.AccessibilityTraits))]),





onPress:React.PropTypes.func,
onPressIn:React.PropTypes.func,
onPressOut:React.PropTypes.func,





onLayout:React.PropTypes.func,

onLongPress:React.PropTypes.func,




delayPressIn:React.PropTypes.number,



delayPressOut:React.PropTypes.number,



delayLongPress:React.PropTypes.number},


getInitialState:function(){
return this.touchableGetInitialState();},


componentDidMount:function(){
ensurePositiveDelayProps(this.props);},


componentWillReceiveProps:function(nextProps){
ensurePositiveDelayProps(nextProps);},






touchableHandlePress:function(e){
this.props.onPress && this.props.onPress(e);},


touchableHandleActivePressIn:function(e){
this.props.onPressIn && this.props.onPressIn(e);},


touchableHandleActivePressOut:function(e){
this.props.onPressOut && this.props.onPressOut(e);},


touchableHandleLongPress:function(e){
this.props.onLongPress && this.props.onLongPress(e);},


touchableGetPressRectOffset:function(){
return PRESS_RECT_OFFSET;},


touchableGetHighlightDelayMS:function(){
return this.props.delayPressIn || 0;},


touchableGetLongPressDelayMS:function(){
return this.props.delayLongPress === 0?0:
this.props.delayLongPress || 500;},


touchableGetPressOutDelayMS:function(){
return this.props.delayPressOut || 0;},


render:function(){

return React.cloneElement(onlyChild(this.props.children),{
accessible:this.props.accessible !== false,
accessibilityComponentType:this.props.accessibilityComponentType,
accessibilityTraits:this.props.accessibilityTraits,
testID:this.props.testID,
onLayout:this.props.onLayout,
onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,
onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,
onResponderGrant:this.touchableHandleResponderGrant,
onResponderMove:this.touchableHandleResponderMove,
onResponderRelease:this.touchableHandleResponderRelease,
onResponderTerminate:this.touchableHandleResponderTerminate});}});




module.exports = TouchableWithoutFeedback;
});
__d('ensurePositiveDelayProps',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');

var ensurePositiveDelayProps=function(props){
invariant(
!(props.delayPressIn < 0 || props.delayPressOut < 0 || 
props.delayLongPress < 0),
'Touchable components cannot have negative delay properties');};



module.exports = ensurePositiveDelayProps;
});
__d('ToastAndroid',function(global, require, module, exports) {  'use strict';











var warning=require('warning');

var ToastAndroid={

show:function(
message,
duration)
{
warning(false,'Cannot use ToastAndroid on iOS.');}};




module.exports = ToastAndroid;
});
__d('ToolbarAndroid',function(global, require, module, exports) {  'use strict';











module.exports = require('UnimplementedView');
});
__d('TouchableHighlight',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};













var NativeMethodsMixin=require('NativeMethodsMixin');
var React=require('React');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var StyleSheet=require('StyleSheet');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');
var Touchable=require('Touchable');
var TouchableWithoutFeedback=require('TouchableWithoutFeedback');
var View=require('View');

var cloneWithProps=require('cloneWithProps');
var ensureComponentIsNative=require('ensureComponentIsNative');
var ensurePositiveDelayProps=require('ensurePositiveDelayProps');
var keyOf=require('keyOf');
var merge=require('merge');
var onlyChild=require('onlyChild');



var DEFAULT_PROPS={
activeOpacity:0.8,
underlayColor:'black'};





























var TouchableHighlight=React.createClass({displayName:'TouchableHighlight',
propTypes:_extends({},
TouchableWithoutFeedback.propTypes,{




activeOpacity:React.PropTypes.number,




underlayColor:React.PropTypes.string,
style:View.propTypes.style,



onShowUnderlay:React.PropTypes.func,



onHideUnderlay:React.PropTypes.func}),


mixins:[NativeMethodsMixin,TimerMixin,Touchable.Mixin],

getDefaultProps:function(){return DEFAULT_PROPS;},


computeSyntheticState:function(props){
return {
activeProps:{
style:{
opacity:props.activeOpacity}},


activeUnderlayProps:{
style:{
backgroundColor:props.underlayColor}},


underlayStyle:[
INACTIVE_UNDERLAY_PROPS.style,
props.style]};},




getInitialState:function(){
return merge(
this.touchableGetInitialState(),this.computeSyntheticState(this.props));},



componentDidMount:function(){
ensurePositiveDelayProps(this.props);
ensureComponentIsNative(this.refs[CHILD_REF]);},


componentDidUpdate:function(){
ensureComponentIsNative(this.refs[CHILD_REF]);},


componentWillReceiveProps:function(nextProps){
ensurePositiveDelayProps(nextProps);
if(nextProps.activeOpacity !== this.props.activeOpacity || 
nextProps.underlayColor !== this.props.underlayColor || 
nextProps.style !== this.props.style){
this.setState(this.computeSyntheticState(nextProps));}},



viewConfig:{
uiViewClassName:'RCTView',
validAttributes:ReactNativeViewAttributes.RCTView},






touchableHandleActivePressIn:function(e){
this.clearTimeout(this._hideTimeout);
this._hideTimeout = null;
this._showUnderlay();
this.props.onPressIn && this.props.onPressIn(e);},


touchableHandleActivePressOut:function(e){
if(!this._hideTimeout){
this._hideUnderlay();}

this.props.onPressOut && this.props.onPressOut(e);},


touchableHandlePress:function(e){
this.clearTimeout(this._hideTimeout);
this._showUnderlay();
this._hideTimeout = this.setTimeout(this._hideUnderlay,
this.props.delayPressOut || 100);
this.props.onPress && this.props.onPress(e);},


touchableHandleLongPress:function(e){
this.props.onLongPress && this.props.onLongPress(e);},


touchableGetPressRectOffset:function(){
return PRESS_RECT_OFFSET;},


touchableGetHighlightDelayMS:function(){
return this.props.delayPressIn;},


touchableGetLongPressDelayMS:function(){
return this.props.delayLongPress;},


touchableGetPressOutDelayMS:function(){
return this.props.delayPressOut;},


_showUnderlay:function(){
if(!this.isMounted()){
return;}


this.refs[UNDERLAY_REF].setNativeProps(this.state.activeUnderlayProps);
this.refs[CHILD_REF].setNativeProps(this.state.activeProps);
this.props.onShowUnderlay && this.props.onShowUnderlay();},


_hideUnderlay:function(){
this.clearTimeout(this._hideTimeout);
this._hideTimeout = null;
if(this.refs[UNDERLAY_REF]){
this.refs[CHILD_REF].setNativeProps(INACTIVE_CHILD_PROPS);
this.refs[UNDERLAY_REF].setNativeProps(_extends({},
INACTIVE_UNDERLAY_PROPS,{
style:this.state.underlayStyle}));

this.props.onHideUnderlay && this.props.onHideUnderlay();}},



render:function(){
return (
React.createElement(View,{
accessible:true,
accessibilityComponentType:this.props.accessibilityComponentType,
accessibilityTraits:this.props.accessibilityTraits,
ref:UNDERLAY_REF,
style:this.state.underlayStyle,
onLayout:this.props.onLayout,
onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,
onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,
onResponderGrant:this.touchableHandleResponderGrant,
onResponderMove:this.touchableHandleResponderMove,
onResponderRelease:this.touchableHandleResponderRelease,
onResponderTerminate:this.touchableHandleResponderTerminate,
testID:this.props.testID},
cloneWithProps(
onlyChild(this.props.children),
{
ref:CHILD_REF})));}});







var PRESS_RECT_OFFSET={top:20,left:20,right:20,bottom:30};
var CHILD_REF=keyOf({childRef:null});
var UNDERLAY_REF=keyOf({underlayRef:null});
var INACTIVE_CHILD_PROPS={
style:StyleSheet.create({x:{opacity:1.0}}).x};

var INACTIVE_UNDERLAY_PROPS={
style:StyleSheet.create({x:{backgroundColor:'transparent'}}).x};


module.exports = TouchableHighlight;
});
__d('cloneWithProps',function(global, require, module, exports) {  'use strict';













var ReactElement=require('ReactElement');
var ReactPropTransferer=require('ReactPropTransferer');

var keyOf=require('keyOf');
var warning=require('warning');

var CHILDREN_PROP=keyOf({children:null});










function cloneWithProps(child,props){
if(__DEV__){
warning(
!child.ref,
'You are calling cloneWithProps() on a child with a ref. This is ' + 
'dangerous because you\'re creating a new child which will not be ' + 
'added as a ref to its parent.');}



var newProps=ReactPropTransferer.mergeProps(props,child.props);


if(!newProps.hasOwnProperty(CHILDREN_PROP) && 
child.props.hasOwnProperty(CHILDREN_PROP)){
newProps.children = child.props.children;}




return ReactElement.createElement(child.type,newProps);}


module.exports = cloneWithProps;
});
__d('ReactPropTransferer',function(global, require, module, exports) {  'use strict';












var assign=require('Object.assign');
var emptyFunction=require('emptyFunction');
var joinClasses=require('joinClasses');








function createTransferStrategy(mergeStrategy){
return function(props,key,value){
if(!props.hasOwnProperty(key)){
props[key] = value;}else 
{
props[key] = mergeStrategy(props[key],value);}};}




var transferStrategyMerge=createTransferStrategy(function(a,b){



return assign({},b,a);});







var TransferStrategies={



children:emptyFunction,



className:createTransferStrategy(joinClasses),



style:transferStrategyMerge};










function transferInto(props,newProps){
for(var thisKey in newProps) {
if(!newProps.hasOwnProperty(thisKey)){
continue;}


var transferStrategy=TransferStrategies[thisKey];

if(transferStrategy && TransferStrategies.hasOwnProperty(thisKey)){
transferStrategy(props,thisKey,newProps[thisKey]);}else 
if(!props.hasOwnProperty(thisKey)){
props[thisKey] = newProps[thisKey];}}


return props;}








var ReactPropTransferer={








mergeProps:function(oldProps,newProps){
return transferInto(assign({},oldProps),newProps);}};




module.exports = ReactPropTransferer;
});
__d('joinClasses',function(global, require, module, exports) {  'use strict';




















function joinClasses(className){
if(!className){
className = '';}

var nextClass;
var argLength=arguments.length;
if(argLength > 1){
for(var ii=1;ii < argLength;ii++) {
nextClass = arguments[ii];
if(nextClass){
className = (className?className + ' ':'') + nextClass;}}}



return className;}


module.exports = joinClasses;
});
__d('ensureComponentIsNative',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');

var ensureComponentIsNative=function(component){
invariant(
component && typeof component.setNativeProps === 'function',
'Touchable child must either be native or forward setNativeProps to a ' + 
'native component');};



module.exports = ensureComponentIsNative;
});
__d('TouchableNativeFeedback',function(global, require, module, exports) {  'use strict';












var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');

var DummyTouchableNativeFeedback=React.createClass({displayName:'DummyTouchableNativeFeedback',
render:function(){
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(Text,{style:styles.info},'TouchableNativeFeedback is not supported on this platform!')));}});





var styles=StyleSheet.create({
container:{
height:100,
width:300,
backgroundColor:'#ffbcbc',
borderWidth:1,
borderColor:'red',
alignItems:'center',
justifyContent:'center',
margin:10},

info:{
color:'#333333',
margin:20}});



module.exports = DummyTouchableNativeFeedback;
});
__d('TouchableOpacity',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};













var Animated=require('Animated');
var NativeMethodsMixin=require('NativeMethodsMixin');
var React=require('React');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');
var Touchable=require('Touchable');
var TouchableWithoutFeedback=require('TouchableWithoutFeedback');

var ensurePositiveDelayProps=require('ensurePositiveDelayProps');
var flattenStyle=require('flattenStyle');
var keyOf=require('keyOf');

























var TouchableOpacity=React.createClass({displayName:'TouchableOpacity',
mixins:[TimerMixin,Touchable.Mixin,NativeMethodsMixin],

propTypes:_extends({},
TouchableWithoutFeedback.propTypes,{




activeOpacity:React.PropTypes.number}),


getDefaultProps:function(){
return {
activeOpacity:0.2};},



getInitialState:function(){
return _extends({},
this.touchableGetInitialState(),{
anim:new Animated.Value(1)});},



componentDidMount:function(){
ensurePositiveDelayProps(this.props);},


componentWillReceiveProps:function(nextProps){
ensurePositiveDelayProps(nextProps);},


setOpacityTo:function(value){
Animated.timing(
this.state.anim,
{toValue:value,duration:150}).
start();},






touchableHandleActivePressIn:function(e){
this.clearTimeout(this._hideTimeout);
this._hideTimeout = null;
this._opacityActive();
this.props.onPressIn && this.props.onPressIn(e);},


touchableHandleActivePressOut:function(e){
if(!this._hideTimeout){
this._opacityInactive();}

this.props.onPressOut && this.props.onPressOut(e);},


touchableHandlePress:function(e){
this.clearTimeout(this._hideTimeout);
this._opacityActive();
this._hideTimeout = this.setTimeout(
this._opacityInactive,
this.props.delayPressOut || 100);

this.props.onPress && this.props.onPress(e);},


touchableHandleLongPress:function(e){
this.props.onLongPress && this.props.onLongPress(e);},


touchableGetPressRectOffset:function(){
return PRESS_RECT_OFFSET;},


touchableGetHighlightDelayMS:function(){
return this.props.delayPressIn || 0;},


touchableGetLongPressDelayMS:function(){
return this.props.delayLongPress === 0?0:
this.props.delayLongPress || 500;},


touchableGetPressOutDelayMS:function(){
return this.props.delayPressOut;},


_opacityActive:function(){
this.setOpacityTo(this.props.activeOpacity);},


_opacityInactive:function(){
this.clearTimeout(this._hideTimeout);
this._hideTimeout = null;
var childStyle=flattenStyle(this.props.style) || {};
this.setOpacityTo(
childStyle.opacity === undefined?1:childStyle.opacity);},



render:function(){
return (
React.createElement(Animated.View,{
accessible:true,
accessibilityComponentType:this.props.accessibilityComponentType,
accessibilityTraits:this.props.accessibilityTraits,
style:[this.props.style,{opacity:this.state.anim}],
testID:this.props.testID,
onLayout:this.props.onLayout,
onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,
onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,
onResponderGrant:this.touchableHandleResponderGrant,
onResponderMove:this.touchableHandleResponderMove,
onResponderRelease:this.touchableHandleResponderRelease,
onResponderTerminate:this.touchableHandleResponderTerminate},
this.props.children));}});











var PRESS_RECT_OFFSET={top:20,left:20,right:20,bottom:30};


module.exports = TouchableOpacity;
});
__d('Animated',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var AnimatedImplementation=require('AnimatedImplementation');
var Image=require('Image');
var Text=require('Text');
var View=require('View');

module.exports = _extends({},
AnimatedImplementation,{
View:AnimatedImplementation.createAnimatedComponent(View),
Text:AnimatedImplementation.createAnimatedComponent(Text),
Image:AnimatedImplementation.createAnimatedComponent(Image)});
});
__d('AnimatedImplementation',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}










'use strict';

var Easing=require('Easing');
var InteractionManager=require('InteractionManager');
var Interpolation=require('Interpolation');
var React=require('React');
var Set=require('Set');
var SpringConfig=require('SpringConfig');
var ViewStylePropTypes=require('ViewStylePropTypes');

var flattenStyle=require('flattenStyle');
var invariant=require('invariant');
var requestAnimationFrame=require('requestAnimationFrame');var 








Animated=(function(){function Animated(){_classCallCheck(this,Animated);}_createClass(Animated,[{key:'__attach',value:
function __attach(){}},{key:'__detach',value:
function __detach(){}},{key:'__getValue',value:
function __getValue(){}},{key:'__getAnimatedValue',value:
function __getAnimatedValue(){return this.__getValue();}},{key:'__addChild',value:
function __addChild(child){}},{key:'__removeChild',value:
function __removeChild(child){}},{key:'__getChildren',value:
function __getChildren(){return [];}}]);return Animated;})();var 









Animation=(function(){function Animation(){_classCallCheck(this,Animation);}_createClass(Animation,[{key:'start',value:



function start(
fromValue,
onUpdate,
onEnd,
previousAnimation)
{}},{key:'stop',value:
function stop(){}},{key:'__debouncedOnEnd',value:

function __debouncedOnEnd(result){
var onEnd=this.__onEnd;
this.__onEnd = null;
onEnd && onEnd(result);}}]);return Animation;})();var 



AnimatedWithChildren=(function(_Animated){_inherits(AnimatedWithChildren,_Animated);


function AnimatedWithChildren(){_classCallCheck(this,AnimatedWithChildren);
_get(Object.getPrototypeOf(AnimatedWithChildren.prototype),'constructor',this).call(this);
this._children = [];}_createClass(AnimatedWithChildren,[{key:'__addChild',value:


function __addChild(child){
if(this._children.length === 0){
this.__attach();}

this._children.push(child);}},{key:'__removeChild',value:


function __removeChild(child){
var index=this._children.indexOf(child);
if(index === -1){
console.warn('Trying to remove a child that doesn\'t exist');
return;}

this._children.splice(index,1);
if(this._children.length === 0){
this.__detach();}}},{key:'__getChildren',value:



function __getChildren(){
return this._children;}}]);return AnimatedWithChildren;})(Animated);

























function _flush(rootNode){
var animatedStyles=new Set();
function findAnimatedStyles(node){
if(typeof node.update === 'function'){
animatedStyles.add(node);}else 
{
node.__getChildren().forEach(findAnimatedStyles);}}


findAnimatedStyles(rootNode);
animatedStyles.forEach(function(animatedStyle){return animatedStyle.update();});}
















var easeInOut=Easing.inOut(Easing.ease);var 

TimingAnimation=(function(_Animation){_inherits(TimingAnimation,_Animation);










function TimingAnimation(
config)
{_classCallCheck(this,TimingAnimation);
_get(Object.getPrototypeOf(TimingAnimation.prototype),'constructor',this).call(this);
this._toValue = config.toValue;
this._easing = config.easing || easeInOut;
this._duration = config.duration !== undefined?config.duration:500;
this._delay = config.delay || 0;
this.__isInteraction = config.isInteraction !== undefined?config.isInteraction:true;}_createClass(TimingAnimation,[{key:'start',value:


function start(
fromValue,
onUpdate,
onEnd)
{var _this=this;
this.__active = true;
this._fromValue = fromValue;
this._onUpdate = onUpdate;
this.__onEnd = onEnd;

var start=function(){
if(_this._duration === 0){
_this._onUpdate(_this._toValue);
_this.__debouncedOnEnd({finished:true});}else 
{
_this._startTime = Date.now();
_this._animationFrame = requestAnimationFrame(_this.onUpdate.bind(_this));}};


if(this._delay){
this._timeout = setTimeout(start,this._delay);}else 
{
start();}}},{key:'onUpdate',value:



function onUpdate(){
var now=Date.now();
if(now >= this._startTime + this._duration){
if(this._duration === 0){
this._onUpdate(this._toValue);}else 
{
this._onUpdate(
this._fromValue + this._easing(1) * (this._toValue - this._fromValue));}


this.__debouncedOnEnd({finished:true});
return;}


this._onUpdate(
this._fromValue + 
this._easing((now - this._startTime) / this._duration) * (
this._toValue - this._fromValue));

if(this.__active){
this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));}}},{key:'stop',value:



function stop(){
this.__active = false;
clearTimeout(this._timeout);
window.cancelAnimationFrame(this._animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return TimingAnimation;})(Animation);var 













DecayAnimation=(function(_Animation2){_inherits(DecayAnimation,_Animation2);








function DecayAnimation(
config)
{_classCallCheck(this,DecayAnimation);
_get(Object.getPrototypeOf(DecayAnimation.prototype),'constructor',this).call(this);
this._deceleration = config.deceleration || 0.998;
this._velocity = config.velocity;
this.__isInteraction = config.isInteraction !== undefined?config.isInteraction:true;}_createClass(DecayAnimation,[{key:'start',value:


function start(
fromValue,
onUpdate,
onEnd)
{
this.__active = true;
this._lastValue = fromValue;
this._fromValue = fromValue;
this._onUpdate = onUpdate;
this.__onEnd = onEnd;
this._startTime = Date.now();
this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));}},{key:'onUpdate',value:


function onUpdate(){
var now=Date.now();

var value=this._fromValue + 
this._velocity / (1 - this._deceleration) * (
1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));

this._onUpdate(value);

if(Math.abs(this._lastValue - value) < 0.1){
this.__debouncedOnEnd({finished:true});
return;}


this._lastValue = value;
if(this.__active){
this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));}}},{key:'stop',value:



function stop(){
this.__active = false;
window.cancelAnimationFrame(this._animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return DecayAnimation;})(Animation);



























function withDefault(value,defaultValue){
if(value === undefined || value === null){
return defaultValue;}

return value;}var 


SpringAnimation=(function(_Animation3){_inherits(SpringAnimation,_Animation3);















function SpringAnimation(
config)
{_classCallCheck(this,SpringAnimation);
_get(Object.getPrototypeOf(SpringAnimation.prototype),'constructor',this).call(this);

this._overshootClamping = withDefault(config.overshootClamping,false);
this._restDisplacementThreshold = withDefault(config.restDisplacementThreshold,0.001);
this._restSpeedThreshold = withDefault(config.restSpeedThreshold,0.001);
this._initialVelocity = config.velocity;
this._lastVelocity = withDefault(config.velocity,0);
this._toValue = config.toValue;
this.__isInteraction = config.isInteraction !== undefined?config.isInteraction:true;

var springConfig;
if(config.bounciness !== undefined || config.speed !== undefined){
invariant(
config.tension === undefined && config.friction === undefined,
'You can only define bounciness/speed or tension/friction but not both');

springConfig = SpringConfig.fromBouncinessAndSpeed(
withDefault(config.bounciness,8),
withDefault(config.speed,12));}else 

{
springConfig = SpringConfig.fromOrigamiTensionAndFriction(
withDefault(config.tension,40),
withDefault(config.friction,7));}


this._tension = springConfig.tension;
this._friction = springConfig.friction;}_createClass(SpringAnimation,[{key:'start',value:


function start(
fromValue,
onUpdate,
onEnd,
previousAnimation)
{
this.__active = true;
this._startPosition = fromValue;
this._lastPosition = this._startPosition;

this._onUpdate = onUpdate;
this.__onEnd = onEnd;
this._lastTime = Date.now();

if(previousAnimation instanceof SpringAnimation){
var internalState=previousAnimation.getInternalState();
this._lastPosition = internalState.lastPosition;
this._lastVelocity = internalState.lastVelocity;
this._lastTime = internalState.lastTime;}

if(this._initialVelocity !== undefined && 
this._initialVelocity !== null){
this._lastVelocity = this._initialVelocity;}

this.onUpdate();}},{key:'getInternalState',value:


function getInternalState(){
return {
lastPosition:this._lastPosition,
lastVelocity:this._lastVelocity,
lastTime:this._lastTime};}},{key:'onUpdate',value:



function onUpdate(){
var position=this._lastPosition;
var velocity=this._lastVelocity;

var tempPosition=this._lastPosition;
var tempVelocity=this._lastVelocity;





var MAX_STEPS=64;
var now=Date.now();
if(now > this._lastTime + MAX_STEPS){
now = this._lastTime + MAX_STEPS;}





var TIMESTEP_MSEC=1;
var numSteps=Math.floor((now - this._lastTime) / TIMESTEP_MSEC);

for(var i=0;i < numSteps;++i) {

var step=TIMESTEP_MSEC / 1000;



var aVelocity=velocity;
var aAcceleration=this._tension * (this._toValue - tempPosition) - this._friction * tempVelocity;
var tempPosition=position + aVelocity * step / 2;
var tempVelocity=velocity + aAcceleration * step / 2;

var bVelocity=tempVelocity;
var bAcceleration=this._tension * (this._toValue - tempPosition) - this._friction * tempVelocity;
tempPosition = position + bVelocity * step / 2;
tempVelocity = velocity + bAcceleration * step / 2;

var cVelocity=tempVelocity;
var cAcceleration=this._tension * (this._toValue - tempPosition) - this._friction * tempVelocity;
tempPosition = position + cVelocity * step / 2;
tempVelocity = velocity + cAcceleration * step / 2;

var dVelocity=tempVelocity;
var dAcceleration=this._tension * (this._toValue - tempPosition) - this._friction * tempVelocity;
tempPosition = position + cVelocity * step / 2;
tempVelocity = velocity + cAcceleration * step / 2;

var dxdt=(aVelocity + 2 * (bVelocity + cVelocity) + dVelocity) / 6;
var dvdt=(aAcceleration + 2 * (bAcceleration + cAcceleration) + dAcceleration) / 6;

position += dxdt * step;
velocity += dvdt * step;}


this._lastTime = now;
this._lastPosition = position;
this._lastVelocity = velocity;

this._onUpdate(position);
if(!this.__active){
return;}



var isOvershooting=false;
if(this._overshootClamping && this._tension !== 0){
if(this._startPosition < this._toValue){
isOvershooting = position > this._toValue;}else 
{
isOvershooting = position < this._toValue;}}


var isVelocity=Math.abs(velocity) <= this._restSpeedThreshold;
var isDisplacement=true;
if(this._tension !== 0){
isDisplacement = Math.abs(this._toValue - position) <= this._restDisplacementThreshold;}


if(isOvershooting || isVelocity && isDisplacement){
if(this._tension !== 0){

this._onUpdate(this._toValue);}


this.__debouncedOnEnd({finished:true});
return;}

this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));}},{key:'stop',value:


function stop(){
this.__active = false;
window.cancelAnimationFrame(this._animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return SpringAnimation;})(Animation);





var _uniqueId=1;var 







AnimatedValue=(function(_AnimatedWithChildren){_inherits(AnimatedValue,_AnimatedWithChildren);






function AnimatedValue(value){_classCallCheck(this,AnimatedValue);
_get(Object.getPrototypeOf(AnimatedValue.prototype),'constructor',this).call(this);
this._value = value;
this._offset = 0;
this._animation = null;
this._listeners = {};}_createClass(AnimatedValue,[{key:'__detach',value:


function __detach(){
this.stopAnimation();}},{key:'__getValue',value:


function __getValue(){
return this._value + this._offset;}},{key:'setValue',value:






function setValue(value){
if(this._animation){
this._animation.stop();
this._animation = null;}

this._updateValue(value);}},{key:'setOffset',value:







function setOffset(offset){
this._offset = offset;}},{key:'flattenOffset',value:






function flattenOffset(){
this._value += this._offset;
this._offset = 0;}},{key:'addListener',value:







function addListener(callback){
var id=String(_uniqueId++);
this._listeners[id] = callback;
return id;}},{key:'removeListener',value:


function removeListener(id){
delete this._listeners[id];}},{key:'removeAllListeners',value:


function removeAllListeners(){
this._listeners = {};}},{key:'stopAnimation',value:







function stopAnimation(callback){
this.stopTracking();
this._animation && this._animation.stop();
this._animation = null;
callback && callback(this.__getValue());}},{key:'interpolate',value:






function interpolate(config){
return new AnimatedInterpolation(this,Interpolation.create(config));}},{key:'animate',value:






function animate(animation,callback){var _this2=this;
var handle=null;
if(animation.__isInteraction){
handle = InteractionManager.createInteractionHandle();}

var previousAnimation=this._animation;
this._animation && this._animation.stop();
this._animation = animation;
animation.start(
this._value,
function(value){
_this2._updateValue(value);},

function(result){
_this2._animation = null;
if(handle !== null){
InteractionManager.clearInteractionHandle(handle);}

callback && callback(result);},

previousAnimation);}},{key:'stopTracking',value:






function stopTracking(){
this._tracking && this._tracking.__detach();
this._tracking = null;}},{key:'track',value:





function track(tracking){
this.stopTracking();
this._tracking = tracking;}},{key:'_updateValue',value:


function _updateValue(value){
this._value = value;
_flush(this);
for(var key in this._listeners) {
this._listeners[key]({value:this.__getValue()});}}}]);return AnimatedValue;})(AnimatedWithChildren);var 












































AnimatedValueXY=(function(_AnimatedWithChildren2){_inherits(AnimatedValueXY,_AnimatedWithChildren2);




function AnimatedValueXY(valueIn){_classCallCheck(this,AnimatedValueXY);
_get(Object.getPrototypeOf(AnimatedValueXY.prototype),'constructor',this).call(this);
var value=valueIn || {x:0,y:0};
if(typeof value.x === 'number' && typeof value.y === 'number'){
this.x = new AnimatedValue(value.x);
this.y = new AnimatedValue(value.y);}else 
{
invariant(
value.x instanceof AnimatedValue && 
value.y instanceof AnimatedValue,
'AnimatedValueXY must be initalized with an object of numbers or ' + 
'AnimatedValues.');

this.x = value.x;
this.y = value.y;}

this._listeners = {};}_createClass(AnimatedValueXY,[{key:'setValue',value:


function setValue(value){
this.x.setValue(value.x);
this.y.setValue(value.y);}},{key:'setOffset',value:


function setOffset(offset){
this.x.setOffset(offset.x);
this.y.setOffset(offset.y);}},{key:'flattenOffset',value:


function flattenOffset(){
this.x.flattenOffset();
this.y.flattenOffset();}},{key:'__getValue',value:


function __getValue(){
return {
x:this.x.__getValue(),
y:this.y.__getValue()};}},{key:'stopAnimation',value:



function stopAnimation(callback){
this.x.stopAnimation();
this.y.stopAnimation();
callback && callback(this.__getValue());}},{key:'addListener',value:


function addListener(callback){var _this3=this;
var id=String(_uniqueId++);
var jointCallback=function(_ref){var number=_ref.value;
callback(_this3.__getValue());};

this._listeners[id] = {
x:this.x.addListener(jointCallback),
y:this.y.addListener(jointCallback)};

return id;}},{key:'removeListener',value:


function removeListener(id){
this.x.removeListener(this._listeners[id].x);
this.y.removeListener(this._listeners[id].y);
delete this._listeners[id];}},{key:'getLayout',value:









function getLayout(){
return {
left:this.x,
top:this.y};}},{key:'getTranslateTransform',value:












function getTranslateTransform(){
return [
{translateX:this.x},
{translateY:this.y}];}}]);return AnimatedValueXY;})(AnimatedWithChildren);var 




AnimatedInterpolation=(function(_AnimatedWithChildren3){_inherits(AnimatedInterpolation,_AnimatedWithChildren3);



function AnimatedInterpolation(parent,interpolation){_classCallCheck(this,AnimatedInterpolation);
_get(Object.getPrototypeOf(AnimatedInterpolation.prototype),'constructor',this).call(this);
this._parent = parent;
this._interpolation = interpolation;}_createClass(AnimatedInterpolation,[{key:'__getValue',value:


function __getValue(){
var parentValue=this._parent.__getValue();
invariant(
typeof parentValue === 'number',
'Cannot interpolate an input which is not a number.');

return this._interpolation(parentValue);}},{key:'interpolate',value:


function interpolate(config){
return new AnimatedInterpolation(this,Interpolation.create(config));}},{key:'__attach',value:


function __attach(){
this._parent.__addChild(this);}},{key:'__detach',value:


function __detach(){
this._parent.__removeChild(this);}}]);return AnimatedInterpolation;})(AnimatedWithChildren);var 



AnimatedTransform=(function(_AnimatedWithChildren4){_inherits(AnimatedTransform,_AnimatedWithChildren4);


function AnimatedTransform(transforms){_classCallCheck(this,AnimatedTransform);
_get(Object.getPrototypeOf(AnimatedTransform.prototype),'constructor',this).call(this);
this._transforms = transforms;}_createClass(AnimatedTransform,[{key:'__getValue',value:


function __getValue(){
return this._transforms.map(function(transform){
var result={};
for(var key in transform) {
var value=transform[key];
if(value instanceof Animated){
result[key] = value.__getValue();}else 
{
result[key] = value;}}


return result;});}},{key:'__getAnimatedValue',value:



function __getAnimatedValue(){
return this._transforms.map(function(transform){
var result={};
for(var key in transform) {
var value=transform[key];
if(value instanceof Animated){
result[key] = value.__getAnimatedValue();}else 
{

result[key] = value;}}


return result;});}},{key:'__attach',value:



function __attach(){var _this4=this;
this._transforms.forEach(function(transform){
for(var key in transform) {
var value=transform[key];
if(value instanceof Animated){
value.__addChild(_this4);}}});}},{key:'__detach',value:





function __detach(){var _this5=this;
this._transforms.forEach(function(transform){
for(var key in transform) {
var value=transform[key];
if(value instanceof Animated){
value.__removeChild(_this5);}}});}}]);return AnimatedTransform;})(AnimatedWithChildren);var 






AnimatedStyle=(function(_AnimatedWithChildren5){_inherits(AnimatedStyle,_AnimatedWithChildren5);


function AnimatedStyle(style){_classCallCheck(this,AnimatedStyle);
_get(Object.getPrototypeOf(AnimatedStyle.prototype),'constructor',this).call(this);
style = flattenStyle(style) || {};
if(style.transform){
style = _extends({},
style,{
transform:new AnimatedTransform(style.transform)});}


this._style = style;}_createClass(AnimatedStyle,[{key:'__getValue',value:


function __getValue(){
var style={};
for(var key in this._style) {
var value=this._style[key];
if(value instanceof Animated){
style[key] = value.__getValue();}else 
{
style[key] = value;}}


return style;}},{key:'__getAnimatedValue',value:


function __getAnimatedValue(){
var style={};
for(var key in this._style) {
var value=this._style[key];
if(value instanceof Animated){
style[key] = value.__getAnimatedValue();}}


return style;}},{key:'__attach',value:


function __attach(){
for(var key in this._style) {
var value=this._style[key];
if(value instanceof Animated){
value.__addChild(this);}}}},{key:'__detach',value:




function __detach(){
for(var key in this._style) {
var value=this._style[key];
if(value instanceof Animated){
value.__removeChild(this);}}}}]);return AnimatedStyle;})(AnimatedWithChildren);var 





AnimatedProps=(function(_Animated2){_inherits(AnimatedProps,_Animated2);



function AnimatedProps(
props,
callback)
{_classCallCheck(this,AnimatedProps);
_get(Object.getPrototypeOf(AnimatedProps.prototype),'constructor',this).call(this);
if(props.style){
props = _extends({},
props,{
style:new AnimatedStyle(props.style)});}


this._props = props;
this._callback = callback;
this.__attach();}_createClass(AnimatedProps,[{key:'__getValue',value:


function __getValue(){
var props={};
for(var key in this._props) {
var value=this._props[key];
if(value instanceof Animated){
props[key] = value.__getValue();}else 
{
props[key] = value;}}


return props;}},{key:'__getAnimatedValue',value:


function __getAnimatedValue(){
var props={};
for(var key in this._props) {
var value=this._props[key];
if(value instanceof Animated){
props[key] = value.__getAnimatedValue();}}


return props;}},{key:'__attach',value:


function __attach(){
for(var key in this._props) {
var value=this._props[key];
if(value instanceof Animated){
value.__addChild(this);}}}},{key:'__detach',value:




function __detach(){
for(var key in this._props) {
var value=this._props[key];
if(value instanceof Animated){
value.__removeChild(this);}}}},{key:'update',value:




function update(){
this._callback();}}]);return AnimatedProps;})(Animated);



function createAnimatedComponent(Component){
var refName='node';var 

AnimatedComponent=(function(_React$Component){_inherits(AnimatedComponent,_React$Component);function AnimatedComponent(){_classCallCheck(this,AnimatedComponent);_get(Object.getPrototypeOf(AnimatedComponent.prototype),'constructor',this).apply(this,arguments);}_createClass(AnimatedComponent,[{key:'componentWillUnmount',value:


function componentWillUnmount(){
this._propsAnimated && this._propsAnimated.__detach();}},{key:'setNativeProps',value:


function setNativeProps(props){
this.refs[refName].setNativeProps(props);}},{key:'componentWillMount',value:


function componentWillMount(){
this.attachProps(this.props);}},{key:'attachProps',value:


function attachProps(nextProps){var _this6=this;
var oldPropsAnimated=this._propsAnimated;







var callback=function(){
if(_this6.refs[refName].setNativeProps){
var value=_this6._propsAnimated.__getAnimatedValue();
_this6.refs[refName].setNativeProps(value);}else 
{
_this6.forceUpdate();}};



this._propsAnimated = new AnimatedProps(
nextProps,
callback);










oldPropsAnimated && oldPropsAnimated.__detach();}},{key:'componentWillReceiveProps',value:


function componentWillReceiveProps(nextProps){
this.attachProps(nextProps);}},{key:'render',value:


function render(){
return (
React.createElement(Component,_extends({},
this._propsAnimated.__getValue(),{
ref:refName})));}}]);return AnimatedComponent;})(React.Component);




AnimatedComponent.propTypes = {
style:function(props,propName,componentName){
for(var key in ViewStylePropTypes) {
if(!Component.propTypes[key] && props[key] !== undefined){
console.error(
'You are setting the style `{ ' + key + ': ... }` as a prop. You ' + 
'should nest it in a style object. ' + 
'E.g. `{ style: { ' + key + ': ... } }`');}}}};






return AnimatedComponent;}var 


AnimatedTracking=(function(_Animated3){_inherits(AnimatedTracking,_Animated3);






function AnimatedTracking(
value,
parent,
animationClass,
animationConfig,
callback)
{_classCallCheck(this,AnimatedTracking);
_get(Object.getPrototypeOf(AnimatedTracking.prototype),'constructor',this).call(this);
this._value = value;
this._parent = parent;
this._animationClass = animationClass;
this._animationConfig = animationConfig;
this._callback = callback;
this.__attach();}_createClass(AnimatedTracking,[{key:'__getValue',value:


function __getValue(){
return this._parent.__getValue();}},{key:'__attach',value:


function __attach(){
this._parent.__addChild(this);}},{key:'__detach',value:


function __detach(){
this._parent.__removeChild(this);}},{key:'update',value:


function update(){
this._value.animate(new this._animationClass(_extends({},
this._animationConfig,{
toValue:this._animationConfig.toValue.__getValue()})),
this._callback);}}]);return AnimatedTracking;})(Animated);








var maybeVectorAnim=function(
value,
config,
anim)
{
if(value instanceof AnimatedValueXY){
var configX=_extends({},config);
var configY=_extends({},config);
for(var key in config) {var _config$key=
config[key];var x=_config$key.x;var y=_config$key.y;
if(x !== undefined && y !== undefined){
configX[key] = x;
configY[key] = y;}}


var aX=anim(value.x,configX);
var aY=anim(value.y,configY);


return parallel([aX,aY],{stopTogether:false});}

return null;};


var spring=function(
value,
config)
{
return maybeVectorAnim(value,config,spring) || {
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
if(config.toValue instanceof Animated){
singleValue.track(new AnimatedTracking(
singleValue,
config.toValue,
SpringAnimation,
singleConfig,
callback));}else 

{
singleValue.animate(new SpringAnimation(singleConfig),callback);}},



stop:function(){
value.stopAnimation();}};};




var timing=function(
value,
config)
{
return maybeVectorAnim(value,config,timing) || {
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
if(config.toValue instanceof Animated){
singleValue.track(new AnimatedTracking(
singleValue,
config.toValue,
TimingAnimation,
singleConfig,
callback));}else 

{
singleValue.animate(new TimingAnimation(singleConfig),callback);}},



stop:function(){
value.stopAnimation();}};};




var decay=function(
value,
config)
{
return maybeVectorAnim(value,config,decay) || {
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
singleValue.animate(new DecayAnimation(singleConfig),callback);},


stop:function(){
value.stopAnimation();}};};




var sequence=function(
animations)
{
var current=0;
return {
start:function(callback){
var onComplete=function(result){
if(!result.finished){
callback && callback(result);
return;}


current++;

if(current === animations.length){
callback && callback(result);
return;}


animations[current].start(onComplete);};


if(animations.length === 0){
callback && callback({finished:true});}else 
{
animations[current].start(onComplete);}},



stop:function(){
if(current < animations.length){
animations[current].stop();}}};};








var parallel=function(
animations,
config)
{
var doneCount=0;

var hasEnded={};
var stopTogether=!(config && config.stopTogether === false);

var result={
start:function(callback){
if(doneCount === animations.length){
callback && callback({finished:true});
return;}


animations.forEach(function(animation,idx){
var cb=function(endResult){
hasEnded[idx] = true;
doneCount++;
if(doneCount === animations.length){
doneCount = 0;
callback && callback(endResult);
return;}


if(!endResult.finished && stopTogether){
result.stop();}};



if(!animation){
cb({finished:true});}else 
{
animation.start(cb);}});},




stop:function(){
animations.forEach(function(animation,idx){
!hasEnded[idx] && animation.stop();
hasEnded[idx] = true;});}};




return result;};


var delay=function(time){

return timing(new AnimatedValue(0),{toValue:0,delay:time,duration:0});};


var stagger=function(
time,
animations)
{
return parallel(animations.map(function(animation,i){
return sequence([
delay(time * i),
animation]);}));};







var event=function(
argMapping,
config)
{
return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key < _len;_key++) {args[_key] = arguments[_key];}
var traverse=function(recMapping,recEvt,key){
if(typeof recEvt === 'number'){
invariant(
recMapping instanceof AnimatedValue,
'Bad mapping of type ' + typeof recMapping + ' for key ' + key + 
', event value must map to AnimatedValue');

recMapping.setValue(recEvt);
return;}

invariant(
typeof recMapping === 'object',
'Bad mapping of type ' + typeof recMapping + ' for key ' + key);

invariant(
typeof recEvt === 'object',
'Bad event of type ' + typeof recEvt + ' for key ' + key);

for(var key in recMapping) {
traverse(recMapping[key],recEvt[key],key);}};


argMapping.forEach(function(mapping,idx){
traverse(mapping,args[idx],'arg' + idx);});

if(config && config.listener){
config.listener.apply(null,args);}};};





























































































module.exports = {




Value:AnimatedValue,



ValueXY:AnimatedValueXY,





decay:decay,




timing:timing,




spring:spring,




delay:delay,





sequence:sequence,





parallel:parallel,




stagger:stagger,

















event:event,




createAnimatedComponent:createAnimatedComponent,

__PropsOnlyForTests:AnimatedProps};
});
__d('Interpolation',function(global, require, module, exports) {  'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var tinycolor=require('tinycolor');


var invariant=function(condition,message){
if(!condition){
var error=new Error(message);
error.framesToPop = 1;
throw error;}};














var linear=function(t){return t;};var 





Interpolation=(function(){function Interpolation(){_classCallCheck(this,Interpolation);}_createClass(Interpolation,null,[{key:'create',value:
function create(config){

if(config.outputRange && typeof config.outputRange[0] === 'string'){
return createInterpolationFromStringOutputRange(config);}


var outputRange=config.outputRange;
checkInfiniteRange('outputRange',outputRange);

var inputRange=config.inputRange;
checkInfiniteRange('inputRange',inputRange);
checkValidInputRange(inputRange);

invariant(
inputRange.length === outputRange.length,
'inputRange (' + inputRange.length + ') and outputRange (' + 
outputRange.length + ') must have the same length');


var easing=config.easing || linear;

var extrapolateLeft='extend';
if(config.extrapolateLeft !== undefined){
extrapolateLeft = config.extrapolateLeft;}else 
if(config.extrapolate !== undefined){
extrapolateLeft = config.extrapolate;}


var extrapolateRight='extend';
if(config.extrapolateRight !== undefined){
extrapolateRight = config.extrapolateRight;}else 
if(config.extrapolate !== undefined){
extrapolateRight = config.extrapolate;}


return function(input){
invariant(
typeof input === 'number',
'Cannot interpolation an input which is not a number');


var range=findRange(input,inputRange);
return interpolate(
input,
inputRange[range],
inputRange[range + 1],
outputRange[range],
outputRange[range + 1],
easing,
extrapolateLeft,
extrapolateRight);};}}]);return Interpolation;})();





function interpolate(
input,
inputMin,
inputMax,
outputMin,
outputMax,
easing,
extrapolateLeft,
extrapolateRight)
{
var result=input;


if(result < inputMin){
if(extrapolateLeft === 'identity'){
return result;}else 
if(extrapolateLeft === 'clamp'){
result = inputMin;}else 
if(extrapolateLeft === 'extend'){}}




if(result > inputMax){
if(extrapolateRight === 'identity'){
return result;}else 
if(extrapolateRight === 'clamp'){
result = inputMax;}else 
if(extrapolateRight === 'extend'){}}




if(outputMin === outputMax){
return outputMin;}


if(inputMin === inputMax){
if(input <= inputMin){
return outputMin;}

return outputMax;}



if(inputMin === -Infinity){
result = -result;}else 
if(inputMax === Infinity){
result = result - inputMin;}else 
{
result = (result - inputMin) / (inputMax - inputMin);}



result = easing(result);


if(outputMin === -Infinity){
result = -result;}else 
if(outputMax === Infinity){
result = result + outputMin;}else 
{
result = result * (outputMax - outputMin) + outputMin;}


return result;}


function colorToRgba(
input)
{
var color=tinycolor(input);
if(color.isValid()){var _color$toRgb=
color.toRgb();var r=_color$toRgb.r;var g=_color$toRgb.g;var b=_color$toRgb.b;var a=_color$toRgb.a;
return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + (a === undefined?1:a) + ')';}else 
{
return input;}}



var stringShapeRegex=/[0-9\.-]+/g;









function createInterpolationFromStringOutputRange(
config)
{
var outputRange=config.outputRange;
invariant(outputRange.length >= 2,'Bad output range');
outputRange = outputRange.map(colorToRgba);
checkPattern(outputRange);









var outputRanges=outputRange[0].match(stringShapeRegex).map(function(){return [];});
outputRange.forEach(function(value){
value.match(stringShapeRegex).forEach(function(number,i){
outputRanges[i].push(+number);});});



var interpolations=outputRange[0].match(stringShapeRegex).map(function(value,i){
return Interpolation.create(_extends({},
config,{
outputRange:outputRanges[i]}));});



return function(input){
var i=0;



return outputRange[0].replace(stringShapeRegex,function(){
return String(interpolations[i++](input));});};}




function checkPattern(arr){
var pattern=arr[0].replace(stringShapeRegex,'');
for(var i=1;i < arr.length;++i) {
invariant(
pattern === arr[i].replace(stringShapeRegex,''),
'invalid pattern ' + arr[0] + ' and ' + arr[i]);}}




function findRange(input,inputRange){
for(var i=1;i < inputRange.length - 1;++i) {
if(inputRange[i] >= input){
break;}}


return i - 1;}


function checkValidInputRange(arr){
invariant(arr.length >= 2,'inputRange must have at least 2 elements');
for(var i=1;i < arr.length;++i) {
invariant(
arr[i] >= arr[i - 1],






'inputRange must be monotonically increasing ' + arr);}}




function checkInfiniteRange(name,arr){
invariant(arr.length >= 2,name + ' must have at least 2 elements');
invariant(
arr.length !== 2 || arr[0] !== -Infinity || arr[1] !== Infinity,






name + 'cannot be ]-infinity;+infinity[ ' + arr);}



module.exports = Interpolation;
});
__d('Easing',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var _bezier=require('bezier');var 






Easing=(function(){function Easing(){_classCallCheck(this,Easing);}_createClass(Easing,null,[{key:'step0',value:
function step0(n){
return n > 0?1:0;}},{key:'step1',value:


function step1(n){
return n >= 1?1:0;}},{key:'linear',value:


function linear(t){
return t;}},{key:'ease',value:


function ease(t){
return _ease(t);}},{key:'quad',value:


function quad(t){
return t * t;}},{key:'cubic',value:


function cubic(t){
return t * t * t;}},{key:'poly',value:


function poly(n){
return function(t){return Math.pow(t,n);};}},{key:'sin',value:


function sin(t){
return 1 - Math.cos(t * Math.PI / 2);}},{key:'circle',value:


function circle(t){
return 1 - Math.sqrt(1 - t * t);}},{key:'exp',value:


function exp(t){
return Math.pow(2,10 * (t - 1));}},{key:'elastic',value:












function elastic(){var bounciness=arguments.length <= 0 || arguments[0] === undefined?1:arguments[0];
var p=bounciness * Math.PI;
return function(t){return 1 - Math.pow(Math.cos(t * Math.PI / 2),3) * Math.cos(t * p);};}},{key:'back',value:


function back(s){
if(s === undefined){
s = 1.70158;}

return function(t){return t * t * ((s + 1) * t - s);};}},{key:'bounce',value:


function bounce(t){
if(t < 1 / 2.75){
return 7.5625 * t * t;}


if(t < 2 / 2.75){
t -= 1.5 / 2.75;
return 7.5625 * t * t + 0.75;}


if(t < 2.5 / 2.75){
t -= 2.25 / 2.75;
return 7.5625 * t * t + 0.9375;}


t -= 2.625 / 2.75;
return 7.5625 * t * t + 0.984375;}},{key:'bezier',value:


function bezier(
x1,
y1,
x2,
y2,
epsilon)
{
if(epsilon === undefined){


var duration=500;
epsilon = 1000 / 60 / duration / 4;}


return _bezier(x1,y1,x2,y2,epsilon);}},{key:'in',value:


function _in(
easing)
{
return easing;}},{key:'out',value:





function out(
easing)
{
return function(t){return 1 - easing(1 - t);};}},{key:'inOut',value:





function inOut(
easing)
{
return function(t){
if(t < 0.5){
return easing(t * 2) / 2;}

return 1 - easing((1 - t) * 2) / 2;};}}]);return Easing;})();




var _ease=Easing.bezier(0.42,0,1,1);



module.exports = Easing;
});
__d('bezier',function(global, require, module, exports) {  module.





























exports = function(x1,y1,x2,y2,epsilon){

var curveX=function(t){
var v=1 - t;
return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;};


var curveY=function(t){
var v=1 - t;
return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;};


var derivativeCurveX=function(t){
var v=1 - t;
return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (-t * t * t + 2 * v * t) * x2;};


return function(t){

var x=t,t0,t1,t2,x2,d2,i;


for(t2 = x,i = 0;i < 8;i++) {
x2 = curveX(t2) - x;
if(Math.abs(x2) < epsilon)return curveY(t2);
d2 = derivativeCurveX(t2);
if(Math.abs(d2) < 1e-6)break;
t2 = t2 - x2 / d2;}


t0 = 0,t1 = 1,t2 = x;

if(t2 < t0)return curveY(t0);
if(t2 > t1)return curveY(t1);


while(t0 < t1) {
x2 = curveX(t2);
if(Math.abs(x2 - x) < epsilon)return curveY(t2);
if(x > x2)t0 = t2;else 
t1 = t2;
t2 = (t1 - t0) * .5 + t0;}



return curveY(t2);};};
});
__d('SpringConfig',function(global, require, module, exports) {  'use strict';


















function tensionFromOrigamiValue(oValue){
return (oValue - 30) * 3.62 + 194;}


function frictionFromOrigamiValue(oValue){
return (oValue - 8) * 3 + 25;}


function fromOrigamiTensionAndFriction(
tension,
friction)
{
return {
tension:tensionFromOrigamiValue(tension),
friction:frictionFromOrigamiValue(friction)};}



function fromBouncinessAndSpeed(
bounciness,
speed)
{
function normalize(value,startValue,endValue){
return (value - startValue) / (endValue - startValue);}


function projectNormal(n,start,end){
return start + n * (end - start);}


function linearInterpolation(t,start,end){
return t * end + (1 - t) * start;}


function quadraticOutInterpolation(t,start,end){
return linearInterpolation(2 * t - t * t,start,end);}


function b3Friction1(x){
return 0.0007 * Math.pow(x,3) - 
0.031 * Math.pow(x,2) + 0.64 * x + 1.28;}


function b3Friction2(x){
return 0.000044 * Math.pow(x,3) - 
0.006 * Math.pow(x,2) + 0.36 * x + 2;}


function b3Friction3(x){
return 0.00000045 * Math.pow(x,3) - 
0.000332 * Math.pow(x,2) + 0.1078 * x + 5.84;}


function b3Nobounce(tension){
if(tension <= 18){
return b3Friction1(tension);}else 
if(tension > 18 && tension <= 44){
return b3Friction2(tension);}else 
{
return b3Friction3(tension);}}



var b=normalize(bounciness / 1.7,0,20);
b = projectNormal(b,0,0.8);
var s=normalize(speed / 1.7,0,20);
var bouncyTension=projectNormal(s,0.5,200);
var bouncyFriction=quadraticOutInterpolation(
b,
b3Nobounce(bouncyTension),
0.01);


return {
tension:tensionFromOrigamiValue(bouncyTension),
friction:frictionFromOrigamiValue(bouncyFriction)};}



module.exports = {
fromOrigamiTensionAndFriction:fromOrigamiTensionAndFriction,
fromBouncinessAndSpeed:fromBouncinessAndSpeed};
});
__d('requestAnimationFrame',function(global, require, module, exports) {  var 










emptyFunction=require('emptyFunction');
var nativeRequestAnimationFrame=require('nativeRequestAnimationFrame');

var lastTime=0;

var requestAnimationFrame=
nativeRequestAnimationFrame || 
function(callback){
var currTime=Date.now();
var timeDelay=Math.max(0,16 - (currTime - lastTime));
lastTime = currTime + timeDelay;
return global.setTimeout(function(){
callback(Date.now());},
timeDelay);};



requestAnimationFrame(emptyFunction);

module.exports = requestAnimationFrame;
});
__d('nativeRequestAnimationFrame',function(global, require, module, exports) {  var 










nativeRequestAnimationFrame=
global.requestAnimationFrame || 
global.webkitRequestAnimationFrame || 
global.mozRequestAnimationFrame || 
global.oRequestAnimationFrame || 
global.msRequestAnimationFrame;

module.exports = nativeRequestAnimationFrame;
});
__d('ViewPagerAndroid',function(global, require, module, exports) {  'use strict';











module.exports = require('UnimplementedView');
});
__d('WebView',function(global, require, module, exports) {  'use strict';












var ActivityIndicatorIOS=require('ActivityIndicatorIOS');
var EdgeInsetsPropType=require('EdgeInsetsPropType');
var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');

var invariant=require('invariant');
var keyMirror=require('keyMirror');
var requireNativeComponent=require('requireNativeComponent');

var PropTypes=React.PropTypes;
var RCTWebViewManager=require('NativeModules').WebViewManager;

var BGWASH='rgba(255,255,255,0.8)';
var RCT_WEBVIEW_REF='webview';

var WebViewState=keyMirror({
IDLE:null,
LOADING:null,
ERROR:null});


var NavigationType={
click:RCTWebViewManager.NavigationType.LinkClicked,
formsubmit:RCTWebViewManager.NavigationType.FormSubmitted,
backforward:RCTWebViewManager.NavigationType.BackForward,
reload:RCTWebViewManager.NavigationType.Reload,
formresubmit:RCTWebViewManager.NavigationType.FormResubmitted,
other:RCTWebViewManager.NavigationType.Other};


var JSNavigationScheme=RCTWebViewManager.JSNavigationScheme;









var defaultRenderLoading=function(){return (
React.createElement(View,{style:styles.loadingView},
React.createElement(ActivityIndicatorIOS,null)));};


var defaultRenderError=function(errorDomain,errorCode,errorDesc){return (
React.createElement(View,{style:styles.errorContainer},
React.createElement(Text,{style:styles.errorTextTitle},'Error loading page'),


React.createElement(Text,{style:styles.errorText},
'Domain: ' + errorDomain),

React.createElement(Text,{style:styles.errorText},
'Error Code: ' + errorCode),

React.createElement(Text,{style:styles.errorText},
'Description: ' + errorDesc)));};




var WebView=React.createClass({displayName:'WebView',
statics:{
JSNavigationScheme:JSNavigationScheme,
NavigationType:NavigationType},


propTypes:{
url:PropTypes.string,
html:PropTypes.string,
renderError:PropTypes.func,
renderLoading:PropTypes.func,
bounces:PropTypes.bool,
scrollEnabled:PropTypes.bool,
automaticallyAdjustContentInsets:PropTypes.bool,
contentInset:EdgeInsetsPropType,
onNavigationStateChange:PropTypes.func,
startInLoadingState:PropTypes.bool,
style:View.propTypes.style,



javaScriptEnabledAndroid:PropTypes.bool,



injectedJavaScript:PropTypes.string,





scalesPageToFit:PropTypes.bool},


getInitialState:function(){
return {
viewState:WebViewState.IDLE,
lastErrorEvent:null,
startInLoadingState:true};},



componentWillMount:function(){
if(this.props.startInLoadingState){
this.setState({viewState:WebViewState.LOADING});}},



render:function(){
var otherView=null;

if(this.state.viewState === WebViewState.LOADING){
otherView = (this.props.renderLoading || defaultRenderLoading)();}else 
if(this.state.viewState === WebViewState.ERROR){
var errorEvent=this.state.lastErrorEvent;
invariant(
errorEvent != null,
'lastErrorEvent expected to be non-null');

otherView = (this.props.renderError || defaultRenderError)(
errorEvent.domain,
errorEvent.code,
errorEvent.description);}else 

if(this.state.viewState !== WebViewState.IDLE){
console.error(
'RCTWebView invalid state encountered: ' + this.state.loading);}



var webViewStyles=[styles.container,styles.webView,this.props.style];
if(this.state.viewState === WebViewState.LOADING || 
this.state.viewState === WebViewState.ERROR){

webViewStyles.push(styles.hidden);}


var webView=
React.createElement(RCTWebView,{
ref:RCT_WEBVIEW_REF,
key:'webViewKey',
style:webViewStyles,
url:this.props.url,
html:this.props.html,
injectedJavaScript:this.props.injectedJavaScript,
bounces:this.props.bounces,
scrollEnabled:this.props.scrollEnabled,
contentInset:this.props.contentInset,
automaticallyAdjustContentInsets:this.props.automaticallyAdjustContentInsets,
onLoadingStart:this.onLoadingStart,
onLoadingFinish:this.onLoadingFinish,
onLoadingError:this.onLoadingError,
scalesPageToFit:this.props.scalesPageToFit});


return (
React.createElement(View,{style:styles.container},
webView,
otherView));},




goForward:function(){
RCTWebViewManager.goForward(this.getWebViewHandle());},


goBack:function(){
RCTWebViewManager.goBack(this.getWebViewHandle());},


reload:function(){
RCTWebViewManager.reload(this.getWebViewHandle());},






updateNavigationState:function(event){
if(this.props.onNavigationStateChange){
this.props.onNavigationStateChange(event.nativeEvent);}},



getWebViewHandle:function(){
return React.findNodeHandle(this.refs[RCT_WEBVIEW_REF]);},


onLoadingStart:function(event){
this.updateNavigationState(event);},


onLoadingError:function(event){
event.persist();
console.warn('Encountered an error loading page',event.nativeEvent);

this.setState({
lastErrorEvent:event.nativeEvent,
viewState:WebViewState.ERROR});},



onLoadingFinish:function(event){
this.setState({
viewState:WebViewState.IDLE});

this.updateNavigationState(event);}});



var RCTWebView=requireNativeComponent('RCTWebView',WebView,{
nativeOnly:{
onLoadingStart:true,
onLoadingError:true,
onLoadingFinish:true}});



var styles=StyleSheet.create({
container:{
flex:1},

errorContainer:{
flex:1,
justifyContent:'center',
alignItems:'center',
backgroundColor:BGWASH},

errorText:{
fontSize:14,
textAlign:'center',
marginBottom:2},

errorTextTitle:{
fontSize:15,
fontWeight:'500',
marginBottom:10},

hidden:{
height:0,
flex:0},

loadingView:{
backgroundColor:BGWASH,
flex:1,
justifyContent:'center',
alignItems:'center'},

webView:{
backgroundColor:'#ffffff'}});



module.exports = WebView;
});
__d('ActionSheetIOS',function(global, require, module, exports) {  'use strict';












var RCTActionSheetManager=require('NativeModules').ActionSheetManager;

var invariant=require('invariant');

var ActionSheetIOS={
showActionSheetWithOptions:function(options,callback){
invariant(
typeof options === 'object' && options !== null,
'Options must a valid object');

invariant(
typeof callback === 'function',
'Must provide a valid callback');

RCTActionSheetManager.showActionSheetWithOptions(
options,
callback);},



showShareActionSheetWithOptions:function(
options,
failureCallback,
successCallback)
{
invariant(
typeof options === 'object' && options !== null,
'Options must a valid object');

invariant(
typeof failureCallback === 'function',
'Must provide a valid failureCallback');

invariant(
typeof successCallback === 'function',
'Must provide a valid successCallback');

RCTActionSheetManager.showShareActionSheetWithOptions(
options,
failureCallback,
successCallback);}};




module.exports = ActionSheetIOS;
});
__d('AdSupportIOS',function(global, require, module, exports) {  'use strict';












var AdSupport=require('NativeModules').AdSupport;

module.exports = {
getAdvertisingId:function(onSuccess,onFailure){
AdSupport.getAdvertisingId(onSuccess,onFailure);},


getAdvertisingTrackingEnabled:function(onSuccess,onFailure){
AdSupport.getAdvertisingTrackingEnabled(onSuccess,onFailure);}};
});
__d('AlertIOS',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var RCTAlertManager=require('NativeModules').AlertManager;
var invariant=require('invariant');

var DEFAULT_BUTTON_TEXT='OK';
var DEFAULT_BUTTON={
text:DEFAULT_BUTTON_TEXT,
onPress:null};var 
























AlertIOS=(function(){function AlertIOS(){_classCallCheck(this,AlertIOS);}_createClass(AlertIOS,null,[{key:'alert',value:
function alert(
title,
message,
buttons,



type)
{
var callbacks=[];
var buttonsSpec=[];
title = title || '';
message = message || '';
buttons = buttons || [DEFAULT_BUTTON];
type = type || '';

buttons.forEach(function(btn,index){
callbacks[index] = btn.onPress;
var btnDef={};
btnDef[index] = btn.text || DEFAULT_BUTTON_TEXT;
buttonsSpec.push(btnDef);});

RCTAlertManager.alertWithArgs({
title:title,
message:message,
buttons:buttonsSpec,
type:type},
function(id,value){
var cb=callbacks[id];
cb && cb(value);});}},{key:'prompt',value:



function prompt(
title,
value,
buttons,



callback)
{
if(arguments.length === 2){
if(typeof value === 'object'){
buttons = value;
value = undefined;}else 
if(typeof value === 'function'){
callback = value;
value = undefined;}}else 

if(arguments.length === 3 && typeof buttons === 'function'){
callback = buttons;
buttons = undefined;}


invariant(
!(callback && buttons) && (callback || buttons),
'Must provide either a button list or a callback, but not both');


if(!buttons){
buttons = [{
text:'Cancel'},
{
text:'OK',
onPress:callback}];}


this.alert(title,value,buttons,'plain-text');}}]);return AlertIOS;})();



module.exports = AlertIOS;
});
__d('AppRegistry',function(global, require, module, exports) {  'use strict';












var invariant=require('invariant');
var renderApplication=require('renderApplication');

if(__DEV__){


require('RCTRenderingPerf');}


var runnables={};




















var AppRegistry={
registerConfig:function(config){
for(var i=0;i < config.length;++i) {
var appConfig=config[i];
if(appConfig.run){
AppRegistry.registerRunnable(appConfig.appKey,appConfig.run);}else 
{
invariant(appConfig.component,'No component provider passed in');
AppRegistry.registerComponent(appConfig.appKey,appConfig.component);}}},




registerComponent:function(appKey,getComponentFunc){
runnables[appKey] = {
run:function(appParameters){return (
renderApplication(getComponentFunc(),appParameters.initialProps,appParameters.rootTag));}};

return appKey;},


registerRunnable:function(appKey,func){
runnables[appKey] = {run:func};
return appKey;},


getAppKeys:function(){
return Object.keys(runnables);},


runApplication:function(appKey,appParameters){
console.log(
'Running application "' + appKey + '" with appParams: ' + 
JSON.stringify(appParameters) + '. ' + 
'__DEV__ === ' + String(__DEV__) + 
', development-level warning are ' + (__DEV__?'ON':'OFF') + 
', performance optimizations are ' + (__DEV__?'OFF':'ON'));

invariant(
runnables[appKey] && runnables[appKey].run,
'Application ' + appKey + ' has not been registered. This ' + 
'is either due to a require() error during initialization ' + 
'or failure to call AppRegistry.registerComponent.');

runnables[appKey].run(appParameters);}};



module.exports = AppRegistry;
});
__d('renderApplication',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};











var Inspector=require('Inspector');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var React=require('React');
var StyleSheet=require('StyleSheet');
var Subscribable=require('Subscribable');
var View=require('View');
var WarningBox=require('WarningBox');

var invariant=require('invariant');

var AppContainer=React.createClass({displayName:'AppContainer',
mixins:[Subscribable.Mixin],

getInitialState:function(){
return {inspector:null};},


toggleElementInspector:function(){
var inspector=this.state.inspector?
null:
React.createElement(Inspector,{
rootTag:this.props.rootTag,
inspectedViewTag:React.findNodeHandle(this.refs.main)});

this.setState({inspector:inspector});},


componentDidMount:function(){
this.addListenerOn(
RCTDeviceEventEmitter,
'toggleElementInspector',
this.toggleElementInspector);},



render:function(){
var shouldRenderWarningBox=__DEV__ && console.yellowBoxEnabled;
var warningBox=shouldRenderWarningBox?React.createElement(WarningBox,null):null;
return (
React.createElement(View,{style:styles.appContainer},
React.createElement(View,{collapsible:false,style:styles.appContainer,ref:'main'},
this.props.children),

warningBox,
this.state.inspector));}});





function renderApplication(
RootComponent,
initialProps,
rootTag)
{
invariant(
rootTag,
'Expect to have a valid rootTag, instead got ',rootTag);


if(__DEV__ && !window.document){
var setupDevtools=require('setupDevtools');
setupDevtools();}

React.render(
React.createElement(AppContainer,{rootTag:rootTag},
React.createElement(RootComponent,_extends({},
initialProps,{
rootTag:rootTag}))),


rootTag);}



var styles=StyleSheet.create({
appContainer:{
position:'absolute',
left:0,
top:0,
right:0,
bottom:0}});



module.exports = renderApplication;
});
__d('Inspector',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var Dimensions=require('Dimensions');
var InspectorOverlay=require('InspectorOverlay');
var InspectorPanel=require('InspectorPanel');
var InspectorUtils=require('InspectorUtils');
var React=require('React');
var StyleSheet=require('StyleSheet');
var UIManager=require('NativeModules').UIManager;
var View=require('View');

if(window.__REACT_DEVTOOLS_GLOBAL_HOOK__){

window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle = require('flattenStyle');}var 


Inspector=(function(_React$Component){_inherits(Inspector,_React$Component);


function Inspector(props){_classCallCheck(this,Inspector);
_get(Object.getPrototypeOf(Inspector.prototype),'constructor',this).call(this,props);

this.state = {
devtoolsAgent:null,
panelPos:'bottom',
inspecting:true,
perfing:false,
inspected:null};}_createClass(Inspector,[{key:'componentDidMount',value:



function componentDidMount(){
if(window.__REACT_DEVTOOLS_GLOBAL_HOOK__){
this.attachToDevtools = this.attachToDevtools.bind(this);
window.__REACT_DEVTOOLS_GLOBAL_HOOK__.on('react-devtools',this.attachToDevtools);

if(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.reactDevtoolsAgent){
this.attachToDevtools(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.reactDevtoolsAgent);}}}},{key:'componentWillUnmount',value:




function componentWillUnmount(){
if(this._subs){
this._subs.map(function(fn){return fn();});}

if(window.__REACT_DEVTOOLS_GLOBAL_HOOK__){
window.__REACT_DEVTOOLS_GLOBAL_HOOK__.off('react-devtools',this.attachToDevtools);}}},{key:'attachToDevtools',value:



function attachToDevtools(agent){var _this=this;
var _hideWait=null;
var hlSub=agent.sub('highlight',function(_ref){var node=_ref.node;var name=_ref.name;var props=_ref.props;
clearTimeout(_hideWait);
UIManager.measure(node,function(x,y,width,height,left,top){
_this.setState({
hierarchy:[],
inspected:{
frame:{left:left,top:top,width:width,height:height},
style:props?props.style:{}}});});});




var hideSub=agent.sub('hideHighlight',function(){
if(_this.state.inspected === null){
return;}


_hideWait = setTimeout(function(){
_this.setState({
inspected:null});},

100);});

this._subs = [hlSub,hideSub];

agent.on('shutdown',function(){
_this.setState({devtoolsAgent:null});
_this._subs = null;});

this.setState({
devtoolsAgent:agent});}},{key:'setSelection',value:



function setSelection(i){var _this2=this;
var instance=this.state.hierarchy[i];
var publicInstance=instance.getPublicInstance();
UIManager.measure(React.findNodeHandle(instance),function(x,y,width,height,left,top){
_this2.setState({
inspected:{
frame:{left:left,top:top,width:width,height:height},
style:publicInstance.props?publicInstance.props.style:{}},

selection:i});});}},{key:'onTouchInstance',value:




function onTouchInstance(instance,frame,pointerY){
if(this.state.devtoolsAgent){
this.state.devtoolsAgent.selectFromReactInstance(instance,true);}

var hierarchy=InspectorUtils.getOwnerHierarchy(instance);
var publicInstance=instance.getPublicInstance();
var props=publicInstance.props || {};
this.setState({
panelPos:pointerY > Dimensions.get('window').height / 2?'top':'bottom',
selection:hierarchy.length - 1,
hierarchy:hierarchy,
inspected:{
style:props.style || {},
frame:frame}});}},{key:'setPerfing',value:




function setPerfing(val){
this.setState({
perfing:val,
inspecting:false,
inspected:null});}},{key:'setInspecting',value:



function setInspecting(val){
this.setState({
inspecting:val,
inspected:null});}},{key:'render',value:



function render(){
var panelContainerStyle=this.state.panelPos === 'bottom'?{bottom:0}:{top:0};
return (
React.createElement(View,{style:styles.container,pointerEvents:'box-none'},
this.state.inspecting && 
React.createElement(InspectorOverlay,{
rootTag:this.props.rootTag,
inspected:this.state.inspected,
inspectedViewTag:this.props.inspectedViewTag,
onTouchInstance:this.onTouchInstance.bind(this)}),

React.createElement(View,{style:[styles.panelContainer,panelContainerStyle]},
React.createElement(InspectorPanel,{
devtoolsIsOpen:!!this.state.devtoolsAgent,
inspecting:this.state.inspecting,
perfing:this.state.perfing,
setPerfing:this.setPerfing.bind(this),
setInspecting:this.setInspecting.bind(this),
inspected:this.state.inspected,
hierarchy:this.state.hierarchy,
selection:this.state.selection,
setSelection:this.setSelection.bind(this)}))));}}]);return Inspector;})(React.Component);







var styles=StyleSheet.create({
container:{
position:'absolute',
backgroundColor:'transparent',
top:0,
left:0,
right:0,
bottom:0},

panelContainer:{
position:'absolute',
left:0,
right:0}});



module.exports = Inspector;
});
__d('InspectorOverlay',function(global, require, module, exports) {  'use strict';












var Dimensions=require('Dimensions');
var InspectorUtils=require('InspectorUtils');
var React=require('React');
var StyleSheet=require('StyleSheet');
var UIManager=require('NativeModules').UIManager;
var View=require('View');
var ElementBox=require('ElementBox');

var PropTypes=React.PropTypes;





var InspectorOverlay=React.createClass({displayName:'InspectorOverlay',
propTypes:{
inspected:PropTypes.shape({
frame:PropTypes.object,
style:PropTypes.any}),

inspectedViewTag:PropTypes.number,
onTouchInstance:PropTypes.func.isRequired},


findViewForTouchEvent:function(e){var _this=this;var _e$nativeEvent$touches$0=
e.nativeEvent.touches[0];var locationX=_e$nativeEvent$touches$0.locationX;var locationY=_e$nativeEvent$touches$0.locationY;
UIManager.findSubviewIn(
this.props.inspectedViewTag,
[locationX,locationY],
function(nativeViewTag,left,top,width,height){
var instance=InspectorUtils.findInstanceByNativeTag(_this.props.rootTag,nativeViewTag);
if(!instance){
return;}

_this.props.onTouchInstance(instance,{left:left,top:top,width:width,height:height},locationY);});},




shouldSetResponser:function(e){
this.findViewForTouchEvent(e);
return true;},


render:function(){
var content=null;
if(this.props.inspected){
content = React.createElement(ElementBox,{frame:this.props.inspected.frame,style:this.props.inspected.style});}


return (
React.createElement(View,{
onStartShouldSetResponder:this.shouldSetResponser,
onResponderMove:this.findViewForTouchEvent,
style:[styles.inspector,{height:Dimensions.get('window').height}]},
content));}});





var styles=StyleSheet.create({
inspector:{
backgroundColor:'transparent',
position:'absolute',
left:0,
top:0,
right:0}});



module.exports = InspectorOverlay;
});
__d('ElementBox',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var React=require('React');
var View=require('View');
var StyleSheet=require('StyleSheet');
var BorderBox=require('BorderBox');
var resolveBoxStyle=require('resolveBoxStyle');

var flattenStyle=require('flattenStyle');var 

ElementBox=(function(_React$Component){_inherits(ElementBox,_React$Component);function ElementBox(){_classCallCheck(this,ElementBox);_get(Object.getPrototypeOf(ElementBox.prototype),'constructor',this).apply(this,arguments);}_createClass(ElementBox,[{key:'render',value:
function render(){
var style=flattenStyle(this.props.style) || {};
var margin=resolveBoxStyle('margin',style);
var padding=resolveBoxStyle('padding',style);
var frameStyle=this.props.frame;
if(margin){
frameStyle = {
top:frameStyle.top - margin.top,
left:frameStyle.left - margin.left,
height:frameStyle.height + margin.top + margin.bottom,
width:frameStyle.width + margin.left + margin.right};}


var contentStyle={
width:this.props.frame.width,
height:this.props.frame.height};

if(padding){
contentStyle = {
width:contentStyle.width - padding.left - padding.right,
height:contentStyle.height - padding.top - padding.bottom};}


return (
React.createElement(View,{style:[styles.frame,frameStyle],pointerEvents:'none'},
React.createElement(BorderBox,{box:margin,style:styles.margin},
React.createElement(BorderBox,{box:padding,style:styles.padding},
React.createElement(View,{style:[styles.content,contentStyle]})))));}}]);return ElementBox;})(React.Component);







var styles=StyleSheet.create({
frame:{
position:'absolute'},

content:{
backgroundColor:'rgba(200, 230, 255, 0.8)'},

padding:{
borderColor:'rgba(77, 255, 0, 0.3)'},

margin:{
borderColor:'rgba(255, 132, 0, 0.3)'}});



module.exports = ElementBox;
});
__d('BorderBox',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var React=require('React');
var View=require('View');var 

BorderBox=(function(_React$Component){_inherits(BorderBox,_React$Component);function BorderBox(){_classCallCheck(this,BorderBox);_get(Object.getPrototypeOf(BorderBox.prototype),'constructor',this).apply(this,arguments);}_createClass(BorderBox,[{key:'render',value:
function render(){
var box=this.props.box;
if(!box){
return this.props.children;}

var style={
borderTopWidth:box.top,
borderBottomWidth:box.bottom,
borderLeftWidth:box.left,
borderRightWidth:box.right};

return (
React.createElement(View,{style:[style,this.props.style]},
this.props.children));}}]);return BorderBox;})(React.Component);





module.exports = BorderBox;
});
__d('resolveBoxStyle',function(global, require, module, exports) {  'use strict';





















function resolveBoxStyle(prefix,style){
var res={};
var subs=['top','left','bottom','right'];
var set=false;
subs.forEach(function(sub){
res[sub] = style[prefix] || 0;});

if(style[prefix]){
set = true;}

if(style[prefix + 'Vertical']){
res.top = res.bottom = style[prefix + 'Vertical'];
set = true;}

if(style[prefix + 'Horizontal']){
res.left = res.right = style[prefix + 'Horizontal'];
set = true;}

subs.forEach(function(sub){
var val=style[prefix + capFirst(sub)];
if(val){
res[sub] = val;
set = true;}});


if(!set){
return;}

return res;}


function capFirst(text){
return text[0].toUpperCase() + text.slice(1);}


module.exports = resolveBoxStyle;
});
__d('InspectorPanel',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');
var ElementProperties=require('ElementProperties');
var PerformanceOverlay=require('PerformanceOverlay');
var TouchableHighlight=require('TouchableHighlight');

var PropTypes=React.PropTypes;var 

InspectorPanel=(function(_React$Component){_inherits(InspectorPanel,_React$Component);function InspectorPanel(){_classCallCheck(this,InspectorPanel);_get(Object.getPrototypeOf(InspectorPanel.prototype),'constructor',this).apply(this,arguments);}_createClass(InspectorPanel,[{key:'renderWaiting',value:
function renderWaiting(){
if(this.props.inspecting){
return (
React.createElement(Text,{style:styles.waitingText},'Tap something to inspect it'));}




return React.createElement(Text,{style:styles.waitingText},'Nothing is inspected');}},{key:'render',value:


function render(){
var contents;
if(this.props.inspected){
contents = 
React.createElement(ElementProperties,{
style:this.props.inspected.style,
frame:this.props.inspected.frame,
hierarchy:this.props.hierarchy,
selection:this.props.selection,
setSelection:this.props.setSelection});}else 


if(this.props.perfing){
contents = 
React.createElement(PerformanceOverlay,null);}else 

{
contents = 
React.createElement(View,{style:styles.waiting},
this.renderWaiting());}



return (
React.createElement(View,{style:styles.container},
!this.props.devtoolsIsOpen && contents,
React.createElement(View,{style:styles.buttonRow},
React.createElement(Button,{
title:'Inspect',
pressed:this.props.inspecting,
onClick:this.props.setInspecting}),

React.createElement(Button,{title:'Perf',
pressed:this.props.perfing,
onClick:this.props.setPerfing}))));}}]);return InspectorPanel;})(React.Component);







InspectorPanel.propTypes = {
devtoolsIsOpen:PropTypes.bool,
inspecting:PropTypes.bool,
setInspecting:PropTypes.func,
inspected:PropTypes.object,
perfing:PropTypes.bool,
setPerfing:PropTypes.func};var 


Button=(function(_React$Component2){_inherits(Button,_React$Component2);function Button(){_classCallCheck(this,Button);_get(Object.getPrototypeOf(Button.prototype),'constructor',this).apply(this,arguments);}_createClass(Button,[{key:'render',value:
function render(){var _this=this;
return (
React.createElement(TouchableHighlight,{onPress:function(){return _this.props.onClick(!_this.props.pressed);},style:[
styles.button,
this.props.pressed && styles.buttonPressed]},

React.createElement(Text,{style:styles.buttonText},this.props.title)));}}]);return Button;})(React.Component);





var styles=StyleSheet.create({
buttonRow:{
flexDirection:'row'},

button:{
backgroundColor:'rgba(0, 0, 0, 0.3)',
margin:2,
height:30,
justifyContent:'center',
alignItems:'center'},

buttonPressed:{
backgroundColor:'rgba(255, 255, 255, 0.3)'},

buttonText:{
textAlign:'center',
color:'white',
margin:5},

container:{
backgroundColor:'rgba(0, 0, 0, 0.7)'},

waiting:{
height:100},

waitingText:{
fontSize:20,
textAlign:'center',
marginVertical:20}});



module.exports = InspectorPanel;
});
__d('ElementProperties',function(global, require, module, exports) {  'use strict';












var BoxInspector=require('BoxInspector');
var PropTypes=require('ReactPropTypes');
var React=require('React');
var StyleInspector=require('StyleInspector');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var TouchableHighlight=require('TouchableHighlight');
var TouchableWithoutFeedback=require('TouchableWithoutFeedback');
var View=require('View');

var flattenStyle=require('flattenStyle');
var mapWithSeparator=require('mapWithSeparator');

var ElementProperties=React.createClass({displayName:'ElementProperties',
propTypes:{
hierarchy:PropTypes.array.isRequired,
style:PropTypes.oneOfType([
PropTypes.object,
PropTypes.array,
PropTypes.number])},



render:function(){var _this=this;
var style=flattenStyle(this.props.style);
var selection=this.props.selection;


return (
React.createElement(TouchableWithoutFeedback,null,
React.createElement(View,{style:styles.info},
React.createElement(View,{style:styles.breadcrumb},
mapWithSeparator(
this.props.hierarchy,
function(item,i){return (
React.createElement(TouchableHighlight,{
style:[styles.breadItem,i === selection && styles.selected],
onPress:function(){return _this.props.setSelection(i);}},
React.createElement(Text,{style:styles.breadItemText},
item.getName?item.getName():'Unknown')));},



function(){return React.createElement(Text,{style:styles.breadSep},'▸');})),


React.createElement(View,{style:styles.row},
React.createElement(StyleInspector,{style:style}),
React.createElement(BoxInspector,{style:style,frame:this.props.frame})))));}});







var styles=StyleSheet.create({
breadSep:{
fontSize:8,
color:'white'},

breadcrumb:{
flexDirection:'row',
flexWrap:'wrap',
marginBottom:5},

selected:{
borderColor:'white',
borderRadius:5},

breadItem:{
borderWidth:1,
borderColor:'transparent',
marginHorizontal:2},

breadItemText:{
fontSize:10,
color:'white',
marginHorizontal:5},

row:{
flexDirection:'row',
alignItems:'center',
justifyContent:'space-between'},

info:{
padding:10},

path:{
color:'white',
fontSize:9}});



module.exports = ElementProperties;
});
__d('BoxInspector',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');
var resolveBoxStyle=require('resolveBoxStyle');

var blank={
top:0,
left:0,
right:0,
bottom:0};var 


BoxInspector=(function(_React$Component){_inherits(BoxInspector,_React$Component);function BoxInspector(){_classCallCheck(this,BoxInspector);_get(Object.getPrototypeOf(BoxInspector.prototype),'constructor',this).apply(this,arguments);}_createClass(BoxInspector,[{key:'render',value:
function render(){
var frame=this.props.frame;
var style=this.props.style;
var margin=style && resolveBoxStyle('margin',style) || blank;
var padding=style && resolveBoxStyle('padding',style) || blank;
return (
React.createElement(BoxContainer,{title:'margin',titleStyle:styles.marginLabel,box:margin},
React.createElement(BoxContainer,{title:'padding',box:padding},
React.createElement(View,null,
React.createElement(Text,{style:styles.innerText},'(',
frame.left,', ',frame.top,')'),

React.createElement(Text,{style:styles.innerText},
frame.width,' × ',frame.height)))));}}]);return BoxInspector;})(React.Component);var 








BoxContainer=(function(_React$Component2){_inherits(BoxContainer,_React$Component2);function BoxContainer(){_classCallCheck(this,BoxContainer);_get(Object.getPrototypeOf(BoxContainer.prototype),'constructor',this).apply(this,arguments);}_createClass(BoxContainer,[{key:'render',value:
function render(){
var box=this.props.box;
return (
React.createElement(View,{style:styles.box},
React.createElement(View,{style:styles.row},
React.createElement(Text,{style:[this.props.titleStyle,styles.label]},this.props.title),
React.createElement(Text,{style:styles.boxText},box.top)),

React.createElement(View,{style:styles.row},
React.createElement(Text,{style:styles.boxText},box.left),
this.props.children,
React.createElement(Text,{style:styles.boxText},box.right)),

React.createElement(Text,{style:styles.boxText},box.bottom)));}}]);return BoxContainer;})(React.Component);





var styles=StyleSheet.create({
row:{
flexDirection:'row',
alignItems:'center',
justifyContent:'space-around'},

marginLabel:{
width:60},

label:{
fontSize:10,
color:'rgb(255,100,0)',
marginLeft:5,
flex:1,
textAlign:'left',
top:-3},

buffer:{
fontSize:10,
color:'yellow',
flex:1,
textAlign:'center'},

innerText:{
color:'yellow',
fontSize:12,
textAlign:'center',
width:70},

box:{
borderWidth:1,
borderColor:'grey'},

boxText:{
color:'white',
fontSize:12,
marginHorizontal:3,
marginVertical:2,
textAlign:'center'}});



module.exports = BoxInspector;
});
__d('StyleInspector',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}












var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');var 

StyleInspector=(function(_React$Component){_inherits(StyleInspector,_React$Component);function StyleInspector(){_classCallCheck(this,StyleInspector);_get(Object.getPrototypeOf(StyleInspector.prototype),'constructor',this).apply(this,arguments);}_createClass(StyleInspector,[{key:'render',value:
function render(){var _this=this;
if(!this.props.style){
return React.createElement(Text,{style:styles.noStyle},'No style');}

var names=Object.keys(this.props.style);
return (
React.createElement(View,{style:styles.container},
React.createElement(View,null,
names.map(function(name){return React.createElement(Text,{style:styles.attr},name,':');})),

React.createElement(View,null,
names.map(function(name){return React.createElement(Text,{style:styles.value},_this.props.style[name]);}))));}}]);return StyleInspector;})(React.Component);






var styles=StyleSheet.create({
container:{
flexDirection:'row'},

row:{
flexDirection:'row',
alignItems:'center',
justifyContent:'space-around'},

attr:{
fontSize:10,
color:'#ccc'},

value:{
fontSize:10,
color:'white',
marginLeft:10},

noStyle:{
color:'white',
fontSize:10}});



module.exports = StyleInspector;
});
__d('mapWithSeparator',function(global, require, module, exports) {  'use strict';






function mapWithSeparator(array,valueFunction,separatorFunction){
var results=[];
for(var i=0;i < array.length;i++) {
results.push(valueFunction(array[i],i,array));
if(i !== array.length - 1){
results.push(separatorFunction(i));}}


return results;}


module.exports = mapWithSeparator;
});
__d('PerformanceOverlay',function(global, require, module, exports) {  'use strict';












var PerformanceLogger=require('PerformanceLogger');
var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var View=require('View');

var PerformanceOverlay=React.createClass({displayName:'PerformanceOverlay',
render:function(){
var perfLogs=PerformanceLogger.getTimespans();
var items=[];

for(var key in perfLogs) {
if(perfLogs[key].totalTime){
items.push(
React.createElement(View,{style:styles.row},
React.createElement(Text,{style:[styles.text,styles.label]},key),
React.createElement(Text,{style:[styles.text,styles.totalTime]},
perfLogs[key].totalTime + 'ms')));}}






return (
React.createElement(View,{style:styles.container},
items));}});





var styles=StyleSheet.create({
container:{
height:100,
paddingTop:10},

label:{
flex:1},

row:{
flexDirection:'row',
paddingHorizontal:10},

text:{
color:'white',
fontSize:12},

totalTime:{
paddingRight:100}});



module.exports = PerformanceOverlay;
});
__d('WarningBox',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};











var AsyncStorage=require('AsyncStorage');
var EventEmitter=require('EventEmitter');
var Map=require('Map');
var PanResponder=require('PanResponder');
var React=require('React');
var StyleSheet=require('StyleSheet');
var Text=require('Text');
var TouchableOpacity=require('TouchableOpacity');
var View=require('View');

var invariant=require('invariant');
var rebound=require('rebound/rebound.js');
var stringifySafe=require('stringifySafe');

var SCREEN_WIDTH=require('Dimensions').get('window').width;
var IGNORED_WARNINGS_KEY='__DEV_WARNINGS_IGNORED';

var consoleWarn=console.warn.bind(console);

var warningCounts=new Map();
var ignoredWarnings=[];
var totalWarningCount=0;
var warningCountEvents=new EventEmitter();























if(__DEV__){
console.warn = function(){
consoleWarn.apply(null,arguments);
if(!console.yellowBoxEnabled){
return;}

var warning=Array.prototype.map.call(arguments,stringifySafe).join(' ');
if(!console.yellowBoxResetIgnored && 
ignoredWarnings.indexOf(warning) !== -1){
return;}

var count=warningCounts.has(warning)?warningCounts.get(warning) + 1:1;
warningCounts.set(warning,count);
totalWarningCount += 1;
warningCountEvents.emit('count',totalWarningCount);};}



function saveIgnoredWarnings(){
AsyncStorage.setItem(
IGNORED_WARNINGS_KEY,
JSON.stringify(ignoredWarnings),
function(err){
if(err){
console.warn('Could not save ignored warnings.',err);}});}





AsyncStorage.getItem(IGNORED_WARNINGS_KEY,function(err,data){
if(!err && data && !console.yellowBoxResetIgnored){
ignoredWarnings = JSON.parse(data);}});



var WarningRow=React.createClass({displayName:'WarningRow',
componentWillMount:function(){var _this=this;
this.springSystem = new rebound.SpringSystem();
this.dismissalSpring = this.springSystem.createSpring();
this.dismissalSpring.setRestSpeedThreshold(0.05);
this.dismissalSpring.setCurrentValue(0);
this.dismissalSpring.addListener({
onSpringUpdate:function(){
var val=_this.dismissalSpring.getCurrentValue();
_this.text && _this.text.setNativeProps({
left:SCREEN_WIDTH * val});

_this.container && _this.container.setNativeProps({
opacity:1 - val});

_this.closeButton && _this.closeButton.setNativeProps({
opacity:1 - val * 5});},


onSpringAtRest:function(){
if(_this.dismissalSpring.getCurrentValue()){
_this.collapseSpring.setEndValue(1);}}});



this.collapseSpring = this.springSystem.createSpring();
this.collapseSpring.setRestSpeedThreshold(0.05);
this.collapseSpring.setCurrentValue(0);
this.collapseSpring.getSpringConfig().friction = 20;
this.collapseSpring.getSpringConfig().tension = 200;
this.collapseSpring.addListener({
onSpringUpdate:function(){
var val=_this.collapseSpring.getCurrentValue();
_this.container && _this.container.setNativeProps({
height:Math.abs(46 - val * 46)});},


onSpringAtRest:function(){
_this.props.onDismissed();}});


this.panGesture = PanResponder.create({
onStartShouldSetPanResponder:function(){
return !!_this.dismissalSpring.getCurrentValue();},

onMoveShouldSetPanResponder:function(){return true;},
onPanResponderGrant:function(){
_this.isResponderOnlyToBlockTouches = 
!!_this.dismissalSpring.getCurrentValue();},

onPanResponderMove:function(e,gestureState){
if(_this.isResponderOnlyToBlockTouches){
return;}

_this.dismissalSpring.setCurrentValue(gestureState.dx / SCREEN_WIDTH);},

onPanResponderRelease:function(e,gestureState){
if(_this.isResponderOnlyToBlockTouches){
return;}

var gestureCompletion=gestureState.dx / SCREEN_WIDTH;
var doesGestureRelease=gestureState.vx + gestureCompletion > 0.5;
_this.dismissalSpring.setEndValue(doesGestureRelease?1:0);}});},



render:function(){var _this2=this;
var countText;
if(warningCounts.get(this.props.warning) > 1){
countText = 
React.createElement(Text,{style:styles.bold},'(',
warningCounts.get(this.props.warning),')'," ");}



return (
React.createElement(View,_extends({
style:styles.warningBox,
ref:function(container){_this2.container = container;}},
this.panGesture.panHandlers),
React.createElement(TouchableOpacity,{
onPress:this.props.onOpened},
React.createElement(Text,{
style:styles.warningText,
numberOfLines:2,
ref:function(text){_this2.text = text;}},
countText,
this.props.warning)),


React.createElement(View,{
ref:function(closeButton){_this2.closeButton = closeButton;},
style:styles.closeButton},
React.createElement(TouchableOpacity,{
onPress:function(){
_this2.dismissalSpring.setEndValue(1);}},

React.createElement(Text,{style:styles.closeButtonText},'✕')))));}});







var WarningBoxOpened=React.createClass({displayName:'WarningBoxOpened',
render:function(){
var countText;
if(warningCounts.get(this.props.warning) > 1){
countText = 
React.createElement(Text,{style:styles.bold},'(',
warningCounts.get(this.props.warning),')'," ");}



return (
React.createElement(TouchableOpacity,{
activeOpacity:0.9,
onPress:this.props.onClose,
style:styles.yellowBox},
React.createElement(Text,{style:styles.yellowBoxText},
countText,
this.props.warning),

React.createElement(View,{style:styles.yellowBoxButtons},
React.createElement(TouchableOpacity,{
onPress:this.props.onDismissed,
style:styles.yellowBoxButton},
React.createElement(Text,{style:styles.yellowBoxButtonText},'Dismiss')),



React.createElement(TouchableOpacity,{
onPress:this.props.onIgnored,
style:styles.yellowBoxButton},
React.createElement(Text,{style:styles.yellowBoxButtonText},'Ignore')))));}});









var canMountWarningBox=true;

var WarningBox=React.createClass({displayName:'WarningBox',
getInitialState:function(){
return {
totalWarningCount:totalWarningCount,
openWarning:null};},


componentWillMount:function(){
if(console.yellowBoxResetIgnored){
AsyncStorage.setItem(IGNORED_WARNINGS_KEY,'[]',function(err){
if(err){
console.warn('Could not reset ignored warnings.',err);}});


ignoredWarnings = [];}},


componentDidMount:function(){
invariant(
canMountWarningBox,
'There can only be one WarningBox');

canMountWarningBox = false;
warningCountEvents.addListener(
'count',
this._onWarningCount);},


componentWillUnmount:function(){
warningCountEvents.removeAllListeners();
canMountWarningBox = true;},

_onWarningCount:function(totalWarningCount){var _this3=this;


setImmediate(function(){
_this3.setState({totalWarningCount:totalWarningCount});});},


_onDismiss:function(warning){
warningCounts.delete(warning);
this.setState({
openWarning:null});},


render:function(){var _this4=this;
if(warningCounts.size === 0){
return React.createElement(View,null);}

if(this.state.openWarning){
return (
React.createElement(WarningBoxOpened,{
warning:this.state.openWarning,
onClose:function(){
_this4.setState({openWarning:null});},

onDismissed:this._onDismiss.bind(this,this.state.openWarning),
onIgnored:function(){
ignoredWarnings.push(_this4.state.openWarning);
saveIgnoredWarnings();
_this4._onDismiss(_this4.state.openWarning);}}));}




var warningRows=[];
warningCounts.forEach(function(count,warning){
warningRows.push(
React.createElement(WarningRow,{
key:warning,
onOpened:function(){
_this4.setState({openWarning:warning});},

onDismissed:_this4._onDismiss.bind(_this4,warning),
warning:warning}));});



return (
React.createElement(View,{style:styles.warningContainer},
warningRows));}});





var styles=StyleSheet.create({
bold:{
fontWeight:'bold'},

closeButton:{
position:'absolute',
right:0,
height:46,
width:46},

closeButtonText:{
color:'white',
fontSize:32,
position:'relative',
left:8},

warningContainer:{
position:'absolute',
left:0,
right:0,
bottom:0},

warningBox:{
position:'relative',
backgroundColor:'rgba(171, 124, 36, 0.9)',
flex:1,
height:46},

warningText:{
color:'white',
position:'absolute',
left:0,
marginLeft:15,
marginRight:46,
top:7},

yellowBox:{
backgroundColor:'rgba(171, 124, 36, 0.9)',
position:'absolute',
left:0,
right:0,
top:0,
bottom:0,
padding:15,
paddingTop:35},

yellowBoxText:{
color:'white',
fontSize:20},

yellowBoxButtons:{
flexDirection:'row',
position:'absolute',
bottom:0},

yellowBoxButton:{
flex:1,
padding:25},

yellowBoxButtonText:{
color:'white',
fontSize:16}});



module.exports = WarningBox;
});
__d('AsyncStorage',function(global, require, module, exports) {  'use strict';












var NativeModules=require('NativeModules');
var RCTAsyncLocalStorage=NativeModules.AsyncLocalStorage;
var RCTAsyncRocksDBStorage=NativeModules.AsyncRocksDBStorage;


var RCTAsyncStorage=RCTAsyncRocksDBStorage || RCTAsyncLocalStorage;













var AsyncStorage={




getItem:function(
key,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiGet([key],function(errors,result){

var value=result && result[0] && result[0][1]?result[0][1]:null;
callback && callback(errors && convertError(errors[0]) || null,value);
if(errors){
reject(convertError(errors[0]));}else 
{
resolve(value);}});});},









setItem:function(
key,
value,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiSet([[key,value]],function(errors){
callback && callback(errors && convertError(errors[0]) || null);
if(errors){
reject(convertError(errors[0]));}else 
{
resolve(null);}});});},







removeItem:function(
key,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiRemove([key],function(errors){
callback && callback(errors && convertError(errors[0]) || null);
if(errors){
reject(convertError(errors[0]));}else 
{
resolve(null);}});});},










mergeItem:function(
key,
value,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiMerge([[key,value]],function(errors){
callback && callback(errors && convertError(errors[0]) || null);
if(errors){
reject(convertError(errors[0]));}else 
{
resolve(null);}});});},










clear:function(callback){
return new Promise(function(resolve,reject){
RCTAsyncStorage.clear(function(error){
callback && callback(convertError(error));
if(error && convertError(error)){
reject(convertError(error));}else 
{
resolve(null);}});});},








getAllKeys:function(callback){
return new Promise(function(resolve,reject){
RCTAsyncStorage.getAllKeys(function(error,keys){
callback && callback(convertError(error),keys);
if(error){
reject(convertError(error));}else 
{
resolve(keys);}});});},





















multiGet:function(
keys,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiGet(keys,function(errors,result){
var error=errors && errors.map(function(error){return convertError(error);}) || null;
callback && callback(error,result);
if(errors){
reject(error);}else 
{
resolve(result);}});});},











multiSet:function(
keyValuePairs,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiSet(keyValuePairs,function(errors){
var error=errors && errors.map(function(error){return convertError(error);}) || null;
callback && callback(error);
if(errors){
reject(error);}else 
{
resolve(null);}});});},








multiRemove:function(
keys,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiRemove(keys,function(errors){
var error=errors && errors.map(function(error){return convertError(error);}) || null;
callback && callback(error);
if(errors){
reject(error);}else 
{
resolve(null);}});});},











multiMerge:function(
keyValuePairs,
callback)
{
return new Promise(function(resolve,reject){
RCTAsyncStorage.multiMerge(keyValuePairs,function(errors){
var error=errors && errors.map(function(error){return convertError(error);}) || null;
callback && callback(error);
if(errors){
reject(error);}else 
{
resolve(null);}});});}};







if(!RCTAsyncStorage.multiMerge){
delete AsyncStorage.mergeItem;
delete AsyncStorage.multiMerge;}


function convertError(error){
if(!error){
return null;}

var out=new Error(error.message);
out.key = error.key;
return out;}


module.exports = AsyncStorage;
});
__d('setupDevtools',function(global, require, module, exports) {  'use strict';












function setupDevtools(){
var messageListeners=[];
var closeListeners=[];
var ws=new window.WebSocket('ws://localhost:8081/devtools');

var FOR_BACKEND={
resolveRNStyle:require('flattenStyle'),
wall:{
listen:function(fn){
messageListeners.push(fn);},

onClose:function(fn){
closeListeners.push(fn);},

send:function(data){
ws.send(JSON.stringify(data));}}};



ws.onclose = function(){
console.warn('devtools socket closed');
closeListeners.forEach(function(fn){return fn();});};

ws.onerror = function(error){
console.warn('devtools socket errored',error);
closeListeners.forEach(function(fn){return fn();});};

ws.onopen = function(){
tryToConnect();};


function tryToConnect(){
ws.send('attach:agent');
var _interval=setInterval(function(){return ws.send('attach:agent');},500);
ws.onmessage = function(evt){
if(evt.data.indexOf('eval:') === 0){
clearInterval(_interval);
initialize(evt.data.slice('eval:'.length));}};}




function initialize(text){
try{

eval(text);}
catch(e) {
console.error('Failed to eval' + e.message);
return;}

window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
CurrentOwner:require('ReactCurrentOwner'),
InstanceHandles:require('ReactInstanceHandles'),
Mount:require('ReactNativeMount'),
Reconciler:require('ReactReconciler'),
TextComponent:require('ReactNativeTextComponent')});

ws.onmessage = handleMessage;}


function handleMessage(evt){


var data;
try{
data = JSON.parse(evt.data);}
catch(e) {
return console.error('failed to parse json: ' + evt.data);}


if(data.$close || data.$error){
closeListeners.forEach(function(fn){return fn();});
window.__REACT_DEVTOOLS_GLOBAL_HOOK__.emit('shutdown');
tryToConnect();
return;}

if(data.$open){
return;}

messageListeners.forEach(function(fn){
try{
fn(data);}
catch(e) {



console.log(data);
throw e;}});}}





module.exports = setupDevtools;
});
__d('RCTRenderingPerf',function(global, require, module, exports) {  'use strict';












var ReactDefaultPerf=require('ReactDefaultPerf');

var invariant=require('invariant');






var perfModules=[];
var enabled=false;

var RCTRenderingPerf={

toggle:function(){
console.log('Render perfomance measurements enabled');
enabled = true;},


start:function(){
if(!enabled){
return;}


ReactDefaultPerf.start();
perfModules.forEach(function(module){return module.start();});},


stop:function(){
if(!enabled){
return;}


ReactDefaultPerf.stop();
ReactDefaultPerf.printInclusive();
ReactDefaultPerf.printWasted();

var totalRender=0;
var totalTime=0;
var measurements=ReactDefaultPerf.getLastMeasurements();
for(var ii=0;ii < measurements.length;ii++) {
var render=measurements[ii].render;
for(var nodeName in render) {
totalRender += render[nodeName];}

totalTime += measurements[ii].totalTime;}

console.log('Total time spent in render(): ' + totalRender + 'ms');

perfModules.forEach(function(module){return module.stop();});},


register:function(module){
invariant(
typeof module.start === 'function',
'Perf module should have start() function');

invariant(
typeof module.stop === 'function',
'Perf module should have stop() function');

perfModules.push(module);}};



module.exports = RCTRenderingPerf;
});
__d('ReactDefaultPerf',function(global, require, module, exports) {  'use strict';













var DOMProperty=require('DOMProperty');
var ReactDefaultPerfAnalysis=require('ReactDefaultPerfAnalysis');
var ReactMount=require('ReactMount');
var ReactPerf=require('ReactPerf');

var performanceNow=require('performanceNow');

function roundFloat(val){
return Math.floor(val * 100) / 100;}


function addValue(obj,key,val){
obj[key] = (obj[key] || 0) + val;}


var ReactDefaultPerf={
_allMeasurements:[],
_mountStack:[0],
_injected:false,

start:function(){
if(!ReactDefaultPerf._injected){
ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure);}


ReactDefaultPerf._allMeasurements.length = 0;
ReactPerf.enableMeasure = true;},


stop:function(){
ReactPerf.enableMeasure = false;},


getLastMeasurements:function(){
return ReactDefaultPerf._allMeasurements;},


printExclusive:function(measurements){
measurements = measurements || ReactDefaultPerf._allMeasurements;
var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);
console.table(summary.map(function(item){
return {
'Component class name':item.componentName,
'Total inclusive time (ms)':roundFloat(item.inclusive),
'Exclusive mount time (ms)':roundFloat(item.exclusive),
'Exclusive render time (ms)':roundFloat(item.render),
'Mount time per instance (ms)':roundFloat(item.exclusive / item.count),
'Render time per instance (ms)':roundFloat(item.render / item.count),
'Instances':item.count};}));},






printInclusive:function(measurements){
measurements = measurements || ReactDefaultPerf._allMeasurements;
var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);
console.table(summary.map(function(item){
return {
'Owner > component':item.componentName,
'Inclusive time (ms)':roundFloat(item.time),
'Instances':item.count};}));


console.log(
'Total time:',
ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');},



getMeasurementsSummaryMap:function(measurements){
var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(
measurements,
true);

return summary.map(function(item){
return {
'Owner > component':item.componentName,
'Wasted time (ms)':item.time,
'Instances':item.count};});},




printWasted:function(measurements){
measurements = measurements || ReactDefaultPerf._allMeasurements;
console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));
console.log(
'Total time:',
ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');},



printDOM:function(measurements){
measurements = measurements || ReactDefaultPerf._allMeasurements;
var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);
console.table(summary.map(function(item){
var result={};
result[DOMProperty.ID_ATTRIBUTE_NAME] = item.id;
result['type'] = item.type;
result['args'] = JSON.stringify(item.args);
return result;}));

console.log(
'Total time:',
ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2) + ' ms');},



_recordWrite:function(id,fnName,totalTime,args){

var writes=
ReactDefaultPerf.
_allMeasurements[ReactDefaultPerf._allMeasurements.length - 1].
writes;
writes[id] = writes[id] || [];
writes[id].push({
type:fnName,
time:totalTime,
args:args});},



measure:function(moduleName,fnName,func){
return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key < _len;_key++) {args[_key] = arguments[_key];}
var totalTime;
var rv;
var start;

if(fnName === '_renderNewRootComponent' || 
fnName === 'flushBatchedUpdates'){




ReactDefaultPerf._allMeasurements.push({
exclusive:{},
inclusive:{},
render:{},
counts:{},
writes:{},
displayNames:{},
totalTime:0});

start = performanceNow();
rv = func.apply(this,args);
ReactDefaultPerf._allMeasurements[
ReactDefaultPerf._allMeasurements.length - 1].
totalTime = performanceNow() - start;
return rv;}else 
if(fnName === '_mountImageIntoNode' || 
moduleName === 'ReactDOMIDOperations'){
start = performanceNow();
rv = func.apply(this,args);
totalTime = performanceNow() - start;

if(fnName === '_mountImageIntoNode'){
var mountID=ReactMount.getID(args[1]);
ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0]);}else 
if(fnName === 'dangerouslyProcessChildrenUpdates'){

args[0].forEach(function(update){
var writeArgs={};
if(update.fromIndex !== null){
writeArgs.fromIndex = update.fromIndex;}

if(update.toIndex !== null){
writeArgs.toIndex = update.toIndex;}

if(update.textContent !== null){
writeArgs.textContent = update.textContent;}

if(update.markupIndex !== null){
writeArgs.markup = args[1][update.markupIndex];}

ReactDefaultPerf._recordWrite(
update.parentID,
update.type,
totalTime,
writeArgs);});}else 


{

ReactDefaultPerf._recordWrite(
args[0],
fnName,
totalTime,
Array.prototype.slice.call(args,1));}


return rv;}else 
if(moduleName === 'ReactCompositeComponent' && (
fnName === 'mountComponent' || 
fnName === 'updateComponent' || 
fnName === '_renderValidatedComponent')){

if(typeof this._currentElement.type === 'string'){
return func.apply(this,args);}


var rootNodeID=fnName === 'mountComponent'?
args[0]:
this._rootNodeID;
var isRender=fnName === '_renderValidatedComponent';
var isMount=fnName === 'mountComponent';

var mountStack=ReactDefaultPerf._mountStack;
var entry=ReactDefaultPerf._allMeasurements[
ReactDefaultPerf._allMeasurements.length - 1];


if(isRender){
addValue(entry.counts,rootNodeID,1);}else 
if(isMount){
mountStack.push(0);}


start = performanceNow();
rv = func.apply(this,args);
totalTime = performanceNow() - start;

if(isRender){
addValue(entry.render,rootNodeID,totalTime);}else 
if(isMount){
var subMountTime=mountStack.pop();
mountStack[mountStack.length - 1] += totalTime;
addValue(entry.exclusive,rootNodeID,totalTime - subMountTime);
addValue(entry.inclusive,rootNodeID,totalTime);}else 
{
addValue(entry.inclusive,rootNodeID,totalTime);}


entry.displayNames[rootNodeID] = {
current:this.getName(),
owner:this._currentElement._owner?
this._currentElement._owner.getName():
'<root>'};


return rv;}else 
{
return func.apply(this,args);}};}};





module.exports = ReactDefaultPerf;
});
__d('DOMProperty',function(global, require, module, exports) {  'use strict';













var invariant=require('invariant');

function checkMask(value,bitmask){
return (value & bitmask) === bitmask;}


var DOMPropertyInjection={




MUST_USE_ATTRIBUTE:0x1,
MUST_USE_PROPERTY:0x2,
HAS_SIDE_EFFECTS:0x4,
HAS_BOOLEAN_VALUE:0x8,
HAS_NUMERIC_VALUE:0x10,
HAS_POSITIVE_NUMERIC_VALUE:0x20 | 0x10,
HAS_OVERLOADED_BOOLEAN_VALUE:0x40,





























injectDOMPropertyConfig:function(domPropertyConfig){
var Injection=DOMPropertyInjection;
var Properties=domPropertyConfig.Properties || {};
var DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces || {};
var DOMAttributeNames=domPropertyConfig.DOMAttributeNames || {};
var DOMPropertyNames=domPropertyConfig.DOMPropertyNames || {};
var DOMMutationMethods=domPropertyConfig.DOMMutationMethods || {};

if(domPropertyConfig.isCustomAttribute){
DOMProperty._isCustomAttributeFunctions.push(
domPropertyConfig.isCustomAttribute);}



for(var propName in Properties) {
invariant(
!DOMProperty.properties.hasOwnProperty(propName),
'injectDOMPropertyConfig(...): You\'re trying to inject DOM property ' + 
'\'%s\' which has already been injected. You may be accidentally ' + 
'injecting the same DOM property config twice, or you may be ' + 
'injecting two configs that have conflicting property names.',
propName);


var lowerCased=propName.toLowerCase();
var propConfig=Properties[propName];

var propertyInfo={
attributeName:lowerCased,
attributeNamespace:null,
propertyName:propName,
mutationMethod:null,

mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),
mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),
hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),
hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),
hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),
hasPositiveNumericValue:
checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),
hasOverloadedBooleanValue:
checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};


invariant(
!propertyInfo.mustUseAttribute || !propertyInfo.mustUseProperty,
'DOMProperty: Cannot require using both attribute and property: %s',
propName);

invariant(
propertyInfo.mustUseProperty || !propertyInfo.hasSideEffects,
'DOMProperty: Properties that have side effects must use property: %s',
propName);

invariant(
propertyInfo.hasBooleanValue + propertyInfo.hasNumericValue + 
propertyInfo.hasOverloadedBooleanValue <= 1,
'DOMProperty: Value can be one of boolean, overloaded boolean, or ' + 
'numeric value, but not a combination: %s',
propName);


if(__DEV__){
DOMProperty.getPossibleStandardName[lowerCased] = propName;}


if(DOMAttributeNames.hasOwnProperty(propName)){
var attributeName=DOMAttributeNames[propName];
propertyInfo.attributeName = attributeName;
if(__DEV__){
DOMProperty.getPossibleStandardName[attributeName] = propName;}}



if(DOMAttributeNamespaces.hasOwnProperty(propName)){
propertyInfo.attributeNamespace = DOMAttributeNamespaces[propName];}


if(DOMPropertyNames.hasOwnProperty(propName)){
propertyInfo.propertyName = DOMPropertyNames[propName];}


if(DOMMutationMethods.hasOwnProperty(propName)){
propertyInfo.mutationMethod = DOMMutationMethods[propName];}


DOMProperty.properties[propName] = propertyInfo;}}};



var defaultValueCache={};














var DOMProperty={

ID_ATTRIBUTE_NAME:'data-reactid',





































properties:{},






getPossibleStandardName:__DEV__?{}:null,




_isCustomAttributeFunctions:[],





isCustomAttribute:function(attributeName){
for(var i=0;i < DOMProperty._isCustomAttributeFunctions.length;i++) {
var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];
if(isCustomAttributeFn(attributeName)){
return true;}}


return false;},










getDefaultValueForProperty:function(nodeName,prop){
var nodeDefaults=defaultValueCache[nodeName];
var testElement;
if(!nodeDefaults){
defaultValueCache[nodeName] = nodeDefaults = {};}

if(!(prop in nodeDefaults)){
testElement = document.createElement(nodeName);
nodeDefaults[prop] = testElement[prop];}

return nodeDefaults[prop];},


injection:DOMPropertyInjection};


module.exports = DOMProperty;
});
__d('ReactDefaultPerfAnalysis',function(global, require, module, exports) {  var 










assign=require('Object.assign');


var DONT_CARE_THRESHOLD=1.2;
var DOM_OPERATION_TYPES={
'_mountImageIntoNode':'set innerHTML',
INSERT_MARKUP:'set innerHTML',
MOVE_EXISTING:'move',
REMOVE_NODE:'remove',
TEXT_CONTENT:'set textContent',
'updatePropertyByID':'update attribute',
'deletePropertyByID':'delete attribute',
'updateStylesByID':'update styles',
'updateInnerHTMLByID':'set innerHTML',
'dangerouslyReplaceNodeWithMarkupByID':'replace'};


function getTotalTime(measurements){




var totalTime=0;
for(var i=0;i < measurements.length;i++) {
var measurement=measurements[i];
totalTime += measurement.totalTime;}

return totalTime;}


function getDOMSummary(measurements){
var items=[];
for(var i=0;i < measurements.length;i++) {
var measurement=measurements[i];
var id;

for(id in measurement.writes) {
measurement.writes[id].forEach(function(write){
items.push({
id:id,
type:DOM_OPERATION_TYPES[write.type] || write.type,
args:write.args});});}}




return items;}


function getExclusiveSummary(measurements){
var candidates={};
var displayName;

for(var i=0;i < measurements.length;i++) {
var measurement=measurements[i];
var allIDs=assign(
{},
measurement.exclusive,
measurement.inclusive);


for(var id in allIDs) {
displayName = measurement.displayNames[id].current;

candidates[displayName] = candidates[displayName] || {
componentName:displayName,
inclusive:0,
exclusive:0,
render:0,
count:0};

if(measurement.render[id]){
candidates[displayName].render += measurement.render[id];}

if(measurement.exclusive[id]){
candidates[displayName].exclusive += measurement.exclusive[id];}

if(measurement.inclusive[id]){
candidates[displayName].inclusive += measurement.inclusive[id];}

if(measurement.counts[id]){
candidates[displayName].count += measurement.counts[id];}}}





var arr=[];
for(displayName in candidates) {
if(candidates[displayName].exclusive >= DONT_CARE_THRESHOLD){
arr.push(candidates[displayName]);}}



arr.sort(function(a,b){
return b.exclusive - a.exclusive;});


return arr;}


function getInclusiveSummary(measurements,onlyClean){
var candidates={};
var inclusiveKey;

for(var i=0;i < measurements.length;i++) {
var measurement=measurements[i];
var allIDs=assign(
{},
measurement.exclusive,
measurement.inclusive);

var cleanComponents;

if(onlyClean){
cleanComponents = getUnchangedComponents(measurement);}


for(var id in allIDs) {
if(onlyClean && !cleanComponents[id]){
continue;}


var displayName=measurement.displayNames[id];




inclusiveKey = displayName.owner + ' > ' + displayName.current;

candidates[inclusiveKey] = candidates[inclusiveKey] || {
componentName:inclusiveKey,
time:0,
count:0};


if(measurement.inclusive[id]){
candidates[inclusiveKey].time += measurement.inclusive[id];}

if(measurement.counts[id]){
candidates[inclusiveKey].count += measurement.counts[id];}}}





var arr=[];
for(inclusiveKey in candidates) {
if(candidates[inclusiveKey].time >= DONT_CARE_THRESHOLD){
arr.push(candidates[inclusiveKey]);}}



arr.sort(function(a,b){
return b.time - a.time;});


return arr;}


function getUnchangedComponents(measurement){



var cleanComponents={};
var dirtyLeafIDs=Object.keys(measurement.writes);
var allIDs=assign({},measurement.exclusive,measurement.inclusive);

for(var id in allIDs) {
var isDirty=false;


for(var i=0;i < dirtyLeafIDs.length;i++) {
if(dirtyLeafIDs[i].indexOf(id) === 0){
isDirty = true;
break;}}


if(!isDirty && measurement.counts[id] > 0){
cleanComponents[id] = true;}}


return cleanComponents;}


var ReactDefaultPerfAnalysis={
getExclusiveSummary:getExclusiveSummary,
getInclusiveSummary:getInclusiveSummary,
getDOMSummary:getDOMSummary,
getTotalTime:getTotalTime};


module.exports = ReactDefaultPerfAnalysis;
});
__d('ReactMount',function(global, require, module, exports) {  'use strict';












var DOMProperty=require('DOMProperty');
var ReactBrowserEventEmitter=require('ReactBrowserEventEmitter');
var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactElement=require('ReactElement');
var ReactEmptyComponent=require('ReactEmptyComponent');
var ReactInstanceHandles=require('ReactInstanceHandles');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactMarkupChecksum=require('ReactMarkupChecksum');
var ReactPerf=require('ReactPerf');
var ReactReconciler=require('ReactReconciler');
var ReactUpdateQueue=require('ReactUpdateQueue');
var ReactUpdates=require('ReactUpdates');

var emptyObject=require('emptyObject');
var containsNode=require('containsNode');
var instantiateReactComponent=require('instantiateReactComponent');
var invariant=require('invariant');
var setInnerHTML=require('setInnerHTML');
var shouldUpdateReactComponent=require('shouldUpdateReactComponent');
var validateDOMNesting=require('validateDOMNesting');
var warning=require('warning');

var SEPARATOR=ReactInstanceHandles.SEPARATOR;

var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;
var nodeCache={};

var ELEMENT_NODE_TYPE=1;
var DOC_NODE_TYPE=9;
var DOCUMENT_FRAGMENT_NODE_TYPE=11;


var instancesByReactRootID={};


var containersByReactRootID={};

if(__DEV__){

var rootElementsByReactRootID={};}



var findComponentRootReusableArray=[];







function firstDifferenceIndex(string1,string2){
var minLen=Math.min(string1.length,string2.length);
for(var i=0;i < minLen;i++) {
if(string1.charAt(i) !== string2.charAt(i)){
return i;}}


return string1.length === string2.length?-1:minLen;}







function getReactRootElementInContainer(container){
if(!container){
return null;}


if(container.nodeType === DOC_NODE_TYPE){
return container.documentElement;}else 
{
return container.firstChild;}}







function getReactRootID(container){
var rootElement=getReactRootElementInContainer(container);
return rootElement && ReactMount.getID(rootElement);}












function getID(node){
var id=internalGetID(node);
if(id){
if(nodeCache.hasOwnProperty(id)){
var cached=nodeCache[id];
if(cached !== node){
invariant(
!isValid(cached,id),
'ReactMount: Two valid but unequal nodes with the same `%s`: %s',
ATTR_NAME,id);


nodeCache[id] = node;}}else 

{
nodeCache[id] = node;}}



return id;}


function internalGetID(node){



return node && node.getAttribute && node.getAttribute(ATTR_NAME) || '';}








function setID(node,id){
var oldID=internalGetID(node);
if(oldID !== id){
delete nodeCache[oldID];}

node.setAttribute(ATTR_NAME,id);
nodeCache[id] = node;}









function getNode(id){
if(!nodeCache.hasOwnProperty(id) || !isValid(nodeCache[id],id)){
nodeCache[id] = ReactMount.findReactNodeByID(id);}

return nodeCache[id];}









function getNodeFromInstance(instance){
var id=ReactInstanceMap.get(instance)._rootNodeID;
if(ReactEmptyComponent.isNullComponentID(id)){
return null;}

if(!nodeCache.hasOwnProperty(id) || !isValid(nodeCache[id],id)){
nodeCache[id] = ReactMount.findReactNodeByID(id);}

return nodeCache[id];}












function isValid(node,id){
if(node){
invariant(
internalGetID(node) === id,
'ReactMount: Unexpected modification of `%s`',
ATTR_NAME);


var container=ReactMount.findReactContainerForID(id);
if(container && containsNode(container,node)){
return true;}}



return false;}







function purgeID(id){
delete nodeCache[id];}


var deepestNodeSoFar=null;
function findDeepestCachedAncestorImpl(ancestorID){
var ancestor=nodeCache[ancestorID];
if(ancestor && isValid(ancestor,ancestorID)){
deepestNodeSoFar = ancestor;}else 
{


return false;}}






function findDeepestCachedAncestor(targetID){
deepestNodeSoFar = null;
ReactInstanceHandles.traverseAncestors(
targetID,
findDeepestCachedAncestorImpl);


var foundNode=deepestNodeSoFar;
deepestNodeSoFar = null;
return foundNode;}











function mountComponentIntoNode(
componentInstance,
rootID,
container,
transaction,
shouldReuseMarkup,
context){
if(__DEV__){
if(context === emptyObject){
context = {};}

var tag=container.nodeName.toLowerCase();
context[validateDOMNesting.ancestorInfoContextKey] = 
validateDOMNesting.updatedAncestorInfo(null,tag,null);}

var markup=ReactReconciler.mountComponent(
componentInstance,rootID,transaction,context);

componentInstance._renderedComponent._topLevelWrapper = componentInstance;
ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup);}










function batchedMountComponentIntoNode(
componentInstance,
rootID,
container,
shouldReuseMarkup,
context){
var transaction=ReactUpdates.ReactReconcileTransaction.getPooled();
transaction.perform(
mountComponentIntoNode,
null,
componentInstance,
rootID,
container,
transaction,
shouldReuseMarkup,
context);

ReactUpdates.ReactReconcileTransaction.release(transaction);}











function unmountComponentFromNode(instance,container){
ReactReconciler.unmountComponent(instance);

if(container.nodeType === DOC_NODE_TYPE){
container = container.documentElement;}



while(container.lastChild) {
container.removeChild(container.lastChild);}}








var TopLevelWrapper=function(){};
TopLevelWrapper.prototype.render = function(){

return this.props;};




















var ReactMount={

_instancesByReactRootID:instancesByReactRootID,









scrollMonitor:function(container,renderCallback){
renderCallback();},









_updateRootComponent:function(
prevComponent,
nextElement,
container,
callback){
ReactMount.scrollMonitor(container,function(){
ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement);
if(callback){
ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback);}});



if(__DEV__){

rootElementsByReactRootID[getReactRootID(container)] = 
getReactRootElementInContainer(container);}


return prevComponent;},









_registerComponent:function(nextComponent,container){
invariant(
container && (
container.nodeType === ELEMENT_NODE_TYPE || 
container.nodeType === DOC_NODE_TYPE || 
container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE),

'_registerComponent(...): Target container is not a DOM element.');


ReactBrowserEventEmitter.ensureScrollValueMonitoring();

var reactRootID=ReactMount.registerContainer(container);
instancesByReactRootID[reactRootID] = nextComponent;
return reactRootID;},









_renderNewRootComponent:function(
nextElement,
container,
shouldReuseMarkup,
context)
{



warning(
ReactCurrentOwner.current == null,
'_renderNewRootComponent(): Render methods should be a pure function ' + 
'of props and state; triggering nested component updates from ' + 
'render is not allowed. If necessary, trigger nested updates in ' + 
'componentDidUpdate. Check the render method of %s.',
ReactCurrentOwner.current && ReactCurrentOwner.current.getName() || 
'ReactCompositeComponent');


var componentInstance=instantiateReactComponent(nextElement,null);
var reactRootID=ReactMount._registerComponent(
componentInstance,
container);






ReactUpdates.batchedUpdates(
batchedMountComponentIntoNode,
componentInstance,
reactRootID,
container,
shouldReuseMarkup,
context);


if(__DEV__){

rootElementsByReactRootID[reactRootID] = 
getReactRootElementInContainer(container);}


return componentInstance;},















renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){
invariant(
parentComponent != null && parentComponent._reactInternalInstance != null,
'parentComponent must be a valid React Component');

return ReactMount._renderSubtreeIntoContainer(
parentComponent,
nextElement,
container,
callback);},



_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){
invariant(
ReactElement.isValidElement(nextElement),
'React.render(): Invalid component element.%s',

typeof nextElement === 'string'?
' Instead of passing an element string, make sure to instantiate ' + 
'it by passing it to React.createElement.':
typeof nextElement === 'function'?
' Instead of passing a component class, make sure to instantiate ' + 
'it by passing it to React.createElement.':

nextElement != null && nextElement.props !== undefined?
' This may be caused by unintentionally loading two independent ' + 
'copies of React.':
'');



warning(
!container || !container.tagName || 
container.tagName.toUpperCase() !== 'BODY',
'render(): Rendering components directly into document.body is ' + 
'discouraged, since its children are often manipulated by third-party ' + 
'scripts and browser extensions. This may lead to subtle ' + 
'reconciliation issues. Try rendering into a container element created ' + 
'for your app.');


var nextWrappedElement=new ReactElement(
TopLevelWrapper,
null,
null,
null,
nextElement);


var prevComponent=instancesByReactRootID[getReactRootID(container)];

if(prevComponent){
var prevWrappedElement=prevComponent._currentElement;
var prevElement=prevWrappedElement.props;
if(shouldUpdateReactComponent(prevElement,nextElement)){
return ReactMount._updateRootComponent(
prevComponent,
nextWrappedElement,
container,
callback).
_renderedComponent.getPublicInstance();}else 
{
ReactMount.unmountComponentAtNode(container);}}



var reactRootElement=getReactRootElementInContainer(container);
var containerHasReactMarkup=
reactRootElement && ReactMount.isRenderedByReact(reactRootElement);

if(__DEV__){
if(!containerHasReactMarkup || reactRootElement.nextSibling){
var rootElementSibling=reactRootElement;
while(rootElementSibling) {
if(ReactMount.isRenderedByReact(rootElementSibling)){
warning(
false,
'render(): Target node has markup rendered by React, but there ' + 
'are unrelated nodes as well. This is most commonly caused by ' + 
'white-space inserted around server-rendered markup.');

break;}


rootElementSibling = rootElementSibling.nextSibling;}}}




var shouldReuseMarkup=containerHasReactMarkup && !prevComponent;
var component=ReactMount._renderNewRootComponent(
nextWrappedElement,
container,
shouldReuseMarkup,
parentComponent != null?
parentComponent._reactInternalInstance._processChildContext(
parentComponent._reactInternalInstance._context):

emptyObject).
_renderedComponent.getPublicInstance();
if(callback){
callback.call(component);}

return component;},















render:function(nextElement,container,callback){
return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback);},










registerContainer:function(container){
var reactRootID=getReactRootID(container);
if(reactRootID){

reactRootID = ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID);}

if(!reactRootID){

reactRootID = ReactInstanceHandles.createReactRootID();}

containersByReactRootID[reactRootID] = container;
return reactRootID;},









unmountComponentAtNode:function(container){




warning(
ReactCurrentOwner.current == null,
'unmountComponentAtNode(): Render methods should be a pure function ' + 
'of props and state; triggering nested component updates from render ' + 
'is not allowed. If necessary, trigger nested updates in ' + 
'componentDidUpdate. Check the render method of %s.',
ReactCurrentOwner.current && ReactCurrentOwner.current.getName() || 
'ReactCompositeComponent');


invariant(
container && (
container.nodeType === ELEMENT_NODE_TYPE || 
container.nodeType === DOC_NODE_TYPE || 
container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE),

'unmountComponentAtNode(...): Target container is not a DOM element.');


var reactRootID=getReactRootID(container);
var component=instancesByReactRootID[reactRootID];
if(!component){
return false;}

ReactUpdates.batchedUpdates(
unmountComponentFromNode,
component,
container);

delete instancesByReactRootID[reactRootID];
delete containersByReactRootID[reactRootID];
if(__DEV__){
delete rootElementsByReactRootID[reactRootID];}

return true;},









findReactContainerForID:function(id){
var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);
var container=containersByReactRootID[reactRootID];

if(__DEV__){
var rootElement=rootElementsByReactRootID[reactRootID];
if(rootElement && rootElement.parentNode !== container){
warning(


internalGetID(rootElement) === reactRootID,
'ReactMount: Root element ID differed from reactRootID.');

var containerChild=container.firstChild;
if(containerChild && 
reactRootID === internalGetID(containerChild)){




rootElementsByReactRootID[reactRootID] = containerChild;}else 
{
warning(
false,
'ReactMount: Root element has been removed from its original ' + 
'container. New container: %s',
rootElement.parentNode);}}}





return container;},








findReactNodeByID:function(id){
var reactRoot=ReactMount.findReactContainerForID(id);
return ReactMount.findComponentRoot(reactRoot,id);},









isRenderedByReact:function(node){
if(node.nodeType !== 1){

return false;}

var id=ReactMount.getID(node);
return id?id.charAt(0) === SEPARATOR:false;},










getFirstReactDOM:function(node){
var current=node;
while(current && current.parentNode !== current) {
if(ReactMount.isRenderedByReact(current)){
return current;}

current = current.parentNode;}

return null;},












findComponentRoot:function(ancestorNode,targetID){
var firstChildren=findComponentRootReusableArray;
var childIndex=0;

var deepestAncestor=findDeepestCachedAncestor(targetID) || ancestorNode;

firstChildren[0] = deepestAncestor.firstChild;
firstChildren.length = 1;

while(childIndex < firstChildren.length) {
var child=firstChildren[childIndex++];
var targetChild;

while(child) {
var childID=ReactMount.getID(child);
if(childID){





if(targetID === childID){
targetChild = child;}else 
if(ReactInstanceHandles.isAncestorIDOf(childID,targetID)){




firstChildren.length = childIndex = 0;
firstChildren.push(child.firstChild);}}else 


{





firstChildren.push(child.firstChild);}


child = child.nextSibling;}


if(targetChild){



firstChildren.length = 0;

return targetChild;}}



firstChildren.length = 0;

invariant(
false,
'findComponentRoot(..., %s): Unable to find element. This probably ' + 
'means the DOM was unexpectedly mutated (e.g., by the browser), ' + 
'usually due to forgetting a <tbody> when using tables, nesting tags ' + 
'like <form>, <p>, or <a>, or using non-SVG elements in an <svg> ' + 
'parent. ' + 
'Try inspecting the child nodes of the element with React ID `%s`.',
targetID,
ReactMount.getID(ancestorNode));},



_mountImageIntoNode:function(markup,container,shouldReuseMarkup){
invariant(
container && (
container.nodeType === ELEMENT_NODE_TYPE || 
container.nodeType === DOC_NODE_TYPE || 
container.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE),

'mountComponentIntoNode(...): Target container is not valid.');


if(shouldReuseMarkup){
var rootElement=getReactRootElementInContainer(container);
if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement)){
return;}else 
{
var checksum=rootElement.getAttribute(
ReactMarkupChecksum.CHECKSUM_ATTR_NAME);

rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);

var rootMarkup=rootElement.outerHTML;
rootElement.setAttribute(
ReactMarkupChecksum.CHECKSUM_ATTR_NAME,
checksum);


var diffIndex=firstDifferenceIndex(markup,rootMarkup);
var difference=' (client) ' + 
markup.substring(diffIndex - 20,diffIndex + 20) + 
'\n (server) ' + rootMarkup.substring(diffIndex - 20,diffIndex + 20);

invariant(
container.nodeType !== DOC_NODE_TYPE,
'You\'re trying to render a component to the document using ' + 
'server rendering but the checksum was invalid. This usually ' + 
'means you rendered a different component type or props on ' + 
'the client from the one on the server, or your render() ' + 
'methods are impure. React cannot handle this case due to ' + 
'cross-browser quirks by rendering at the document root. You ' + 
'should look for environment dependent code in your components ' + 
'and ensure the props are the same client and server side:\n%s',
difference);


if(__DEV__){
warning(
false,
'React attempted to reuse markup in a container but the ' + 
'checksum was invalid. This generally means that you are ' + 
'using server rendering and the markup generated on the ' + 
'server was not what the client was expecting. React injected ' + 
'new markup to compensate which works but you have lost many ' + 
'of the benefits of server rendering. Instead, figure out ' + 
'why the markup being generated is different on the client ' + 
'or server:\n%s',
difference);}}}





invariant(
container.nodeType !== DOC_NODE_TYPE,
'You\'re trying to render a component to the document but ' + 
'you didn\'t use server rendering. We can\'t do this ' + 
'without using server rendering due to cross-browser quirks. ' + 
'See React.renderToString() for server rendering.');


setInnerHTML(container,markup);},






getReactRootID:getReactRootID,

getID:getID,

setID:setID,

getNode:getNode,

getNodeFromInstance:getNodeFromInstance,

purgeID:purgeID};


ReactPerf.measureMethods(ReactMount,'ReactMount',{
_renderNewRootComponent:'_renderNewRootComponent',
_mountImageIntoNode:'_mountImageIntoNode'});


module.exports = ReactMount;
});
__d('ReactBrowserEventEmitter',function(global, require, module, exports) {  'use strict';













var EventConstants=require('EventConstants');
var EventPluginHub=require('EventPluginHub');
var EventPluginRegistry=require('EventPluginRegistry');
var ReactEventEmitterMixin=require('ReactEventEmitterMixin');
var ViewportMetrics=require('ViewportMetrics');

var assign=require('Object.assign');
var isEventSupported=require('isEventSupported');
























































var alreadyListeningTo={};
var isMonitoringScrollValue=false;
var reactTopListenersCounter=0;




var topEventMapping={
topBlur:'blur',
topChange:'change',
topClick:'click',
topCompositionEnd:'compositionend',
topCompositionStart:'compositionstart',
topCompositionUpdate:'compositionupdate',
topContextMenu:'contextmenu',
topCopy:'copy',
topCut:'cut',
topDoubleClick:'dblclick',
topDrag:'drag',
topDragEnd:'dragend',
topDragEnter:'dragenter',
topDragExit:'dragexit',
topDragLeave:'dragleave',
topDragOver:'dragover',
topDragStart:'dragstart',
topDrop:'drop',
topFocus:'focus',
topInput:'input',
topKeyDown:'keydown',
topKeyPress:'keypress',
topKeyUp:'keyup',
topMouseDown:'mousedown',
topMouseMove:'mousemove',
topMouseOut:'mouseout',
topMouseOver:'mouseover',
topMouseUp:'mouseup',
topPaste:'paste',
topScroll:'scroll',
topSelectionChange:'selectionchange',
topTextInput:'textInput',
topTouchCancel:'touchcancel',
topTouchEnd:'touchend',
topTouchMove:'touchmove',
topTouchStart:'touchstart',
topWheel:'wheel'};





var topListenersIDKey='_reactListenersID' + String(Math.random()).slice(2);

function getListeningForDocument(mountAt){


if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){
mountAt[topListenersIDKey] = reactTopListenersCounter++;
alreadyListeningTo[mountAt[topListenersIDKey]] = {};}

return alreadyListeningTo[mountAt[topListenersIDKey]];}












var ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{




ReactEventListener:null,

injection:{



injectReactEventListener:function(ReactEventListener){
ReactEventListener.setHandleTopLevel(
ReactBrowserEventEmitter.handleTopLevel);

ReactBrowserEventEmitter.ReactEventListener = ReactEventListener;}},








setEnabled:function(enabled){
if(ReactBrowserEventEmitter.ReactEventListener){
ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled);}},






isEnabled:function(){
return !!(
ReactBrowserEventEmitter.ReactEventListener && 
ReactBrowserEventEmitter.ReactEventListener.isEnabled());},
























listenTo:function(registrationName,contentDocumentHandle){
var mountAt=contentDocumentHandle;
var isListening=getListeningForDocument(mountAt);
var dependencies=
EventPluginRegistry.registrationNameDependencies[registrationName];

var topLevelTypes=EventConstants.topLevelTypes;
for(var i=0;i < dependencies.length;i++) {
var dependency=dependencies[i];
if(!(
isListening.hasOwnProperty(dependency) && 
isListening[dependency]))
{
if(dependency === topLevelTypes.topWheel){
if(isEventSupported('wheel')){
ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topWheel,
'wheel',
mountAt);}else 

if(isEventSupported('mousewheel')){
ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topWheel,
'mousewheel',
mountAt);}else 

{


ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topWheel,
'DOMMouseScroll',
mountAt);}}else 


if(dependency === topLevelTypes.topScroll){

if(isEventSupported('scroll',true)){
ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
topLevelTypes.topScroll,
'scroll',
mountAt);}else 

{
ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topScroll,
'scroll',
ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE);}}else 


if(dependency === topLevelTypes.topFocus || 
dependency === topLevelTypes.topBlur){

if(isEventSupported('focus',true)){
ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
topLevelTypes.topFocus,
'focus',
mountAt);

ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
topLevelTypes.topBlur,
'blur',
mountAt);}else 

if(isEventSupported('focusin')){


ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topFocus,
'focusin',
mountAt);

ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelTypes.topBlur,
'focusout',
mountAt);}




isListening[topLevelTypes.topBlur] = true;
isListening[topLevelTypes.topFocus] = true;}else 
if(topEventMapping.hasOwnProperty(dependency)){
ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
dependency,
topEventMapping[dependency],
mountAt);}



isListening[dependency] = true;}}},




trapBubbledEvent:function(topLevelType,handlerBaseName,handle){
return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(
topLevelType,
handlerBaseName,
handle);},



trapCapturedEvent:function(topLevelType,handlerBaseName,handle){
return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(
topLevelType,
handlerBaseName,
handle);},











ensureScrollValueMonitoring:function(){
if(!isMonitoringScrollValue){
var refresh=ViewportMetrics.refreshScrollValues;
ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);
isMonitoringScrollValue = true;}},



eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,

registrationNameModules:EventPluginHub.registrationNameModules,

putListener:EventPluginHub.putListener,

getListener:EventPluginHub.getListener,

deleteListener:EventPluginHub.deleteListener,

deleteAllListeners:EventPluginHub.deleteAllListeners});



module.exports = ReactBrowserEventEmitter;
});
__d('ViewportMetrics',function(global, require, module, exports) {  'use strict';












var ViewportMetrics={

currentScrollLeft:0,

currentScrollTop:0,

refreshScrollValues:function(scrollPosition){
ViewportMetrics.currentScrollLeft = scrollPosition.x;
ViewportMetrics.currentScrollTop = scrollPosition.y;}};




module.exports = ViewportMetrics;
});
__d('isEventSupported',function(global, require, module, exports) {  'use strict';












var ExecutionEnvironment=require('ExecutionEnvironment');

var useHasFeature;
if(ExecutionEnvironment.canUseDOM){
useHasFeature = 
document.implementation && 
document.implementation.hasFeature && 


document.implementation.hasFeature('','') !== true;}


/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function isEventSupported(eventNameSuffix,capture){
if(!ExecutionEnvironment.canUseDOM || 
capture && !('addEventListener' in document)){
return false;}


var eventName='on' + eventNameSuffix;
var isSupported=(eventName in document);

if(!isSupported){
var element=document.createElement('div');
element.setAttribute(eventName,'return;');
isSupported = typeof element[eventName] === 'function';}


if(!isSupported && useHasFeature && eventNameSuffix === 'wheel'){

isSupported = document.implementation.hasFeature('Events.wheel','3.0');}


return isSupported;}


module.exports = isEventSupported;
});
__d('ReactMarkupChecksum',function(global, require, module, exports) {  'use strict';












var adler32=require('adler32');

var ReactMarkupChecksum={
CHECKSUM_ATTR_NAME:'data-react-checksum',





addChecksumToMarkup:function(markup){
var checksum=adler32(markup);
return markup.replace(
'>',
' ' + ReactMarkupChecksum.CHECKSUM_ATTR_NAME + '="' + checksum + '">');},








canReuseMarkup:function(markup,element){
var existingChecksum=element.getAttribute(
ReactMarkupChecksum.CHECKSUM_ATTR_NAME);

existingChecksum = existingChecksum && parseInt(existingChecksum,10);
var markupChecksum=adler32(markup);
return markupChecksum === existingChecksum;}};



module.exports = ReactMarkupChecksum;
});
__d('adler32',function(global, require, module, exports) {  'use strict';












var MOD=65521;





function adler32(data){
var a=1;
var b=0;
for(var i=0;i < data.length;i++) {
a = (a + data.charCodeAt(i)) % MOD;
b = (b + a) % MOD;}

return a | b << 16;}


module.exports = adler32;
});
__d('containsNode',function(global, require, module, exports) {  var 











isTextNode=require('isTextNode');










function containsNode(outerNode,innerNode){
if(!outerNode || !innerNode){
return false;}else 
if(outerNode === innerNode){
return true;}else 
if(isTextNode(outerNode)){
return false;}else 
if(isTextNode(innerNode)){
return containsNode(outerNode,innerNode.parentNode);}else 
if(outerNode.contains){
return outerNode.contains(innerNode);}else 
if(outerNode.compareDocumentPosition){
return !!(outerNode.compareDocumentPosition(innerNode) & 16);}else 
{
return false;}}



module.exports = containsNode;
});
__d('isTextNode',function(global, require, module, exports) {  var 











isNode=require('isNode');





function isTextNode(object){
return isNode(object) && object.nodeType == 3;}


module.exports = isTextNode;
});
__d('setInnerHTML',function(global, require, module, exports) {  'use strict';














var ExecutionEnvironment=require('ExecutionEnvironment');

var WHITESPACE_TEST=/^[ \r\n\t\f]/;
var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;









var setInnerHTML=function(node,html){
node.innerHTML = html;};



if(typeof MSApp !== 'undefined' && MSApp.execUnsafeLocalFunction){
setInnerHTML = function(node,html){
MSApp.execUnsafeLocalFunction(function(){
node.innerHTML = html;});};}




if(ExecutionEnvironment.canUseDOM){






var testElement=document.createElement('div');
testElement.innerHTML = ' ';
if(testElement.innerHTML === ''){
setInnerHTML = function(node,html){





if(node.parentNode){
node.parentNode.replaceChild(node,node);}






if(WHITESPACE_TEST.test(html) || 
html[0] === '<' && NONVISIBLE_TEST.test(html)){






node.innerHTML = String.fromCharCode(0xFEFF) + html;



var textNode=node.firstChild;
if(textNode.data.length === 1){
node.removeChild(textNode);}else 
{
textNode.deleteData(0,1);}}else 

{
node.innerHTML = html;}};}}





module.exports = setInnerHTML;
});
__d('validateDOMNesting',function(global, require, module, exports) {  'use strict';












var assign=require('Object.assign');
var emptyFunction=require('emptyFunction');
var warning=require('warning');

var validateDOMNesting=emptyFunction;

if(__DEV__){












var specialTags=[
'address','applet','area','article','aside','base','basefont',
'bgsound','blockquote','body','br','button','caption','center','col',
'colgroup','dd','details','dir','div','dl','dt','embed','fieldset',
'figcaption','figure','footer','form','frame','frameset','h1','h2',
'h3','h4','h5','h6','head','header','hgroup','hr','html','iframe',
'img','input','isindex','li','link','listing','main','marquee',
'menu','menuitem','meta','nav','noembed','noframes','noscript',
'object','ol','p','param','plaintext','pre','script','section',
'select','source','style','summary','table','tbody','td','template',
'textarea','tfoot','th','thead','title','tr','track','ul','wbr',
'xmp'];



var inScopeTags=[
'applet','caption','html','table','td','th','marquee','object',
'template',




'foreignObject','desc','title'];



var buttonScopeTags=inScopeTags.concat(['button']);


var impliedEndTags=
['dd','dt','li','option','optgroup','p','rp','rt'];

var emptyAncestorInfo={
parentTag:null,

formTag:null,
aTagInScope:null,
buttonTagInScope:null,
nobrTagInScope:null,
pTagInButtonScope:null,

listItemTagAutoclosing:null,
dlItemTagAutoclosing:null};


var updatedAncestorInfo=function(oldInfo,tag,instance){
var ancestorInfo=assign({},oldInfo || emptyAncestorInfo);
var info={tag:tag,instance:instance};

if(inScopeTags.indexOf(tag) !== -1){
ancestorInfo.aTagInScope = null;
ancestorInfo.buttonTagInScope = null;
ancestorInfo.nobrTagInScope = null;}

if(buttonScopeTags.indexOf(tag) !== -1){
ancestorInfo.pTagInButtonScope = null;}




if(
specialTags.indexOf(tag) !== -1 && 
tag !== 'address' && tag !== 'div' && tag !== 'p')
{
ancestorInfo.listItemTagAutoclosing = null;
ancestorInfo.dlItemTagAutoclosing = null;}


ancestorInfo.parentTag = info;

if(tag === 'form'){
ancestorInfo.formTag = info;}

if(tag === 'a'){
ancestorInfo.aTagInScope = info;}

if(tag === 'button'){
ancestorInfo.buttonTagInScope = info;}

if(tag === 'nobr'){
ancestorInfo.nobrTagInScope = info;}

if(tag === 'p'){
ancestorInfo.pTagInButtonScope = info;}

if(tag === 'li'){
ancestorInfo.listItemTagAutoclosing = info;}

if(tag === 'dd' || tag === 'dt'){
ancestorInfo.dlItemTagAutoclosing = info;}


return ancestorInfo;};





var isTagValidWithParent=function(tag,parentTag){

switch(parentTag){

case 'select':
return tag === 'option' || tag === 'optgroup' || tag === '#text';
case 'optgroup':
return tag === 'option' || tag === '#text';


case 'option':
return tag === '#text';







case 'tr':
return (
tag === 'th' || tag === 'td' || tag === 'style' || tag === 'script' || 
tag === 'template');



case 'tbody':
case 'thead':
case 'tfoot':
return (
tag === 'tr' || tag === 'style' || tag === 'script' || 
tag === 'template');



case 'colgroup':
return tag === 'col' || tag === 'template';


case 'table':
return (
tag === 'caption' || tag === 'colgroup' || tag === 'tbody' || 
tag === 'tfoot' || tag === 'thead' || tag === 'style' || 
tag === 'script' || tag === 'template');



case 'head':
return (
tag === 'base' || tag === 'basefont' || tag === 'bgsound' || 
tag === 'link' || tag === 'meta' || tag === 'title' || 
tag === 'noscript' || tag === 'noframes' || tag === 'style' || 
tag === 'script' || tag === 'template');



case 'html':
return tag === 'head' || tag === 'body';}





switch(tag){
case 'h1':
case 'h2':
case 'h3':
case 'h4':
case 'h5':
case 'h6':
return (
parentTag !== 'h1' && parentTag !== 'h2' && parentTag !== 'h3' && 
parentTag !== 'h4' && parentTag !== 'h5' && parentTag !== 'h6');


case 'rp':
case 'rt':
return impliedEndTags.indexOf(parentTag) === -1;

case 'caption':
case 'col':
case 'colgroup':
case 'frame':
case 'head':
case 'tbody':
case 'td':
case 'tfoot':
case 'th':
case 'thead':
case 'tr':




return parentTag == null;}


return true;};





var findInvalidAncestorForTag=function(tag,ancestorInfo){
switch(tag){
case 'address':
case 'article':
case 'aside':
case 'blockquote':
case 'center':
case 'details':
case 'dialog':
case 'dir':
case 'div':
case 'dl':
case 'fieldset':
case 'figcaption':
case 'figure':
case 'footer':
case 'header':
case 'hgroup':
case 'main':
case 'menu':
case 'nav':
case 'ol':
case 'p':
case 'section':
case 'summary':
case 'ul':

case 'pre':
case 'listing':

case 'table':

case 'hr':

case 'xmp':

case 'h1':
case 'h2':
case 'h3':
case 'h4':
case 'h5':
case 'h6':
return ancestorInfo.pTagInButtonScope;

case 'form':
return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope;

case 'li':
return ancestorInfo.listItemTagAutoclosing;

case 'dd':
case 'dt':
return ancestorInfo.dlItemTagAutoclosing;

case 'button':
return ancestorInfo.buttonTagInScope;

case 'a':


return ancestorInfo.aTagInScope;

case 'nobr':
return ancestorInfo.nobrTagInScope;}


return null;};






var findOwnerStack=function(instance){
if(!instance){
return [];}


var stack=[];

do {

stack.push(instance);}while(
instance = instance._currentElement._owner);
stack.reverse();
return stack;};


var didWarn={};

validateDOMNesting = function(childTag,childInstance,ancestorInfo){
ancestorInfo = ancestorInfo || emptyAncestorInfo;
var parentInfo=ancestorInfo.parentTag;
var parentTag=parentInfo && parentInfo.tag;

var invalidParent=
isTagValidWithParent(childTag,parentTag)?null:parentInfo;
var invalidAncestor=
invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo);
var problematic=invalidParent || invalidAncestor;

if(problematic){
var ancestorTag=problematic.tag;
var ancestorInstance=problematic.instance;

var childOwner=childInstance && childInstance._currentElement._owner;
var ancestorOwner=
ancestorInstance && ancestorInstance._currentElement._owner;

var childOwners=findOwnerStack(childOwner);
var ancestorOwners=findOwnerStack(ancestorOwner);

var minStackLen=Math.min(childOwners.length,ancestorOwners.length);
var i;

var deepestCommon=-1;
for(i = 0;i < minStackLen;i++) {
if(childOwners[i] === ancestorOwners[i]){
deepestCommon = i;}else 
{
break;}}



var UNKNOWN='(unknown)';
var childOwnerNames=childOwners.slice(deepestCommon + 1).map(
function(inst){return inst.getName() || UNKNOWN;});

var ancestorOwnerNames=ancestorOwners.slice(deepestCommon + 1).map(
function(inst){return inst.getName() || UNKNOWN;});

var ownerInfo=[].concat(


deepestCommon !== -1?
childOwners[deepestCommon].getName() || UNKNOWN:
[],
ancestorOwnerNames,
ancestorTag,

invalidAncestor?['...']:[],
childOwnerNames,
childTag).
join(' > ');

var warnKey=
!!invalidParent + '|' + childTag + '|' + ancestorTag + '|' + ownerInfo;
if(didWarn[warnKey]){
return;}

didWarn[warnKey] = true;

if(invalidParent){
var info='';
if(ancestorTag === 'table' && childTag === 'tr'){
info += 
' Add a <tbody> to your code to match the DOM tree generated by ' + 
'the browser.';}

warning(
false,
'validateDOMNesting(...): <%s> cannot appear as a child of <%s>. ' + 
'See %s.%s',
childTag,
ancestorTag,
ownerInfo,
info);}else 

{
warning(
false,
'validateDOMNesting(...): <%s> cannot appear as a descendant of ' + 
'<%s>. See %s.',
childTag,
ancestorTag,
ownerInfo);}}};





validateDOMNesting.ancestorInfoContextKey = 
'__validateDOMNesting_ancestorInfo$' + Math.random().toString(36).slice(2);

validateDOMNesting.updatedAncestorInfo = updatedAncestorInfo;


validateDOMNesting.isTagValidInContext = function(tag,ancestorInfo){
ancestorInfo = ancestorInfo || emptyAncestorInfo;
var parentInfo=ancestorInfo.parentTag;
var parentTag=parentInfo && parentInfo.tag;
return (
isTagValidWithParent(tag,parentTag) && 
!findInvalidAncestorForTag(tag,ancestorInfo));};}




module.exports = validateDOMNesting;
});
__d('AppStateIOS',function(global, require, module, exports) {  'use strict';












var Map=require('Map');
var NativeModules=require('NativeModules');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTAppState=NativeModules.AppState;

var logError=require('logError');
var invariant=require('invariant');

var _eventHandlers={
change:new Map(),
memoryWarning:new Map()};





















































var AppStateIOS={





addEventListener:function(
type,
handler)
{
invariant(
['change','memoryWarning'].indexOf(type) !== -1,
'Trying to subscribe to unknown event: "%s"',type);

if(type === 'change'){
_eventHandlers[type].set(handler,RCTDeviceEventEmitter.addListener(
'appStateDidChange',
function(appStateData){
handler(appStateData.app_state);}));}else 


if(type === 'memoryWarning'){
_eventHandlers[type].set(handler,RCTDeviceEventEmitter.addListener(
'memoryWarning',
handler));}},







removeEventListener:function(
type,
handler)
{
invariant(
['change','memoryWarning'].indexOf(type) !== -1,
'Trying to remove listener for unknown event: "%s"',type);

if(!_eventHandlers[type].has(handler)){
return;}

_eventHandlers[type].get(handler).remove();
_eventHandlers[type].delete(handler);},






currentState:'active'};



RCTDeviceEventEmitter.addListener(
'appStateDidChange',
function(appStateData){
AppStateIOS.currentState = appStateData.app_state;});



RCTAppState.getCurrentAppState(
function(appStateData){
AppStateIOS.currentState = appStateData.app_state;},

logError);


module.exports = AppStateIOS;
});
__d('BackAndroid',function(global, require, module, exports) {  'use strict';














var warning=require('warning');

function platformWarn(){
warning(false,'BackAndroid is not supported on this platform.');}


var BackAndroid={
exitApp:platformWarn,
addEventListener:platformWarn,
removeEventListener:platformWarn};


module.exports = BackAndroid;
});
__d('CameraRoll',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var ReactPropTypes=require('ReactPropTypes');
var RCTCameraRollManager=require('NativeModules').CameraRollManager;

var createStrictShapeTypeChecker=require('createStrictShapeTypeChecker');
var deepFreezeAndThrowOnMutationInDev=
require('deepFreezeAndThrowOnMutationInDev');
var invariant=require('invariant');

var GROUP_TYPES_OPTIONS=[
'Album',
'All',
'Event',
'Faces',
'Library',
'PhotoStream',
'SavedPhotos'];


var ASSET_TYPE_OPTIONS=[
'All',
'Videos',
'Photos'];




deepFreezeAndThrowOnMutationInDev(GROUP_TYPES_OPTIONS);
deepFreezeAndThrowOnMutationInDev(ASSET_TYPE_OPTIONS);




var getPhotosParamChecker=createStrictShapeTypeChecker({




first:ReactPropTypes.number.isRequired,





after:ReactPropTypes.string,




groupTypes:ReactPropTypes.oneOf(GROUP_TYPES_OPTIONS),





groupName:ReactPropTypes.string,




assetType:ReactPropTypes.oneOf(ASSET_TYPE_OPTIONS),




mimeTypes:ReactPropTypes.arrayOf(ReactPropTypes.string)});





var getPhotosReturnChecker=createStrictShapeTypeChecker({
edges:ReactPropTypes.arrayOf(createStrictShapeTypeChecker({
node:createStrictShapeTypeChecker({
type:ReactPropTypes.string.isRequired,
group_name:ReactPropTypes.string.isRequired,
image:createStrictShapeTypeChecker({
uri:ReactPropTypes.string.isRequired,
height:ReactPropTypes.number.isRequired,
width:ReactPropTypes.number.isRequired,
isStored:ReactPropTypes.bool}).
isRequired,
timestamp:ReactPropTypes.number.isRequired,
location:createStrictShapeTypeChecker({
latitude:ReactPropTypes.number,
longitude:ReactPropTypes.number,
altitude:ReactPropTypes.number,
heading:ReactPropTypes.number,
speed:ReactPropTypes.number})}).

isRequired})).
isRequired,
page_info:createStrictShapeTypeChecker({
has_next_page:ReactPropTypes.bool.isRequired,
start_cursor:ReactPropTypes.string,
end_cursor:ReactPropTypes.string}).
isRequired});var 





CameraRoll=(function(){function CameraRoll(){_classCallCheck(this,CameraRoll);}_createClass(CameraRoll,null,[{key:'saveImageWithTag',value:



















function saveImageWithTag(tag,successCallback,errorCallback){
invariant(
typeof tag === 'string',
'CameraRoll.saveImageWithTag tag must be a valid string.');

RCTCameraRollManager.saveImageWithTag(
tag,
function(imageTag){
successCallback && successCallback(imageTag);},

function(errorMessage){
errorCallback && errorCallback(errorMessage);});}},{key:'getPhotos',value:












function getPhotos(params,callback,errorCallback){
var metaCallback=callback;
if(__DEV__){
getPhotosParamChecker({params:params},'params','CameraRoll.getPhotos');
invariant(
typeof callback === 'function',
'CameraRoll.getPhotos callback must be a valid function.');

invariant(
typeof errorCallback === 'function',
'CameraRoll.getPhotos errorCallback must be a valid function.');}


if(__DEV__){
metaCallback = function(response){
getPhotosReturnChecker(
{response:response},
'response',
'CameraRoll.getPhotos callback');

callback(response);};}


RCTCameraRollManager.getPhotos(params,metaCallback,errorCallback);}}]);return CameraRoll;})();



CameraRoll.GroupTypesOptions = GROUP_TYPES_OPTIONS;
CameraRoll.AssetTypeOptions = ASSET_TYPE_OPTIONS;

module.exports = CameraRoll;
});
__d('ImagePickerIOS',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};












var RCTImagePicker=require('NativeModules').ImagePickerIOS;

var ImagePickerIOS={
canRecordVideos:function(callback){
return RCTImagePicker.canRecordVideos(callback);},

canUseCamera:function(callback){
return RCTImagePicker.canUseCamera(callback);},

openCameraDialog:function(config,successCallback,cancelCallback){
config = _extends({
videoMode:false},
config);

return RCTImagePicker.openCameraDialog(config,successCallback,cancelCallback);},

openSelectDialog:function(config,successCallback,cancelCallback){
config = _extends({
showImages:true,
showVideos:false},
config);

return RCTImagePicker.openSelectDialog(config,successCallback,cancelCallback);}};



module.exports = ImagePickerIOS;
});
__d('LayoutAnimation',function(global, require, module, exports) {  'use strict';












var PropTypes=require('ReactPropTypes');
var RCTUIManager=require('NativeModules').UIManager;

var createStrictShapeTypeChecker=require('createStrictShapeTypeChecker');
var keyMirror=require('keyMirror');

var TypesEnum={
spring:true,
linear:true,
easeInEaseOut:true,
easeIn:true,
easeOut:true,
keyboard:true};

var Types=keyMirror(TypesEnum);

var PropertiesEnum={
opacity:true,
scaleXY:true};

var Properties=keyMirror(PropertiesEnum);

var animChecker=createStrictShapeTypeChecker({
duration:PropTypes.number,
delay:PropTypes.number,
springDamping:PropTypes.number,
initialVelocity:PropTypes.number,
type:PropTypes.oneOf(
Object.keys(Types)),

property:PropTypes.oneOf(
Object.keys(Properties))});












var configChecker=createStrictShapeTypeChecker({
duration:PropTypes.number.isRequired,
create:animChecker,
update:animChecker,
delete:animChecker});









function configureNext(config,onAnimationDidEnd){
configChecker({config:config},'config','LayoutAnimation.configureNext');
RCTUIManager.configureNextLayoutAnimation(
config,onAnimationDidEnd || function(){},function(){});}



function create(duration,type,creationProp){
return {
duration:duration,
create:{
type:type,
property:creationProp},

update:{
type:type}};}




var Presets={
easeInEaseOut:create(
300,Types.easeInEaseOut,Properties.opacity),

linear:create(
500,Types.linear,Properties.opacity),

spring:{
duration:700,
create:{
type:Types.linear,
property:Properties.opacity},

update:{
type:Types.spring,
springDamping:0.4}}};











var LayoutAnimation={














configureNext:configureNext,



create:create,
Types:Types,
Properties:Properties,
configChecker:configChecker,
Presets:Presets,
easeInEaseOut:configureNext.bind(
null,Presets.easeInEaseOut),

linear:configureNext.bind(
null,Presets.linear),

spring:configureNext.bind(
null,Presets.spring)};



module.exports = LayoutAnimation;
});
__d('LinkingIOS',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTLinkingManager=require('NativeModules').LinkingManager;
var Map=require('Map');
var invariant=require('invariant');

var _notifHandlers=new Map();
var _initialURL=RCTLinkingManager && 
RCTLinkingManager.initialURL;

var DEVICE_NOTIF_EVENT='openURL';var 





























































LinkingIOS=(function(){function LinkingIOS(){_classCallCheck(this,LinkingIOS);}_createClass(LinkingIOS,null,[{key:'addEventListener',value:




function addEventListener(type,handler){
invariant(
type === 'url',
'LinkingIOS only supports `url` events');

var listener=RCTDeviceEventEmitter.addListener(
DEVICE_NOTIF_EVENT,
handler);

_notifHandlers.set(handler,listener);}},{key:'removeEventListener',value:





function removeEventListener(type,handler){
invariant(
type === 'url',
'LinkingIOS only supports `url` events');

var listener=_notifHandlers.get(handler);
if(!listener){
return;}

listener.remove();
_notifHandlers.delete(handler);}},{key:'openURL',value:





function openURL(url){
invariant(
typeof url === 'string',
'Invalid url: should be a string');

RCTLinkingManager.openURL(url);}},{key:'canOpenURL',value:









function canOpenURL(url,callback){
invariant(
typeof url === 'string',
'Invalid url: should be a string');

invariant(
typeof callback === 'function',
'A valid callback function is required');

RCTLinkingManager.canOpenURL(url,callback);}},{key:'popInitialURL',value:






function popInitialURL(){
var initialURL=_initialURL;
_initialURL = null;
return initialURL;}}]);return LinkingIOS;})();



module.exports = LinkingIOS;
});
__d('NetInfo',function(global, require, module, exports) {  'use strict';












var Map=require('Map');
var NativeModules=require('NativeModules');
var Platform=require('Platform');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTNetInfo=NativeModules.NetInfo;

var DEVICE_REACHABILITY_EVENT='networkDidChange';






















































































































var _subscriptions=new Map();

if(Platform.OS === 'ios'){
var _isConnected=function(
reachability)
{
return reachability !== 'none' && 
reachability !== 'unknown';};}else 

if(Platform.OS === 'android'){
var _isConnected=function(
connectionType)
{
return connectionType !== 'NONE' && connectionType !== 'UNKNOWN';};}



var _isConnectedSubscriptions=new Map();

var NetInfo={
addEventListener:function(
eventName,
handler)
{
var listener=RCTDeviceEventEmitter.addListener(
DEVICE_REACHABILITY_EVENT,
function(appStateData){
handler(appStateData.network_info);});


_subscriptions.set(handler,listener);},


removeEventListener:function(
eventName,
handler)
{
var listener=_subscriptions.get(handler);
if(!listener){
return;}

listener.remove();
_subscriptions.delete(handler);},


fetch:function(){
return new Promise(function(resolve,reject){
RCTNetInfo.getCurrentReachability(
function(resp){
resolve(resp.network_info);},

reject);});},




isConnected:{
addEventListener:function(
eventName,
handler)
{
var listener=function(connection){
handler(_isConnected(connection));};

_isConnectedSubscriptions.set(handler,listener);
NetInfo.addEventListener(
eventName,
listener);},



removeEventListener:function(
eventName,
handler)
{
var listener=_isConnectedSubscriptions.get(handler);
NetInfo.removeEventListener(
eventName,
listener);

_isConnectedSubscriptions.delete(handler);},


fetch:function(){
return NetInfo.fetch().then(
function(connection){return _isConnected(connection);});}},




isConnectionMetered:{}};


if(Platform.OS === 'android'){
NetInfo.isConnectionMetered = function(callback){
RCTNetInfo.isConnectionMetered(function(_isMetered){
callback(_isMetered);});};}




module.exports = NetInfo;
});
__d('PushNotificationIOS',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}












var Map=require('Map');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTPushNotificationManager=require('NativeModules').PushNotificationManager;
var invariant=require('invariant');

var _notifHandlers=new Map();
var _initialNotification=RCTPushNotificationManager && 
RCTPushNotificationManager.initialNotification;

var DEVICE_NOTIF_EVENT='remoteNotificationReceived';
var NOTIF_REGISTER_EVENT='remoteNotificationsRegistered';var 





























PushNotificationIOS=(function(){_createClass(PushNotificationIOS,null,[{key:'presentLocalNotification',value:













function presentLocalNotification(details){
RCTPushNotificationManager.presentLocalNotification(details);}},{key:'scheduleLocalNotification',value:











function scheduleLocalNotification(details){
RCTPushNotificationManager.scheduleLocalNotification(details);}},{key:'cancelAllLocalNotifications',value:





function cancelAllLocalNotifications(){
RCTPushNotificationManager.cancelAllLocalNotifications();}},{key:'setApplicationIconBadgeNumber',value:





function setApplicationIconBadgeNumber(number){
RCTPushNotificationManager.setApplicationIconBadgeNumber(number);}},{key:'getApplicationIconBadgeNumber',value:





function getApplicationIconBadgeNumber(callback){
RCTPushNotificationManager.getApplicationIconBadgeNumber(callback);}},{key:'addEventListener',value:













function addEventListener(type,handler){
invariant(
type === 'notification' || type === 'register',
'PushNotificationIOS only supports `notification` and `register` events');

var listener;
if(type === 'notification'){
listener = RCTDeviceEventEmitter.addListener(
DEVICE_NOTIF_EVENT,
function(notifData){
handler(new PushNotificationIOS(notifData));});}else 


if(type === 'register'){
listener = RCTDeviceEventEmitter.addListener(
NOTIF_REGISTER_EVENT,
function(registrationInfo){
handler(registrationInfo.deviceToken);});}



_notifHandlers.set(handler,listener);}},{key:'requestPermissions',value:
















function requestPermissions(permissions)



{
var requestedPermissions={};
if(permissions){
requestedPermissions = {
alert:!!permissions.alert,
badge:!!permissions.badge,
sound:!!permissions.sound};}else 

{
requestedPermissions = {
alert:true,
badge:true,
sound:true};}


RCTPushNotificationManager.requestPermissions(requestedPermissions);}},{key:'abandonPermissions',value:










function abandonPermissions(){
RCTPushNotificationManager.abandonPermissions();}},{key:'checkPermissions',value:










function checkPermissions(callback){
invariant(
typeof callback === 'function',
'Must provide a valid callback');

RCTPushNotificationManager.checkPermissions(callback);}},{key:'removeEventListener',value:






function removeEventListener(type,handler){
invariant(
type === 'notification' || type === 'register',
'PushNotificationIOS only supports `notification` and `register` events');

var listener=_notifHandlers.get(handler);
if(!listener){
return;}

listener.remove();
_notifHandlers.delete(handler);}},{key:'popInitialNotification',value:










function popInitialNotification(){
var initialNotification=_initialNotification && 
new PushNotificationIOS(_initialNotification);
_initialNotification = null;
return initialNotification;}}]);







function PushNotificationIOS(nativeNotif){var _this=this;_classCallCheck(this,PushNotificationIOS);
this._data = {};





Object.keys(nativeNotif).forEach(function(notifKey){
var notifVal=nativeNotif[notifKey];
if(notifKey === 'aps'){
_this._alert = notifVal.alert;
_this._sound = notifVal.sound;
_this._badgeCount = notifVal.badge;}else 
{
_this._data[notifKey] = notifVal;}});}_createClass(PushNotificationIOS,[{key:'getMessage',value:







function getMessage(){

return this._alert;}},{key:'getSound',value:





function getSound(){
return this._sound;}},{key:'getAlert',value:





function getAlert(){
return this._alert;}},{key:'getBadgeCount',value:





function getBadgeCount(){
return this._badgeCount;}},{key:'getData',value:





function getData(){
return this._data;}}]);return PushNotificationIOS;})();



module.exports = PushNotificationIOS;
});
__d('Settings',function(global, require, module, exports) {  'use strict';












var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');
var RCTSettingsManager=require('NativeModules').SettingsManager;

var invariant=require('invariant');

var subscriptions=[];

var Settings={
_settings:RCTSettingsManager && RCTSettingsManager.settings,

get:function(key){
return this._settings[key];},


set:function(settings){
this._settings = Object.assign(this._settings,settings);
RCTSettingsManager.setValues(settings);},


watchKeys:function(keys,callback){
if(typeof keys === 'string'){
keys = [keys];}


invariant(
Array.isArray(keys),
'keys should be a string or array of strings');


var sid=subscriptions.length;
subscriptions.push({keys:keys,callback:callback});
return sid;},


clearWatch:function(watchId){
if(watchId < subscriptions.length){
subscriptions[watchId] = {keys:[],callback:null};}},



_sendObservations:function(body){var _this=this;
Object.keys(body).forEach(function(key){
var newValue=body[key];
var didChange=_this._settings[key] !== newValue;
_this._settings[key] = newValue;

if(didChange){
subscriptions.forEach(function(sub){
if(sub.keys.indexOf(key) !== -1 && sub.callback){
sub.callback();}});}});}};







RCTDeviceEventEmitter.addListener(
'settingsUpdated',
Settings._sendObservations.bind(Settings));


module.exports = Settings;
});
__d('StatusBarIOS',function(global, require, module, exports) {  'use strict';












var RCTStatusBarManager=require('NativeModules').StatusBarManager;












var StatusBarIOS={

setStyle:function(style,animated){
animated = animated || false;
RCTStatusBarManager.setStyle(style,animated);},


setHidden:function(hidden,animation){
animation = animation || 'none';
RCTStatusBarManager.setHidden(hidden,animation);},


setNetworkActivityIndicatorVisible:function(visible){
RCTStatusBarManager.setNetworkActivityIndicatorVisible(visible);}};



module.exports = StatusBarIOS;
});
__d('VibrationIOS',function(global, require, module, exports) {  'use strict';












var RCTVibration=require('NativeModules').Vibration;

var invariant=require('invariant');












var VibrationIOS={
vibrate:function(){
invariant(
arguments[0] === undefined,
'Vibration patterns not supported.');

RCTVibration.vibrate();}};



module.exports = VibrationIOS;
});
__d('RCTNativeAppEventEmitter',function(global, require, module, exports) {  'use strict';












var EventEmitter=require('EventEmitter');

var RCTNativeAppEventEmitter=new EventEmitter();

module.exports = RCTNativeAppEventEmitter;
});
__d('LinkedStateMixin',function(global, require, module, exports) {  'use strict';













var ReactLink=require('ReactLink');
var ReactStateSetters=require('ReactStateSetters');




var LinkedStateMixin={









linkState:function(key){
return new ReactLink(
this.state[key],
ReactStateSetters.createStateKeySetter(this,key));}};




module.exports = LinkedStateMixin;
});
__d('ReactLink',function(global, require, module, exports) {  'use strict';




































var React=require('React');





function ReactLink(value,requestChange){
this.value = value;
this.requestChange = requestChange;}










function createLinkTypeChecker(linkType){
var shapes={
value:typeof linkType === 'undefined'?
React.PropTypes.any.isRequired:
linkType.isRequired,
requestChange:React.PropTypes.func.isRequired};

return React.PropTypes.shape(shapes);}


ReactLink.PropTypes = {
link:createLinkTypeChecker};


module.exports = ReactLink;
});
__d('ReactStateSetters',function(global, require, module, exports) {  'use strict';












var ReactStateSetters={










createStateSetter:function(component,funcReturningState){
return function(a,b,c,d,e,f){
var partialState=funcReturningState.call(component,a,b,c,d,e,f);
if(partialState){
component.setState(partialState);}};},















createStateKeySetter:function(component,key){

var cache=component.__keySetters || (component.__keySetters = {});
return cache[key] || (cache[key] = createStateKeySetter(component,key));}};



function createStateKeySetter(component,key){



var partialState={};
return function stateKeySetter(value){
partialState[key] = value;
component.setState(partialState);};}



ReactStateSetters.Mixin = {
















createStateSetter:function(funcReturningState){
return ReactStateSetters.createStateSetter(this,funcReturningState);},

















createStateKeySetter:function(key){
return ReactStateSetters.createStateKeySetter(this,key);}};



module.exports = ReactStateSetters;
});
__d('ReactComponentWithPureRenderMixin',function(global, require, module, exports) {  'use strict';












var shallowCompare=require('shallowCompare');

























var ReactComponentWithPureRenderMixin={
shouldComponentUpdate:function(nextProps,nextState){
return shallowCompare(this,nextProps,nextState);}};



module.exports = ReactComponentWithPureRenderMixin;
});
__d('shallowCompare',function(global, require, module, exports) {  'use strict';












var shallowEqual=require('shallowEqual');





function shallowCompare(instance,nextProps,nextState){
return (
!shallowEqual(instance.props,nextProps) || 
!shallowEqual(instance.state,nextState));}



module.exports = shallowCompare;
});
__d('shallowEqual',function(global, require, module, exports) {  'use strict';



















function shallowEqual(objA,objB){
if(objA === objB){
return true;}


if(typeof objA !== 'object' || objA === null || 
typeof objB !== 'object' || objB === null){
return false;}


var keysA=Object.keys(objA);
var keysB=Object.keys(objB);

if(keysA.length !== keysB.length){
return false;}



var bHasOwnProperty=Object.prototype.hasOwnProperty.bind(objB);
for(var i=0;i < keysA.length;i++) {
if(!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]){
return false;}}



return true;}


module.exports = shallowEqual;
});
__d('update',function(global, require, module, exports) {  'use strict';














var assign=require('Object.assign');
var keyOf=require('keyOf');
var invariant=require('invariant');
var hasOwnProperty=({}).hasOwnProperty;

function shallowCopy(x){
if(Array.isArray(x)){
return x.concat();}else 
if(x && typeof x === 'object'){
return assign(new x.constructor(),x);}else 
{
return x;}}



var COMMAND_PUSH=keyOf({$push:null});
var COMMAND_UNSHIFT=keyOf({$unshift:null});
var COMMAND_SPLICE=keyOf({$splice:null});
var COMMAND_SET=keyOf({$set:null});
var COMMAND_MERGE=keyOf({$merge:null});
var COMMAND_APPLY=keyOf({$apply:null});

var ALL_COMMANDS_LIST=[
COMMAND_PUSH,
COMMAND_UNSHIFT,
COMMAND_SPLICE,
COMMAND_SET,
COMMAND_MERGE,
COMMAND_APPLY];


var ALL_COMMANDS_SET={};

ALL_COMMANDS_LIST.forEach(function(command){
ALL_COMMANDS_SET[command] = true;});


function invariantArrayCase(value,spec,command){
invariant(
Array.isArray(value),
'update(): expected target of %s to be an array; got %s.',
command,
value);

var specValue=spec[command];
invariant(
Array.isArray(specValue),
'update(): expected spec of %s to be an array; got %s. ' + 
'Did you forget to wrap your parameter in an array?',
command,
specValue);}



function update(value,spec){
invariant(
typeof spec === 'object',
'update(): You provided a key path to update() that did not contain one ' + 
'of %s. Did you forget to include {%s: ...}?',
ALL_COMMANDS_LIST.join(', '),
COMMAND_SET);


if(hasOwnProperty.call(spec,COMMAND_SET)){
invariant(
Object.keys(spec).length === 1,
'Cannot have more than one key in an object with %s',
COMMAND_SET);


return spec[COMMAND_SET];}


var nextValue=shallowCopy(value);

if(hasOwnProperty.call(spec,COMMAND_MERGE)){
var mergeObj=spec[COMMAND_MERGE];
invariant(
mergeObj && typeof mergeObj === 'object',
'update(): %s expects a spec of type \'object\'; got %s',
COMMAND_MERGE,
mergeObj);

invariant(
nextValue && typeof nextValue === 'object',
'update(): %s expects a target of type \'object\'; got %s',
COMMAND_MERGE,
nextValue);

assign(nextValue,spec[COMMAND_MERGE]);}


if(hasOwnProperty.call(spec,COMMAND_PUSH)){
invariantArrayCase(value,spec,COMMAND_PUSH);
spec[COMMAND_PUSH].forEach(function(item){
nextValue.push(item);});}



if(hasOwnProperty.call(spec,COMMAND_UNSHIFT)){
invariantArrayCase(value,spec,COMMAND_UNSHIFT);
spec[COMMAND_UNSHIFT].forEach(function(item){
nextValue.unshift(item);});}



if(hasOwnProperty.call(spec,COMMAND_SPLICE)){
invariant(
Array.isArray(value),
'Expected %s target to be an array; got %s',
COMMAND_SPLICE,
value);

invariant(
Array.isArray(spec[COMMAND_SPLICE]),
'update(): expected spec of %s to be an array of arrays; got %s. ' + 
'Did you forget to wrap your parameters in an array?',
COMMAND_SPLICE,
spec[COMMAND_SPLICE]);

spec[COMMAND_SPLICE].forEach(function(args){
invariant(
Array.isArray(args),
'update(): expected spec of %s to be an array of arrays; got %s. ' + 
'Did you forget to wrap your parameters in an array?',
COMMAND_SPLICE,
spec[COMMAND_SPLICE]);

nextValue.splice.apply(nextValue,args);});}



if(hasOwnProperty.call(spec,COMMAND_APPLY)){
invariant(
typeof spec[COMMAND_APPLY] === 'function',
'update(): expected spec of %s to be a function; got %s.',
COMMAND_APPLY,
spec[COMMAND_APPLY]);

nextValue = spec[COMMAND_APPLY](nextValue);}


for(var k in spec) {
if(!(ALL_COMMANDS_SET.hasOwnProperty(k) && ALL_COMMANDS_SET[k])){
nextValue[k] = update(value[k],spec[k]);}}



return nextValue;}


module.exports = update;
});
__d('ReactTestUtils',function(global, require, module, exports) {  'use strict';












var EventConstants=require('EventConstants');
var EventPluginHub=require('EventPluginHub');
var EventPropagators=require('EventPropagators');
var React=require('React');
var ReactElement=require('ReactElement');
var ReactEmptyComponent=require('ReactEmptyComponent');
var ReactBrowserEventEmitter=require('ReactBrowserEventEmitter');
var ReactCompositeComponent=require('ReactCompositeComponent');
var ReactInstanceHandles=require('ReactInstanceHandles');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactMount=require('ReactMount');
var ReactUpdates=require('ReactUpdates');
var SyntheticEvent=require('SyntheticEvent');

var assign=require('Object.assign');
var emptyObject=require('emptyObject');
var findDOMNode=require('findDOMNode');
var invariant=require('invariant');

var topLevelTypes=EventConstants.topLevelTypes;

function Event(suffix){}





function findAllInRenderedTreeInternal(inst,test){
if(!inst || !inst.getPublicInstance){
return [];}

var publicInst=inst.getPublicInstance();
var ret=test(publicInst)?[publicInst]:[];
if(ReactTestUtils.isDOMComponent(publicInst)){
var renderedChildren=inst._renderedChildren;
var key;
for(key in renderedChildren) {
if(!renderedChildren.hasOwnProperty(key)){
continue;}

ret = ret.concat(
findAllInRenderedTreeInternal(
renderedChildren[key],
test));}}else 



if(ReactTestUtils.isCompositeComponent(publicInst)){
ret = ret.concat(
findAllInRenderedTreeInternal(inst._renderedComponent,test));}


return ret;}







var ReactTestUtils={
renderIntoDocument:function(instance){
var div=document.createElement('div');





return React.render(instance,div);},


isElement:function(element){
return ReactElement.isValidElement(element);},


isElementOfType:function(inst,convenienceConstructor){
return (
ReactElement.isValidElement(inst) && 
inst.type === convenienceConstructor);},



isDOMComponent:function(inst){


return !!(inst && inst.nodeType === 1 && inst.tagName);},


isDOMComponentElement:function(inst){
return !!(inst && 
ReactElement.isValidElement(inst) && 
!!inst.tagName);},


isCompositeComponent:function(inst){
if(ReactTestUtils.isDOMComponent(inst)){


return false;}

return typeof inst.render === 'function' && 
typeof inst.setState === 'function';},


isCompositeComponentWithType:function(inst,type){
if(!ReactTestUtils.isCompositeComponent(inst)){
return false;}

var internalInstance=ReactInstanceMap.get(inst);
var constructor=internalInstance.
_currentElement.
type;

return constructor === type;},


isCompositeComponentElement:function(inst){
if(!ReactElement.isValidElement(inst)){
return false;}



var prototype=inst.type.prototype;
return (
typeof prototype.render === 'function' && 
typeof prototype.setState === 'function');},



isCompositeComponentElementWithType:function(inst,type){
var internalInstance=ReactInstanceMap.get(inst);
var constructor=internalInstance.
_currentElement.
type;

return !!(ReactTestUtils.isCompositeComponentElement(inst) && 
constructor === type);},


getRenderedChildOfCompositeComponent:function(inst){
if(!ReactTestUtils.isCompositeComponent(inst)){
return null;}

var internalInstance=ReactInstanceMap.get(inst);
return internalInstance._renderedComponent.getPublicInstance();},


findAllInRenderedTree:function(inst,test){
if(!inst){
return [];}

invariant(
ReactTestUtils.isCompositeComponent(inst),
'findAllInRenderedTree(...): instance must be a composite component');

return findAllInRenderedTreeInternal(ReactInstanceMap.get(inst),test);},







scryRenderedDOMComponentsWithClass:function(root,className){
return ReactTestUtils.findAllInRenderedTree(root,function(inst){
if(ReactTestUtils.isDOMComponent(inst)){
var instClassName=React.findDOMNode(inst).className;
return (
instClassName && 
('' + instClassName).split(/\s+/).indexOf(className) !== -1);}


return false;});},









findRenderedDOMComponentWithClass:function(root,className){
var all=
ReactTestUtils.scryRenderedDOMComponentsWithClass(root,className);
if(all.length !== 1){
throw new Error('Did not find exactly one match ' + 
'(found: ' + all.length + ') for class:' + className);}


return all[0];},








scryRenderedDOMComponentsWithTag:function(root,tagName){
return ReactTestUtils.findAllInRenderedTree(root,function(inst){
return ReactTestUtils.isDOMComponent(inst) && 
inst.tagName === tagName.toUpperCase();});},









findRenderedDOMComponentWithTag:function(root,tagName){
var all=ReactTestUtils.scryRenderedDOMComponentsWithTag(root,tagName);
if(all.length !== 1){
throw new Error('Did not find exactly one match for tag:' + tagName);}

return all[0];},







scryRenderedComponentsWithType:function(root,componentType){
return ReactTestUtils.findAllInRenderedTree(root,function(inst){
return ReactTestUtils.isCompositeComponentWithType(
inst,
componentType);});},










findRenderedComponentWithType:function(root,componentType){
var all=ReactTestUtils.scryRenderedComponentsWithType(
root,
componentType);

if(all.length !== 1){
throw new Error(
'Did not find exactly one match for componentType:' + componentType + 
' (found ' + all.length + ')');}


return all[0];},















mockComponent:function(module,mockTagName){
mockTagName = mockTagName || module.mockTagName || "div";

module.prototype.render.mockImplementation(function(){
return React.createElement(
mockTagName,
null,
this.props.children);});



return this;},









simulateNativeEventOnNode:function(topLevelType,node,fakeNativeEvent){
fakeNativeEvent.target = node;
ReactBrowserEventEmitter.ReactEventListener.dispatchEvent(
topLevelType,
fakeNativeEvent);},










simulateNativeEventOnDOMComponent:function(
topLevelType,
comp,
fakeNativeEvent){
ReactTestUtils.simulateNativeEventOnNode(
topLevelType,
findDOMNode(comp),
fakeNativeEvent);},



nativeTouchData:function(x,y){
return {
touches:[
{pageX:x,pageY:y}]};},




createRenderer:function(){
return new ReactShallowRenderer();},


Simulate:null,
SimulateNative:{}};





var ReactShallowRenderer=function(){
this._instance = null;};


ReactShallowRenderer.prototype.getRenderOutput = function(){
return (
this._instance && this._instance._renderedComponent && 
this._instance._renderedComponent._renderedOutput || 
null);};



var NoopInternalComponent=function(element){
this._renderedOutput = element;
this._currentElement = element === null || element === false?
ReactEmptyComponent.emptyElement:
element;};


NoopInternalComponent.prototype = {

mountComponent:function(){},


receiveComponent:function(element){
this._renderedOutput = element;
this._currentElement = element === null || element === false?
ReactEmptyComponent.emptyElement:
element;},


unmountComponent:function(){}};




var ShallowComponentWrapper=function(){};
assign(
ShallowComponentWrapper.prototype,
ReactCompositeComponent.Mixin,{
_instantiateReactComponent:function(element){
return new NoopInternalComponent(element);},

_replaceNodeWithMarkupByID:function(){},
_renderValidatedComponent:
ReactCompositeComponent.Mixin.
_renderValidatedComponentWithoutOwnerOrContext});



ReactShallowRenderer.prototype.render = function(element,context){
if(!context){
context = emptyObject;}

var transaction=ReactUpdates.ReactReconcileTransaction.getPooled();
this._render(element,transaction,context);
ReactUpdates.ReactReconcileTransaction.release(transaction);};


ReactShallowRenderer.prototype.unmount = function(){
if(this._instance){
this._instance.unmountComponent();}};



ReactShallowRenderer.prototype._render = function(element,transaction,context){
if(!this._instance){
var rootID=ReactInstanceHandles.createReactRootID();
var instance=new ShallowComponentWrapper(element.type);
instance.construct(element);

instance.mountComponent(rootID,transaction,context);

this._instance = instance;}else 
{
this._instance.receiveComponent(element,transaction,context);}};











function makeSimulator(eventType){
return function(domComponentOrNode,eventData){
var node;
if(ReactTestUtils.isDOMComponent(domComponentOrNode)){
node = findDOMNode(domComponentOrNode);}else 
if(domComponentOrNode.tagName){
node = domComponentOrNode;}


var dispatchConfig=
ReactBrowserEventEmitter.eventNameDispatchConfigs[eventType];

var fakeNativeEvent=new Event();
fakeNativeEvent.target = node;


var event=new SyntheticEvent(
dispatchConfig,
ReactMount.getID(node),
fakeNativeEvent,
node);

assign(event,eventData);

if(dispatchConfig.phasedRegistrationNames){
EventPropagators.accumulateTwoPhaseDispatches(event);}else 
{
EventPropagators.accumulateDirectDispatches(event);}


ReactUpdates.batchedUpdates(function(){
EventPluginHub.enqueueEvents(event);
EventPluginHub.processEventQueue();});};}




function buildSimulators(){
ReactTestUtils.Simulate = {};

var eventType;
for(eventType in ReactBrowserEventEmitter.eventNameDispatchConfigs) {




ReactTestUtils.Simulate[eventType] = makeSimulator(eventType);}}




var oldInjectEventPluginOrder=EventPluginHub.injection.injectEventPluginOrder;
EventPluginHub.injection.injectEventPluginOrder = function(){
oldInjectEventPluginOrder.apply(this,arguments);
buildSimulators();};

var oldInjectEventPlugins=EventPluginHub.injection.injectEventPluginsByName;
EventPluginHub.injection.injectEventPluginsByName = function(){
oldInjectEventPlugins.apply(this,arguments);
buildSimulators();};


buildSimulators();

















function makeNativeSimulator(eventType){
return function(domComponentOrNode,nativeEventData){
var fakeNativeEvent=new Event(eventType);
assign(fakeNativeEvent,nativeEventData);
if(ReactTestUtils.isDOMComponent(domComponentOrNode)){
ReactTestUtils.simulateNativeEventOnDOMComponent(
eventType,
domComponentOrNode,
fakeNativeEvent);}else 

if(!!domComponentOrNode.tagName){

ReactTestUtils.simulateNativeEventOnNode(
eventType,
domComponentOrNode,
fakeNativeEvent);}};}





var eventType;
for(eventType in topLevelTypes) {

var convenienceName=eventType.indexOf('top') === 0?
eventType.charAt(3).toLowerCase() + eventType.substr(4):eventType;




ReactTestUtils.SimulateNative[convenienceName] = 
makeNativeSimulator(eventType);}


module.exports = ReactTestUtils;
});
__d('findDOMNode',function(global, require, module, exports) {  'use strict';













var ReactCurrentOwner=require('ReactCurrentOwner');
var ReactInstanceMap=require('ReactInstanceMap');
var ReactMount=require('ReactMount');

var invariant=require('invariant');
var warning=require('warning');







function findDOMNode(componentOrElement){
if(__DEV__){
var owner=ReactCurrentOwner.current;
if(owner !== null){
warning(
owner._warnedAboutRefsInRender,
'%s is accessing getDOMNode or findDOMNode inside its render(). ' + 
'render() should be a pure function of props and state. It should ' + 
'never access something that requires stale data from the previous ' + 
'render, such as refs. Move this logic to componentDidMount and ' + 
'componentDidUpdate instead.',
owner.getName() || 'A component');

owner._warnedAboutRefsInRender = true;}}


if(componentOrElement == null){
return null;}

if(componentOrElement.nodeType === 1){
return componentOrElement;}

if(ReactInstanceMap.has(componentOrElement)){
return ReactMount.getNodeFromInstance(componentOrElement);}

invariant(
componentOrElement.render == null || 
typeof componentOrElement.render !== 'function',
'Component (with keys: %s) contains `render` method ' + 
'but is not mounted in the DOM',
Object.keys(componentOrElement));

invariant(
false,
'Element appears to be neither ReactComponent nor DOMNode (keys: %s)',
Object.keys(componentOrElement));}



module.exports = findDOMNode;
});
__d('AwesomeProject/Root.js',function(global, require, module, exports) {  'use strict';var _slicedToArray=(function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n = (_s = _i.next()).done);_n = true) {_arr.push(_s.value);if(i && _arr.length === i)break;}}catch(err) {_d = true;_e = err;}finally {try{if(!_n && _i['return'])_i['return']();}finally {if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else {throw new TypeError('Invalid attempt to destructure non-iterable instance');}};})();var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}


require('xmlhttprequest');

var React=require('react-native/Libraries/react-native/react-native.js');
var cssVar=require('cssVar');

var SignIn=require('AwesomeProject/src/SignIn.js');
var SignUp=require('AwesomeProject/src/SignUp.js');

var ModalExample=require('AwesomeProject/ModalExample.js');
var Onboarding=require('AwesomeProject/src/Onboarding.js');
var config=require('AwesomeProject/src/config.js');var HomePage=require('AwesomeProject/src/HomePage.js');var Onboarding=require('AwesomeProject/src/Onboarding.js');var NavBar=require('CustomNavBar');var Dispatcher=require('AwesomeProject/src/Dispatcher.js');
var store=require('AwesomeProject/src/store.js');var _require=
require('AwesomeProject/src/actions/index.js');var buildSession=_require.buildSession;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('Root:log');
var api=require('AwesomeProject/src/api/index.js');
var AV=api.AV;

var Navbars=require('AwesomeProject/src/Navbars.js');var 

user=
api.user;var 


Animated=






















React.Animated;var AppRegistry=React.AppRegistry;var AsyncStorage=React.AsyncStorage;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var Text=React.Text;var Image=React.Image;var myIcon=React.myIcon;var CameraRoll=React.CameraRoll;var SliderIOS=React.SliderIOS;var SwitchIOS=React.SwitchIOS;var AlertIOS=React.AlertIOS;var Modal=React.Modal;var View=React.View;var Component=React.Component;var LayoutAnimation=React.LayoutAnimation;var TouchableOpacity=React.TouchableOpacity;var ListView=React.ListView;var TouchableHighlight=React.TouchableHighlight;var Navigator=React.Navigator;var TabBarIOS=React.TabBarIOS;var StatusBarIOS=React.StatusBarIOS;var NativeModules=React.NativeModules;

var API_KEY='7waqfqbprs7pajbz28mqf6vz';
var API_URL='http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json';
var PAGE_SIZE=25;
var PARAMS='?apikey=' + API_KEY + '&page_limit=' + PAGE_SIZE;
var REQUEST_URL=API_URL + PARAMS;


var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var TopModal=React.createClass({
getInitialState:function(){
return {
offset:new Animated.Value(deviceHeight)};},



displayName:'TopModal',

componentDidMount:function(){
Animated.timing(this.state.offset,{
duration:100,
toValue:0}).
start();},


closeModal:function(){
Animated.timing(this.state.offset,{
duration:100,
toValue:deviceHeight}).
start(this.props.closeModal);},


_renderView:function(){
return React.cloneElement(this.props.view,{
closeModal:this.closeModal});},



render:function(){
return (
React.createElement(Animated.View,{
style:[styles.modal,{transform:[{translateY:this.state.offset}]}]},
this._renderView()));}});





var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

EmptyRoute=(function(_BaseRouteMapper){_inherits(EmptyRoute,_BaseRouteMapper);function EmptyRoute(){_classCallCheck(this,EmptyRoute);_get(Object.getPrototypeOf(EmptyRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(EmptyRoute,[{key:'renderScene',value:
function renderScene(navigator){
return null;}}]);return EmptyRoute;})(BaseRouteMapper);



var Home=React.createClass({displayName:'Home',
getInitialState:function(){
return {
status:'loading',
navBar:Navbars.None};},



_testRoute:function(){





















var Route=require('AwesomeProject/src/CommentList.js');





this.refs.navigator.replace(new Route(new AV.User()));},


_handleChange:function(){
var state=store.getState();
var prevSession=this.state.session;
var session=state.session;

if(prevSession === session){
return;}


this.state.session = session;
if(!session.userstamp){
log('route to onboarding');
this.refs.navigator.replace(new Onboarding());}else 
if(!session.user){
log('route to signin');
this.refs.navigator.replace(new SignIn());}else 
{
log('route to playing');
this._homeRoute = new HomePage(this.refs.navigator);
this.refs.navigator.replace(this._homeRoute);}},



componentDidMount:function(){


Dispatcher.addListener('logout',(function(){
this.refs.navigator.resetTo(new SignIn());}).
bind(this));

Dispatcher.addListener('publish-activity:cancel',this._onPublishActivityCancel);
Dispatcher.addListener('publish-activity:done',this._onPublishActivityDone);

if(config.platform === 'ios'){
StatusBarIOS.setStyle('light-content');}


this._unsubscribe = store.subscribe(this._handleChange);

Promise.all([
AsyncStorage.getItem("userstamp"),
AV.User.currentAsync()]).
then(function(values){var _values=_slicedToArray(
values,2);var userstamp=_values[0];var user=_values[1];
store.dispatch(buildSession(userstamp,user));});},



componentWilUnmount:function(){
this._unsubscribe();},


_onPublishActivityCancel:function(){
this.refs.navigator.popToRoute(this._homeRoute);},


_onPublishActivityDone:function(){
this.refs.navigator.popToRoute(this._homeRoute);},


_onStart:function(){
AsyncStorage.setItem('userstamp',"" + Date.now()).catch(function(e){
console.trace(e);});


user.currentUser().then(function(user){
return user?'playing':'signin';},
function(){
return 'signin';}).
then(this._replaceRoute);},


_replaceRoute:function(status){
var route;
if(status === 'signin'){
route = new SignIn();}else 
if(status === 'onboarding'){
route = new Onboarding();}else 
{
route = this._homeRoute = new HomePage(this.refs.navigator);}


this.refs.navigator.replace(route);},


render:function(){var _this=this;
var routeMapper={
RightButton:function(route){
return route.renderRightButton.apply(route,arguments);},


Title:function(route){
return route.renderTitle.apply(route,arguments);},


Style:function(route){
return route.style;},


LeftButton:function(route){
return route.renderLeftButton.apply(route,arguments);}};



return (
React.createElement(View,{style:styles.container},
React.createElement(Navigator,{
ref:'navigator',
navigationBar:React.createElement(NavBar,{routeMapper:routeMapper}),
style:styles.container,
initialRoute:new EmptyRoute(),
configureScene:this._configureScene,
renderScene:this.renderScene}),

this.state.modal && 
React.createElement(View,{style:[styles.modal,this.state.modalStyle]},
React.createElement(TopModal,{
view:this.state.modalView,
closeModal:function(){return _this.setState({modal:false});}}))));},






_configureScene:function(route){
if(route.name === 'plus-menu'){
return Navigator.SceneConfigs.FloatFromBottom;}else 
{
return Navigator.SceneConfigs.FloatFromRight;}},



_changeNavigationBar:function(navBar){
this.setState({
navBar:navBar});},



_openModal:function(view,style){
this.setState({
modal:true,
modalStyle:style,
modalView:view});},



renderScene:function(route,navigator){
var scene=route.renderScene(navigator);
if(!scene){
return null;}


return React.cloneElement(scene,{
navigator:navigator,
setNavigationBar:this._changeNavigationBar,
openModal:this._openModal,
style:styles.scene,
update:this.forceUpdate.bind(this)});}});





var style=require("AwesomeProject/style.js");

var styleListView=require("AwesomeProject/styleListView.js");

var styles=StyleSheet.create({
container:{
flex:1},


modal:{
backgroundColor:'transparent',
position:'absolute',
top:0,
right:0,
bottom:0,
left:0},


icon:{
fontSize:20,
color:'white',
paddingVertical:5,
paddingHorizontal:8,
borderRadius:4,
backgroundColor:'#3b5998'},


slider:{
height:10,
margin:10},

text:{
fontSize:14,
textAlign:'center',
fontWeight:'500',
margin:10},


scene:{
paddingTop:64}});



module.exports = Home;
});
__d('xmlhttprequest',function(global, require, module, exports) {  module.



exports = {
XMLHttpRequest:XMLHttpRequest};
});
__d('cssVar',function(global, require, module, exports) {  'use strict';







var invariant=require('invariant');
var CSSVarConfig=require('CSSVarConfig');

var cssVar=function(key){
invariant(CSSVarConfig[key],'invalid css variable ' + key);

return CSSVarConfig[key];};


module.exports = cssVar;
});
__d('CSSVarConfig',function(global, require, module, exports) {  'use strict';








module.exports = {
'fbui-accent-blue':'#5890ff',
'fbui-blue-90':'#4e69a2',
'fbui-blue-80':'#627aad',
'fbui-blue-70':'#758ab7',
'fbui-blue-60':'#899bc1',
'fbui-blue-50':'#9daccb',
'fbui-blue-40':'#b1bdd6',
'fbui-blue-30':'#c4cde0',
'fbui-blue-20':'#d8deea',
'fbui-blue-10':'#ebeef4',
'fbui-blue-5':'#f5f7fa',
'fbui-blue-2':'#fbfcfd',
'fbui-blueblack-90':'#06090f',
'fbui-blueblack-80':'#0c121e',
'fbui-blueblack-70':'#121b2e',
'fbui-blueblack-60':'#18243d',
'fbui-blueblack-50':'#1e2d4c',
'fbui-blueblack-40':'#23355b',
'fbui-blueblack-30':'#293e6b',
'fbui-blueblack-20':'#2f477a',
'fbui-blueblack-10':'#355089',
'fbui-blueblack-5':'#385490',
'fbui-blueblack-2':'#3a5795',
'fbui-bluegray-90':'#080a10',
'fbui-bluegray-80':'#141823',
'fbui-bluegray-70':'#232937',
'fbui-bluegray-60':'#373e4d',
'fbui-bluegray-50':'#4e5665',
'fbui-bluegray-40':'#6a7180',
'fbui-bluegray-30':'#9197a3',
'fbui-bluegray-20':'#bdc1c9',
'fbui-bluegray-10':'#dcdee3',
'fbui-bluegray-5':'#e9eaed',
'fbui-bluegray-2':'#f6f7f8',
'fbui-gray-90':'#191919',
'fbui-gray-80':'#333333',
'fbui-gray-70':'#4c4c4c',
'fbui-gray-60':'#666666',
'fbui-gray-50':'#7f7f7f',
'fbui-gray-40':'#999999',
'fbui-gray-30':'#b2b2b2',
'fbui-gray-20':'#cccccc',
'fbui-gray-10':'#e5e5e5',
'fbui-gray-5':'#f2f2f2',
'fbui-gray-2':'#fafafa',
'fbui-red':'#da2929',
'fbui-error':'#ce0d24',
'x-mobile-dark-text':'#4e5665',
'x-mobile-medium-text':'#6a7180',
'x-mobile-light-text':'#9197a3',
'x-mobile-base-wash':'#dcdee3'};
});
__d('AwesomeProject/src/SignIn.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


AlertIOS=








React.AlertIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var View=React.View;var Text=React.Text;var TextInput=React.TextInput;var TouchableHighlight=React.TouchableHighlight;var TouchableOpacity=React.TouchableOpacity;var Image=React.Image;var _require=

require('AwesomeProject/src/api/index.js');var user=_require.user;
var SignUp=require('AwesomeProject/src/SignUp.js');
var HomePage=require('AwesomeProject/src/HomePage.js');
var store=require('AwesomeProject/src/store.js');var _require2=
require('AwesomeProject/src/actions/index.js');var updateSession=_require2.updateSession;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var debug=require('AwesomeProject/src/debug.js');
var log=debug("signin:log");
var su=require('AwesomeProject/src/styleUtils.js');

var SignInView=React.createClass({displayName:'SignInView',

getInitialState:function(){
return {
phone:'',
password:''};},



_signinByWechat:function(){},



_signin:function(){
var labels={
phone:'手机号',
password:'密码'};

var key=_.find(['phone','password'],function(key){
return !this.state[key];},
this);

if(key){
return AlertIOS.alert('请填写' + labels[key]);}


var phoneValidator=/^(13[0-9]|15[012356789]|18[0-9]|14[57])[0-9]{8}$/;
if(!phoneValidator.test(this.state.phone)){
return AlertIOS.alert('请填写正确的手机号码');}


user.signin(this.state.phone,this.state.password).then((function(user){
log('current user:',user);
log('update user in sesson');
store.dispatch(updateSession({
user:user}));}).

bind(this),function(e){
console.trace(e);
return AlertIOS.alert(e.reason || '登录失败');});},



_signup:function(){
this.props.navigator.push(new SignUp());},


_forgetPassword:function(){},



render:function(){var _this=this;
return (
React.createElement(Image,{source:require('AwesomeProject/img/signin-bg.png'),
style:[styles.container,this.props.style]},
React.createElement(View,{style:styles.signinForm},
React.createElement(View,{style:styles.inputWrap},
React.createElement(Image,{source:require('AwesomeProject/img/user-icon.png'),
style:styles.inputIcon}),
React.createElement(TextInput,{placeholder:'输入手机号',
style:[styles.input,styles.inputPhone],
onChangeText:function(phone){return _this.setState({phone:phone});}})),


React.createElement(View,{style:[styles.inputWrap,styles.inputSeparator]}),

React.createElement(View,{style:styles.inputWrap},
React.createElement(Image,{source:require('AwesomeProject/img/password-icon.png'),style:styles.inputIcon}),
React.createElement(TextInput,{placeholder:'输入密码',
style:styles.input,
secureTextEntry:true,
value:this.state.password,
onChangeText:function(password){return _this.setState({password:password});}}))),



React.createElement(View,{style:styles.signinButtonWrap},
React.createElement(TouchableHighlight,{onPress:this._signin,underlayColor:'transparent'},
React.createElement(Text,{style:styles.signinButton},'登录'))),



React.createElement(View,{style:styles.links},
React.createElement(TouchableOpacity,{onPress:this._forgetPassword},
React.createElement(Text,{style:[styles.link,styles.forget]},'忘记密码?')),

React.createElement(TouchableOpacity,{onPress:this._signup},
React.createElement(Text,{style:[styles.link,styles.signup]},'快速注册'))),



React.createElement(View,{style:styles.wechatWrap},
React.createElement(TouchableOpacity,{onPress:this._signInByWechat,activeOpacity:0.8},
React.createElement(Image,{source:require('AwesomeProject/img/wechat-icon.png'),style:styles.wechatIcon})),

React.createElement(Text,{style:styles.wechatTip},'使用微信账号登录'))));}});






var styles=StyleSheet.create({
container:_extends({},

su.size(deviceWidth,deviceHeight)),


signinForm:{
marginTop:20,
backgroundColor:'#fff'},


signinButtonWrap:_extends({},
su.padding(20,15)),


signinButton:_extends({
overflow:'hidden',
textAlign:'center',
backgroundColor:'#0087fa',
borderRadius:6,
fontSize:17,
color:'#fff'},
su.padding(14,0)),


inputWrap:_extends({
flexDirection:'row',
alignItems:'center'},
su.margin(0,15)),


inputIcon:_extends({},
su.padding(0,15),
su.size(16),{
resizeMode:'contain'}),


input:{
flex:1,
height:44,
fontSize:14,
backgroundColor:'#fff'},


inputSeparator:{
height:1,
backgroundColor:'#EEE'},


wechatWrap:{
position:'absolute',
alignItems:'center',
bottom:40,
left:0,
right:0},


wechatIcon:_extends({},
su.size(64)),


wechatTip:{
marginTop:20,
color:'#fff',
fontSize:14,
textAlign:'center'},


links:_extends({},
su.margin(0,25)),


link:{
fontSize:17},


forget:{
color:'#737373',
position:'absolute',
left:0},


signup:{
color:'#0087fa',
position:'absolute',
right:0}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

SignInRoute=(function(_BaseRouteMapper){_inherits(SignInRoute,_BaseRouteMapper);function SignInRoute(){_classCallCheck(this,SignInRoute);_get(Object.getPrototypeOf(SignInRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(SignInRoute,[{key:'renderScene',value:









function renderScene(){
return React.createElement(SignInView,null);}},{key:'style',get:function(){return this.styles.navBarTransparent;}},{key:'title',get:function(){return '登录';}}]);return SignInRoute;})(BaseRouteMapper);



module.exports = SignInRoute;
});
__d('underscore/underscore.js',function(global, require, module, exports) {  (




function(){





var root=this;


var previousUnderscore=root._;


var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;


var 
push=ArrayProto.push,
slice=ArrayProto.slice,
toString=ObjProto.toString,
hasOwnProperty=ObjProto.hasOwnProperty;



var 
nativeIsArray=Array.isArray,
nativeKeys=Object.keys,
nativeBind=FuncProto.bind,
nativeCreate=Object.create;


var Ctor=function(){};


var _=function(obj){
if(obj instanceof _)return obj;
if(!(this instanceof _))return new _(obj);
this._wrapped = obj;};





if(typeof exports !== 'undefined'){
if(typeof module !== 'undefined' && module.exports){
exports = module.exports = _;}

exports._ = _;}else 
{
root._ = _;}



_.VERSION = '1.8.3';




var optimizeCb=function(func,context,argCount){
if(context === void 0)return func;
switch(argCount == null?3:argCount){
case 1:return function(value){
return func.call(context,value);};

case 2:return function(value,other){
return func.call(context,value,other);};

case 3:return function(value,index,collection){
return func.call(context,value,index,collection);};

case 4:return function(accumulator,value,index,collection){
return func.call(context,accumulator,value,index,collection);};}


return function(){
return func.apply(context,arguments);};};






var cb=function(value,context,argCount){
if(value == null)return _.identity;
if(_.isFunction(value))return optimizeCb(value,context,argCount);
if(_.isObject(value))return _.matcher(value);
return _.property(value);};

_.iteratee = function(value,context){
return cb(value,context,Infinity);};



var createAssigner=function(keysFunc,undefinedOnly){
return function(obj){
var length=arguments.length;
if(length < 2 || obj == null)return obj;
for(var index=1;index < length;index++) {
var source=arguments[index],
keys=keysFunc(source),
l=keys.length;
for(var i=0;i < l;i++) {
var key=keys[i];
if(!undefinedOnly || obj[key] === void 0)obj[key] = source[key];}}


return obj;};};




var baseCreate=function(prototype){
if(!_.isObject(prototype))return {};
if(nativeCreate)return nativeCreate(prototype);
Ctor.prototype = prototype;
var result=new Ctor();
Ctor.prototype = null;
return result;};


var property=function(key){
return function(obj){
return obj == null?void 0:obj[key];};};







var MAX_ARRAY_INDEX=Math.pow(2,53) - 1;
var getLength=property('length');
var isArrayLike=function(collection){
var length=getLength(collection);
return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;};








_.each = _.forEach = function(obj,iteratee,context){
iteratee = optimizeCb(iteratee,context);
var i,length;
if(isArrayLike(obj)){
for(i = 0,length = obj.length;i < length;i++) {
iteratee(obj[i],i,obj);}}else 

{
var keys=_.keys(obj);
for(i = 0,length = keys.length;i < length;i++) {
iteratee(obj[keys[i]],keys[i],obj);}}


return obj;};



_.map = _.collect = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length,
results=Array(length);
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
results[index] = iteratee(obj[currentKey],currentKey,obj);}

return results;};



function createReduce(dir){


function iterator(obj,iteratee,memo,keys,index,length){
for(;index >= 0 && index < length;index += dir) {
var currentKey=keys?keys[index]:index;
memo = iteratee(memo,obj[currentKey],currentKey,obj);}

return memo;}


return function(obj,iteratee,memo,context){
iteratee = optimizeCb(iteratee,context,4);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length,
index=dir > 0?0:length - 1;

if(arguments.length < 3){
memo = obj[keys?keys[index]:index];
index += dir;}

return iterator(obj,iteratee,memo,keys,index,length);};}





_.reduce = _.foldl = _.inject = createReduce(1);


_.reduceRight = _.foldr = createReduce(-1);


_.find = _.detect = function(obj,predicate,context){
var key;
if(isArrayLike(obj)){
key = _.findIndex(obj,predicate,context);}else 
{
key = _.findKey(obj,predicate,context);}

if(key !== void 0 && key !== -1)return obj[key];};




_.filter = _.select = function(obj,predicate,context){
var results=[];
predicate = cb(predicate,context);
_.each(obj,function(value,index,list){
if(predicate(value,index,list))results.push(value);});

return results;};



_.reject = function(obj,predicate,context){
return _.filter(obj,_.negate(cb(predicate)),context);};




_.every = _.all = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length;
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
if(!predicate(obj[currentKey],currentKey,obj))return false;}

return true;};




_.some = _.any = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length;
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
if(predicate(obj[currentKey],currentKey,obj))return true;}

return false;};




_.contains = _.includes = _.include = function(obj,item,fromIndex,guard){
if(!isArrayLike(obj))obj = _.values(obj);
if(typeof fromIndex != 'number' || guard)fromIndex = 0;
return _.indexOf(obj,item,fromIndex) >= 0;};



_.invoke = function(obj,method){
var args=slice.call(arguments,2);
var isFunc=_.isFunction(method);
return _.map(obj,function(value){
var func=isFunc?method:value[method];
return func == null?func:func.apply(value,args);});};




_.pluck = function(obj,key){
return _.map(obj,_.property(key));};




_.where = function(obj,attrs){
return _.filter(obj,_.matcher(attrs));};




_.findWhere = function(obj,attrs){
return _.find(obj,_.matcher(attrs));};



_.max = function(obj,iteratee,context){
var result=-Infinity,lastComputed=-Infinity,
value,computed;
if(iteratee == null && obj != null){
obj = isArrayLike(obj)?obj:_.values(obj);
for(var i=0,length=obj.length;i < length;i++) {
value = obj[i];
if(value > result){
result = value;}}}else 


{
iteratee = cb(iteratee,context);
_.each(obj,function(value,index,list){
computed = iteratee(value,index,list);
if(computed > lastComputed || computed === -Infinity && result === -Infinity){
result = value;
lastComputed = computed;}});}



return result;};



_.min = function(obj,iteratee,context){
var result=Infinity,lastComputed=Infinity,
value,computed;
if(iteratee == null && obj != null){
obj = isArrayLike(obj)?obj:_.values(obj);
for(var i=0,length=obj.length;i < length;i++) {
value = obj[i];
if(value < result){
result = value;}}}else 


{
iteratee = cb(iteratee,context);
_.each(obj,function(value,index,list){
computed = iteratee(value,index,list);
if(computed < lastComputed || computed === Infinity && result === Infinity){
result = value;
lastComputed = computed;}});}



return result;};




_.shuffle = function(obj){
var set=isArrayLike(obj)?obj:_.values(obj);
var length=set.length;
var shuffled=Array(length);
for(var index=0,rand;index < length;index++) {
rand = _.random(0,index);
if(rand !== index)shuffled[index] = shuffled[rand];
shuffled[rand] = set[index];}

return shuffled;};





_.sample = function(obj,n,guard){
if(n == null || guard){
if(!isArrayLike(obj))obj = _.values(obj);
return obj[_.random(obj.length - 1)];}

return _.shuffle(obj).slice(0,Math.max(0,n));};



_.sortBy = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
return _.pluck(_.map(obj,function(value,index,list){
return {
value:value,
index:index,
criteria:iteratee(value,index,list)};}).

sort(function(left,right){
var a=left.criteria;
var b=right.criteria;
if(a !== b){
if(a > b || a === void 0)return 1;
if(a < b || b === void 0)return -1;}

return left.index - right.index;}),
'value');};



var group=function(behavior){
return function(obj,iteratee,context){
var result={};
iteratee = cb(iteratee,context);
_.each(obj,function(value,index){
var key=iteratee(value,index,obj);
behavior(result,value,key);});

return result;};};





_.groupBy = group(function(result,value,key){
if(_.has(result,key))result[key].push(value);else result[key] = [value];});




_.indexBy = group(function(result,value,key){
result[key] = value;});





_.countBy = group(function(result,value,key){
if(_.has(result,key))result[key]++;else result[key] = 1;});



_.toArray = function(obj){
if(!obj)return [];
if(_.isArray(obj))return slice.call(obj);
if(isArrayLike(obj))return _.map(obj,_.identity);
return _.values(obj);};



_.size = function(obj){
if(obj == null)return 0;
return isArrayLike(obj)?obj.length:_.keys(obj).length;};




_.partition = function(obj,predicate,context){
predicate = cb(predicate,context);
var pass=[],fail=[];
_.each(obj,function(value,key,obj){
(predicate(value,key,obj)?pass:fail).push(value);});

return [pass,fail];};








_.first = _.head = _.take = function(array,n,guard){
if(array == null)return void 0;
if(n == null || guard)return array[0];
return _.initial(array,array.length - n);};





_.initial = function(array,n,guard){
return slice.call(array,0,Math.max(0,array.length - (n == null || guard?1:n)));};




_.last = function(array,n,guard){
if(array == null)return void 0;
if(n == null || guard)return array[array.length - 1];
return _.rest(array,Math.max(0,array.length - n));};





_.rest = _.tail = _.drop = function(array,n,guard){
return slice.call(array,n == null || guard?1:n);};



_.compact = function(array){
return _.filter(array,_.identity);};



var flatten=function(input,shallow,strict,startIndex){
var output=[],idx=0;
for(var i=startIndex || 0,length=getLength(input);i < length;i++) {
var value=input[i];
if(isArrayLike(value) && (_.isArray(value) || _.isArguments(value))){

if(!shallow)value = flatten(value,shallow,strict);
var j=0,len=value.length;
output.length += len;
while(j < len) {
output[idx++] = value[j++];}}else 

if(!strict){
output[idx++] = value;}}


return output;};



_.flatten = function(array,shallow){
return flatten(array,shallow,false);};



_.without = function(array){
return _.difference(array,slice.call(arguments,1));};





_.uniq = _.unique = function(array,isSorted,iteratee,context){
if(!_.isBoolean(isSorted)){
context = iteratee;
iteratee = isSorted;
isSorted = false;}

if(iteratee != null)iteratee = cb(iteratee,context);
var result=[];
var seen=[];
for(var i=0,length=getLength(array);i < length;i++) {
var value=array[i],
computed=iteratee?iteratee(value,i,array):value;
if(isSorted){
if(!i || seen !== computed)result.push(value);
seen = computed;}else 
if(iteratee){
if(!_.contains(seen,computed)){
seen.push(computed);
result.push(value);}}else 

if(!_.contains(result,value)){
result.push(value);}}


return result;};




_.union = function(){
return _.uniq(flatten(arguments,true,true));};




_.intersection = function(array){
var result=[];
var argsLength=arguments.length;
for(var i=0,length=getLength(array);i < length;i++) {
var item=array[i];
if(_.contains(result,item))continue;
for(var j=1;j < argsLength;j++) {
if(!_.contains(arguments[j],item))break;}

if(j === argsLength)result.push(item);}

return result;};




_.difference = function(array){
var rest=flatten(arguments,true,true,1);
return _.filter(array,function(value){
return !_.contains(rest,value);});};





_.zip = function(){
return _.unzip(arguments);};




_.unzip = function(array){
var length=array && _.max(array,getLength).length || 0;
var result=Array(length);

for(var index=0;index < length;index++) {
result[index] = _.pluck(array,index);}

return result;};





_.object = function(list,values){
var result={};
for(var i=0,length=getLength(list);i < length;i++) {
if(values){
result[list[i]] = values[i];}else 
{
result[list[i][0]] = list[i][1];}}


return result;};



function createPredicateIndexFinder(dir){
return function(array,predicate,context){
predicate = cb(predicate,context);
var length=getLength(array);
var index=dir > 0?0:length - 1;
for(;index >= 0 && index < length;index += dir) {
if(predicate(array[index],index,array))return index;}

return -1;};}




_.findIndex = createPredicateIndexFinder(1);
_.findLastIndex = createPredicateIndexFinder(-1);



_.sortedIndex = function(array,obj,iteratee,context){
iteratee = cb(iteratee,context,1);
var value=iteratee(obj);
var low=0,high=getLength(array);
while(low < high) {
var mid=Math.floor((low + high) / 2);
if(iteratee(array[mid]) < value)low = mid + 1;else high = mid;}

return low;};



function createIndexFinder(dir,predicateFind,sortedIndex){
return function(array,item,idx){
var i=0,length=getLength(array);
if(typeof idx == 'number'){
if(dir > 0){
i = idx >= 0?idx:Math.max(idx + length,i);}else 
{
length = idx >= 0?Math.min(idx + 1,length):idx + length + 1;}}else 

if(sortedIndex && idx && length){
idx = sortedIndex(array,item);
return array[idx] === item?idx:-1;}

if(item !== item){
idx = predicateFind(slice.call(array,i,length),_.isNaN);
return idx >= 0?idx + i:-1;}

for(idx = dir > 0?i:length - 1;idx >= 0 && idx < length;idx += dir) {
if(array[idx] === item)return idx;}

return -1;};}







_.indexOf = createIndexFinder(1,_.findIndex,_.sortedIndex);
_.lastIndexOf = createIndexFinder(-1,_.findLastIndex);




_.range = function(start,stop,step){
if(stop == null){
stop = start || 0;
start = 0;}

step = step || 1;

var length=Math.max(Math.ceil((stop - start) / step),0);
var range=Array(length);

for(var idx=0;idx < length;idx++,start += step) {
range[idx] = start;}


return range;};







var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){
if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);
var self=baseCreate(sourceFunc.prototype);
var result=sourceFunc.apply(self,args);
if(_.isObject(result))return result;
return self;};





_.bind = function(func,context){
if(nativeBind && func.bind === nativeBind)return nativeBind.apply(func,slice.call(arguments,1));
if(!_.isFunction(func))throw new TypeError('Bind must be called on a function');
var args=slice.call(arguments,2);
var bound=function(){
return executeBound(func,bound,context,this,args.concat(slice.call(arguments)));};

return bound;};





_.partial = function(func){
var boundArgs=slice.call(arguments,1);
var bound=function(){
var position=0,length=boundArgs.length;
var args=Array(length);
for(var i=0;i < length;i++) {
args[i] = boundArgs[i] === _?arguments[position++]:boundArgs[i];}

while(position < arguments.length) args.push(arguments[position++]);
return executeBound(func,bound,this,this,args);};

return bound;};





_.bindAll = function(obj){
var i,length=arguments.length,key;
if(length <= 1)throw new Error('bindAll must be passed function names');
for(i = 1;i < length;i++) {
key = arguments[i];
obj[key] = _.bind(obj[key],obj);}

return obj;};



_.memoize = function(func,hasher){
var memoize=function(key){
var cache=memoize.cache;
var address='' + (hasher?hasher.apply(this,arguments):key);
if(!_.has(cache,address))cache[address] = func.apply(this,arguments);
return cache[address];};

memoize.cache = {};
return memoize;};




_.delay = function(func,wait){
var args=slice.call(arguments,2);
return setTimeout(function(){
return func.apply(null,args);},
wait);};




_.defer = _.partial(_.delay,_,1);






_.throttle = function(func,wait,options){
var context,args,result;
var timeout=null;
var previous=0;
if(!options)options = {};
var later=function(){
previous = options.leading === false?0:_.now();
timeout = null;
result = func.apply(context,args);
if(!timeout)context = args = null;};

return function(){
var now=_.now();
if(!previous && options.leading === false)previous = now;
var remaining=wait - (now - previous);
context = this;
args = arguments;
if(remaining <= 0 || remaining > wait){
if(timeout){
clearTimeout(timeout);
timeout = null;}

previous = now;
result = func.apply(context,args);
if(!timeout)context = args = null;}else 
if(!timeout && options.trailing !== false){
timeout = setTimeout(later,remaining);}

return result;};};







_.debounce = function(func,wait,immediate){
var timeout,args,context,timestamp,result;

var later=function(){
var last=_.now() - timestamp;

if(last < wait && last >= 0){
timeout = setTimeout(later,wait - last);}else 
{
timeout = null;
if(!immediate){
result = func.apply(context,args);
if(!timeout)context = args = null;}}};




return function(){
context = this;
args = arguments;
timestamp = _.now();
var callNow=immediate && !timeout;
if(!timeout)timeout = setTimeout(later,wait);
if(callNow){
result = func.apply(context,args);
context = args = null;}


return result;};};






_.wrap = function(func,wrapper){
return _.partial(wrapper,func);};



_.negate = function(predicate){
return function(){
return !predicate.apply(this,arguments);};};





_.compose = function(){
var args=arguments;
var start=args.length - 1;
return function(){
var i=start;
var result=args[start].apply(this,arguments);
while(i--) result = args[i].call(this,result);
return result;};};




_.after = function(times,func){
return function(){
if(--times < 1){
return func.apply(this,arguments);}};};





_.before = function(times,func){
var memo;
return function(){
if(--times > 0){
memo = func.apply(this,arguments);}

if(times <= 1)func = null;
return memo;};};





_.once = _.partial(_.before,2);





var hasEnumBug=!({toString:null}).propertyIsEnumerable('toString');
var nonEnumerableProps=['valueOf','isPrototypeOf','toString',
'propertyIsEnumerable','hasOwnProperty','toLocaleString'];

function collectNonEnumProps(obj,keys){
var nonEnumIdx=nonEnumerableProps.length;
var constructor=obj.constructor;
var proto=_.isFunction(constructor) && constructor.prototype || ObjProto;


var prop='constructor';
if(_.has(obj,prop) && !_.contains(keys,prop))keys.push(prop);

while(nonEnumIdx--) {
prop = nonEnumerableProps[nonEnumIdx];
if(prop in obj && obj[prop] !== proto[prop] && !_.contains(keys,prop)){
keys.push(prop);}}}






_.keys = function(obj){
if(!_.isObject(obj))return [];
if(nativeKeys)return nativeKeys(obj);
var keys=[];
for(var key in obj) if(_.has(obj,key))keys.push(key);

if(hasEnumBug)collectNonEnumProps(obj,keys);
return keys;};



_.allKeys = function(obj){
if(!_.isObject(obj))return [];
var keys=[];
for(var key in obj) keys.push(key);

if(hasEnumBug)collectNonEnumProps(obj,keys);
return keys;};



_.values = function(obj){
var keys=_.keys(obj);
var length=keys.length;
var values=Array(length);
for(var i=0;i < length;i++) {
values[i] = obj[keys[i]];}

return values;};




_.mapObject = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
var keys=_.keys(obj),
length=keys.length,
results={},
currentKey;
for(var index=0;index < length;index++) {
currentKey = keys[index];
results[currentKey] = iteratee(obj[currentKey],currentKey,obj);}

return results;};



_.pairs = function(obj){
var keys=_.keys(obj);
var length=keys.length;
var pairs=Array(length);
for(var i=0;i < length;i++) {
pairs[i] = [keys[i],obj[keys[i]]];}

return pairs;};



_.invert = function(obj){
var result={};
var keys=_.keys(obj);
for(var i=0,length=keys.length;i < length;i++) {
result[obj[keys[i]]] = keys[i];}

return result;};




_.functions = _.methods = function(obj){
var names=[];
for(var key in obj) {
if(_.isFunction(obj[key]))names.push(key);}

return names.sort();};



_.extend = createAssigner(_.allKeys);



_.extendOwn = _.assign = createAssigner(_.keys);


_.findKey = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=_.keys(obj),key;
for(var i=0,length=keys.length;i < length;i++) {
key = keys[i];
if(predicate(obj[key],key,obj))return key;}};




_.pick = function(object,oiteratee,context){
var result={},obj=object,iteratee,keys;
if(obj == null)return result;
if(_.isFunction(oiteratee)){
keys = _.allKeys(obj);
iteratee = optimizeCb(oiteratee,context);}else 
{
keys = flatten(arguments,false,false,1);
iteratee = function(value,key,obj){return key in obj;};
obj = Object(obj);}

for(var i=0,length=keys.length;i < length;i++) {
var key=keys[i];
var value=obj[key];
if(iteratee(value,key,obj))result[key] = value;}

return result;};



_.omit = function(obj,iteratee,context){
if(_.isFunction(iteratee)){
iteratee = _.negate(iteratee);}else 
{
var keys=_.map(flatten(arguments,false,false,1),String);
iteratee = function(value,key){
return !_.contains(keys,key);};}


return _.pick(obj,iteratee,context);};



_.defaults = createAssigner(_.allKeys,true);




_.create = function(prototype,props){
var result=baseCreate(prototype);
if(props)_.extendOwn(result,props);
return result;};



_.clone = function(obj){
if(!_.isObject(obj))return obj;
return _.isArray(obj)?obj.slice():_.extend({},obj);};





_.tap = function(obj,interceptor){
interceptor(obj);
return obj;};



_.isMatch = function(object,attrs){
var keys=_.keys(attrs),length=keys.length;
if(object == null)return !length;
var obj=Object(object);
for(var i=0;i < length;i++) {
var key=keys[i];
if(attrs[key] !== obj[key] || !(key in obj))return false;}

return true;};




var eq=function(a,b,aStack,bStack){


if(a === b)return a !== 0 || 1 / a === 1 / b;

if(a == null || b == null)return a === b;

if(a instanceof _)a = a._wrapped;
if(b instanceof _)b = b._wrapped;

var className=toString.call(a);
if(className !== toString.call(b))return false;
switch(className){

case '[object RegExp]':

case '[object String]':


return '' + a === '' + b;
case '[object Number]':


if(+a !== +a)return +b !== +b;

return +a === 0?1 / +a === 1 / b:+a === +b;
case '[object Date]':
case '[object Boolean]':



return +a === +b;}


var areArrays=className === '[object Array]';
if(!areArrays){
if(typeof a != 'object' || typeof b != 'object')return false;



var aCtor=a.constructor,bCtor=b.constructor;
if(aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && 
_.isFunction(bCtor) && bCtor instanceof bCtor) && 
'constructor' in a && 'constructor' in b){
return false;}}







aStack = aStack || [];
bStack = bStack || [];
var length=aStack.length;
while(length--) {


if(aStack[length] === a)return bStack[length] === b;}



aStack.push(a);
bStack.push(b);


if(areArrays){

length = a.length;
if(length !== b.length)return false;

while(length--) {
if(!eq(a[length],b[length],aStack,bStack))return false;}}else 

{

var keys=_.keys(a),key;
length = keys.length;

if(_.keys(b).length !== length)return false;
while(length--) {

key = keys[length];
if(!(_.has(b,key) && eq(a[key],b[key],aStack,bStack)))return false;}}



aStack.pop();
bStack.pop();
return true;};



_.isEqual = function(a,b){
return eq(a,b);};




_.isEmpty = function(obj){
if(obj == null)return true;
if(isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)))return obj.length === 0;
return _.keys(obj).length === 0;};



_.isElement = function(obj){
return !!(obj && obj.nodeType === 1);};




_.isArray = nativeIsArray || function(obj){
return toString.call(obj) === '[object Array]';};



_.isObject = function(obj){
var type=typeof obj;
return type === 'function' || type === 'object' && !!obj;};



_.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(name){
_['is' + name] = function(obj){
return toString.call(obj) === '[object ' + name + ']';};});





if(!_.isArguments(arguments)){
_.isArguments = function(obj){
return _.has(obj,'callee');};}





if(typeof /./ != 'function' && typeof Int8Array != 'object'){
_.isFunction = function(obj){
return typeof obj == 'function' || false;};}




_.isFinite = function(obj){
return isFinite(obj) && !isNaN(parseFloat(obj));};



_.isNaN = function(obj){
return _.isNumber(obj) && obj !== +obj;};



_.isBoolean = function(obj){
return obj === true || obj === false || toString.call(obj) === '[object Boolean]';};



_.isNull = function(obj){
return obj === null;};



_.isUndefined = function(obj){
return obj === void 0;};




_.has = function(obj,key){
return obj != null && hasOwnProperty.call(obj,key);};







_.noConflict = function(){
root._ = previousUnderscore;
return this;};



_.identity = function(value){
return value;};



_.constant = function(value){
return function(){
return value;};};



_.noop = function(){};

_.property = property;


_.propertyOf = function(obj){
return obj == null?function(){}:function(key){
return obj[key];};};





_.matcher = _.matches = function(attrs){
attrs = _.extendOwn({},attrs);
return function(obj){
return _.isMatch(obj,attrs);};};




_.times = function(n,iteratee,context){
var accum=Array(Math.max(0,n));
iteratee = optimizeCb(iteratee,context,1);
for(var i=0;i < n;i++) accum[i] = iteratee(i);
return accum;};



_.random = function(min,max){
if(max == null){
max = min;
min = 0;}

return min + Math.floor(Math.random() * (max - min + 1));};



_.now = Date.now || function(){
return new Date().getTime();};



var escapeMap={
'&':'&amp;',
'<':'&lt;',
'>':'&gt;',
'"':'&quot;',
"'":'&#x27;',
'`':'&#x60;'};

var unescapeMap=_.invert(escapeMap);


var createEscaper=function(map){
var escaper=function(match){
return map[match];};


var source='(?:' + _.keys(map).join('|') + ')';
var testRegexp=RegExp(source);
var replaceRegexp=RegExp(source,'g');
return function(string){
string = string == null?'':'' + string;
return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string;};};


_.escape = createEscaper(escapeMap);
_.unescape = createEscaper(unescapeMap);



_.result = function(object,property,fallback){
var value=object == null?void 0:object[property];
if(value === void 0){
value = fallback;}

return _.isFunction(value)?value.call(object):value;};




var idCounter=0;
_.uniqueId = function(prefix){
var id=++idCounter + '';
return prefix?prefix + id:id;};




_.templateSettings = {
evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,
escape:/<%-([\s\S]+?)%>/g};





var noMatch=/(.)^/;



var escapes={
"'":"'",
'\\':'\\',
'\r':'r',
'\n':'n',
'\u2028':'u2028',
'\u2029':'u2029'};


var escaper=/\\|'|\r|\n|\u2028|\u2029/g;

var escapeChar=function(match){
return '\\' + escapes[match];};






_.template = function(text,settings,oldSettings){
if(!settings && oldSettings)settings = oldSettings;
settings = _.defaults({},settings,_.templateSettings);


var matcher=RegExp([
(settings.escape || noMatch).source,
(settings.interpolate || noMatch).source,
(settings.evaluate || noMatch).source].
join('|') + '|$','g');


var index=0;
var source="__p+='";
text.replace(matcher,function(match,escape,interpolate,evaluate,offset){
source += text.slice(index,offset).replace(escaper,escapeChar);
index = offset + match.length;

if(escape){
source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";}else 
if(interpolate){
source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";}else 
if(evaluate){
source += "';\n" + evaluate + "\n__p+='";}



return match;});

source += "';\n";


if(!settings.variable)source = 'with(obj||{}){\n' + source + '}\n';

source = "var __t,__p='',__j=Array.prototype.join," + 
"print=function(){__p+=__j.call(arguments,'');};\n" + 
source + 'return __p;\n';

try{
var render=new Function(settings.variable || 'obj','_',source);}
catch(e) {
e.source = source;
throw e;}


var template=function(data){
return render.call(this,data,_);};



var argument=settings.variable || 'obj';
template.source = 'function(' + argument + '){\n' + source + '}';

return template;};



_.chain = function(obj){
var instance=_(obj);
instance._chain = true;
return instance;};









var result=function(instance,obj){
return instance._chain?_(obj).chain():obj;};



_.mixin = function(obj){
_.each(_.functions(obj),function(name){
var func=_[name] = obj[name];
_.prototype[name] = function(){
var args=[this._wrapped];
push.apply(args,arguments);
return result(this,func.apply(_,args));};});};





_.mixin(_);


_.each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){
var method=ArrayProto[name];
_.prototype[name] = function(){
var obj=this._wrapped;
method.apply(obj,arguments);
if((name === 'shift' || name === 'splice') && obj.length === 0)delete obj[0];
return result(this,obj);};});




_.each(['concat','join','slice'],function(name){
var method=ArrayProto[name];
_.prototype[name] = function(){
return result(this,method.apply(this._wrapped,arguments));};});




_.prototype.value = function(){
return this._wrapped;};




_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

_.prototype.toString = function(){
return '' + this._wrapped;};









if(typeof define === 'function' && define.amd){
define('underscore',[],function(){
return _;});}}).


call(this);
});
__d('AwesomeProject/src/api/index.js',function(global, require, module, exports) {  var _slicedToArray=(function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n = (_s = _i.next()).done);_n = true) {_arr.push(_s.value);if(i && _arr.length === i)break;}}catch(err) {_d = true;_e = err;}finally {try{if(!_n && _i['return'])_i['return']();}finally {if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else {throw new TypeError('Invalid attempt to destructure non-iterable instance');}};})();var _require=





require('AwesomeProject/src/api/models.js');var Photo=_require.Photo;var Region=_require.Region;var Activity=_require.Activity;var Partner=_require.Partner;var AV=_require.AV;

var _=require('underscore/underscore.js');
var extName=require('ext-name/index.js');
var shortid=require('shortid/index.js');
var mimetypes=require('AwesomeProject/src/mimetypes.js');
var rnfs=require('react-native-fs/FS.ios.js');
var moment=require('moment/moment.js');
var user=require('AwesomeProject/src/api/user.js');

var sms={
requestSmsCode:function(phone){

return new Promise(function(resolve,reject){
resolve();});},





















verifySmsCode:function(phone,code){

return new Promise(function(resolve,reject){
resolve(code == '123456');});}};
















var activity={
PREPARING:Activity.PREPARING,
TRAVELLING:Activity.TRAVELLING,

fetch:function(params){

var _fetchActivities=new Promise(function(resolve,reject){
var query=new AV.Query(Activity);
if(params.latestDate){
query.lessThan('createdAt',params.latestDate);}


query.limit(params.limit || 5);
query.descending('createdAt');
query.find({
success:function(activities){
setTimeout(function(){
resolve(activities);},
1000);},

error:reject});});



var user,activities;
return AV.User.currentAsync().then(function(_user){
user = _user;
return _fetchActivities;}).
then(function(_activities){
activities = _activities;
return Promise.all(activities.map(function(activity){
var creator=activity.get('createBy');
return creator.fetch();}));}).

then(function(){

return Promise.all(activities.map(function(activity){
return activity.fetchStars().then(function(stars){
activity.setStars(stars);
return activity;});}));}).


then(function(){

return Promise.all(activities.map(function(activity){
return activity.isUserStarred(user).then(function(starred){
activity.setStarred(starred);
return activity;});}));}).


then(function(){
return activities;});},



editApply:function(user,activity,origin,type,datas){
origin.clear();

origin.set('activity',activity);
origin.set('user',user);
origin.set('status',Partner.STATUS_IN_REVIEW);

origin.set('type',type);
origin.set('phone',datas.phone);

if(typeof datas.peopleNum === 'string'){
datas.peopleNum = parseInt(datas.peopleNum);}

origin.set('peopleNum',datas.peopleNum);

datas.childNum = datas.childNum || 0;
if(typeof datas.childNum === 'string'){
datas.childNum = parseInt(datas.childNum);}

origin.set('childNum',datas.childNum);

if(type === Partner.SELF_RIDE){
origin.set('car',{
model:datas.carType,
number:datas.carNumber});


if(typeof datas.leftSeats == 'string'){
datas.leftSeats = parseInt(datas.leftSeats);}

origin.set('leftSeats',datas.leftSeats || 0);
origin.set('share',datas.share);}else 
{
origin.set('canDrive',datas.canDrive);}


return origin.save();},


apply:function(user,activity,type,datas){
var query=new AV.Query(Partner);
query.equalTo('user',user);
query.equalTo('activity',activity);
return query.count().then(function(count){
if(count > 0){
throw new Error('已经报过名了');}}).

then(function(){
var partner=new Partner();
partner.set('activity',activity);
partner.set('user',user);
partner.set('status',Partner.STATUS_IN_REVIEW);

partner.set('type',type);
partner.set('phone',datas.phone);

if(typeof datas.peopleNum === 'string'){
datas.peopleNum = parseInt(datas.peopleNum);}

partner.set('peopleNum',datas.peopleNum);

datas.childNum = datas.childNum || 0;
if(typeof datas.childNum === 'string'){
datas.childNum = parseInt(datas.childNum);}

partner.set('childNum',datas.childNum);

if(type === Partner.SELF_RIDE){
partner.set('car',{
model:datas.carType,
number:datas.carNumber});


if(typeof datas.leftSeats == 'string'){
datas.leftSeats = parseInt(datas.leftSeats);}

partner.set('leftSeats',datas.leftSeats || 0);
partner.set('share',datas.share);}else 
{
partner.set('canDrive',datas.canDrive);}


return partner.save();});},



fetchDetail:function(id){
return new Promise(function(resolve,reject){
var moment=require('moment/moment.js');

var detail1={
id:5,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'GO！一起去草原撒野',
status:'preparing',
tags:['3-5车同行','行程容易'],
route:'北京 - 天津 - 石家庄',
startDate:moment('2015-09-03').toDate(),
endDate:moment('2015-09-10').toDate(),
publishDate:moment('2015-08-09'),
user:{
username:'Steven',
avatar:'http://localhost:8081/img/avatar-placeholder.png'},

stars:299,
remainDay:8,
deadline:'9月1日12:00',
haveCar:2,
needCar:3,
remainSeat:12,
photos:2,
journeys:2,
annotations:3,
ownCar:'1'};


var detail2={
id:6,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'GO！一起去草原撒野',
status:'preparing',
tags:['3-5车同行','行程容易'],
route:'北京 - 天津 - 石家庄',
startDate:moment('2015-09-03').toDate(),
endDate:moment('2015-09-10').toDate(),
publishDate:moment('2015-08-09'),
user:{
username:'Steven',
avatar:'http://localhost:8081/img/avatar-placeholder.png'},

stars:299,
remainDay:8,
deadline:'9月1日12:00',
haveCar:2,
needCar:3,
remainSeat:12,
photos:2,
journeys:2,
annotations:3,
ownCar:'0'};


if(id == 5){
setTimeout(function(){
resolve(detail1);},
0);}else 
{
setTimeout(function(){
resolve(detail2);},
0);}});},



fetchMoreDetail:{
fetchRoute:function(query){
return new Promise(function(resolve,reject){
var datas={
routeImg:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
info:'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来，同样在这里，你才能看到朋友真实的一面。'};


setTimeout(function(){
resolve(datas);},
1000);});},


fetchDetail:function(query){
return new Promise(function(resolve,reject){
var datas={
info:'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来，同样在这里，你才能看到朋友真实的一面。'};


setTimeout(function(){
resolve(datas);},
1000);});},


fetchTips:function(query){
return new Promise(function(resolve,reject){
var datas={
participantInfo:'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来，同样在这里，你才能看到朋友真实的一面。',
devInfo:'车辆类型：SUV/4驱SUV\n每车必备：车台/备胎/拖车绳\n车队至少有一套：充气泵/铁锹/维修工具',
moneyInfo:'本次活动费用预估1200元，包含汽油费、过路费、住宿费、门票费。'};


setTimeout(function(){
resolve(datas);},
1000);});},


fetchDanger:function(query){
return new Promise(function(resolve,reject){
var datas={
info:'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来，同样在这里，你才能看到朋友真实的一面。\n\n我知道不少人看完电影会问，最后他们走出沙漠了吗？'};


setTimeout(function(){
resolve(datas);},
1000);});}},



fetchComments:function(){
return new Promise(function(resolve,reject){
var datas=[{
user:{
username:'赵鑫',
avatar:'http://localhost:8081/img/avatar-placeholder.png'},

info:'这里的风景真是好棒哦，太美了～',
publishDate:'下午 22：13',
star:180,
isLike:'1',
images:[]},
{
user:{
username:'赵鑫',
avatar:'http://localhost:8081/img/avatar-placeholder.png'},

info:'今天和大家一起好开心，山清水秀好风光好景色，小赵同学是个吃货，以后不想和他一起出去玩。',
publishDate:'下午 22：13',
star:180,
isLike:'0',
images:['http://localhost:8081/img/page1.png','http://localhost:8081/img/signin-bg.png','http://localhost:8081/img/space-header.png']}];


setTimeout(function(){
resolve(datas);},
1000);});},



fetchApplyInfo:function(user,activity){
return new Promise(function(resolve,reject){
var query=new AV.Query(Partner);
query.equalTo('user',user);
query.equalTo('activity',activity);
query.first({
success:resolve,
error:reject});});},




fetchManageInfo:function(activity){
return new Promise(function(resolve,reject){
var query=new AV.Query(Partner);
query.equalTo('activity',activity);
query.include('user');

query.find({
success:function(partners){
var results=partners.map(function(item){
var subItem=item.attributes;
var user=subItem.user.attributes;
var datas={
id:item.id,
user:{
username:user.username,
avatar:user.avatar,
publishDate:item.updatedAt},

type:subItem.type,
status:subItem.status,
car:subItem.car,
phone:subItem.phone,
peopleNum:subItem.peopleNum,
childNum:subItem.childNum,
leftSeats:subItem.leftSeats,
share:subItem.share,
canDrive:subItem.canDrive};

return datas;});

resolve(results);},

error:function(error){
reject("Error: " + error.code + " " + error.message);}});});},





changeManageStatus:function(id,status){
return new Promise(function(resolve,reject){
var query=new AV.Query(Partner);
query.equalTo('objectId',id);
query.find().then(function(results){
results[0].set('status',status);
return results[0].save();}).
then(function(){
resolve('success');},
function(e){
reject(e);});});},




ensureManage:function(id,peopleNum,childNum,childNum2){
return new Promise(function(resolve,reject){
var query=new AV.Query(Partner);
query.equalTo('objectId',id);
query.find().then(function(results){
results[0].set('status',Partner.STATUS_CONFIRMED);
results[0].set('peopleNum',parseInt(peopleNum));
results[0].set('childNum',parseInt(childNum));
results[0].set('childNum2',parseInt(childNum2));
return results[0].save();}).
then(function(){
resolve('success');},
function(e){
reject(e);});});},




fetchAllCarType:function(){
return new Promise(function(resolve,reject){
var dataBlob={
'A':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}],


'B':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}],


'C':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}],


'D':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}],


'E':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}],


'F':[
{
'name':'阿尔法罗密欧',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false},
{
'name':'一汽-大众奥迪',
'active':false},
{
'name':'阿斯顿·马丁',
'active':false}]};




setTimeout(function(){
resolve(dataBlob);},
400);});},



fetchSubitemCarType:function(carType){
return new Promise(function(resolve,reject){
var dataBlobCover={
'一汽-大众奥迪':[
'奥迪A3',
'奥迪A4L',
'奥迪A6L',
'奥迪Q5'],

'奥迪(进口)':[
'奥迪A1',
'奥迪A3(进口)',
'奥迪S3',
'奥迪A4(进口)'],

'奥迪R5':[
'奥迪RS 3',
'奥迪RS 4',
'奥迪RS 5',
'奥迪RS 7']};


setTimeout(function(){
resolve(dataBlobCover);},
400);});},



publish:function(data){
var cover=data.cover;

var ext=cover.uri.split(/ext=/)[1].toLowerCase();
var name=shortid.generate() + '.' + ext;
var file=new AV.File(name,{
blob:{
name:name,
uri:cover.uri,
type:mimetypes[ext]}});



return Promise.all([
AV.User.currentAsync(),
file.save()]).
then(function(values){var _values=_slicedToArray(
values,2);var user=_values[0];var cover=_values[1];

delete data.cover;
var _activity=new Activity();
_.each(data,function(value,key){
_activity.set(key,value);});

var _user=new AV.User();
_user.id = user.id;
_activity.set('createBy',_user);
_activity.set('cover',cover);
var acl=new AV.ACL();
acl.setPublicWriteAccess(false);
acl.setPublicReadAccess(true);
acl.setWriteAccess(user,true);
_activity.setACL(acl);
return _activity.save();});}};




var journey={
fetch:function(){
return new Promise(function(resolve,reject){
var journeys=[{
id:1,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}},

{
id:2,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}},

{
id:3,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}},

{
id:4,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}},

{
id:5,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}},

{
id:6,
header:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
title:'最美的时光在路上',
views:1321,
stars:21,
publishDate:Date.now(),
user:{
username:'Steven'}}];



setTimeout(function(){
resolve({
results:journeys});},

0);});}};




var userinfo={
fetch:function callee$0$0(){var 
user;return regeneratorRuntime.async(function callee$0$0$(context$1$0){while(1) switch(context$1$0.prev = context$1$0.next){case 0:context$1$0.next = 2;return regeneratorRuntime.awrap(AV.User.currentAsync());case 2:user = context$1$0.sent;return context$1$0.abrupt('return',

{
results:{
username:user.get('username'),
phone:user.get('mobilePhoneNumber'),
grade:1,
activity:8,
journey:8,
annotations:8,
photos:8,
bills:8,
avatar:'http://localhost:8081/img/avatar-placeholder.png'}});case 4:case 'end':return context$1$0.stop();}},null,this);}};






function uploadPhoto(path){
console.log(path);
var file=AV.File.withURL(shortid.generate() + "." + extName(path).ext,path);
return file.save().then(function(file){
var photo=new Photo();
photo.set('file',file);
return photo.save();});}



var REGIONS=[{
tag:'all',
name:'全部',
icon:require('AwesomeProject/img/icon-region-shanxi.png')},
{
tag:'beijing',
name:'北京',
icon:require('AwesomeProject/img/icon-region-beijing.png')},
{
tag:'hebei',
name:'河北',
icon:require('AwesomeProject/img/icon-region-hebei.png')},
{
tag:'shandong',
name:'山东',
icon:require('AwesomeProject/img/icon-region-shandong.png')},
{
tag:'tianjin',
name:'天津',
icon:require('AwesomeProject/img/icon-region-tianjin.png')},
{
tag:'neimenggu',
name:'内蒙古',
icon:require('AwesomeProject/img/icon-region-neimenggu.png')}];


var _regions,_loadingRegions=false;

function regions(){















return REGIONS;}


module.exports = {
user:user,
sms:sms,
activity:activity,
userinfo:userinfo,
journey:journey,
uploadPhoto:uploadPhoto,
regions:regions,
Partner:Partner,
AV:AV};
});
__d('AwesomeProject/src/api/models.js',function(global, require, module, exports) {  var _=require('underscore/underscore.js');
var moment=require('moment/moment.js');
var mimeTypes=require('AwesomeProject/src/mimetypes.js');

var AppID='5jqgy6q659ljyldiik70cev6d8n7t1ixolt6rd7k6p1n964d';
var AppKey='bm0vszz9zd521yw8l40k6wdh6vsqq5aht92fdohlgzvwrgl4';

var AV=require('avoscloud-sdk/lib/av.js');
AV.initialize(AppID,AppKey);

var debug=require('AwesomeProject/src/debug.js')('api:log');
var warn=require('AwesomeProject/src/debug.js')('api:warn');
var error=require('AwesomeProject/src/debug.js')('api:error');

var Photo=AV.Object.extend("Photo");
var Region=AV.Object.extend("Region");
var Partner=AV.Object.extend("Partner",{
isFailed:function(){
var state=this.get('status');
return state === Partner.STATUS_REFUSED || state === Partner.STATUS_CANCELLED;}},

{
SELF_RIDE:'selfRide',
FREE_RIDE:'freeRide',

STATUS_IN_REVIEW:'in-review',
STATUS_REFUSED:'refused',
STATUS_APPROVAL:'approval',
STATUS_CANCELLED:'cancelled',
STATUS_CONFIRMED:'confirmed'});


var Activity=AV.Object.extend("Activity",{
getCarsTag:function(){
var minCars=this.get('minCars');
var maxCars=this.get('maxCars');
if(minCars === maxCars){
var carsTag=minCars + '车同行';}else 
{
var carsTag=minCars + '-' + maxCars + '车同行';}

return carsTag;},


getRouteTag:function(){

var routeTag='行车容易';
return routeTag;},


getCover:function(){
var FALLBACK='http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg';
var cover=this.get('cover');
return cover && cover.url()?cover.thumbnailURL(960,480):FALLBACK;},


_ensureAppCache:function(){
if(!this._appCache){
this._appCache = {};}},



setStars:function(stars){
this._ensureAppCache();
this._appCache.stars = stars;},


getStars:function(){
this._ensureAppCache();
return this._appCache.stars;},


setStarred:function(starred){
this._ensureAppCache();
this._appCache.starred = starred;},


getStarred:function(){
this._ensureAppCache();
return this._appCache.starred;},


getState:function(){
var now=moment().startOf('day').toDate();
if(now <= this.get('entryDeadline')){
return Activity.PREPARING;}else 
{
return Activity.TRAVELLING;}},



getLeftSeats:function(){
var query=new AV.Query(Partner);
query.equalTo('activity',this);
query.notEqualTo('status',Partner.STATUS_CONFIRMED);
return new Promise(function(resolve,reject){
query.find({
success:function(partners){
var selfRidePartners=_.filter(partners,function(partner){
return partner.get('type') === Partner.SELF_RIDE;});


var freeRidePartners=_.filter(partners,function(partner){
return partner.get('type') === Partner.FREE_RIDE;});


var totalSeats=_.reduce(selfRidePartners,function(memo,partner){
return memo + partner.get('leftSeats');},
0);

var seats=_.reduce(freeRidePartners,function(memo,partner){
return memo + (partner.get('peopleNum') || 0) + (
partner.get('childNum') || 0);},
0);

resolve(totalSeats - seats);},


reject:reject});});},




getCreator:function(){
return this.get('createBy');},


daysLeftForApply:function(){
var deadline=this.get('entryDeadline');
var now=new Date();
return Math.ceil((deadline - now) / 24 / 3600 / 1000) + 1;},


fetchStars:function(){
var query=AV.Relation.reverseQuery('_User','starredActivities',this);
return new Promise(function(resolve,reject){
query.count({
success:function(count){
debug('users',count);
resolve(count);},


error:function(e){
error('fail to fetch stars');
error(e);
resolve(0);}});});},





isUserApplied:function(user){
var query=new AV.Query(Partner);
query.equalTo('user',user);
query.equalTo('activity',this);
return query.count().then(function(count){
return count > 0;});},



isUserStarred:function(user){
var id=this.id;
return new Promise(function(resolve,reject){
var query=user.relation('starredActivities').query();
query.equalTo('objectId',id);
query.count({
success:function(count){
debug('count',count);
resolve(count === 1);},


error:function(e){
error('fail to detect star');
error(e);
resolve(false);}});});},





addPartner:function(user){
var partner=new Partner();
partner.set('activity',this);
partner.set('user',user);
return partner.save();}},

{
PREPARING:'preparing',
TRAVELLING:'travelling'});



module.exports = {
Photo:Photo,
Region:Region,
Activity:Activity,
Partner:Partner,
AV:AV};
});
__d('moment/moment.js',function(global, require, module, exports) {  (





function(global,factory){
typeof exports === 'object' && typeof module !== 'undefined'?module.exports = factory():
typeof define === 'function' && define.amd?define(factory):
global.moment = factory();})(
this,function(){'use strict';

var hookCallback;

function utils_hooks__hooks(){
return hookCallback.apply(null,arguments);}




function setHookCallback(callback){
hookCallback = callback;}


function isArray(input){
return Object.prototype.toString.call(input) === '[object Array]';}


function isDate(input){
return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';}


function map(arr,fn){
var res=[],i;
for(i = 0;i < arr.length;++i) {
res.push(fn(arr[i],i));}

return res;}


function hasOwnProp(a,b){
return Object.prototype.hasOwnProperty.call(a,b);}


function extend(a,b){
for(var i in b) {
if(hasOwnProp(b,i)){
a[i] = b[i];}}



if(hasOwnProp(b,'toString')){
a.toString = b.toString;}


if(hasOwnProp(b,'valueOf')){
a.valueOf = b.valueOf;}


return a;}


function create_utc__createUTC(input,format,locale,strict){
return createLocalOrUTC(input,format,locale,strict,true).utc();}


function defaultParsingFlags(){

return {
empty:false,
unusedTokens:[],
unusedInput:[],
overflow:-2,
charsLeftOver:0,
nullInput:false,
invalidMonth:null,
invalidFormat:false,
userInvalidated:false,
iso:false};}



function getParsingFlags(m){
if(m._pf == null){
m._pf = defaultParsingFlags();}

return m._pf;}


function valid__isValid(m){
if(m._isValid == null){
var flags=getParsingFlags(m);
m._isValid = !isNaN(m._d.getTime()) && 
flags.overflow < 0 && 
!flags.empty && 
!flags.invalidMonth && 
!flags.invalidWeekday && 
!flags.nullInput && 
!flags.invalidFormat && 
!flags.userInvalidated;

if(m._strict){
m._isValid = m._isValid && 
flags.charsLeftOver === 0 && 
flags.unusedTokens.length === 0 && 
flags.bigHour === undefined;}}


return m._isValid;}


function valid__createInvalid(flags){
var m=create_utc__createUTC(NaN);
if(flags != null){
extend(getParsingFlags(m),flags);}else 

{
getParsingFlags(m).userInvalidated = true;}


return m;}


var momentProperties=utils_hooks__hooks.momentProperties = [];

function copyConfig(to,from){
var i,prop,val;

if(typeof from._isAMomentObject !== 'undefined'){
to._isAMomentObject = from._isAMomentObject;}

if(typeof from._i !== 'undefined'){
to._i = from._i;}

if(typeof from._f !== 'undefined'){
to._f = from._f;}

if(typeof from._l !== 'undefined'){
to._l = from._l;}

if(typeof from._strict !== 'undefined'){
to._strict = from._strict;}

if(typeof from._tzm !== 'undefined'){
to._tzm = from._tzm;}

if(typeof from._isUTC !== 'undefined'){
to._isUTC = from._isUTC;}

if(typeof from._offset !== 'undefined'){
to._offset = from._offset;}

if(typeof from._pf !== 'undefined'){
to._pf = getParsingFlags(from);}

if(typeof from._locale !== 'undefined'){
to._locale = from._locale;}


if(momentProperties.length > 0){
for(i in momentProperties) {
prop = momentProperties[i];
val = from[prop];
if(typeof val !== 'undefined'){
to[prop] = val;}}}




return to;}


var updateInProgress=false;


function Moment(config){
copyConfig(this,config);
this._d = new Date(config._d != null?config._d.getTime():NaN);


if(updateInProgress === false){
updateInProgress = true;
utils_hooks__hooks.updateOffset(this);
updateInProgress = false;}}



function isMoment(obj){
return obj instanceof Moment || obj != null && obj._isAMomentObject != null;}


function absFloor(number){
if(number < 0){
return Math.ceil(number);}else 
{
return Math.floor(number);}}



function toInt(argumentForCoercion){
var coercedNumber=+argumentForCoercion,
value=0;

if(coercedNumber !== 0 && isFinite(coercedNumber)){
value = absFloor(coercedNumber);}


return value;}


function compareArrays(array1,array2,dontConvert){
var len=Math.min(array1.length,array2.length),
lengthDiff=Math.abs(array1.length - array2.length),
diffs=0,
i;
for(i = 0;i < len;i++) {
if(dontConvert && array1[i] !== array2[i] || 
!dontConvert && toInt(array1[i]) !== toInt(array2[i])){
diffs++;}}


return diffs + lengthDiff;}


function Locale(){}


var locales={};
var globalLocale;

function normalizeLocale(key){
return key?key.toLowerCase().replace('_','-'):key;}





function chooseLocale(names){
var i=0,j,next,locale,split;

while(i < names.length) {
split = normalizeLocale(names[i]).split('-');
j = split.length;
next = normalizeLocale(names[i + 1]);
next = next?next.split('-'):null;
while(j > 0) {
locale = loadLocale(split.slice(0,j).join('-'));
if(locale){
return locale;}

if(next && next.length >= j && compareArrays(split,next,true) >= j - 1){

break;}

j--;}

i++;}

return null;}


function loadLocale(name){
var oldLocale=null;

if(!locales[name] && typeof module !== 'undefined' && 
module && module.exports){
try{
oldLocale = globalLocale._abbr;
require('./locale/' + name);


locale_locales__getSetGlobalLocale(oldLocale);}
catch(e) {}}

return locales[name];}





function locale_locales__getSetGlobalLocale(key,values){
var data;
if(key){
if(typeof values === 'undefined'){
data = locale_locales__getLocale(key);}else 

{
data = defineLocale(key,values);}


if(data){

globalLocale = data;}}



return globalLocale._abbr;}


function defineLocale(name,values){
if(values !== null){
values.abbr = name;
locales[name] = locales[name] || new Locale();
locales[name].set(values);


locale_locales__getSetGlobalLocale(name);

return locales[name];}else 
{

delete locales[name];
return null;}}




function locale_locales__getLocale(key){
var locale;

if(key && key._locale && key._locale._abbr){
key = key._locale._abbr;}


if(!key){
return globalLocale;}


if(!isArray(key)){

locale = loadLocale(key);
if(locale){
return locale;}

key = [key];}


return chooseLocale(key);}


var aliases={};

function addUnitAlias(unit,shorthand){
var lowerCase=unit.toLowerCase();
aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;}


function normalizeUnits(units){
return typeof units === 'string'?aliases[units] || aliases[units.toLowerCase()]:undefined;}


function normalizeObjectUnits(inputObject){
var normalizedInput={},
normalizedProp,
prop;

for(prop in inputObject) {
if(hasOwnProp(inputObject,prop)){
normalizedProp = normalizeUnits(prop);
if(normalizedProp){
normalizedInput[normalizedProp] = inputObject[prop];}}}




return normalizedInput;}


function makeGetSet(unit,keepTime){
return function(value){
if(value != null){
get_set__set(this,unit,value);
utils_hooks__hooks.updateOffset(this,keepTime);
return this;}else 
{
return get_set__get(this,unit);}};}




function get_set__get(mom,unit){
return mom._d['get' + (mom._isUTC?'UTC':'') + unit]();}


function get_set__set(mom,unit,value){
return mom._d['set' + (mom._isUTC?'UTC':'') + unit](value);}




function getSet(units,value){
var unit;
if(typeof units === 'object'){
for(unit in units) {
this.set(unit,units[unit]);}}else 

{
units = normalizeUnits(units);
if(typeof this[units] === 'function'){
return this[units](value);}}


return this;}


function zeroFill(number,targetLength,forceSign){
var absNumber='' + Math.abs(number),
zerosToFill=targetLength - absNumber.length,
sign=number >= 0;
return (sign?forceSign?'+':'':'-') + 
Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1) + absNumber;}


var formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

var formatFunctions={};

var formatTokenFunctions={};





function addFormatToken(token,padded,ordinal,callback){
var func=callback;
if(typeof callback === 'string'){
func = function(){
return this[callback]();};}


if(token){
formatTokenFunctions[token] = func;}

if(padded){
formatTokenFunctions[padded[0]] = function(){
return zeroFill(func.apply(this,arguments),padded[1],padded[2]);};}


if(ordinal){
formatTokenFunctions[ordinal] = function(){
return this.localeData().ordinal(func.apply(this,arguments),token);};}}




function removeFormattingTokens(input){
if(input.match(/\[[\s\S]/)){
return input.replace(/^\[|\]$/g,'');}

return input.replace(/\\/g,'');}


function makeFormatFunction(format){
var array=format.match(formattingTokens),i,length;

for(i = 0,length = array.length;i < length;i++) {
if(formatTokenFunctions[array[i]]){
array[i] = formatTokenFunctions[array[i]];}else 
{
array[i] = removeFormattingTokens(array[i]);}}



return function(mom){
var output='';
for(i = 0;i < length;i++) {
output += array[i] instanceof Function?array[i].call(mom,format):array[i];}

return output;};}




function formatMoment(m,format){
if(!m.isValid()){
return m.localeData().invalidDate();}


format = expandFormat(format,m.localeData());
formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

return formatFunctions[format](m);}


function expandFormat(format,locale){
var i=5;

function replaceLongDateFormatTokens(input){
return locale.longDateFormat(input) || input;}


localFormattingTokens.lastIndex = 0;
while(i >= 0 && localFormattingTokens.test(format)) {
format = format.replace(localFormattingTokens,replaceLongDateFormatTokens);
localFormattingTokens.lastIndex = 0;
i -= 1;}


return format;}


var match1=/\d/;
var match2=/\d\d/;
var match3=/\d{3}/;
var match4=/\d{4}/;
var match6=/[+-]?\d{6}/;
var match1to2=/\d\d?/;
var match1to3=/\d{1,3}/;
var match1to4=/\d{1,4}/;
var match1to6=/[+-]?\d{1,6}/;

var matchUnsigned=/\d+/;
var matchSigned=/[+-]?\d+/;

var matchOffset=/Z|[+-]\d\d:?\d\d/gi;

var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;


var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;

var regexes={};

function isFunction(sth){

return typeof sth === 'function' && 
Object.prototype.toString.call(sth) === '[object Function]';}



function addRegexToken(token,regex,strictRegex){
regexes[token] = isFunction(regex)?regex:function(isStrict){
return isStrict && strictRegex?strictRegex:regex;};}



function getParseRegexForToken(token,config){
if(!hasOwnProp(regexes,token)){
return new RegExp(unescapeFormat(token));}


return regexes[token](config._strict,config._locale);}



function unescapeFormat(s){
return s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){
return p1 || p2 || p3 || p4;}).
replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');}


var tokens={};

function addParseToken(token,callback){
var i,func=callback;
if(typeof token === 'string'){
token = [token];}

if(typeof callback === 'number'){
func = function(input,array){
array[callback] = toInt(input);};}


for(i = 0;i < token.length;i++) {
tokens[token[i]] = func;}}



function addWeekParseToken(token,callback){
addParseToken(token,function(input,array,config,token){
config._w = config._w || {};
callback(input,config._w,config,token);});}



function addTimeToArrayFromToken(token,input,config){
if(input != null && hasOwnProp(tokens,token)){
tokens[token](input,config._a,config,token);}}



var YEAR=0;
var MONTH=1;
var DATE=2;
var HOUR=3;
var MINUTE=4;
var SECOND=5;
var MILLISECOND=6;

function daysInMonth(year,month){
return new Date(Date.UTC(year,month + 1,0)).getUTCDate();}




addFormatToken('M',['MM',2],'Mo',function(){
return this.month() + 1;});


addFormatToken('MMM',0,0,function(format){
return this.localeData().monthsShort(this,format);});


addFormatToken('MMMM',0,0,function(format){
return this.localeData().months(this,format);});




addUnitAlias('month','M');



addRegexToken('M',match1to2);
addRegexToken('MM',match1to2,match2);
addRegexToken('MMM',matchWord);
addRegexToken('MMMM',matchWord);

addParseToken(['M','MM'],function(input,array){
array[MONTH] = toInt(input) - 1;});


addParseToken(['MMM','MMMM'],function(input,array,config,token){
var month=config._locale.monthsParse(input,token,config._strict);

if(month != null){
array[MONTH] = month;}else 
{
getParsingFlags(config).invalidMonth = input;}});





var defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
function localeMonths(m){
return this._months[m.month()];}


var defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
function localeMonthsShort(m){
return this._monthsShort[m.month()];}


function localeMonthsParse(monthName,format,strict){
var i,mom,regex;

if(!this._monthsParse){
this._monthsParse = [];
this._longMonthsParse = [];
this._shortMonthsParse = [];}


for(i = 0;i < 12;i++) {

mom = create_utc__createUTC([2000,i]);
if(strict && !this._longMonthsParse[i]){
this._longMonthsParse[i] = new RegExp('^' + this.months(mom,'').replace('.','') + '$','i');
this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom,'').replace('.','') + '$','i');}

if(!strict && !this._monthsParse[i]){
regex = '^' + this.months(mom,'') + '|^' + this.monthsShort(mom,'');
this._monthsParse[i] = new RegExp(regex.replace('.',''),'i');}


if(strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)){
return i;}else 
if(strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)){
return i;}else 
if(!strict && this._monthsParse[i].test(monthName)){
return i;}}}






function setMonth(mom,value){
var dayOfMonth;


if(typeof value === 'string'){
value = mom.localeData().monthsParse(value);

if(typeof value !== 'number'){
return mom;}}



dayOfMonth = Math.min(mom.date(),daysInMonth(mom.year(),value));
mom._d['set' + (mom._isUTC?'UTC':'') + 'Month'](value,dayOfMonth);
return mom;}


function getSetMonth(value){
if(value != null){
setMonth(this,value);
utils_hooks__hooks.updateOffset(this,true);
return this;}else 
{
return get_set__get(this,'Month');}}



function getDaysInMonth(){
return daysInMonth(this.year(),this.month());}


function checkOverflow(m){
var overflow;
var a=m._a;

if(a && getParsingFlags(m).overflow === -2){
overflow = 
a[MONTH] < 0 || a[MONTH] > 11?MONTH:
a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR],a[MONTH])?DATE:
a[HOUR] < 0 || a[HOUR] > 24 || a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)?HOUR:
a[MINUTE] < 0 || a[MINUTE] > 59?MINUTE:
a[SECOND] < 0 || a[SECOND] > 59?SECOND:
a[MILLISECOND] < 0 || a[MILLISECOND] > 999?MILLISECOND:
-1;

if(getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)){
overflow = DATE;}


getParsingFlags(m).overflow = overflow;}


return m;}


function warn(msg){
if(utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn){
console.warn('Deprecation warning: ' + msg);}}



function deprecate(msg,fn){
var firstTime=true;

return extend(function(){
if(firstTime){
warn(msg + '\n' + new Error().stack);
firstTime = false;}

return fn.apply(this,arguments);},
fn);}


var deprecations={};

function deprecateSimple(name,msg){
if(!deprecations[name]){
warn(msg);
deprecations[name] = true;}}



utils_hooks__hooks.suppressDeprecationWarnings = false;

var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

var isoDates=[
['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],
['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],
['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],
['GGGG-[W]WW',/\d{4}-W\d{2}/],
['YYYY-DDD',/\d{4}-\d{3}/]];



var isoTimes=[
['HH:mm:ss.SSSS',/(T| )\d\d:\d\d:\d\d\.\d+/],
['HH:mm:ss',/(T| )\d\d:\d\d:\d\d/],
['HH:mm',/(T| )\d\d:\d\d/],
['HH',/(T| )\d\d/]];


var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;


function configFromISO(config){
var i,l,
string=config._i,
match=from_string__isoRegex.exec(string);

if(match){
getParsingFlags(config).iso = true;
for(i = 0,l = isoDates.length;i < l;i++) {
if(isoDates[i][1].exec(string)){
config._f = isoDates[i][0];
break;}}


for(i = 0,l = isoTimes.length;i < l;i++) {
if(isoTimes[i][1].exec(string)){

config._f += (match[6] || ' ') + isoTimes[i][0];
break;}}


if(string.match(matchOffset)){
config._f += 'Z';}

configFromStringAndFormat(config);}else 
{
config._isValid = false;}}




function configFromString(config){
var matched=aspNetJsonRegex.exec(config._i);

if(matched !== null){
config._d = new Date(+matched[1]);
return;}


configFromISO(config);
if(config._isValid === false){
delete config._isValid;
utils_hooks__hooks.createFromInputFallback(config);}}



utils_hooks__hooks.createFromInputFallback = deprecate(
'moment construction falls back to js Date. This is ' + 
'discouraged and will be removed in upcoming major ' + 
'release. Please refer to ' + 
'https://github.com/moment/moment/issues/1407 for more info.',
function(config){
config._d = new Date(config._i + (config._useUTC?' UTC':''));});



function createDate(y,m,d,h,M,s,ms){


var date=new Date(y,m,d,h,M,s,ms);


if(y < 1970){
date.setFullYear(y);}

return date;}


function createUTCDate(y){
var date=new Date(Date.UTC.apply(null,arguments));
if(y < 1970){
date.setUTCFullYear(y);}

return date;}


addFormatToken(0,['YY',2],0,function(){
return this.year() % 100;});


addFormatToken(0,['YYYY',4],0,'year');
addFormatToken(0,['YYYYY',5],0,'year');
addFormatToken(0,['YYYYYY',6,true],0,'year');



addUnitAlias('year','y');



addRegexToken('Y',matchSigned);
addRegexToken('YY',match1to2,match2);
addRegexToken('YYYY',match1to4,match4);
addRegexToken('YYYYY',match1to6,match6);
addRegexToken('YYYYYY',match1to6,match6);

addParseToken(['YYYYY','YYYYYY'],YEAR);
addParseToken('YYYY',function(input,array){
array[YEAR] = input.length === 2?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input);});

addParseToken('YY',function(input,array){
array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);});




function daysInYear(year){
return isLeapYear(year)?366:365;}


function isLeapYear(year){
return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;}




utils_hooks__hooks.parseTwoDigitYear = function(input){
return toInt(input) + (toInt(input) > 68?1900:2000);};




var getSetYear=makeGetSet('FullYear',false);

function getIsLeapYear(){
return isLeapYear(this.year());}


addFormatToken('w',['ww',2],'wo','week');
addFormatToken('W',['WW',2],'Wo','isoWeek');



addUnitAlias('week','w');
addUnitAlias('isoWeek','W');



addRegexToken('w',match1to2);
addRegexToken('ww',match1to2,match2);
addRegexToken('W',match1to2);
addRegexToken('WW',match1to2,match2);

addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){
week[token.substr(0,1)] = toInt(input);});











function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){
var end=firstDayOfWeekOfYear - firstDayOfWeek,
daysToDayOfWeek=firstDayOfWeekOfYear - mom.day(),
adjustedMoment;


if(daysToDayOfWeek > end){
daysToDayOfWeek -= 7;}


if(daysToDayOfWeek < end - 7){
daysToDayOfWeek += 7;}


adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek,'d');
return {
week:Math.ceil(adjustedMoment.dayOfYear() / 7),
year:adjustedMoment.year()};}





function localeWeek(mom){
return weekOfYear(mom,this._week.dow,this._week.doy).week;}


var defaultLocaleWeek={
dow:0,
doy:6};


function localeFirstDayOfWeek(){
return this._week.dow;}


function localeFirstDayOfYear(){
return this._week.doy;}




function getSetWeek(input){
var week=this.localeData().week(this);
return input == null?week:this.add((input - week) * 7,'d');}


function getSetISOWeek(input){
var week=weekOfYear(this,1,4).week;
return input == null?week:this.add((input - week) * 7,'d');}


addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear');



addUnitAlias('dayOfYear','DDD');



addRegexToken('DDD',match1to3);
addRegexToken('DDDD',match3);
addParseToken(['DDD','DDDD'],function(input,array,config){
config._dayOfYear = toInt(input);});





function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){
var week1Jan=6 + firstDayOfWeek - firstDayOfWeekOfYear,janX=createUTCDate(year,0,1 + week1Jan),d=janX.getUTCDay(),dayOfYear;
if(d < firstDayOfWeek){
d += 7;}


weekday = weekday != null?1 * weekday:firstDayOfWeek;

dayOfYear = 1 + week1Jan + 7 * (week - 1) - d + weekday;

return {
year:dayOfYear > 0?year:year - 1,
dayOfYear:dayOfYear > 0?dayOfYear:daysInYear(year - 1) + dayOfYear};}





function getSetDayOfYear(input){
var dayOfYear=Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
return input == null?dayOfYear:this.add(input - dayOfYear,'d');}



function defaults(a,b,c){
if(a != null){
return a;}

if(b != null){
return b;}

return c;}


function currentDateArray(config){
var now=new Date();
if(config._useUTC){
return [now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()];}

return [now.getFullYear(),now.getMonth(),now.getDate()];}






function configFromArray(config){
var i,date,input=[],currentDate,yearToUse;

if(config._d){
return;}


currentDate = currentDateArray(config);


if(config._w && config._a[DATE] == null && config._a[MONTH] == null){
dayOfYearFromWeekInfo(config);}



if(config._dayOfYear){
yearToUse = defaults(config._a[YEAR],currentDate[YEAR]);

if(config._dayOfYear > daysInYear(yearToUse)){
getParsingFlags(config)._overflowDayOfYear = true;}


date = createUTCDate(yearToUse,0,config._dayOfYear);
config._a[MONTH] = date.getUTCMonth();
config._a[DATE] = date.getUTCDate();}







for(i = 0;i < 3 && config._a[i] == null;++i) {
config._a[i] = input[i] = currentDate[i];}



for(;i < 7;i++) {
config._a[i] = input[i] = config._a[i] == null?i === 2?1:0:config._a[i];}



if(config._a[HOUR] === 24 && 
config._a[MINUTE] === 0 && 
config._a[SECOND] === 0 && 
config._a[MILLISECOND] === 0){
config._nextDay = true;
config._a[HOUR] = 0;}


config._d = (config._useUTC?createUTCDate:createDate).apply(null,input);


if(config._tzm != null){
config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);}


if(config._nextDay){
config._a[HOUR] = 24;}}



function dayOfYearFromWeekInfo(config){
var w,weekYear,week,weekday,dow,doy,temp;

w = config._w;
if(w.GG != null || w.W != null || w.E != null){
dow = 1;
doy = 4;





weekYear = defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);
week = defaults(w.W,1);
weekday = defaults(w.E,1);}else 
{
dow = config._locale._week.dow;
doy = config._locale._week.doy;

weekYear = defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);
week = defaults(w.w,1);

if(w.d != null){

weekday = w.d;
if(weekday < dow){
++week;}}else 

if(w.e != null){

weekday = w.e + dow;}else 
{

weekday = dow;}}


temp = dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);

config._a[YEAR] = temp.year;
config._dayOfYear = temp.dayOfYear;}


utils_hooks__hooks.ISO_8601 = function(){};


function configFromStringAndFormat(config){

if(config._f === utils_hooks__hooks.ISO_8601){
configFromISO(config);
return;}


config._a = [];
getParsingFlags(config).empty = true;


var string='' + config._i,
i,parsedInput,tokens,token,skipped,
stringLength=string.length,
totalParsedInputLength=0;

tokens = expandFormat(config._f,config._locale).match(formattingTokens) || [];

for(i = 0;i < tokens.length;i++) {
token = tokens[i];
parsedInput = (string.match(getParseRegexForToken(token,config)) || [])[0];
if(parsedInput){
skipped = string.substr(0,string.indexOf(parsedInput));
if(skipped.length > 0){
getParsingFlags(config).unusedInput.push(skipped);}

string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
totalParsedInputLength += parsedInput.length;}


if(formatTokenFunctions[token]){
if(parsedInput){
getParsingFlags(config).empty = false;}else 

{
getParsingFlags(config).unusedTokens.push(token);}

addTimeToArrayFromToken(token,parsedInput,config);}else 

if(config._strict && !parsedInput){
getParsingFlags(config).unusedTokens.push(token);}}




getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
if(string.length > 0){
getParsingFlags(config).unusedInput.push(string);}



if(getParsingFlags(config).bigHour === true && 
config._a[HOUR] <= 12 && 
config._a[HOUR] > 0){
getParsingFlags(config).bigHour = undefined;}


config._a[HOUR] = meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);

configFromArray(config);
checkOverflow(config);}



function meridiemFixWrap(locale,hour,meridiem){
var isPm;

if(meridiem == null){

return hour;}

if(locale.meridiemHour != null){
return locale.meridiemHour(hour,meridiem);}else 
if(locale.isPM != null){

isPm = locale.isPM(meridiem);
if(isPm && hour < 12){
hour += 12;}

if(!isPm && hour === 12){
hour = 0;}

return hour;}else 
{

return hour;}}



function configFromStringAndArray(config){
var tempConfig,
bestMoment,

scoreToBeat,
i,
currentScore;

if(config._f.length === 0){
getParsingFlags(config).invalidFormat = true;
config._d = new Date(NaN);
return;}


for(i = 0;i < config._f.length;i++) {
currentScore = 0;
tempConfig = copyConfig({},config);
if(config._useUTC != null){
tempConfig._useUTC = config._useUTC;}

tempConfig._f = config._f[i];
configFromStringAndFormat(tempConfig);

if(!valid__isValid(tempConfig)){
continue;}



currentScore += getParsingFlags(tempConfig).charsLeftOver;


currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

getParsingFlags(tempConfig).score = currentScore;

if(scoreToBeat == null || currentScore < scoreToBeat){
scoreToBeat = currentScore;
bestMoment = tempConfig;}}



extend(config,bestMoment || tempConfig);}


function configFromObject(config){
if(config._d){
return;}


var i=normalizeObjectUnits(config._i);
config._a = [i.year,i.month,i.day || i.date,i.hour,i.minute,i.second,i.millisecond];

configFromArray(config);}


function createFromConfig(config){
var res=new Moment(checkOverflow(prepareConfig(config)));
if(res._nextDay){

res.add(1,'d');
res._nextDay = undefined;}


return res;}


function prepareConfig(config){
var input=config._i,
format=config._f;

config._locale = config._locale || locale_locales__getLocale(config._l);

if(input === null || format === undefined && input === ''){
return valid__createInvalid({nullInput:true});}


if(typeof input === 'string'){
config._i = input = config._locale.preparse(input);}


if(isMoment(input)){
return new Moment(checkOverflow(input));}else 
if(isArray(format)){
configFromStringAndArray(config);}else 
if(format){
configFromStringAndFormat(config);}else 
if(isDate(input)){
config._d = input;}else 
{
configFromInput(config);}


return config;}


function configFromInput(config){
var input=config._i;
if(input === undefined){
config._d = new Date();}else 
if(isDate(input)){
config._d = new Date(+input);}else 
if(typeof input === 'string'){
configFromString(config);}else 
if(isArray(input)){
config._a = map(input.slice(0),function(obj){
return parseInt(obj,10);});

configFromArray(config);}else 
if(typeof input === 'object'){
configFromObject(config);}else 
if(typeof input === 'number'){

config._d = new Date(input);}else 
{
utils_hooks__hooks.createFromInputFallback(config);}}



function createLocalOrUTC(input,format,locale,strict,isUTC){
var c={};

if(typeof locale === 'boolean'){
strict = locale;
locale = undefined;}



c._isAMomentObject = true;
c._useUTC = c._isUTC = isUTC;
c._l = locale;
c._i = input;
c._f = format;
c._strict = strict;

return createFromConfig(c);}


function local__createLocal(input,format,locale,strict){
return createLocalOrUTC(input,format,locale,strict,false);}


var prototypeMin=deprecate(
'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',
function(){
var other=local__createLocal.apply(null,arguments);
return other < this?this:other;});



var prototypeMax=deprecate(
'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',
function(){
var other=local__createLocal.apply(null,arguments);
return other > this?this:other;});








function pickBy(fn,moments){
var res,i;
if(moments.length === 1 && isArray(moments[0])){
moments = moments[0];}

if(!moments.length){
return local__createLocal();}

res = moments[0];
for(i = 1;i < moments.length;++i) {
if(!moments[i].isValid() || moments[i][fn](res)){
res = moments[i];}}


return res;}



function min(){
var args=[].slice.call(arguments,0);

return pickBy('isBefore',args);}


function max(){
var args=[].slice.call(arguments,0);

return pickBy('isAfter',args);}


function Duration(duration){
var normalizedInput=normalizeObjectUnits(duration),
years=normalizedInput.year || 0,
quarters=normalizedInput.quarter || 0,
months=normalizedInput.month || 0,
weeks=normalizedInput.week || 0,
days=normalizedInput.day || 0,
hours=normalizedInput.hour || 0,
minutes=normalizedInput.minute || 0,
seconds=normalizedInput.second || 0,
milliseconds=normalizedInput.millisecond || 0;


this._milliseconds = +milliseconds + 
seconds * 1e3 + 
minutes * 6e4 + 
hours * 36e5;


this._days = +days + 
weeks * 7;



this._months = +months + 
quarters * 3 + 
years * 12;

this._data = {};

this._locale = locale_locales__getLocale();

this._bubble();}


function isDuration(obj){
return obj instanceof Duration;}


function offset(token,separator){
addFormatToken(token,0,0,function(){
var offset=this.utcOffset();
var sign='+';
if(offset < 0){
offset = -offset;
sign = '-';}

return sign + zeroFill(~ ~(offset / 60),2) + separator + zeroFill(~ ~offset % 60,2);});}



offset('Z',':');
offset('ZZ','');



addRegexToken('Z',matchOffset);
addRegexToken('ZZ',matchOffset);
addParseToken(['Z','ZZ'],function(input,array,config){
config._useUTC = true;
config._tzm = offsetFromString(input);});







var chunkOffset=/([\+\-]|\d\d)/gi;

function offsetFromString(string){
var matches=(string || '').match(matchOffset) || [];
var chunk=matches[matches.length - 1] || [];
var parts=(chunk + '').match(chunkOffset) || ['-',0,0];
var minutes=+(parts[1] * 60) + toInt(parts[2]);

return parts[0] === '+'?minutes:-minutes;}



function cloneWithOffset(input,model){
var res,diff;
if(model._isUTC){
res = model.clone();
diff = (isMoment(input) || isDate(input)?+input:+local__createLocal(input)) - +res;

res._d.setTime(+res._d + diff);
utils_hooks__hooks.updateOffset(res,false);
return res;}else 
{
return local__createLocal(input).local();}}



function getDateOffset(m){


return -Math.round(m._d.getTimezoneOffset() / 15) * 15;}






utils_hooks__hooks.updateOffset = function(){};













function getSetOffset(input,keepLocalTime){
var offset=this._offset || 0,
localAdjust;
if(input != null){
if(typeof input === 'string'){
input = offsetFromString(input);}

if(Math.abs(input) < 16){
input = input * 60;}

if(!this._isUTC && keepLocalTime){
localAdjust = getDateOffset(this);}

this._offset = input;
this._isUTC = true;
if(localAdjust != null){
this.add(localAdjust,'m');}

if(offset !== input){
if(!keepLocalTime || this._changeInProgress){
add_subtract__addSubtract(this,create__createDuration(input - offset,'m'),1,false);}else 
if(!this._changeInProgress){
this._changeInProgress = true;
utils_hooks__hooks.updateOffset(this,true);
this._changeInProgress = null;}}


return this;}else 
{
return this._isUTC?offset:getDateOffset(this);}}



function getSetZone(input,keepLocalTime){
if(input != null){
if(typeof input !== 'string'){
input = -input;}


this.utcOffset(input,keepLocalTime);

return this;}else 
{
return -this.utcOffset();}}



function setOffsetToUTC(keepLocalTime){
return this.utcOffset(0,keepLocalTime);}


function setOffsetToLocal(keepLocalTime){
if(this._isUTC){
this.utcOffset(0,keepLocalTime);
this._isUTC = false;

if(keepLocalTime){
this.subtract(getDateOffset(this),'m');}}


return this;}


function setOffsetToParsedOffset(){
if(this._tzm){
this.utcOffset(this._tzm);}else 
if(typeof this._i === 'string'){
this.utcOffset(offsetFromString(this._i));}

return this;}


function hasAlignedHourOffset(input){
input = input?local__createLocal(input).utcOffset():0;

return (this.utcOffset() - input) % 60 === 0;}


function isDaylightSavingTime(){
return (
this.utcOffset() > this.clone().month(0).utcOffset() || 
this.utcOffset() > this.clone().month(5).utcOffset());}



function isDaylightSavingTimeShifted(){
if(typeof this._isDSTShifted !== 'undefined'){
return this._isDSTShifted;}


var c={};

copyConfig(c,this);
c = prepareConfig(c);

if(c._a){
var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);
this._isDSTShifted = this.isValid() && 
compareArrays(c._a,other.toArray()) > 0;}else 
{
this._isDSTShifted = false;}


return this._isDSTShifted;}


function isLocal(){
return !this._isUTC;}


function isUtcOffset(){
return this._isUTC;}


function isUtc(){
return this._isUTC && this._offset === 0;}


var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;



var create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;

function create__createDuration(input,key){
var duration=input,

match=null,
sign,
ret,
diffRes;

if(isDuration(input)){
duration = {
ms:input._milliseconds,
d:input._days,
M:input._months};}else 

if(typeof input === 'number'){
duration = {};
if(key){
duration[key] = input;}else 
{
duration.milliseconds = input;}}else 

if(!!(match = aspNetRegex.exec(input))){
sign = match[1] === '-'?-1:1;
duration = {
y:0,
d:toInt(match[DATE]) * sign,
h:toInt(match[HOUR]) * sign,
m:toInt(match[MINUTE]) * sign,
s:toInt(match[SECOND]) * sign,
ms:toInt(match[MILLISECOND]) * sign};}else 

if(!!(match = create__isoRegex.exec(input))){
sign = match[1] === '-'?-1:1;
duration = {
y:parseIso(match[2],sign),
M:parseIso(match[3],sign),
d:parseIso(match[4],sign),
h:parseIso(match[5],sign),
m:parseIso(match[6],sign),
s:parseIso(match[7],sign),
w:parseIso(match[8],sign)};}else 

if(duration == null){
duration = {};}else 
if(typeof duration === 'object' && ('from' in duration || 'to' in duration)){
diffRes = momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));

duration = {};
duration.ms = diffRes.milliseconds;
duration.M = diffRes.months;}


ret = new Duration(duration);

if(isDuration(input) && hasOwnProp(input,'_locale')){
ret._locale = input._locale;}


return ret;}


create__createDuration.fn = Duration.prototype;

function parseIso(inp,sign){



var res=inp && parseFloat(inp.replace(',','.'));

return (isNaN(res)?0:res) * sign;}


function positiveMomentsDifference(base,other){
var res={milliseconds:0,months:0};

res.months = other.month() - base.month() + 
(other.year() - base.year()) * 12;
if(base.clone().add(res.months,'M').isAfter(other)){
--res.months;}


res.milliseconds = +other - +base.clone().add(res.months,'M');

return res;}


function momentsDifference(base,other){
var res;
other = cloneWithOffset(other,base);
if(base.isBefore(other)){
res = positiveMomentsDifference(base,other);}else 
{
res = positiveMomentsDifference(other,base);
res.milliseconds = -res.milliseconds;
res.months = -res.months;}


return res;}


function createAdder(direction,name){
return function(val,period){
var dur,tmp;

if(period !== null && !isNaN(+period)){
deprecateSimple(name,'moment().' + name + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');
tmp = val;val = period;period = tmp;}


val = typeof val === 'string'?+val:val;
dur = create__createDuration(val,period);
add_subtract__addSubtract(this,dur,direction);
return this;};}



function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){
var milliseconds=duration._milliseconds,
days=duration._days,
months=duration._months;
updateOffset = updateOffset == null?true:updateOffset;

if(milliseconds){
mom._d.setTime(+mom._d + milliseconds * isAdding);}

if(days){
get_set__set(mom,'Date',get_set__get(mom,'Date') + days * isAdding);}

if(months){
setMonth(mom,get_set__get(mom,'Month') + months * isAdding);}

if(updateOffset){
utils_hooks__hooks.updateOffset(mom,days || months);}}



var add_subtract__add=createAdder(1,'add');
var add_subtract__subtract=createAdder(-1,'subtract');

function moment_calendar__calendar(time,formats){


var now=time || local__createLocal(),
sod=cloneWithOffset(now,this).startOf('day'),
diff=this.diff(sod,'days',true),
format=diff < -6?'sameElse':
diff < -1?'lastWeek':
diff < 0?'lastDay':
diff < 1?'sameDay':
diff < 2?'nextDay':
diff < 7?'nextWeek':'sameElse';
return this.format(formats && formats[format] || this.localeData().calendar(format,this,local__createLocal(now)));}


function clone(){
return new Moment(this);}


function isAfter(input,units){
var inputMs;
units = normalizeUnits(typeof units !== 'undefined'?units:'millisecond');
if(units === 'millisecond'){
input = isMoment(input)?input:local__createLocal(input);
return +this > +input;}else 
{
inputMs = isMoment(input)?+input:+local__createLocal(input);
return inputMs < +this.clone().startOf(units);}}



function isBefore(input,units){
var inputMs;
units = normalizeUnits(typeof units !== 'undefined'?units:'millisecond');
if(units === 'millisecond'){
input = isMoment(input)?input:local__createLocal(input);
return +this < +input;}else 
{
inputMs = isMoment(input)?+input:+local__createLocal(input);
return +this.clone().endOf(units) < inputMs;}}



function isBetween(from,to,units){
return this.isAfter(from,units) && this.isBefore(to,units);}


function isSame(input,units){
var inputMs;
units = normalizeUnits(units || 'millisecond');
if(units === 'millisecond'){
input = isMoment(input)?input:local__createLocal(input);
return +this === +input;}else 
{
inputMs = +local__createLocal(input);
return +this.clone().startOf(units) <= inputMs && inputMs <= +this.clone().endOf(units);}}



function diff(input,units,asFloat){
var that=cloneWithOffset(input,this),
zoneDelta=(that.utcOffset() - this.utcOffset()) * 6e4,
delta,output;

units = normalizeUnits(units);

if(units === 'year' || units === 'month' || units === 'quarter'){
output = monthDiff(this,that);
if(units === 'quarter'){
output = output / 3;}else 
if(units === 'year'){
output = output / 12;}}else 

{
delta = this - that;
output = units === 'second'?delta / 1e3:
units === 'minute'?delta / 6e4:
units === 'hour'?delta / 36e5:
units === 'day'?(delta - zoneDelta) / 864e5:
units === 'week'?(delta - zoneDelta) / 6048e5:
delta;}

return asFloat?output:absFloor(output);}


function monthDiff(a,b){

var wholeMonthDiff=(b.year() - a.year()) * 12 + (b.month() - a.month()),

anchor=a.clone().add(wholeMonthDiff,'months'),
anchor2,adjust;

if(b - anchor < 0){
anchor2 = a.clone().add(wholeMonthDiff - 1,'months');

adjust = (b - anchor) / (anchor - anchor2);}else 
{
anchor2 = a.clone().add(wholeMonthDiff + 1,'months');

adjust = (b - anchor) / (anchor2 - anchor);}


return -(wholeMonthDiff + adjust);}


utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';

function toString(){
return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');}


function moment_format__toISOString(){
var m=this.clone().utc();
if(0 < m.year() && m.year() <= 9999){
if('function' === typeof Date.prototype.toISOString){

return this.toDate().toISOString();}else 
{
return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}else 

{
return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');}}



function format(inputString){
var output=formatMoment(this,inputString || utils_hooks__hooks.defaultFormat);
return this.localeData().postformat(output);}


function from(time,withoutSuffix){
if(!this.isValid()){
return this.localeData().invalidDate();}

return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix);}


function fromNow(withoutSuffix){
return this.from(local__createLocal(),withoutSuffix);}


function to(time,withoutSuffix){
if(!this.isValid()){
return this.localeData().invalidDate();}

return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix);}


function toNow(withoutSuffix){
return this.to(local__createLocal(),withoutSuffix);}


function locale(key){
var newLocaleData;

if(key === undefined){
return this._locale._abbr;}else 
{
newLocaleData = locale_locales__getLocale(key);
if(newLocaleData != null){
this._locale = newLocaleData;}

return this;}}



var lang=deprecate(
'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
function(key){
if(key === undefined){
return this.localeData();}else 
{
return this.locale(key);}});




function localeData(){
return this._locale;}


function startOf(units){
units = normalizeUnits(units);


switch(units){
case 'year':
this.month(0);

case 'quarter':
case 'month':
this.date(1);

case 'week':
case 'isoWeek':
case 'day':
this.hours(0);

case 'hour':
this.minutes(0);

case 'minute':
this.seconds(0);

case 'second':
this.milliseconds(0);}



if(units === 'week'){
this.weekday(0);}

if(units === 'isoWeek'){
this.isoWeekday(1);}



if(units === 'quarter'){
this.month(Math.floor(this.month() / 3) * 3);}


return this;}


function endOf(units){
units = normalizeUnits(units);
if(units === undefined || units === 'millisecond'){
return this;}

return this.startOf(units).add(1,units === 'isoWeek'?'week':units).subtract(1,'ms');}


function to_type__valueOf(){
return +this._d - (this._offset || 0) * 60000;}


function unix(){
return Math.floor(+this / 1000);}


function toDate(){
return this._offset?new Date(+this):this._d;}


function toArray(){
var m=this;
return [m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()];}


function toObject(){
var m=this;
return {
years:m.year(),
months:m.month(),
date:m.date(),
hours:m.hours(),
minutes:m.minutes(),
seconds:m.seconds(),
milliseconds:m.milliseconds()};}



function moment_valid__isValid(){
return valid__isValid(this);}


function parsingFlags(){
return extend({},getParsingFlags(this));}


function invalidAt(){
return getParsingFlags(this).overflow;}


addFormatToken(0,['gg',2],0,function(){
return this.weekYear() % 100;});


addFormatToken(0,['GG',2],0,function(){
return this.isoWeekYear() % 100;});


function addWeekYearFormatToken(token,getter){
addFormatToken(0,[token,token.length],0,getter);}


addWeekYearFormatToken('gggg','weekYear');
addWeekYearFormatToken('ggggg','weekYear');
addWeekYearFormatToken('GGGG','isoWeekYear');
addWeekYearFormatToken('GGGGG','isoWeekYear');



addUnitAlias('weekYear','gg');
addUnitAlias('isoWeekYear','GG');



addRegexToken('G',matchSigned);
addRegexToken('g',matchSigned);
addRegexToken('GG',match1to2,match2);
addRegexToken('gg',match1to2,match2);
addRegexToken('GGGG',match1to4,match4);
addRegexToken('gggg',match1to4,match4);
addRegexToken('GGGGG',match1to6,match6);
addRegexToken('ggggg',match1to6,match6);

addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){
week[token.substr(0,2)] = toInt(input);});


addWeekParseToken(['gg','GG'],function(input,week,config,token){
week[token] = utils_hooks__hooks.parseTwoDigitYear(input);});




function weeksInYear(year,dow,doy){
return weekOfYear(local__createLocal([year,11,31 + dow - doy]),dow,doy).week;}




function getSetWeekYear(input){
var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;
return input == null?year:this.add(input - year,'y');}


function getSetISOWeekYear(input){
var year=weekOfYear(this,1,4).year;
return input == null?year:this.add(input - year,'y');}


function getISOWeeksInYear(){
return weeksInYear(this.year(),1,4);}


function getWeeksInYear(){
var weekInfo=this.localeData()._week;
return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy);}


addFormatToken('Q',0,0,'quarter');



addUnitAlias('quarter','Q');



addRegexToken('Q',match1);
addParseToken('Q',function(input,array){
array[MONTH] = (toInt(input) - 1) * 3;});




function getSetQuarter(input){
return input == null?Math.ceil((this.month() + 1) / 3):this.month((input - 1) * 3 + this.month() % 3);}


addFormatToken('D',['DD',2],'Do','date');



addUnitAlias('date','D');



addRegexToken('D',match1to2);
addRegexToken('DD',match1to2,match2);
addRegexToken('Do',function(isStrict,locale){
return isStrict?locale._ordinalParse:locale._ordinalParseLenient;});


addParseToken(['D','DD'],DATE);
addParseToken('Do',function(input,array){
array[DATE] = toInt(input.match(match1to2)[0],10);});




var getSetDayOfMonth=makeGetSet('Date',true);

addFormatToken('d',0,'do','day');

addFormatToken('dd',0,0,function(format){
return this.localeData().weekdaysMin(this,format);});


addFormatToken('ddd',0,0,function(format){
return this.localeData().weekdaysShort(this,format);});


addFormatToken('dddd',0,0,function(format){
return this.localeData().weekdays(this,format);});


addFormatToken('e',0,0,'weekday');
addFormatToken('E',0,0,'isoWeekday');



addUnitAlias('day','d');
addUnitAlias('weekday','e');
addUnitAlias('isoWeekday','E');



addRegexToken('d',match1to2);
addRegexToken('e',match1to2);
addRegexToken('E',match1to2);
addRegexToken('dd',matchWord);
addRegexToken('ddd',matchWord);
addRegexToken('dddd',matchWord);

addWeekParseToken(['dd','ddd','dddd'],function(input,week,config){
var weekday=config._locale.weekdaysParse(input);

if(weekday != null){
week.d = weekday;}else 
{
getParsingFlags(config).invalidWeekday = input;}});



addWeekParseToken(['d','e','E'],function(input,week,config,token){
week[token] = toInt(input);});




function parseWeekday(input,locale){
if(typeof input !== 'string'){
return input;}


if(!isNaN(input)){
return parseInt(input,10);}


input = locale.weekdaysParse(input);
if(typeof input === 'number'){
return input;}


return null;}




var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
function localeWeekdays(m){
return this._weekdays[m.day()];}


var defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
function localeWeekdaysShort(m){
return this._weekdaysShort[m.day()];}


var defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
function localeWeekdaysMin(m){
return this._weekdaysMin[m.day()];}


function localeWeekdaysParse(weekdayName){
var i,mom,regex;

this._weekdaysParse = this._weekdaysParse || [];

for(i = 0;i < 7;i++) {

if(!this._weekdaysParse[i]){
mom = local__createLocal([2000,1]).day(i);
regex = '^' + this.weekdays(mom,'') + '|^' + this.weekdaysShort(mom,'') + '|^' + this.weekdaysMin(mom,'');
this._weekdaysParse[i] = new RegExp(regex.replace('.',''),'i');}


if(this._weekdaysParse[i].test(weekdayName)){
return i;}}}






function getSetDayOfWeek(input){
var day=this._isUTC?this._d.getUTCDay():this._d.getDay();
if(input != null){
input = parseWeekday(input,this.localeData());
return this.add(input - day,'d');}else 
{
return day;}}



function getSetLocaleDayOfWeek(input){
var weekday=(this.day() + 7 - this.localeData()._week.dow) % 7;
return input == null?weekday:this.add(input - weekday,'d');}


function getSetISODayOfWeek(input){



return input == null?this.day() || 7:this.day(this.day() % 7?input:input - 7);}


addFormatToken('H',['HH',2],0,'hour');
addFormatToken('h',['hh',2],0,function(){
return this.hours() % 12 || 12;});


function meridiem(token,lowercase){
addFormatToken(token,0,0,function(){
return this.localeData().meridiem(this.hours(),this.minutes(),lowercase);});}



meridiem('a',true);
meridiem('A',false);



addUnitAlias('hour','h');



function matchMeridiem(isStrict,locale){
return locale._meridiemParse;}


addRegexToken('a',matchMeridiem);
addRegexToken('A',matchMeridiem);
addRegexToken('H',match1to2);
addRegexToken('h',match1to2);
addRegexToken('HH',match1to2,match2);
addRegexToken('hh',match1to2,match2);

addParseToken(['H','HH'],HOUR);
addParseToken(['a','A'],function(input,array,config){
config._isPm = config._locale.isPM(input);
config._meridiem = input;});

addParseToken(['h','hh'],function(input,array,config){
array[HOUR] = toInt(input);
getParsingFlags(config).bigHour = true;});




function localeIsPM(input){


return (input + '').toLowerCase().charAt(0) === 'p';}


var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;
function localeMeridiem(hours,minutes,isLower){
if(hours > 11){
return isLower?'pm':'PM';}else 
{
return isLower?'am':'AM';}}










var getSetHour=makeGetSet('Hours',true);

addFormatToken('m',['mm',2],0,'minute');



addUnitAlias('minute','m');



addRegexToken('m',match1to2);
addRegexToken('mm',match1to2,match2);
addParseToken(['m','mm'],MINUTE);



var getSetMinute=makeGetSet('Minutes',false);

addFormatToken('s',['ss',2],0,'second');



addUnitAlias('second','s');



addRegexToken('s',match1to2);
addRegexToken('ss',match1to2,match2);
addParseToken(['s','ss'],SECOND);



var getSetSecond=makeGetSet('Seconds',false);

addFormatToken('S',0,0,function(){
return ~ ~(this.millisecond() / 100);});


addFormatToken(0,['SS',2],0,function(){
return ~ ~(this.millisecond() / 10);});


addFormatToken(0,['SSS',3],0,'millisecond');
addFormatToken(0,['SSSS',4],0,function(){
return this.millisecond() * 10;});

addFormatToken(0,['SSSSS',5],0,function(){
return this.millisecond() * 100;});

addFormatToken(0,['SSSSSS',6],0,function(){
return this.millisecond() * 1000;});

addFormatToken(0,['SSSSSSS',7],0,function(){
return this.millisecond() * 10000;});

addFormatToken(0,['SSSSSSSS',8],0,function(){
return this.millisecond() * 100000;});

addFormatToken(0,['SSSSSSSSS',9],0,function(){
return this.millisecond() * 1000000;});





addUnitAlias('millisecond','ms');



addRegexToken('S',match1to3,match1);
addRegexToken('SS',match1to3,match2);
addRegexToken('SSS',match1to3,match3);

var token;
for(token = 'SSSS';token.length <= 9;token += 'S') {
addRegexToken(token,matchUnsigned);}


function parseMs(input,array){
array[MILLISECOND] = toInt(('0.' + input) * 1000);}


for(token = 'S';token.length <= 9;token += 'S') {
addParseToken(token,parseMs);}



var getSetMillisecond=makeGetSet('Milliseconds',false);

addFormatToken('z',0,0,'zoneAbbr');
addFormatToken('zz',0,0,'zoneName');



function getZoneAbbr(){
return this._isUTC?'UTC':'';}


function getZoneName(){
return this._isUTC?'Coordinated Universal Time':'';}


var momentPrototype__proto=Moment.prototype;

momentPrototype__proto.add = add_subtract__add;
momentPrototype__proto.calendar = moment_calendar__calendar;
momentPrototype__proto.clone = clone;
momentPrototype__proto.diff = diff;
momentPrototype__proto.endOf = endOf;
momentPrototype__proto.format = format;
momentPrototype__proto.from = from;
momentPrototype__proto.fromNow = fromNow;
momentPrototype__proto.to = to;
momentPrototype__proto.toNow = toNow;
momentPrototype__proto.get = getSet;
momentPrototype__proto.invalidAt = invalidAt;
momentPrototype__proto.isAfter = isAfter;
momentPrototype__proto.isBefore = isBefore;
momentPrototype__proto.isBetween = isBetween;
momentPrototype__proto.isSame = isSame;
momentPrototype__proto.isValid = moment_valid__isValid;
momentPrototype__proto.lang = lang;
momentPrototype__proto.locale = locale;
momentPrototype__proto.localeData = localeData;
momentPrototype__proto.max = prototypeMax;
momentPrototype__proto.min = prototypeMin;
momentPrototype__proto.parsingFlags = parsingFlags;
momentPrototype__proto.set = getSet;
momentPrototype__proto.startOf = startOf;
momentPrototype__proto.subtract = add_subtract__subtract;
momentPrototype__proto.toArray = toArray;
momentPrototype__proto.toObject = toObject;
momentPrototype__proto.toDate = toDate;
momentPrototype__proto.toISOString = moment_format__toISOString;
momentPrototype__proto.toJSON = moment_format__toISOString;
momentPrototype__proto.toString = toString;
momentPrototype__proto.unix = unix;
momentPrototype__proto.valueOf = to_type__valueOf;


momentPrototype__proto.year = getSetYear;
momentPrototype__proto.isLeapYear = getIsLeapYear;


momentPrototype__proto.weekYear = getSetWeekYear;
momentPrototype__proto.isoWeekYear = getSetISOWeekYear;


momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;


momentPrototype__proto.month = getSetMonth;
momentPrototype__proto.daysInMonth = getDaysInMonth;


momentPrototype__proto.week = momentPrototype__proto.weeks = getSetWeek;
momentPrototype__proto.isoWeek = momentPrototype__proto.isoWeeks = getSetISOWeek;
momentPrototype__proto.weeksInYear = getWeeksInYear;
momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;


momentPrototype__proto.date = getSetDayOfMonth;
momentPrototype__proto.day = momentPrototype__proto.days = getSetDayOfWeek;
momentPrototype__proto.weekday = getSetLocaleDayOfWeek;
momentPrototype__proto.isoWeekday = getSetISODayOfWeek;
momentPrototype__proto.dayOfYear = getSetDayOfYear;


momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;


momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;


momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;


momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;


momentPrototype__proto.utcOffset = getSetOffset;
momentPrototype__proto.utc = setOffsetToUTC;
momentPrototype__proto.local = setOffsetToLocal;
momentPrototype__proto.parseZone = setOffsetToParsedOffset;
momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;
momentPrototype__proto.isDST = isDaylightSavingTime;
momentPrototype__proto.isDSTShifted = isDaylightSavingTimeShifted;
momentPrototype__proto.isLocal = isLocal;
momentPrototype__proto.isUtcOffset = isUtcOffset;
momentPrototype__proto.isUtc = isUtc;
momentPrototype__proto.isUTC = isUtc;


momentPrototype__proto.zoneAbbr = getZoneAbbr;
momentPrototype__proto.zoneName = getZoneName;


momentPrototype__proto.dates = deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth);
momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead',getSetMonth);
momentPrototype__proto.years = deprecate('years accessor is deprecated. Use year instead',getSetYear);
momentPrototype__proto.zone = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779',getSetZone);

var momentPrototype=momentPrototype__proto;

function moment__createUnix(input){
return local__createLocal(input * 1000);}


function moment__createInZone(){
return local__createLocal.apply(null,arguments).parseZone();}


var defaultCalendar={
sameDay:'[Today at] LT',
nextDay:'[Tomorrow at] LT',
nextWeek:'dddd [at] LT',
lastDay:'[Yesterday at] LT',
lastWeek:'[Last] dddd [at] LT',
sameElse:'L'};


function locale_calendar__calendar(key,mom,now){
var output=this._calendar[key];
return typeof output === 'function'?output.call(mom,now):output;}


var defaultLongDateFormat={
LTS:'h:mm:ss A',
LT:'h:mm A',
L:'MM/DD/YYYY',
LL:'MMMM D, YYYY',
LLL:'MMMM D, YYYY h:mm A',
LLLL:'dddd, MMMM D, YYYY h:mm A'};


function longDateFormat(key){
var format=this._longDateFormat[key],
formatUpper=this._longDateFormat[key.toUpperCase()];

if(format || !formatUpper){
return format;}


this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){
return val.slice(1);});


return this._longDateFormat[key];}


var defaultInvalidDate='Invalid date';

function invalidDate(){
return this._invalidDate;}


var defaultOrdinal='%d';
var defaultOrdinalParse=/\d{1,2}/;

function ordinal(number){
return this._ordinal.replace('%d',number);}


function preParsePostFormat(string){
return string;}


var defaultRelativeTime={
future:'in %s',
past:'%s ago',
s:'a few seconds',
m:'a minute',
mm:'%d minutes',
h:'an hour',
hh:'%d hours',
d:'a day',
dd:'%d days',
M:'a month',
MM:'%d months',
y:'a year',
yy:'%d years'};


function relative__relativeTime(number,withoutSuffix,string,isFuture){
var output=this._relativeTime[string];
return typeof output === 'function'?
output(number,withoutSuffix,string,isFuture):
output.replace(/%d/i,number);}


function pastFuture(diff,output){
var format=this._relativeTime[diff > 0?'future':'past'];
return typeof format === 'function'?format(output):format.replace(/%s/i,output);}


function locale_set__set(config){
var prop,i;
for(i in config) {
prop = config[i];
if(typeof prop === 'function'){
this[i] = prop;}else 
{
this['_' + i] = prop;}}




this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + /\d{1,2}/.source);}


var prototype__proto=Locale.prototype;

prototype__proto._calendar = defaultCalendar;
prototype__proto.calendar = locale_calendar__calendar;
prototype__proto._longDateFormat = defaultLongDateFormat;
prototype__proto.longDateFormat = longDateFormat;
prototype__proto._invalidDate = defaultInvalidDate;
prototype__proto.invalidDate = invalidDate;
prototype__proto._ordinal = defaultOrdinal;
prototype__proto.ordinal = ordinal;
prototype__proto._ordinalParse = defaultOrdinalParse;
prototype__proto.preparse = preParsePostFormat;
prototype__proto.postformat = preParsePostFormat;
prototype__proto._relativeTime = defaultRelativeTime;
prototype__proto.relativeTime = relative__relativeTime;
prototype__proto.pastFuture = pastFuture;
prototype__proto.set = locale_set__set;


prototype__proto.months = localeMonths;
prototype__proto._months = defaultLocaleMonths;
prototype__proto.monthsShort = localeMonthsShort;
prototype__proto._monthsShort = defaultLocaleMonthsShort;
prototype__proto.monthsParse = localeMonthsParse;


prototype__proto.week = localeWeek;
prototype__proto._week = defaultLocaleWeek;
prototype__proto.firstDayOfYear = localeFirstDayOfYear;
prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;


prototype__proto.weekdays = localeWeekdays;
prototype__proto._weekdays = defaultLocaleWeekdays;
prototype__proto.weekdaysMin = localeWeekdaysMin;
prototype__proto._weekdaysMin = defaultLocaleWeekdaysMin;
prototype__proto.weekdaysShort = localeWeekdaysShort;
prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;
prototype__proto.weekdaysParse = localeWeekdaysParse;


prototype__proto.isPM = localeIsPM;
prototype__proto._meridiemParse = defaultLocaleMeridiemParse;
prototype__proto.meridiem = localeMeridiem;

function lists__get(format,index,field,setter){
var locale=locale_locales__getLocale();
var utc=create_utc__createUTC().set(setter,index);
return locale[field](utc,format);}


function list(format,index,field,count,setter){
if(typeof format === 'number'){
index = format;
format = undefined;}


format = format || '';

if(index != null){
return lists__get(format,index,field,setter);}


var i;
var out=[];
for(i = 0;i < count;i++) {
out[i] = lists__get(format,i,field,setter);}

return out;}


function lists__listMonths(format,index){
return list(format,index,'months',12,'month');}


function lists__listMonthsShort(format,index){
return list(format,index,'monthsShort',12,'month');}


function lists__listWeekdays(format,index){
return list(format,index,'weekdays',7,'day');}


function lists__listWeekdaysShort(format,index){
return list(format,index,'weekdaysShort',7,'day');}


function lists__listWeekdaysMin(format,index){
return list(format,index,'weekdaysMin',7,'day');}


locale_locales__getSetGlobalLocale('en',{
ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(number){
var b=number % 10,
output=toInt(number % 100 / 10) === 1?'th':
b === 1?'st':
b === 2?'nd':
b === 3?'rd':'th';
return number + output;}});




utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.',locale_locales__getSetGlobalLocale);
utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.',locale_locales__getLocale);

var mathAbs=Math.abs;

function duration_abs__abs(){
var data=this._data;

this._milliseconds = mathAbs(this._milliseconds);
this._days = mathAbs(this._days);
this._months = mathAbs(this._months);

data.milliseconds = mathAbs(data.milliseconds);
data.seconds = mathAbs(data.seconds);
data.minutes = mathAbs(data.minutes);
data.hours = mathAbs(data.hours);
data.months = mathAbs(data.months);
data.years = mathAbs(data.years);

return this;}


function duration_add_subtract__addSubtract(duration,input,value,direction){
var other=create__createDuration(input,value);

duration._milliseconds += direction * other._milliseconds;
duration._days += direction * other._days;
duration._months += direction * other._months;

return duration._bubble();}



function duration_add_subtract__add(input,value){
return duration_add_subtract__addSubtract(this,input,value,1);}



function duration_add_subtract__subtract(input,value){
return duration_add_subtract__addSubtract(this,input,value,-1);}


function absCeil(number){
if(number < 0){
return Math.floor(number);}else 
{
return Math.ceil(number);}}



function bubble(){
var milliseconds=this._milliseconds;
var days=this._days;
var months=this._months;
var data=this._data;
var seconds,minutes,hours,years,monthsFromDays;



if(!(milliseconds >= 0 && days >= 0 && months >= 0 || 
milliseconds <= 0 && days <= 0 && months <= 0)){
milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
days = 0;
months = 0;}




data.milliseconds = milliseconds % 1000;

seconds = absFloor(milliseconds / 1000);
data.seconds = seconds % 60;

minutes = absFloor(seconds / 60);
data.minutes = minutes % 60;

hours = absFloor(minutes / 60);
data.hours = hours % 24;

days += absFloor(hours / 24);


monthsFromDays = absFloor(daysToMonths(days));
months += monthsFromDays;
days -= absCeil(monthsToDays(monthsFromDays));


years = absFloor(months / 12);
months %= 12;

data.days = days;
data.months = months;
data.years = years;

return this;}


function daysToMonths(days){


return days * 4800 / 146097;}


function monthsToDays(months){

return months * 146097 / 4800;}


function as(units){
var days;
var months;
var milliseconds=this._milliseconds;

units = normalizeUnits(units);

if(units === 'month' || units === 'year'){
days = this._days + milliseconds / 864e5;
months = this._months + daysToMonths(days);
return units === 'month'?months:months / 12;}else 
{

days = this._days + Math.round(monthsToDays(this._months));
switch(units){
case 'week':return days / 7 + milliseconds / 6048e5;
case 'day':return days + milliseconds / 864e5;
case 'hour':return days * 24 + milliseconds / 36e5;
case 'minute':return days * 1440 + milliseconds / 6e4;
case 'second':return days * 86400 + milliseconds / 1000;

case 'millisecond':return Math.floor(days * 864e5) + milliseconds;
default:throw new Error('Unknown unit ' + units);}}}





function duration_as__valueOf(){
return (
this._milliseconds + 
this._days * 864e5 + 
this._months % 12 * 2592e6 + 
toInt(this._months / 12) * 31536e6);}



function makeAs(alias){
return function(){
return this.as(alias);};}



var asMilliseconds=makeAs('ms');
var asSeconds=makeAs('s');
var asMinutes=makeAs('m');
var asHours=makeAs('h');
var asDays=makeAs('d');
var asWeeks=makeAs('w');
var asMonths=makeAs('M');
var asYears=makeAs('y');

function duration_get__get(units){
units = normalizeUnits(units);
return this[units + 's']();}


function makeGetter(name){
return function(){
return this._data[name];};}



var milliseconds=makeGetter('milliseconds');
var seconds=makeGetter('seconds');
var minutes=makeGetter('minutes');
var hours=makeGetter('hours');
var days=makeGetter('days');
var months=makeGetter('months');
var years=makeGetter('years');

function weeks(){
return absFloor(this.days() / 7);}


var round=Math.round;
var thresholds={
s:45,
m:45,
h:22,
d:26,
M:11};



function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){
return locale.relativeTime(number || 1,!!withoutSuffix,string,isFuture);}


function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){
var duration=create__createDuration(posNegDuration).abs();
var seconds=round(duration.as('s'));
var minutes=round(duration.as('m'));
var hours=round(duration.as('h'));
var days=round(duration.as('d'));
var months=round(duration.as('M'));
var years=round(duration.as('y'));

var a=seconds < thresholds.s && ['s',seconds] || 
minutes === 1 && ['m'] || 
minutes < thresholds.m && ['mm',minutes] || 
hours === 1 && ['h'] || 
hours < thresholds.h && ['hh',hours] || 
days === 1 && ['d'] || 
days < thresholds.d && ['dd',days] || 
months === 1 && ['M'] || 
months < thresholds.M && ['MM',months] || 
years === 1 && ['y'] || ['yy',years];

a[2] = withoutSuffix;
a[3] = +posNegDuration > 0;
a[4] = locale;
return substituteTimeAgo.apply(null,a);}



function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){
if(thresholds[threshold] === undefined){
return false;}

if(limit === undefined){
return thresholds[threshold];}

thresholds[threshold] = limit;
return true;}


function humanize(withSuffix){
var locale=this.localeData();
var output=duration_humanize__relativeTime(this,!withSuffix,locale);

if(withSuffix){
output = locale.pastFuture(+this,output);}


return locale.postformat(output);}


var iso_string__abs=Math.abs;

function iso_string__toISOString(){







var seconds=iso_string__abs(this._milliseconds) / 1000;
var days=iso_string__abs(this._days);
var months=iso_string__abs(this._months);
var minutes,hours,years;


minutes = absFloor(seconds / 60);
hours = absFloor(minutes / 60);
seconds %= 60;
minutes %= 60;


years = absFloor(months / 12);
months %= 12;



var Y=years;
var M=months;
var D=days;
var h=hours;
var m=minutes;
var s=seconds;
var total=this.asSeconds();

if(!total){


return 'P0D';}


return (total < 0?'-':'') + 
'P' + (
Y?Y + 'Y':'') + (
M?M + 'M':'') + (
D?D + 'D':'') + (
h || m || s?'T':'') + (
h?h + 'H':'') + (
m?m + 'M':'') + (
s?s + 'S':'');}


var duration_prototype__proto=Duration.prototype;

duration_prototype__proto.abs = duration_abs__abs;
duration_prototype__proto.add = duration_add_subtract__add;
duration_prototype__proto.subtract = duration_add_subtract__subtract;
duration_prototype__proto.as = as;
duration_prototype__proto.asMilliseconds = asMilliseconds;
duration_prototype__proto.asSeconds = asSeconds;
duration_prototype__proto.asMinutes = asMinutes;
duration_prototype__proto.asHours = asHours;
duration_prototype__proto.asDays = asDays;
duration_prototype__proto.asWeeks = asWeeks;
duration_prototype__proto.asMonths = asMonths;
duration_prototype__proto.asYears = asYears;
duration_prototype__proto.valueOf = duration_as__valueOf;
duration_prototype__proto._bubble = bubble;
duration_prototype__proto.get = duration_get__get;
duration_prototype__proto.milliseconds = milliseconds;
duration_prototype__proto.seconds = seconds;
duration_prototype__proto.minutes = minutes;
duration_prototype__proto.hours = hours;
duration_prototype__proto.days = days;
duration_prototype__proto.weeks = weeks;
duration_prototype__proto.months = months;
duration_prototype__proto.years = years;
duration_prototype__proto.humanize = humanize;
duration_prototype__proto.toISOString = iso_string__toISOString;
duration_prototype__proto.toString = iso_string__toISOString;
duration_prototype__proto.toJSON = iso_string__toISOString;
duration_prototype__proto.locale = locale;
duration_prototype__proto.localeData = localeData;


duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',iso_string__toISOString);
duration_prototype__proto.lang = lang;



addFormatToken('X',0,0,'unix');
addFormatToken('x',0,0,'valueOf');



addRegexToken('x',matchSigned);
addRegexToken('X',matchTimestamp);
addParseToken('X',function(input,array,config){
config._d = new Date(parseFloat(input,10) * 1000);});

addParseToken('x',function(input,array,config){
config._d = new Date(toInt(input));});





utils_hooks__hooks.version = '2.10.6';

setHookCallback(local__createLocal);

utils_hooks__hooks.fn = momentPrototype;
utils_hooks__hooks.min = min;
utils_hooks__hooks.max = max;
utils_hooks__hooks.utc = create_utc__createUTC;
utils_hooks__hooks.unix = moment__createUnix;
utils_hooks__hooks.months = lists__listMonths;
utils_hooks__hooks.isDate = isDate;
utils_hooks__hooks.locale = locale_locales__getSetGlobalLocale;
utils_hooks__hooks.invalid = valid__createInvalid;
utils_hooks__hooks.duration = create__createDuration;
utils_hooks__hooks.isMoment = isMoment;
utils_hooks__hooks.weekdays = lists__listWeekdays;
utils_hooks__hooks.parseZone = moment__createInZone;
utils_hooks__hooks.localeData = locale_locales__getLocale;
utils_hooks__hooks.isDuration = isDuration;
utils_hooks__hooks.monthsShort = lists__listMonthsShort;
utils_hooks__hooks.weekdaysMin = lists__listWeekdaysMin;
utils_hooks__hooks.defineLocale = defineLocale;
utils_hooks__hooks.weekdaysShort = lists__listWeekdaysShort;
utils_hooks__hooks.normalizeUnits = normalizeUnits;
utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;

var _moment=utils_hooks__hooks;

return _moment;});
});
__d('AwesomeProject/src/mimetypes.js',function(global, require, module, exports) {  var mimeTypes={
ai:"application/postscript",
aif:"audio/x-aiff",
aifc:"audio/x-aiff",
aiff:"audio/x-aiff",
asc:"text/plain",
atom:"application/atom+xml",
au:"audio/basic",
avi:"video/x-msvideo",
bcpio:"application/x-bcpio",
bin:"application/octet-stream",
bmp:"image/bmp",
cdf:"application/x-netcdf",
cgm:"image/cgm",
"class":"application/octet-stream",
cpio:"application/x-cpio",
cpt:"application/mac-compactpro",
csh:"application/x-csh",
css:"text/css",
dcr:"application/x-director",
dif:"video/x-dv",
dir:"application/x-director",
djv:"image/vnd.djvu",
djvu:"image/vnd.djvu",
dll:"application/octet-stream",
dmg:"application/octet-stream",
dms:"application/octet-stream",
doc:"application/msword",
docx:"application/vnd.openxmlformats-officedocument.wordprocessingml." + 
"document",
dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml." + 
"template",
docm:"application/vnd.ms-word.document.macroEnabled.12",
dotm:"application/vnd.ms-word.template.macroEnabled.12",
dtd:"application/xml-dtd",
dv:"video/x-dv",
dvi:"application/x-dvi",
dxr:"application/x-director",
eps:"application/postscript",
etx:"text/x-setext",
exe:"application/octet-stream",
ez:"application/andrew-inset",
gif:"image/gif",
gram:"application/srgs",
grxml:"application/srgs+xml",
gtar:"application/x-gtar",
hdf:"application/x-hdf",
hqx:"application/mac-binhex40",
htm:"text/html",
html:"text/html",
ice:"x-conference/x-cooltalk",
ico:"image/x-icon",
ics:"text/calendar",
ief:"image/ief",
ifb:"text/calendar",
iges:"model/iges",
igs:"model/iges",
jnlp:"application/x-java-jnlp-file",
jp2:"image/jp2",
jpe:"image/jpeg",
jpeg:"image/jpeg",
jpg:"image/jpeg",
js:"application/x-javascript",
kar:"audio/midi",
latex:"application/x-latex",
lha:"application/octet-stream",
lzh:"application/octet-stream",
m3u:"audio/x-mpegurl",
m4a:"audio/mp4a-latm",
m4b:"audio/mp4a-latm",
m4p:"audio/mp4a-latm",
m4u:"video/vnd.mpegurl",
m4v:"video/x-m4v",
mac:"image/x-macpaint",
man:"application/x-troff-man",
mathml:"application/mathml+xml",
me:"application/x-troff-me",
mesh:"model/mesh",
mid:"audio/midi",
midi:"audio/midi",
mif:"application/vnd.mif",
mov:"video/quicktime",
movie:"video/x-sgi-movie",
mp2:"audio/mpeg",
mp3:"audio/mpeg",
mp4:"video/mp4",
mpe:"video/mpeg",
mpeg:"video/mpeg",
mpg:"video/mpeg",
mpga:"audio/mpeg",
ms:"application/x-troff-ms",
msh:"model/mesh",
mxu:"video/vnd.mpegurl",
nc:"application/x-netcdf",
oda:"application/oda",
ogg:"application/ogg",
pbm:"image/x-portable-bitmap",
pct:"image/pict",
pdb:"chemical/x-pdb",
pdf:"application/pdf",
pgm:"image/x-portable-graymap",
pgn:"application/x-chess-pgn",
pic:"image/pict",
pict:"image/pict",
png:"image/png",
pnm:"image/x-portable-anymap",
pnt:"image/x-macpaint",
pntg:"image/x-macpaint",
ppm:"image/x-portable-pixmap",
ppt:"application/vnd.ms-powerpoint",
pptx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"presentation",
potx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"template",
ppsx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"slideshow",
ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",
pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",
potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",
ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",
ps:"application/postscript",
qt:"video/quicktime",
qti:"image/x-quicktime",
qtif:"image/x-quicktime",
ra:"audio/x-pn-realaudio",
ram:"audio/x-pn-realaudio",
ras:"image/x-cmu-raster",
rdf:"application/rdf+xml",
rgb:"image/x-rgb",
rm:"application/vnd.rn-realmedia",
roff:"application/x-troff",
rtf:"text/rtf",
rtx:"text/richtext",
sgm:"text/sgml",
sgml:"text/sgml",
sh:"application/x-sh",
shar:"application/x-shar",
silo:"model/mesh",
sit:"application/x-stuffit",
skd:"application/x-koan",
skm:"application/x-koan",
skp:"application/x-koan",
skt:"application/x-koan",
smi:"application/smil",
smil:"application/smil",
snd:"audio/basic",
so:"application/octet-stream",
spl:"application/x-futuresplash",
src:"application/x-wais-source",
sv4cpio:"application/x-sv4cpio",
sv4crc:"application/x-sv4crc",
svg:"image/svg+xml",
swf:"application/x-shockwave-flash",
t:"application/x-troff",
tar:"application/x-tar",
tcl:"application/x-tcl",
tex:"application/x-tex",
texi:"application/x-texinfo",
texinfo:"application/x-texinfo",
tif:"image/tiff",
tiff:"image/tiff",
tr:"application/x-troff",
tsv:"text/tab-separated-values",
txt:"text/plain",
ustar:"application/x-ustar",
vcd:"application/x-cdlink",
vrml:"model/vrml",
vxml:"application/voicexml+xml",
wav:"audio/x-wav",
wbmp:"image/vnd.wap.wbmp",
wbmxl:"application/vnd.wap.wbxml",
wml:"text/vnd.wap.wml",
wmlc:"application/vnd.wap.wmlc",
wmls:"text/vnd.wap.wmlscript",
wmlsc:"application/vnd.wap.wmlscriptc",
wrl:"model/vrml",
xbm:"image/x-xbitmap",
xht:"application/xhtml+xml",
xhtml:"application/xhtml+xml",
xls:"application/vnd.ms-excel",
xml:"application/xml",
xpm:"image/x-xpixmap",
xsl:"application/xml",
xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml." + 
"template",
xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",
xltm:"application/vnd.ms-excel.template.macroEnabled.12",
xlam:"application/vnd.ms-excel.addin.macroEnabled.12",
xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",
xslt:"application/xslt+xml",
xul:"application/vnd.mozilla.xul+xml",
xwd:"image/x-xwindowdump",
xyz:"chemical/x-xyz",
zip:"application/zip"};


module.exports = mimeTypes;
});
__d('avoscloud-sdk/lib/av.js',function(global, require, module, exports) {  var 








AV=module.exports = {};

AV._ = require('underscore/underscore.js');
AV.VERSION = require('avoscloud-sdk/lib/version.js');
AV.Promise = require('avoscloud-sdk/lib/promise.js');
AV.XMLHttpRequest = require('avoscloud-sdk/lib/browserify-wrapper/xmlhttprequest-browser.js').XMLHttpRequest;
AV.localStorage = require('avoscloud-sdk/lib/localstorage.js');


require('avoscloud-sdk/lib/utils.js')(AV);
require('avoscloud-sdk/lib/error.js')(AV);
require('avoscloud-sdk/lib/event.js')(AV);
require('avoscloud-sdk/lib/geopoint.js')(AV);
require('avoscloud-sdk/lib/acl.js')(AV);
require('avoscloud-sdk/lib/op.js')(AV);
require('avoscloud-sdk/lib/relation.js')(AV);
require('avoscloud-sdk/lib/file.js')(AV);
require('avoscloud-sdk/lib/object.js')(AV);
require('avoscloud-sdk/lib/role.js')(AV);
require('avoscloud-sdk/lib/user.js')(AV);
require('avoscloud-sdk/lib/query.js')(AV);
require('avoscloud-sdk/lib/cloudfunction.js')(AV);
require('avoscloud-sdk/lib/push.js')(AV);
require('avoscloud-sdk/lib/status.js')(AV);
require('avoscloud-sdk/lib/search.js')(AV);
require('avoscloud-sdk/lib/insight.js')(AV);


AV.AV = AV;
});
__d('underscore/underscore.js',function(global, require, module, exports) {  (




function(){





var root=this;


var previousUnderscore=root._;


var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;


var 
push=ArrayProto.push,
slice=ArrayProto.slice,
toString=ObjProto.toString,
hasOwnProperty=ObjProto.hasOwnProperty;



var 
nativeIsArray=Array.isArray,
nativeKeys=Object.keys,
nativeBind=FuncProto.bind,
nativeCreate=Object.create;


var Ctor=function(){};


var _=function(obj){
if(obj instanceof _)return obj;
if(!(this instanceof _))return new _(obj);
this._wrapped = obj;};





if(typeof exports !== 'undefined'){
if(typeof module !== 'undefined' && module.exports){
exports = module.exports = _;}

exports._ = _;}else 
{
root._ = _;}



_.VERSION = '1.8.3';




var optimizeCb=function(func,context,argCount){
if(context === void 0)return func;
switch(argCount == null?3:argCount){
case 1:return function(value){
return func.call(context,value);};

case 2:return function(value,other){
return func.call(context,value,other);};

case 3:return function(value,index,collection){
return func.call(context,value,index,collection);};

case 4:return function(accumulator,value,index,collection){
return func.call(context,accumulator,value,index,collection);};}


return function(){
return func.apply(context,arguments);};};






var cb=function(value,context,argCount){
if(value == null)return _.identity;
if(_.isFunction(value))return optimizeCb(value,context,argCount);
if(_.isObject(value))return _.matcher(value);
return _.property(value);};

_.iteratee = function(value,context){
return cb(value,context,Infinity);};



var createAssigner=function(keysFunc,undefinedOnly){
return function(obj){
var length=arguments.length;
if(length < 2 || obj == null)return obj;
for(var index=1;index < length;index++) {
var source=arguments[index],
keys=keysFunc(source),
l=keys.length;
for(var i=0;i < l;i++) {
var key=keys[i];
if(!undefinedOnly || obj[key] === void 0)obj[key] = source[key];}}


return obj;};};




var baseCreate=function(prototype){
if(!_.isObject(prototype))return {};
if(nativeCreate)return nativeCreate(prototype);
Ctor.prototype = prototype;
var result=new Ctor();
Ctor.prototype = null;
return result;};


var property=function(key){
return function(obj){
return obj == null?void 0:obj[key];};};







var MAX_ARRAY_INDEX=Math.pow(2,53) - 1;
var getLength=property('length');
var isArrayLike=function(collection){
var length=getLength(collection);
return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;};








_.each = _.forEach = function(obj,iteratee,context){
iteratee = optimizeCb(iteratee,context);
var i,length;
if(isArrayLike(obj)){
for(i = 0,length = obj.length;i < length;i++) {
iteratee(obj[i],i,obj);}}else 

{
var keys=_.keys(obj);
for(i = 0,length = keys.length;i < length;i++) {
iteratee(obj[keys[i]],keys[i],obj);}}


return obj;};



_.map = _.collect = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length,
results=Array(length);
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
results[index] = iteratee(obj[currentKey],currentKey,obj);}

return results;};



function createReduce(dir){


function iterator(obj,iteratee,memo,keys,index,length){
for(;index >= 0 && index < length;index += dir) {
var currentKey=keys?keys[index]:index;
memo = iteratee(memo,obj[currentKey],currentKey,obj);}

return memo;}


return function(obj,iteratee,memo,context){
iteratee = optimizeCb(iteratee,context,4);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length,
index=dir > 0?0:length - 1;

if(arguments.length < 3){
memo = obj[keys?keys[index]:index];
index += dir;}

return iterator(obj,iteratee,memo,keys,index,length);};}





_.reduce = _.foldl = _.inject = createReduce(1);


_.reduceRight = _.foldr = createReduce(-1);


_.find = _.detect = function(obj,predicate,context){
var key;
if(isArrayLike(obj)){
key = _.findIndex(obj,predicate,context);}else 
{
key = _.findKey(obj,predicate,context);}

if(key !== void 0 && key !== -1)return obj[key];};




_.filter = _.select = function(obj,predicate,context){
var results=[];
predicate = cb(predicate,context);
_.each(obj,function(value,index,list){
if(predicate(value,index,list))results.push(value);});

return results;};



_.reject = function(obj,predicate,context){
return _.filter(obj,_.negate(cb(predicate)),context);};




_.every = _.all = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length;
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
if(!predicate(obj[currentKey],currentKey,obj))return false;}

return true;};




_.some = _.any = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=!isArrayLike(obj) && _.keys(obj),
length=(keys || obj).length;
for(var index=0;index < length;index++) {
var currentKey=keys?keys[index]:index;
if(predicate(obj[currentKey],currentKey,obj))return true;}

return false;};




_.contains = _.includes = _.include = function(obj,item,fromIndex,guard){
if(!isArrayLike(obj))obj = _.values(obj);
if(typeof fromIndex != 'number' || guard)fromIndex = 0;
return _.indexOf(obj,item,fromIndex) >= 0;};



_.invoke = function(obj,method){
var args=slice.call(arguments,2);
var isFunc=_.isFunction(method);
return _.map(obj,function(value){
var func=isFunc?method:value[method];
return func == null?func:func.apply(value,args);});};




_.pluck = function(obj,key){
return _.map(obj,_.property(key));};




_.where = function(obj,attrs){
return _.filter(obj,_.matcher(attrs));};




_.findWhere = function(obj,attrs){
return _.find(obj,_.matcher(attrs));};



_.max = function(obj,iteratee,context){
var result=-Infinity,lastComputed=-Infinity,
value,computed;
if(iteratee == null && obj != null){
obj = isArrayLike(obj)?obj:_.values(obj);
for(var i=0,length=obj.length;i < length;i++) {
value = obj[i];
if(value > result){
result = value;}}}else 


{
iteratee = cb(iteratee,context);
_.each(obj,function(value,index,list){
computed = iteratee(value,index,list);
if(computed > lastComputed || computed === -Infinity && result === -Infinity){
result = value;
lastComputed = computed;}});}



return result;};



_.min = function(obj,iteratee,context){
var result=Infinity,lastComputed=Infinity,
value,computed;
if(iteratee == null && obj != null){
obj = isArrayLike(obj)?obj:_.values(obj);
for(var i=0,length=obj.length;i < length;i++) {
value = obj[i];
if(value < result){
result = value;}}}else 


{
iteratee = cb(iteratee,context);
_.each(obj,function(value,index,list){
computed = iteratee(value,index,list);
if(computed < lastComputed || computed === Infinity && result === Infinity){
result = value;
lastComputed = computed;}});}



return result;};




_.shuffle = function(obj){
var set=isArrayLike(obj)?obj:_.values(obj);
var length=set.length;
var shuffled=Array(length);
for(var index=0,rand;index < length;index++) {
rand = _.random(0,index);
if(rand !== index)shuffled[index] = shuffled[rand];
shuffled[rand] = set[index];}

return shuffled;};





_.sample = function(obj,n,guard){
if(n == null || guard){
if(!isArrayLike(obj))obj = _.values(obj);
return obj[_.random(obj.length - 1)];}

return _.shuffle(obj).slice(0,Math.max(0,n));};



_.sortBy = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
return _.pluck(_.map(obj,function(value,index,list){
return {
value:value,
index:index,
criteria:iteratee(value,index,list)};}).

sort(function(left,right){
var a=left.criteria;
var b=right.criteria;
if(a !== b){
if(a > b || a === void 0)return 1;
if(a < b || b === void 0)return -1;}

return left.index - right.index;}),
'value');};



var group=function(behavior){
return function(obj,iteratee,context){
var result={};
iteratee = cb(iteratee,context);
_.each(obj,function(value,index){
var key=iteratee(value,index,obj);
behavior(result,value,key);});

return result;};};





_.groupBy = group(function(result,value,key){
if(_.has(result,key))result[key].push(value);else result[key] = [value];});




_.indexBy = group(function(result,value,key){
result[key] = value;});





_.countBy = group(function(result,value,key){
if(_.has(result,key))result[key]++;else result[key] = 1;});



_.toArray = function(obj){
if(!obj)return [];
if(_.isArray(obj))return slice.call(obj);
if(isArrayLike(obj))return _.map(obj,_.identity);
return _.values(obj);};



_.size = function(obj){
if(obj == null)return 0;
return isArrayLike(obj)?obj.length:_.keys(obj).length;};




_.partition = function(obj,predicate,context){
predicate = cb(predicate,context);
var pass=[],fail=[];
_.each(obj,function(value,key,obj){
(predicate(value,key,obj)?pass:fail).push(value);});

return [pass,fail];};








_.first = _.head = _.take = function(array,n,guard){
if(array == null)return void 0;
if(n == null || guard)return array[0];
return _.initial(array,array.length - n);};





_.initial = function(array,n,guard){
return slice.call(array,0,Math.max(0,array.length - (n == null || guard?1:n)));};




_.last = function(array,n,guard){
if(array == null)return void 0;
if(n == null || guard)return array[array.length - 1];
return _.rest(array,Math.max(0,array.length - n));};





_.rest = _.tail = _.drop = function(array,n,guard){
return slice.call(array,n == null || guard?1:n);};



_.compact = function(array){
return _.filter(array,_.identity);};



var flatten=function(input,shallow,strict,startIndex){
var output=[],idx=0;
for(var i=startIndex || 0,length=getLength(input);i < length;i++) {
var value=input[i];
if(isArrayLike(value) && (_.isArray(value) || _.isArguments(value))){

if(!shallow)value = flatten(value,shallow,strict);
var j=0,len=value.length;
output.length += len;
while(j < len) {
output[idx++] = value[j++];}}else 

if(!strict){
output[idx++] = value;}}


return output;};



_.flatten = function(array,shallow){
return flatten(array,shallow,false);};



_.without = function(array){
return _.difference(array,slice.call(arguments,1));};





_.uniq = _.unique = function(array,isSorted,iteratee,context){
if(!_.isBoolean(isSorted)){
context = iteratee;
iteratee = isSorted;
isSorted = false;}

if(iteratee != null)iteratee = cb(iteratee,context);
var result=[];
var seen=[];
for(var i=0,length=getLength(array);i < length;i++) {
var value=array[i],
computed=iteratee?iteratee(value,i,array):value;
if(isSorted){
if(!i || seen !== computed)result.push(value);
seen = computed;}else 
if(iteratee){
if(!_.contains(seen,computed)){
seen.push(computed);
result.push(value);}}else 

if(!_.contains(result,value)){
result.push(value);}}


return result;};




_.union = function(){
return _.uniq(flatten(arguments,true,true));};




_.intersection = function(array){
var result=[];
var argsLength=arguments.length;
for(var i=0,length=getLength(array);i < length;i++) {
var item=array[i];
if(_.contains(result,item))continue;
for(var j=1;j < argsLength;j++) {
if(!_.contains(arguments[j],item))break;}

if(j === argsLength)result.push(item);}

return result;};




_.difference = function(array){
var rest=flatten(arguments,true,true,1);
return _.filter(array,function(value){
return !_.contains(rest,value);});};





_.zip = function(){
return _.unzip(arguments);};




_.unzip = function(array){
var length=array && _.max(array,getLength).length || 0;
var result=Array(length);

for(var index=0;index < length;index++) {
result[index] = _.pluck(array,index);}

return result;};





_.object = function(list,values){
var result={};
for(var i=0,length=getLength(list);i < length;i++) {
if(values){
result[list[i]] = values[i];}else 
{
result[list[i][0]] = list[i][1];}}


return result;};



function createPredicateIndexFinder(dir){
return function(array,predicate,context){
predicate = cb(predicate,context);
var length=getLength(array);
var index=dir > 0?0:length - 1;
for(;index >= 0 && index < length;index += dir) {
if(predicate(array[index],index,array))return index;}

return -1;};}




_.findIndex = createPredicateIndexFinder(1);
_.findLastIndex = createPredicateIndexFinder(-1);



_.sortedIndex = function(array,obj,iteratee,context){
iteratee = cb(iteratee,context,1);
var value=iteratee(obj);
var low=0,high=getLength(array);
while(low < high) {
var mid=Math.floor((low + high) / 2);
if(iteratee(array[mid]) < value)low = mid + 1;else high = mid;}

return low;};



function createIndexFinder(dir,predicateFind,sortedIndex){
return function(array,item,idx){
var i=0,length=getLength(array);
if(typeof idx == 'number'){
if(dir > 0){
i = idx >= 0?idx:Math.max(idx + length,i);}else 
{
length = idx >= 0?Math.min(idx + 1,length):idx + length + 1;}}else 

if(sortedIndex && idx && length){
idx = sortedIndex(array,item);
return array[idx] === item?idx:-1;}

if(item !== item){
idx = predicateFind(slice.call(array,i,length),_.isNaN);
return idx >= 0?idx + i:-1;}

for(idx = dir > 0?i:length - 1;idx >= 0 && idx < length;idx += dir) {
if(array[idx] === item)return idx;}

return -1;};}







_.indexOf = createIndexFinder(1,_.findIndex,_.sortedIndex);
_.lastIndexOf = createIndexFinder(-1,_.findLastIndex);




_.range = function(start,stop,step){
if(stop == null){
stop = start || 0;
start = 0;}

step = step || 1;

var length=Math.max(Math.ceil((stop - start) / step),0);
var range=Array(length);

for(var idx=0;idx < length;idx++,start += step) {
range[idx] = start;}


return range;};







var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){
if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);
var self=baseCreate(sourceFunc.prototype);
var result=sourceFunc.apply(self,args);
if(_.isObject(result))return result;
return self;};





_.bind = function(func,context){
if(nativeBind && func.bind === nativeBind)return nativeBind.apply(func,slice.call(arguments,1));
if(!_.isFunction(func))throw new TypeError('Bind must be called on a function');
var args=slice.call(arguments,2);
var bound=function(){
return executeBound(func,bound,context,this,args.concat(slice.call(arguments)));};

return bound;};





_.partial = function(func){
var boundArgs=slice.call(arguments,1);
var bound=function(){
var position=0,length=boundArgs.length;
var args=Array(length);
for(var i=0;i < length;i++) {
args[i] = boundArgs[i] === _?arguments[position++]:boundArgs[i];}

while(position < arguments.length) args.push(arguments[position++]);
return executeBound(func,bound,this,this,args);};

return bound;};





_.bindAll = function(obj){
var i,length=arguments.length,key;
if(length <= 1)throw new Error('bindAll must be passed function names');
for(i = 1;i < length;i++) {
key = arguments[i];
obj[key] = _.bind(obj[key],obj);}

return obj;};



_.memoize = function(func,hasher){
var memoize=function(key){
var cache=memoize.cache;
var address='' + (hasher?hasher.apply(this,arguments):key);
if(!_.has(cache,address))cache[address] = func.apply(this,arguments);
return cache[address];};

memoize.cache = {};
return memoize;};




_.delay = function(func,wait){
var args=slice.call(arguments,2);
return setTimeout(function(){
return func.apply(null,args);},
wait);};




_.defer = _.partial(_.delay,_,1);






_.throttle = function(func,wait,options){
var context,args,result;
var timeout=null;
var previous=0;
if(!options)options = {};
var later=function(){
previous = options.leading === false?0:_.now();
timeout = null;
result = func.apply(context,args);
if(!timeout)context = args = null;};

return function(){
var now=_.now();
if(!previous && options.leading === false)previous = now;
var remaining=wait - (now - previous);
context = this;
args = arguments;
if(remaining <= 0 || remaining > wait){
if(timeout){
clearTimeout(timeout);
timeout = null;}

previous = now;
result = func.apply(context,args);
if(!timeout)context = args = null;}else 
if(!timeout && options.trailing !== false){
timeout = setTimeout(later,remaining);}

return result;};};







_.debounce = function(func,wait,immediate){
var timeout,args,context,timestamp,result;

var later=function(){
var last=_.now() - timestamp;

if(last < wait && last >= 0){
timeout = setTimeout(later,wait - last);}else 
{
timeout = null;
if(!immediate){
result = func.apply(context,args);
if(!timeout)context = args = null;}}};




return function(){
context = this;
args = arguments;
timestamp = _.now();
var callNow=immediate && !timeout;
if(!timeout)timeout = setTimeout(later,wait);
if(callNow){
result = func.apply(context,args);
context = args = null;}


return result;};};






_.wrap = function(func,wrapper){
return _.partial(wrapper,func);};



_.negate = function(predicate){
return function(){
return !predicate.apply(this,arguments);};};





_.compose = function(){
var args=arguments;
var start=args.length - 1;
return function(){
var i=start;
var result=args[start].apply(this,arguments);
while(i--) result = args[i].call(this,result);
return result;};};




_.after = function(times,func){
return function(){
if(--times < 1){
return func.apply(this,arguments);}};};





_.before = function(times,func){
var memo;
return function(){
if(--times > 0){
memo = func.apply(this,arguments);}

if(times <= 1)func = null;
return memo;};};





_.once = _.partial(_.before,2);





var hasEnumBug=!({toString:null}).propertyIsEnumerable('toString');
var nonEnumerableProps=['valueOf','isPrototypeOf','toString',
'propertyIsEnumerable','hasOwnProperty','toLocaleString'];

function collectNonEnumProps(obj,keys){
var nonEnumIdx=nonEnumerableProps.length;
var constructor=obj.constructor;
var proto=_.isFunction(constructor) && constructor.prototype || ObjProto;


var prop='constructor';
if(_.has(obj,prop) && !_.contains(keys,prop))keys.push(prop);

while(nonEnumIdx--) {
prop = nonEnumerableProps[nonEnumIdx];
if(prop in obj && obj[prop] !== proto[prop] && !_.contains(keys,prop)){
keys.push(prop);}}}






_.keys = function(obj){
if(!_.isObject(obj))return [];
if(nativeKeys)return nativeKeys(obj);
var keys=[];
for(var key in obj) if(_.has(obj,key))keys.push(key);

if(hasEnumBug)collectNonEnumProps(obj,keys);
return keys;};



_.allKeys = function(obj){
if(!_.isObject(obj))return [];
var keys=[];
for(var key in obj) keys.push(key);

if(hasEnumBug)collectNonEnumProps(obj,keys);
return keys;};



_.values = function(obj){
var keys=_.keys(obj);
var length=keys.length;
var values=Array(length);
for(var i=0;i < length;i++) {
values[i] = obj[keys[i]];}

return values;};




_.mapObject = function(obj,iteratee,context){
iteratee = cb(iteratee,context);
var keys=_.keys(obj),
length=keys.length,
results={},
currentKey;
for(var index=0;index < length;index++) {
currentKey = keys[index];
results[currentKey] = iteratee(obj[currentKey],currentKey,obj);}

return results;};



_.pairs = function(obj){
var keys=_.keys(obj);
var length=keys.length;
var pairs=Array(length);
for(var i=0;i < length;i++) {
pairs[i] = [keys[i],obj[keys[i]]];}

return pairs;};



_.invert = function(obj){
var result={};
var keys=_.keys(obj);
for(var i=0,length=keys.length;i < length;i++) {
result[obj[keys[i]]] = keys[i];}

return result;};




_.functions = _.methods = function(obj){
var names=[];
for(var key in obj) {
if(_.isFunction(obj[key]))names.push(key);}

return names.sort();};



_.extend = createAssigner(_.allKeys);



_.extendOwn = _.assign = createAssigner(_.keys);


_.findKey = function(obj,predicate,context){
predicate = cb(predicate,context);
var keys=_.keys(obj),key;
for(var i=0,length=keys.length;i < length;i++) {
key = keys[i];
if(predicate(obj[key],key,obj))return key;}};




_.pick = function(object,oiteratee,context){
var result={},obj=object,iteratee,keys;
if(obj == null)return result;
if(_.isFunction(oiteratee)){
keys = _.allKeys(obj);
iteratee = optimizeCb(oiteratee,context);}else 
{
keys = flatten(arguments,false,false,1);
iteratee = function(value,key,obj){return key in obj;};
obj = Object(obj);}

for(var i=0,length=keys.length;i < length;i++) {
var key=keys[i];
var value=obj[key];
if(iteratee(value,key,obj))result[key] = value;}

return result;};



_.omit = function(obj,iteratee,context){
if(_.isFunction(iteratee)){
iteratee = _.negate(iteratee);}else 
{
var keys=_.map(flatten(arguments,false,false,1),String);
iteratee = function(value,key){
return !_.contains(keys,key);};}


return _.pick(obj,iteratee,context);};



_.defaults = createAssigner(_.allKeys,true);




_.create = function(prototype,props){
var result=baseCreate(prototype);
if(props)_.extendOwn(result,props);
return result;};



_.clone = function(obj){
if(!_.isObject(obj))return obj;
return _.isArray(obj)?obj.slice():_.extend({},obj);};





_.tap = function(obj,interceptor){
interceptor(obj);
return obj;};



_.isMatch = function(object,attrs){
var keys=_.keys(attrs),length=keys.length;
if(object == null)return !length;
var obj=Object(object);
for(var i=0;i < length;i++) {
var key=keys[i];
if(attrs[key] !== obj[key] || !(key in obj))return false;}

return true;};




var eq=function(a,b,aStack,bStack){


if(a === b)return a !== 0 || 1 / a === 1 / b;

if(a == null || b == null)return a === b;

if(a instanceof _)a = a._wrapped;
if(b instanceof _)b = b._wrapped;

var className=toString.call(a);
if(className !== toString.call(b))return false;
switch(className){

case '[object RegExp]':

case '[object String]':


return '' + a === '' + b;
case '[object Number]':


if(+a !== +a)return +b !== +b;

return +a === 0?1 / +a === 1 / b:+a === +b;
case '[object Date]':
case '[object Boolean]':



return +a === +b;}


var areArrays=className === '[object Array]';
if(!areArrays){
if(typeof a != 'object' || typeof b != 'object')return false;



var aCtor=a.constructor,bCtor=b.constructor;
if(aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && 
_.isFunction(bCtor) && bCtor instanceof bCtor) && 
'constructor' in a && 'constructor' in b){
return false;}}







aStack = aStack || [];
bStack = bStack || [];
var length=aStack.length;
while(length--) {


if(aStack[length] === a)return bStack[length] === b;}



aStack.push(a);
bStack.push(b);


if(areArrays){

length = a.length;
if(length !== b.length)return false;

while(length--) {
if(!eq(a[length],b[length],aStack,bStack))return false;}}else 

{

var keys=_.keys(a),key;
length = keys.length;

if(_.keys(b).length !== length)return false;
while(length--) {

key = keys[length];
if(!(_.has(b,key) && eq(a[key],b[key],aStack,bStack)))return false;}}



aStack.pop();
bStack.pop();
return true;};



_.isEqual = function(a,b){
return eq(a,b);};




_.isEmpty = function(obj){
if(obj == null)return true;
if(isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)))return obj.length === 0;
return _.keys(obj).length === 0;};



_.isElement = function(obj){
return !!(obj && obj.nodeType === 1);};




_.isArray = nativeIsArray || function(obj){
return toString.call(obj) === '[object Array]';};



_.isObject = function(obj){
var type=typeof obj;
return type === 'function' || type === 'object' && !!obj;};



_.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(name){
_['is' + name] = function(obj){
return toString.call(obj) === '[object ' + name + ']';};});





if(!_.isArguments(arguments)){
_.isArguments = function(obj){
return _.has(obj,'callee');};}





if(typeof /./ != 'function' && typeof Int8Array != 'object'){
_.isFunction = function(obj){
return typeof obj == 'function' || false;};}




_.isFinite = function(obj){
return isFinite(obj) && !isNaN(parseFloat(obj));};



_.isNaN = function(obj){
return _.isNumber(obj) && obj !== +obj;};



_.isBoolean = function(obj){
return obj === true || obj === false || toString.call(obj) === '[object Boolean]';};



_.isNull = function(obj){
return obj === null;};



_.isUndefined = function(obj){
return obj === void 0;};




_.has = function(obj,key){
return obj != null && hasOwnProperty.call(obj,key);};







_.noConflict = function(){
root._ = previousUnderscore;
return this;};



_.identity = function(value){
return value;};



_.constant = function(value){
return function(){
return value;};};



_.noop = function(){};

_.property = property;


_.propertyOf = function(obj){
return obj == null?function(){}:function(key){
return obj[key];};};





_.matcher = _.matches = function(attrs){
attrs = _.extendOwn({},attrs);
return function(obj){
return _.isMatch(obj,attrs);};};




_.times = function(n,iteratee,context){
var accum=Array(Math.max(0,n));
iteratee = optimizeCb(iteratee,context,1);
for(var i=0;i < n;i++) accum[i] = iteratee(i);
return accum;};



_.random = function(min,max){
if(max == null){
max = min;
min = 0;}

return min + Math.floor(Math.random() * (max - min + 1));};



_.now = Date.now || function(){
return new Date().getTime();};



var escapeMap={
'&':'&amp;',
'<':'&lt;',
'>':'&gt;',
'"':'&quot;',
"'":'&#x27;',
'`':'&#x60;'};

var unescapeMap=_.invert(escapeMap);


var createEscaper=function(map){
var escaper=function(match){
return map[match];};


var source='(?:' + _.keys(map).join('|') + ')';
var testRegexp=RegExp(source);
var replaceRegexp=RegExp(source,'g');
return function(string){
string = string == null?'':'' + string;
return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string;};};


_.escape = createEscaper(escapeMap);
_.unescape = createEscaper(unescapeMap);



_.result = function(object,property,fallback){
var value=object == null?void 0:object[property];
if(value === void 0){
value = fallback;}

return _.isFunction(value)?value.call(object):value;};




var idCounter=0;
_.uniqueId = function(prefix){
var id=++idCounter + '';
return prefix?prefix + id:id;};




_.templateSettings = {
evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,
escape:/<%-([\s\S]+?)%>/g};





var noMatch=/(.)^/;



var escapes={
"'":"'",
'\\':'\\',
'\r':'r',
'\n':'n',
'\u2028':'u2028',
'\u2029':'u2029'};


var escaper=/\\|'|\r|\n|\u2028|\u2029/g;

var escapeChar=function(match){
return '\\' + escapes[match];};






_.template = function(text,settings,oldSettings){
if(!settings && oldSettings)settings = oldSettings;
settings = _.defaults({},settings,_.templateSettings);


var matcher=RegExp([
(settings.escape || noMatch).source,
(settings.interpolate || noMatch).source,
(settings.evaluate || noMatch).source].
join('|') + '|$','g');


var index=0;
var source="__p+='";
text.replace(matcher,function(match,escape,interpolate,evaluate,offset){
source += text.slice(index,offset).replace(escaper,escapeChar);
index = offset + match.length;

if(escape){
source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";}else 
if(interpolate){
source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";}else 
if(evaluate){
source += "';\n" + evaluate + "\n__p+='";}



return match;});

source += "';\n";


if(!settings.variable)source = 'with(obj||{}){\n' + source + '}\n';

source = "var __t,__p='',__j=Array.prototype.join," + 
"print=function(){__p+=__j.call(arguments,'');};\n" + 
source + 'return __p;\n';

try{
var render=new Function(settings.variable || 'obj','_',source);}
catch(e) {
e.source = source;
throw e;}


var template=function(data){
return render.call(this,data,_);};



var argument=settings.variable || 'obj';
template.source = 'function(' + argument + '){\n' + source + '}';

return template;};



_.chain = function(obj){
var instance=_(obj);
instance._chain = true;
return instance;};









var result=function(instance,obj){
return instance._chain?_(obj).chain():obj;};



_.mixin = function(obj){
_.each(_.functions(obj),function(name){
var func=_[name] = obj[name];
_.prototype[name] = function(){
var args=[this._wrapped];
push.apply(args,arguments);
return result(this,func.apply(_,args));};});};





_.mixin(_);


_.each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){
var method=ArrayProto[name];
_.prototype[name] = function(){
var obj=this._wrapped;
method.apply(obj,arguments);
if((name === 'shift' || name === 'splice') && obj.length === 0)delete obj[0];
return result(this,obj);};});




_.each(['concat','join','slice'],function(name){
var method=ArrayProto[name];
_.prototype[name] = function(){
return result(this,method.apply(this._wrapped,arguments));};});




_.prototype.value = function(){
return this._wrapped;};




_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

_.prototype.toString = function(){
return '' + this._wrapped;};









if(typeof define === 'function' && define.amd){
define('underscore',[],function(){
return _;});}}).


call(this);
});
__d('avoscloud-sdk/lib/version.js',function(global, require, module, exports) {  'use strict';

module.exports = "js1.0.0-rc5";
});
__d('avoscloud-sdk/lib/promise.js',function(global, require, module, exports) {  'use strict';
var _=require('underscore/underscore.js');

var Promise=module.exports = function Promise(fn){





























this._resolved = false;
this._rejected = false;
this._resolvedCallbacks = [];
this._rejectedCallbacks = [];

this.doResolve(fn);};


var _isNullOrUndefined=function _isNullOrUndefined(x){
return _.isNull(x) || _.isUndefined(x);};


var _isNode=false;

if(typeof process !== "undefined" && 
process.versions && 
process.versions.node){
_isNode = true;}


_.extend(Promise,{

_isPromisesAPlusCompliant:!_isNode,
_debugError:false,

setPromisesAPlusCompliant:function(isCompliant){
Promise._isPromisesAPlusCompliant = isCompliant;},


setDebugError:function(enable){
Promise._debugError = enable;},






is:function(promise){
return promise && promise.then && _.isFunction(promise.then);},






as:function(){
var promise=new Promise();
if(arguments[0] && _.isFunction(arguments[0].then)){
arguments[0].then(function(data){
promise.resolve.call(promise,data);},
function(err){
promise.reject.call(promise,err);});}else 

{
promise.resolve.apply(promise,arguments);}

return promise;},






error:function(){
var promise=new Promise();
promise.reject.apply(promise,arguments);
return promise;},





























when:function(promises){

var objects;
if(promises && _isNullOrUndefined(promises.length)){
objects = arguments;}else 
{
objects = promises;}

var isAll=_.last(arguments);
isAll = _.isBoolean(isAll)?isAll:false;

var total=objects.length;
var hadError=false;
var results=[];
var errors=[];
results.length = objects.length;
errors.length = objects.length;

if(total === 0){
if(isAll){
return Promise.as.call(this,results);}else 
{
return Promise.as.apply(this,results);}}



var promise=new Promise();

var resolveOne=function(i){
total = total - 1;
if(hadError && !promise._rejected && isAll){
promise.reject.call(promise,errors[i]);
return;}


if(total === 0){
if(hadError && !promise._rejected){
promise.reject.call(promise,errors);}else 
{
if(isAll){
if(!promise._rejected){
promise.resolve.call(promise,results);}else 
{}}else 


{
promise.resolve.apply(promise,results);}}}};





_.each(objects,function(object,i){
if(Promise.is(object)){
object.then(function(result){
results[i] = result;
resolveOne(i);},
function(error){
errors[i] = error;
hadError = true;
resolveOne(i);});}else 

{
results[i] = object;
resolveOne(i);}});



return promise;},

























race:function(promises){

var objects;
if(promises && _isNullOrUndefined(promises.length)){
objects = arguments;}else 
{
objects = promises;}


var total=objects.length;
var hadError=false;
var results=[];
var errors=[];

results.length = errors.length = objects.length;

if(total === 0){
return Promise.as.call(this);}


var promise=new Promise();

var resolveOne=function(i){
if(!promise._resolved && !promise._rejected){
if(hadError){
promise.reject.call(promise,errors[i]);}else 
{
promise.resolve.call(promise,results[i]);}}};




_.each(objects,function(object,i){
if(Promise.is(object)){
object.then(function(result){
results[i] = result;
resolveOne(i);},
function(error){
errors[i] = error;
hadError = true;
resolveOne(i);});}else 

{
results[i] = object;
resolveOne(i);}});



return promise;},









_continueWhile:function(predicate,asyncFunction){
if(predicate()){
return asyncFunction().then(function(){
return Promise._continueWhile(predicate,asyncFunction);});}


return Promise.as();}});









Promise.all = function(promises){
return Promise.when(promises,true);};


_.extend(Promise.prototype,{





resolve:function(result){
if(this._resolved || this._rejected){
throw "A promise was resolved even though it had already been " + (
this._resolved?"resolved":"rejected") + ".";}

this._resolved = true;
this._result = arguments;
var results=arguments;
_.each(this._resolvedCallbacks,function(resolvedCallback){
resolvedCallback.apply(this,results);});

this._resolvedCallbacks = [];
this._rejectedCallbacks = [];},


doResolve:function(fn){
if(!fn)return;
var done=false;
var self=this;
try{
fn(function(value){
if(done)return;
done = true;
self.resolve.call(self,value);},
function(reason){
if(done)return;
done = true;
self.reject.call(self,reason);});}

catch(ex) {
if(done)return;
done = true;
self.reject.call(self,ex);}},







reject:function(error){
if(this._resolved || this._rejected){
throw "A promise was rejected even though it had already been " + (
this._resolved?"resolved":"rejected") + ".";}

this._rejected = true;
this._error = error;
_.each(this._rejectedCallbacks,function(rejectedCallback){
rejectedCallback(error);});

this._resolvedCallbacks = [];
this._rejectedCallbacks = [];},





















then:function(resolvedCallback,rejectedCallback){
var promise=new Promise();

var wrappedResolvedCallback=function(){
var result=arguments;
if(resolvedCallback){
if(Promise._isPromisesAPlusCompliant){
try{
result = [resolvedCallback.apply(this,result)];}
catch(e) {
if(Promise._debugError && e){
console.error('Error occurred in promise resolve callback.',e.stack || e);}

result = [Promise.error(e)];}}else 

{
result = [resolvedCallback.apply(this,result)];}}


if(result.length === 1 && Promise.is(result[0])){
result[0].then(function(){
promise.resolve.apply(promise,arguments);},
function(error){
promise.reject(error);});}else 

{
promise.resolve.apply(promise,result);}};



var wrappedRejectedCallback=function(error){
var result=[];
if(rejectedCallback){
if(Promise._isPromisesAPlusCompliant){
try{
result = [rejectedCallback(error)];}
catch(e) {
if(Promise._debugError && e){
console.error('Error occurred in promise reject callback.',e.stack || e);}

result = [Promise.error(e)];}}else 

{
result = [rejectedCallback(error)];}

if(result.length === 1 && Promise.is(result[0])){
result[0].then(function(){
promise.resolve.apply(promise,arguments);},
function(error){
promise.reject(error);});}else 

{
if(Promise._isPromisesAPlusCompliant){
promise.resolve.apply(promise,result);}else 
{
promise.reject(result[0]);}}}else 


{
promise.reject(error);}};



var runLater=function(func){
func.call();};

if(Promise._isPromisesAPlusCompliant){
if(typeof window !== 'undefined' && _.isFunction(window.setImmediate)){
runLater = function(func){
window.setImmediate(func);};}else 

if(typeof process !== 'undefined' && process.nextTick){
runLater = function(func){
process.nextTick(func);};}else 

if(typeof setTimeout !== 'undefined' && _.isFunction(setTimeout)){
runLater = function(func){
setTimeout(func,0);};}}




var self=this;
if(this._resolved){
runLater(function(){
wrappedResolvedCallback.apply(self,self._result);});}else 

if(this._rejected){
runLater(function(){
wrappedRejectedCallback.apply(self,[self._error]);});}else 

{
this._resolvedCallbacks.push(wrappedResolvedCallback);
this._rejectedCallbacks.push(wrappedRejectedCallback);}


return promise;},













catch:function(onRejected){
return this.then(undefined,onRejected);},






always:function(callback){
return this.then(callback,callback);},





done:function(callback){
return this.then(callback);},





fail:function(callback){
return this.then(null,callback);},












_thenRunCallbacks:function(optionsOrCallback,model){
var options;
if(_.isFunction(optionsOrCallback)){
var callback=optionsOrCallback;
options = {
success:function(result){
callback(result,null);},

error:function(error){
callback(null,error);}};}else 


{
options = _.clone(optionsOrCallback);}

options = options || {};

return this.then(function(result){
if(options.success){
options.success.apply(this,arguments);}else 
if(model){

model.trigger('sync',model,result,options);}

return Promise.as.apply(Promise,arguments);},
function(error){
if(options.error){
if(!_.isUndefined(model)){
options.error(model,error);}else 
{
options.error(error);}}else 

if(model){

model.trigger('error',model,error,options);}



return Promise.error(error);});},











_continueWith:function(continuation){
return this.then(function(){
return continuation(arguments,null);},
function(error){
return continuation(null,error);});}});










Promise.prototype.finally = Promise.prototype.always;






Promise.prototype.try = Promise.prototype.done;
});
__d('avoscloud-sdk/lib/browserify-wrapper/xmlhttprequest-browser.js',function(global, require, module, exports) {  'use strict';

exports.XMLHttpRequest = global.XMLHttpRequest;
});
__d('avoscloud-sdk/lib/localstorage.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');
var Promise=require('avoscloud-sdk/lib/promise.js');
var localStorage=require('avoscloud-sdk/lib/browserify-wrapper/localstorage-browser.js');

var syncApiNames=[
'getItem',
'setItem',
'removeItem',
'clear'];


if(!localStorage.async){

_(syncApiNames).each(function(apiName){
if(typeof localStorage[apiName] === 'function'){
localStorage[apiName + 'Async'] = function(){
return Promise.as(localStorage[apiName].apply(localStorage,arguments));};}});}else 



{
_(syncApiNames).each(function(apiName){
if(typeof localStorage[apiName] !== 'function'){
localStorage[apiName] = function(){
throw new Error('Synchronous API [' + apiName + '] is not available in this runtime.');};}});}





module.exports = localStorage;
});
__d('avoscloud-sdk/lib/browserify-wrapper/localstorage-browser.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');
var Promise=require('avoscloud-sdk/lib/promise.js');












var Storage={};
var apiNames=[
'getItem',
'setItem',
'removeItem',
'clear'];


if(global.localStorage){

var localStorage=global.localStorage;

try{
var testKey='__storejs__';
localStorage.setItem(testKey,testKey);
if(localStorage.getItem(testKey) != testKey){
throw new Error();}

localStorage.removeItem(testKey);}
catch(e) {
localStorage = require('localstorage-memory/lib/localstorage-memory.js');}



_(apiNames).each(function(apiName){
Storage[apiName] = function(){
return global.localStorage[apiName].apply(global.localStorage,arguments);};});


Storage.async = false;}else 
{
var AsyncStorage=require('react-native/Libraries/react-native/react-native.js').AsyncStorage;
_(apiNames).each(function(apiName){
Storage[apiName + 'Async'] = function(){
return Promise.as(AsyncStorage[apiName].apply(AsyncStorage,arguments));};});


Storage.async = true;}


module.exports = Storage;
});
__d('localstorage-memory/lib/localstorage-memory.js',function(global, require, module, exports) {  (function(root){
var localStorageMemory={};
var cache={};




localStorageMemory.length = 0;








localStorageMemory.getItem = function(key){
return cache[key] || null;};











localStorageMemory.setItem = function(key,value){
if(typeof value === 'undefined'){
localStorageMemory.removeItem(key);}else 
{
cache[key] = '' + value;
localStorageMemory.length++;}};










localStorageMemory.removeItem = function(key){
delete cache[key];
localStorageMemory.length--;};









localStorageMemory.key = function(index){
return Object.keys(cache)[index] || null;};







localStorageMemory.clear = function(){
cache = {};
localStorageMemory.length = 0;};


if(typeof exports === 'object'){
module.exports = localStorageMemory;}else 
{
root.localStorageMemory = localStorageMemory;}})(

this);
});
__d('avoscloud-sdk/lib/utils.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');




module.exports = function(AV){


AV._config = AV._config || {};
_.extend(AV._config,{
cnApiUrl:'https://api.leancloud.cn',
usApiUrl:'https://us-api.leancloud.cn'});











if(typeof $ !== "undefined"){
AV.$ = $;}






var EmptyConstructor=function(){};





var inherits=function(parent,protoProps,staticProps){
var child;




if(protoProps && protoProps.hasOwnProperty('constructor')){
child = protoProps.constructor;}else 
{

child = function(){parent.apply(this,arguments);};}



AV._.extend(child,parent);



EmptyConstructor.prototype = parent.prototype;
child.prototype = new EmptyConstructor();



if(protoProps){
AV._.extend(child.prototype,protoProps);}



if(staticProps){
AV._.extend(child,staticProps);}



child.prototype.constructor = child;



child.__super__ = parent.prototype;

return child;};



if(typeof process !== "undefined" && 
process.versions && 
process.versions.node){
AV._isNode = true;}









AV.initialize = function(applicationId,applicationKey,masterKey){
if(masterKey){
throw new Error("AV.initialize() was passed a Master Key, which is only " + 
"allowed from within Node.js.");}

AV._initialize(applicationId,applicationKey,masterKey);};








AV._initialize = function(applicationId,applicationKey,masterKey){
if(AV.applicationId !== undefined && 
applicationId !== AV.applicationId && 
applicationKey !== AV.applicationKey && 
masterKey !== AV.masterKey){
console.warn('AVOSCloud SDK is already initialized, please don\'t reinitialize it.');}

AV.applicationId = applicationId;
AV.applicationKey = applicationKey;
AV.masterKey = masterKey;
AV._useMasterKey = false;};








AV.setProduction = function(production){
if(!AV._isNullOrUndefined(production)){

production = production?1:0;}


AV.applicationProduction = AV._isNullOrUndefined(production)?1:production;};



if(AV._isNode){
AV.initialize = AV._initialize;

AV.Cloud = AV.Cloud || {};







AV.Cloud.useMasterKey = function(){
AV._useMasterKey = true;};}






AV.useAVCloudCN = function(){
AV.serverURL = AV._config.cnApiUrl;};





AV.useAVCloudUS = function(){
AV.serverURL = AV._config.usApiUrl;};



AV.useAVCloudCN();







AV._getAVPath = function(path){
if(!AV.applicationId){
throw "You need to call AV.initialize before using AV.";}

if(!path){
path = "";}

if(!AV._.isString(path)){
throw "Tried to get a localStorage path that wasn't a String.";}

if(path[0] === "/"){
path = path.substring(1);}

return "AV/" + AV.applicationId + "/" + path;};






AV._installationId = null;
AV._getInstallationId = function(){

if(AV._installationId){
return AV.Promise.as(AV._installationId);}



var path=AV._getAVPath("installationId");
return AV.localStorage.getItemAsync(path).then(function(_installationId){
AV._installationId = _installationId;
if(!AV._installationId){

var hexOctet=function(){
return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);};

AV._installationId = 
hexOctet() + hexOctet() + "-" + 
hexOctet() + "-" + 
hexOctet() + "-" + 
hexOctet() + "-" + 
hexOctet() + hexOctet() + hexOctet();
return AV.localStorage.setItemAsync(path,AV._installationId);}else 

{
return _installationId;}});};




AV._parseDate = function(iso8601){
var regexp=new RegExp(
"^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})" + "T" + 
"([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})" + 
"(.([0-9]+))?" + "Z$");
var match=regexp.exec(iso8601);
if(!match){
return null;}


var year=match[1] || 0;
var month=(match[2] || 1) - 1;
var day=match[3] || 0;
var hour=match[4] || 0;
var minute=match[5] || 0;
var second=match[6] || 0;
var milli=match[8] || 0;

return new Date(Date.UTC(year,month,day,hour,minute,second,milli));};


AV._ajaxIE8 = function(method,url,data){
var promise=new AV.Promise();
var xdr=new XDomainRequest();
xdr.onload = function(){
var response;
try{
response = JSON.parse(xdr.responseText);}
catch(e) {
promise.reject(e);}

if(response){
promise.resolve(response);}};


xdr.onerror = xdr.ontimeout = function(){

var fakeResponse={
responseText:JSON.stringify({
code:AV.Error.X_DOMAIN_REQUEST,
error:"IE's XDomainRequest does not supply error info."})};


promise.reject(xdr);};

xdr.onprogress = function(){};
xdr.open(method,url);
xdr.send(data);
return promise;};


AV._useXDomainRequest = function(){
if(typeof XDomainRequest !== "undefined"){

if('withCredentials' in new XMLHttpRequest()){

return false;}

return true;}

return false;};


AV._ajax = function(method,url,data,success,error){
var options={
success:success,
error:error};


if(AV._useXDomainRequest()){
return AV._ajaxIE8(method,url,data)._thenRunCallbacks(options);}


var promise=new AV.Promise();
var handled=false;

var xhr=new AV.XMLHttpRequest();
xhr.onreadystatechange = function(){
if(xhr.readyState === 4){
if(handled){
return;}

handled = true;

if(xhr.status >= 200 && xhr.status < 300){
var response;
try{
response = JSON.parse(xhr.responseText);}
catch(e) {
promise.reject(e);}

if(response){
promise.resolve(response,xhr.status,xhr);}}else 

{
promise.reject(xhr);}}};



xhr.open(method,url,true);
xhr.setRequestHeader("Content-Type","text/plain");
if(AV._isNode){

xhr.setRequestHeader("User-Agent",
"AV/" + AV.VERSION + 
" (NodeJS " + process.versions.node + ")");}

xhr.send(data);
return promise._thenRunCallbacks(options);};



AV._extend = function(protoProps,classProps){
var child=inherits(this,protoProps,classProps);
child.extend = this.extend;
return child;};









AV._request = function(route,className,objectId,method,dataObject){
if(!AV.applicationId){
throw "You must specify your applicationId using AV.initialize";}


if(!AV.applicationKey && !AV.masterKey){
throw "You must specify a key using AV.initialize";}



if(route !== "batch" && 
route !== "classes" && 
route !== "files" && 
route !== "date" && 
route !== "functions" && 
route !== "login" && 
route !== "push" && 
route !== "search/select" && 
route !== "requestPasswordReset" && 
route !== "requestEmailVerify" && 
route !== "requestPasswordResetBySmsCode" && 
route !== "resetPasswordBySmsCode" && 
route !== "requestMobilePhoneVerify" && 
route !== "requestLoginSmsCode" && 
route !== "verifyMobilePhone" && 
route !== "requestSmsCode" && 
route !== "verifySmsCode" && 
route !== "users" && 
route !== "usersByMobilePhone" && 
route !== "cloudQuery" && 
route !== "qiniu" && 
route !== "statuses" && 
route !== "bigquery" && 
route !== 'search/select' && 
route !== 'subscribe/statuses/count' && 
route !== 'subscribe/statuses' && 
route !== 'installations' && 
!/users\/[^\/]+\/updatePassword/.test(route) && 
!/users\/[^\/]+\/friendship\/[^\/]+/.test(route)){
throw "Bad route: '" + route + "'.";}


var url=AV.serverURL;
if(url.charAt(url.length - 1) !== "/"){
url += "/";}

url += "1.1/" + route;
if(className){
url += "/" + className;}

if(objectId){
url += "/" + objectId;}

if((route === 'users' || route === 'classes') && dataObject && dataObject._fetchWhenSave){
delete dataObject._fetchWhenSave;
url += '?new=true';}


dataObject = AV._.clone(dataObject || {});
if(method !== "POST"){
dataObject._method = method;
method = "POST";}


dataObject._ApplicationId = AV.applicationId;
dataObject._ApplicationKey = AV.applicationKey;
if(!AV._isNullOrUndefined(AV.applicationProduction)){
dataObject._ApplicationProduction = AV.applicationProduction;}

if(AV._useMasterKey)
dataObject._MasterKey = AV.masterKey;
dataObject._ClientVersion = AV.VERSION;

return AV.User.currentAsync().then(function(currentUser){
if(currentUser && currentUser._sessionToken){
dataObject._SessionToken = currentUser._sessionToken;}

return AV._getInstallationId();}).
then(function(_InstallationId){
dataObject._InstallationId = _InstallationId;

var data=JSON.stringify(dataObject);
return AV._ajax(method,url,data).then(null,function(response){


var error;
if(response && response.responseText){
try{
var errorJSON=JSON.parse(response.responseText);
if(errorJSON){
error = new AV.Error(errorJSON.code,errorJSON.error);}}

catch(e) {}}



error = error || new AV.Error(-1,response.responseText);


return AV.Promise.error(error);});});};






AV._getValue = function(object,prop){
if(!(object && object[prop])){
return null;}

return AV._.isFunction(object[prop])?object[prop]():object[prop];};











AV._encode = function(value,seenObjects,disallowObjects){
var _=AV._;
if(value instanceof AV.Object){
if(disallowObjects){
throw "AV.Objects not allowed here";}

if(!seenObjects || _.include(seenObjects,value) || !value._hasData){
return value._toPointer();}

if(!value.dirty()){
seenObjects = seenObjects.concat(value);
return AV._encode(value._toFullJSON(seenObjects),
seenObjects,
disallowObjects);}

throw "Tried to save an object with a pointer to a new, unsaved object.";}

if(value instanceof AV.ACL){
return value.toJSON();}

if(_.isDate(value)){
return {"__type":"Date","iso":value.toJSON()};}

if(value instanceof AV.GeoPoint){
return value.toJSON();}

if(_.isArray(value)){
return _.map(value,function(x){
return AV._encode(x,seenObjects,disallowObjects);});}


if(_.isRegExp(value)){
return value.source;}

if(value instanceof AV.Relation){
return value.toJSON();}

if(value instanceof AV.Op){
return value.toJSON();}

if(value instanceof AV.File){
if(!value.url() && !value.id){
throw "Tried to save an object containing an unsaved file.";}

return {
__type:"File",
id:value.id,
name:value.name(),
url:value.url()};}


if(_.isObject(value)){
var output={};
AV._objectEach(value,function(v,k){
output[k] = AV._encode(v,seenObjects,disallowObjects);});

return output;}

return value;};






AV._decode = function(key,value){
var _=AV._;
if(!_.isObject(value)){
return value;}

if(_.isArray(value)){
AV._arrayEach(value,function(v,k){
value[k] = AV._decode(k,v);});

return value;}

if(value instanceof AV.Object){
return value;}

if(value instanceof AV.File){
return value;}

if(value instanceof AV.Op){
return value;}

if(value.__op){
return AV.Op._decode(value);}

var className;
if(value.__type === "Pointer"){
className = value.className;
var pointer=AV.Object._create(className);
if(value.createdAt){
delete value.__type;
delete value.className;
pointer._finishFetch(value,true);}else 
{
pointer._finishFetch({objectId:value.objectId},false);}

return pointer;}

if(value.__type === "Object"){

className = value.className;
delete value.__type;
delete value.className;
var object=AV.Object._create(className);
object._finishFetch(value,true);
return object;}

if(value.__type === "Date"){
return AV._parseDate(value.iso);}

if(value.__type === "GeoPoint"){
return new AV.GeoPoint({
latitude:value.latitude,
longitude:value.longitude});}


if(key === "ACL"){
if(value instanceof AV.ACL){
return value;}

return new AV.ACL(value);}

if(value.__type === "Relation"){
var relation=new AV.Relation(null,key);
relation.targetClassName = value.className;
return relation;}

if(value.__type === "File"){
var file=new AV.File(value.name);
file._metaData = value.metaData || {};
file._url = value.url;
file.id = value.objectId;
return file;}

AV._objectEach(value,function(v,k){
value[k] = AV._decode(k,v);});

return value;};


AV._arrayEach = AV._.each;









AV._traverse = function(object,func,seen){
if(object instanceof AV.Object){
seen = seen || [];
if(AV._.indexOf(seen,object) >= 0){

return;}

seen.push(object);
AV._traverse(object.attributes,func,seen);
return func(object);}

if(object instanceof AV.Relation || object instanceof AV.File){


return func(object);}

if(AV._.isArray(object)){
AV._.each(object,function(child,index){
var newChild=AV._traverse(child,func,seen);
if(newChild){
object[index] = newChild;}});


return func(object);}

if(AV._.isObject(object)){
AV._each(object,function(child,key){
var newChild=AV._traverse(child,func,seen);
if(newChild){
object[key] = newChild;}});


return func(object);}

return func(object);};







AV._objectEach = AV._each = function(obj,callback){
var _=AV._;
if(_.isObject(obj)){
_.each(_.keys(obj),function(key){
callback(obj[key],key);});}else 

{
_.each(obj,callback);}};




AV._isNullOrUndefined = function(x){
return AV._.isNull(x) || AV._.isUndefined(x);};};
});
__d('avoscloud-sdk/lib/error.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){









AV.Error = function(code,message){
this.code = code;
this.message = message;};


_.extend(AV.Error,{




OTHER_CAUSE:-1,







INTERNAL_SERVER_ERROR:1,





CONNECTION_FAILED:100,





OBJECT_NOT_FOUND:101,






INVALID_QUERY:102,







INVALID_CLASS_NAME:103,





MISSING_OBJECT_ID:104,






INVALID_KEY_NAME:105,






INVALID_POINTER:106,







INVALID_JSON:107,






COMMAND_UNAVAILABLE:108,





NOT_INITIALIZED:109,





INCORRECT_TYPE:111,







INVALID_CHANNEL_NAME:112,





PUSH_MISCONFIGURED:115,





OBJECT_TOO_LARGE:116,





OPERATION_FORBIDDEN:119,





CACHE_MISS:120,






INVALID_NESTED_KEY:121,







INVALID_FILE_NAME:122,





INVALID_ACL:123,






TIMEOUT:124,





INVALID_EMAIL_ADDRESS:125,





MISSING_CONTENT_TYPE:126,





MISSING_CONTENT_LENGTH:127,





INVALID_CONTENT_LENGTH:128,





FILE_TOO_LARGE:129,





FILE_SAVE_ERROR:130,





FILE_DELETE_ERROR:153,






DUPLICATE_VALUE:137,





INVALID_ROLE_NAME:139,






EXCEEDED_QUOTA:140,





SCRIPT_FAILED:141,





VALIDATION_ERROR:142,





INVALID_IMAGE_DATA:150,





UNSAVED_FILE_ERROR:151,




INVALID_PUSH_TIME_ERROR:152,





USERNAME_MISSING:200,





PASSWORD_MISSING:201,





USERNAME_TAKEN:202,





EMAIL_TAKEN:203,





EMAIL_MISSING:204,





EMAIL_NOT_FOUND:205,






SESSION_MISSING:206,





MUST_CREATE_USER_THROUGH_SIGNUP:207,






ACCOUNT_ALREADY_LINKED:208,






LINKED_ID_MISSING:250,






INVALID_LINKED_SESSION:251,






UNSUPPORTED_SERVICE:252,







X_DOMAIN_REQUEST:602});};
});
__d('avoscloud-sdk/lib/event.js',function(global, require, module, exports) {  module.
exports = function(AV){
var eventSplitter=/\s+/;
var slice=Array.prototype.slice;























AV.Events = {




on:function(events,callback,context){

var calls,event,node,tail,list;
if(!callback){
return this;}

events = events.split(eventSplitter);
calls = this._callbacks || (this._callbacks = {});




event = events.shift();
while(event) {
list = calls[event];
node = list?list.tail:{};
node.next = tail = {};
node.context = context;
node.callback = callback;
calls[event] = {tail:tail,next:list?list.next:node};
event = events.shift();}


return this;},







off:function(events,callback,context){
var event,calls,node,tail,cb,ctx;


if(!(calls = this._callbacks)){
return;}

if(!(events || callback || context)){
delete this._callbacks;
return this;}




events = events?events.split(eventSplitter):_.keys(calls);
event = events.shift();
while(event) {
node = calls[event];
delete calls[event];
if(!node || !(callback || context)){
continue;}


tail = node.tail;
node = node.next;
while(node !== tail) {
cb = node.callback;
ctx = node.context;
if(callback && cb !== callback || context && ctx !== context){
this.on(event,cb,ctx);}

node = node.next;}

event = events.shift();}


return this;},








trigger:function(events){
var event,node,calls,tail,args,all,rest;
if(!(calls = this._callbacks)){
return this;}

all = calls.all;
events = events.split(eventSplitter);
rest = slice.call(arguments,1);



event = events.shift();
while(event) {
node = calls[event];
if(node){
tail = node.tail;
while((node = node.next) !== tail) {
node.callback.apply(node.context || this,rest);}}


node = all;
if(node){
tail = node.tail;
args = [event].concat(rest);
while((node = node.next) !== tail) {
node.callback.apply(node.context || this,args);}}


event = events.shift();}


return this;}};






AV.Events.bind = AV.Events.on;




AV.Events.unbind = AV.Events.off;};
});
__d('avoscloud-sdk/lib/geopoint.js',function(global, require, module, exports) {  var _=require('underscore/underscore.js');


module.exports = function(AV){























AV.GeoPoint = function(arg1,arg2){
if(_.isArray(arg1)){
AV.GeoPoint._validate(arg1[0],arg1[1]);
this.latitude = arg1[0];
this.longitude = arg1[1];}else 
if(_.isObject(arg1)){
AV.GeoPoint._validate(arg1.latitude,arg1.longitude);
this.latitude = arg1.latitude;
this.longitude = arg1.longitude;}else 
if(_.isNumber(arg1) && _.isNumber(arg2)){
AV.GeoPoint._validate(arg1,arg2);
this.latitude = arg1;
this.longitude = arg2;}else 
{
this.latitude = 0;
this.longitude = 0;}




var self=this;
if(this.__defineGetter__ && this.__defineSetter__){


this._latitude = this.latitude;
this._longitude = this.longitude;
this.__defineGetter__("latitude",function(){
return self._latitude;});

this.__defineGetter__("longitude",function(){
return self._longitude;});

this.__defineSetter__("latitude",function(val){
AV.GeoPoint._validate(val,self.longitude);
self._latitude = val;});

this.__defineSetter__("longitude",function(val){
AV.GeoPoint._validate(self.latitude,val);
self._longitude = val;});}};















AV.GeoPoint._validate = function(latitude,longitude){
if(latitude < -90.0){
throw "AV.GeoPoint latitude " + latitude + " < -90.0.";}

if(latitude > 90.0){
throw "AV.GeoPoint latitude " + latitude + " > 90.0.";}

if(longitude < -180.0){
throw "AV.GeoPoint longitude " + longitude + " < -180.0.";}

if(longitude > 180.0){
throw "AV.GeoPoint longitude " + longitude + " > 180.0.";}};








AV.GeoPoint.current = function(options){
var promise=new AV.Promise();
navigator.geolocation.getCurrentPosition(function(location){
promise.resolve(new AV.GeoPoint({
latitude:location.coords.latitude,
longitude:location.coords.longitude}));},


function(error){
promise.reject(error);});


return promise._thenRunCallbacks(options);};


AV.GeoPoint.prototype = {




toJSON:function(){
AV.GeoPoint._validate(this.latitude,this.longitude);
return {
"__type":"GeoPoint",
latitude:this.latitude,
longitude:this.longitude};},








radiansTo:function(point){
var d2r=Math.PI / 180.0;
var lat1rad=this.latitude * d2r;
var long1rad=this.longitude * d2r;
var lat2rad=point.latitude * d2r;
var long2rad=point.longitude * d2r;
var deltaLat=lat1rad - lat2rad;
var deltaLong=long1rad - long2rad;
var sinDeltaLatDiv2=Math.sin(deltaLat / 2);
var sinDeltaLongDiv2=Math.sin(deltaLong / 2);

var a=sinDeltaLatDiv2 * sinDeltaLatDiv2 + 
Math.cos(lat1rad) * Math.cos(lat2rad) * 
sinDeltaLongDiv2 * sinDeltaLongDiv2;
a = Math.min(1.0,a);
return 2 * Math.asin(Math.sqrt(a));},







kilometersTo:function(point){
return this.radiansTo(point) * 6371.0;},







milesTo:function(point){
return this.radiansTo(point) * 3958.8;}};};
});
__d('avoscloud-sdk/lib/acl.js',function(global, require, module, exports) {  'use strict';
var _=require('underscore/underscore.js');


module.exports = function(AV){
var PUBLIC_KEY="*";















AV.ACL = function(arg1){
var self=this;
self.permissionsById = {};
if(_.isObject(arg1)){
if(arg1 instanceof AV.User){
self.setReadAccess(arg1,true);
self.setWriteAccess(arg1,true);}else 
{
if(_.isFunction(arg1)){
throw "AV.ACL() called with a function.  Did you forget ()?";}

AV._objectEach(arg1,function(accessList,userId){
if(!_.isString(userId)){
throw "Tried to create an ACL with an invalid userId.";}

self.permissionsById[userId] = {};
AV._objectEach(accessList,function(allowed,permission){
if(permission !== "read" && permission !== "write"){
throw "Tried to create an ACL with an invalid permission type.";}

if(!_.isBoolean(allowed)){
throw "Tried to create an ACL with an invalid permission value.";}

self.permissionsById[userId][permission] = allowed;});});}}};










AV.ACL.prototype.toJSON = function(){
return _.clone(this.permissionsById);};


AV.ACL.prototype._setAccess = function(accessType,userId,allowed){
if(userId instanceof AV.User){
userId = userId.id;}else 
if(userId instanceof AV.Role){
userId = "role:" + userId.getName();}

if(!_.isString(userId)){
throw "userId must be a string.";}

if(!_.isBoolean(allowed)){
throw "allowed must be either true or false.";}

var permissions=this.permissionsById[userId];
if(!permissions){
if(!allowed){

return;}else 
{
permissions = {};
this.permissionsById[userId] = permissions;}}



if(allowed){
this.permissionsById[userId][accessType] = true;}else 
{
delete permissions[accessType];
if(_.isEmpty(permissions)){
delete permissions[userId];}}};




AV.ACL.prototype._getAccess = function(accessType,userId){
if(userId instanceof AV.User){
userId = userId.id;}else 
if(userId instanceof AV.Role){
userId = "role:" + userId.getName();}

var permissions=this.permissionsById[userId];
if(!permissions){
return false;}

return permissions[accessType]?true:false;};







AV.ACL.prototype.setReadAccess = function(userId,allowed){
this._setAccess("read",userId,allowed);};










AV.ACL.prototype.getReadAccess = function(userId){
return this._getAccess("read",userId);};







AV.ACL.prototype.setWriteAccess = function(userId,allowed){
this._setAccess("write",userId,allowed);};










AV.ACL.prototype.getWriteAccess = function(userId){
return this._getAccess("write",userId);};






AV.ACL.prototype.setPublicReadAccess = function(allowed){
this.setReadAccess(PUBLIC_KEY,allowed);};






AV.ACL.prototype.getPublicReadAccess = function(){
return this.getReadAccess(PUBLIC_KEY);};






AV.ACL.prototype.setPublicWriteAccess = function(allowed){
this.setWriteAccess(PUBLIC_KEY,allowed);};






AV.ACL.prototype.getPublicWriteAccess = function(){
return this.getWriteAccess(PUBLIC_KEY);};











AV.ACL.prototype.getRoleReadAccess = function(role){
if(role instanceof AV.Role){

role = role.getName();}

if(_.isString(role)){
return this.getReadAccess("role:" + role);}

throw "role must be a AV.Role or a String";};











AV.ACL.prototype.getRoleWriteAccess = function(role){
if(role instanceof AV.Role){

role = role.getName();}

if(_.isString(role)){
return this.getWriteAccess("role:" + role);}

throw "role must be a AV.Role or a String";};










AV.ACL.prototype.setRoleReadAccess = function(role,allowed){
if(role instanceof AV.Role){

role = role.getName();}

if(_.isString(role)){
this.setReadAccess("role:" + role,allowed);
return;}

throw "role must be a AV.Role or a String";};










AV.ACL.prototype.setRoleWriteAccess = function(role,allowed){
if(role instanceof AV.Role){

role = role.getName();}

if(_.isString(role)){
this.setWriteAccess("role:" + role,allowed);
return;}

throw "role must be a AV.Role or a String";};};
});
__d('avoscloud-sdk/lib/op.js',function(global, require, module, exports) {  'use strict';
var _=require('underscore/underscore.js');

module.exports = function(AV){













AV.Op = function(){
this._initialize.apply(this,arguments);};


AV.Op.prototype = {
_initialize:function(){}};


_.extend(AV.Op,{



_extend:AV._extend,


_opDecoderMap:{},





_registerDecoder:function(opName,decoder){
AV.Op._opDecoderMap[opName] = decoder;},





_decode:function(json){
var decoder=AV.Op._opDecoderMap[json.__op];
if(decoder){
return decoder(json);}else 
{
return undefined;}}});







AV.Op._registerDecoder("Batch",function(json){
var op=null;
AV._arrayEach(json.ops,function(nextOp){
nextOp = AV.Op._decode(nextOp);
op = nextOp._mergeWithPrevious(op);});

return op;});








AV.Op.Set = AV.Op._extend({
_initialize:function(value){
this._value = value;},





value:function(){
return this._value;},






toJSON:function(){
return AV._encode(this.value());},


_mergeWithPrevious:function(previous){
return this;},


_estimate:function(oldValue){
return this.value();}});








AV.Op._UNSET = {};






AV.Op.Unset = AV.Op._extend({




toJSON:function(){
return {__op:"Delete"};},


_mergeWithPrevious:function(previous){
return this;},


_estimate:function(oldValue){
return AV.Op._UNSET;}});



AV.Op._registerDecoder("Delete",function(json){
return new AV.Op.Unset();});







AV.Op.Increment = AV.Op._extend(
{

_initialize:function(amount){
this._amount = amount;},






amount:function(){
return this._amount;},






toJSON:function(){
return {__op:"Increment",amount:this._amount};},


_mergeWithPrevious:function(previous){
if(!previous){
return this;}else 
if(previous instanceof AV.Op.Unset){
return new AV.Op.Set(this.amount());}else 
if(previous instanceof AV.Op.Set){
return new AV.Op.Set(previous.value() + this.amount());}else 
if(previous instanceof AV.Op.Increment){
return new AV.Op.Increment(this.amount() + previous.amount());}else 
{
throw "Op is invalid after previous op.";}},



_estimate:function(oldValue){
if(!oldValue){
return this.amount();}

return oldValue + this.amount();}});



AV.Op._registerDecoder("Increment",function(json){
return new AV.Op.Increment(json.amount);});







AV.Op.Add = AV.Op._extend({
_initialize:function(objects){
this._objects = objects;},






objects:function(){
return this._objects;},






toJSON:function(){
return {__op:"Add",objects:AV._encode(this.objects())};},


_mergeWithPrevious:function(previous){
if(!previous){
return this;}else 
if(previous instanceof AV.Op.Unset){
return new AV.Op.Set(this.objects());}else 
if(previous instanceof AV.Op.Set){
return new AV.Op.Set(this._estimate(previous.value()));}else 
if(previous instanceof AV.Op.Add){
return new AV.Op.Add(previous.objects().concat(this.objects()));}else 
{
throw "Op is invalid after previous op.";}},



_estimate:function(oldValue){
if(!oldValue){
return _.clone(this.objects());}else 
{
return oldValue.concat(this.objects());}}});




AV.Op._registerDecoder("Add",function(json){
return new AV.Op.Add(AV._decode(undefined,json.objects));});








AV.Op.AddUnique = AV.Op._extend(
{

_initialize:function(objects){
this._objects = _.uniq(objects);},






objects:function(){
return this._objects;},






toJSON:function(){
return {__op:"AddUnique",objects:AV._encode(this.objects())};},


_mergeWithPrevious:function(previous){
if(!previous){
return this;}else 
if(previous instanceof AV.Op.Unset){
return new AV.Op.Set(this.objects());}else 
if(previous instanceof AV.Op.Set){
return new AV.Op.Set(this._estimate(previous.value()));}else 
if(previous instanceof AV.Op.AddUnique){
return new AV.Op.AddUnique(this._estimate(previous.objects()));}else 
{
throw "Op is invalid after previous op.";}},



_estimate:function(oldValue){
if(!oldValue){
return _.clone(this.objects());}else 
{



var newValue=_.clone(oldValue);
AV._arrayEach(this.objects(),function(obj){
if(obj instanceof AV.Object && obj.id){
var matchingObj=_.find(newValue,function(anObj){
return anObj instanceof AV.Object && anObj.id === obj.id;});

if(!matchingObj){
newValue.push(obj);}else 
{
var index=_.indexOf(newValue,matchingObj);
newValue[index] = obj;}}else 

if(!_.contains(newValue,obj)){
newValue.push(obj);}});


return newValue;}}});




AV.Op._registerDecoder("AddUnique",function(json){
return new AV.Op.AddUnique(AV._decode(undefined,json.objects));});







AV.Op.Remove = AV.Op._extend({
_initialize:function(objects){
this._objects = _.uniq(objects);},






objects:function(){
return this._objects;},






toJSON:function(){
return {__op:"Remove",objects:AV._encode(this.objects())};},


_mergeWithPrevious:function(previous){
if(!previous){
return this;}else 
if(previous instanceof AV.Op.Unset){
return previous;}else 
if(previous instanceof AV.Op.Set){
return new AV.Op.Set(this._estimate(previous.value()));}else 
if(previous instanceof AV.Op.Remove){
return new AV.Op.Remove(_.union(previous.objects(),this.objects()));}else 
{
throw "Op is invalid after previous op.";}},



_estimate:function(oldValue){
if(!oldValue){
return [];}else 
{
var newValue=_.difference(oldValue,this.objects());

AV._arrayEach(this.objects(),function(obj){
if(obj instanceof AV.Object && obj.id){
newValue = _.reject(newValue,function(other){
return other instanceof AV.Object && other.id === obj.id;});}});



return newValue;}}});




AV.Op._registerDecoder("Remove",function(json){
return new AV.Op.Remove(AV._decode(undefined,json.objects));});








AV.Op.Relation = AV.Op._extend(
{

_initialize:function(adds,removes){
this._targetClassName = null;

var self=this;

var pointerToId=function(object){
if(object instanceof AV.Object){
if(!object.id){
throw "You can't add an unsaved AV.Object to a relation.";}

if(!self._targetClassName){
self._targetClassName = object.className;}

if(self._targetClassName !== object.className){
throw "Tried to create a AV.Relation with 2 different types: " + 
self._targetClassName + " and " + object.className + ".";}

return object.id;}

return object;};


this.relationsToAdd = _.uniq(_.map(adds,pointerToId));
this.relationsToRemove = _.uniq(_.map(removes,pointerToId));},







added:function(){
var self=this;
return _.map(this.relationsToAdd,function(objectId){
var object=AV.Object._create(self._targetClassName);
object.id = objectId;
return object;});},








removed:function(){
var self=this;
return _.map(this.relationsToRemove,function(objectId){
var object=AV.Object._create(self._targetClassName);
object.id = objectId;
return object;});},







toJSON:function(){
var adds=null;
var removes=null;
var self=this;
var idToPointer=function(id){
return {__type:'Pointer',
className:self._targetClassName,
objectId:id};};

var pointers=null;
if(this.relationsToAdd.length > 0){
pointers = _.map(this.relationsToAdd,idToPointer);
adds = {"__op":"AddRelation","objects":pointers};}


if(this.relationsToRemove.length > 0){
pointers = _.map(this.relationsToRemove,idToPointer);
removes = {"__op":"RemoveRelation","objects":pointers};}


if(adds && removes){
return {"__op":"Batch","ops":[adds,removes]};}


return adds || removes || {};},


_mergeWithPrevious:function(previous){
if(!previous){
return this;}else 
if(previous instanceof AV.Op.Unset){
throw "You can't modify a relation after deleting it.";}else 
if(previous instanceof AV.Op.Relation){
if(previous._targetClassName && 
previous._targetClassName !== this._targetClassName){
throw "Related object must be of class " + previous._targetClassName + 
", but " + this._targetClassName + " was passed in.";}

var newAdd=_.union(_.difference(previous.relationsToAdd,
this.relationsToRemove),
this.relationsToAdd);
var newRemove=_.union(_.difference(previous.relationsToRemove,
this.relationsToAdd),
this.relationsToRemove);

var newRelation=new AV.Op.Relation(newAdd,newRemove);
newRelation._targetClassName = this._targetClassName;
return newRelation;}else 
{
throw "Op is invalid after previous op.";}},



_estimate:function(oldValue,object,key){
if(!oldValue){
var relation=new AV.Relation(object,key);
relation.targetClassName = this._targetClassName;}else 
if(oldValue instanceof AV.Relation){
if(this._targetClassName){
if(oldValue.targetClassName){
if(oldValue.targetClassName !== this._targetClassName){
throw "Related object must be a " + oldValue.targetClassName + 
", but a " + this._targetClassName + " was passed in.";}}else 

{
oldValue.targetClassName = this._targetClassName;}}


return oldValue;}else 
{
throw "Op is invalid after previous op.";}}});




AV.Op._registerDecoder("AddRelation",function(json){
return new AV.Op.Relation(AV._decode(undefined,json.objects),[]);});

AV.Op._registerDecoder("RemoveRelation",function(json){
return new AV.Op.Relation([],AV._decode(undefined,json.objects));});};
});
__d('avoscloud-sdk/lib/relation.js',function(global, require, module, exports) {  'use strict';
var _=require('underscore/underscore.js');

module.exports = function(AV){















AV.Relation = function(parent,key){
if(!_.isString(key)){
throw new TypeError('key must be a string');}

this.parent = parent;
this.key = key;
this.targetClassName = null;};









AV.Relation.reverseQuery = function(parentClass,relationKey,child){
var query=new AV.Query(parentClass);
query.equalTo(relationKey,child._toPointer());
return query;};


AV.Relation.prototype = {



_ensureParentAndKey:function(parent,key){
this.parent = this.parent || parent;
this.key = this.key || key;
if(this.parent !== parent){
throw "Internal Error. Relation retrieved from two different Objects.";}

if(this.key !== key){
throw "Internal Error. Relation retrieved from two different keys.";}},







add:function(objects){
if(!_.isArray(objects)){
objects = [objects];}


var change=new AV.Op.Relation(objects,[]);
this.parent.set(this.key,change);
this.targetClassName = change._targetClassName;},






remove:function(objects){
if(!_.isArray(objects)){
objects = [objects];}


var change=new AV.Op.Relation([],objects);
this.parent.set(this.key,change);
this.targetClassName = change._targetClassName;},






toJSON:function(){
return {"__type":"Relation","className":this.targetClassName};},







query:function(){
var targetClass;
var query;
if(!this.targetClassName){
targetClass = AV.Object._getSubclass(this.parent.className);
query = new AV.Query(targetClass);
query._extraOptions.redirectClassNameForKey = this.key;}else 
{
targetClass = AV.Object._getSubclass(this.targetClassName);
query = new AV.Query(targetClass);}

query._addCondition("$relatedTo","object",this.parent._toPointer());
query._addCondition("$relatedTo","key",this.key);

return query;}};};
});
__d('avoscloud-sdk/lib/file.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');



function extname(path){
return path.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4];}



module.exports = function(AV){
var b64Digit=function(number){
if(number < 26){
return String.fromCharCode(65 + number);}

if(number < 52){
return String.fromCharCode(97 + (number - 26));}

if(number < 62){
return String.fromCharCode(48 + (number - 52));}

if(number === 62){
return "+";}

if(number === 63){
return "/";}

throw "Tried to encode large digit " + number + " in base64.";};


var encodeBase64=function(array){
var chunks=[];
chunks.length = Math.ceil(array.length / 3);
_.times(chunks.length,function(i){
var b1=array[i * 3];
var b2=array[i * 3 + 1] || 0;
var b3=array[i * 3 + 2] || 0;

var has2=i * 3 + 1 < array.length;
var has3=i * 3 + 2 < array.length;

chunks[i] = [
b64Digit(b1 >> 2 & 0x3F),
b64Digit(b1 << 4 & 0x30 | b2 >> 4 & 0x0F),
has2?b64Digit(b2 << 2 & 0x3C | b3 >> 6 & 0x03):"=",
has3?b64Digit(b3 & 0x3F):"="].
join("");});

return chunks.join("");};


var dataURLToBase64=function(base64){
if(base64.split(',')[0] && base64.split(',')[0].indexOf('base64') >= 0){
base64 = base64.split(',')[1];}

return base64;};





var mimeTypes={
ai:"application/postscript",
aif:"audio/x-aiff",
aifc:"audio/x-aiff",
aiff:"audio/x-aiff",
asc:"text/plain",
atom:"application/atom+xml",
au:"audio/basic",
avi:"video/x-msvideo",
bcpio:"application/x-bcpio",
bin:"application/octet-stream",
bmp:"image/bmp",
cdf:"application/x-netcdf",
cgm:"image/cgm",
"class":"application/octet-stream",
cpio:"application/x-cpio",
cpt:"application/mac-compactpro",
csh:"application/x-csh",
css:"text/css",
dcr:"application/x-director",
dif:"video/x-dv",
dir:"application/x-director",
djv:"image/vnd.djvu",
djvu:"image/vnd.djvu",
dll:"application/octet-stream",
dmg:"application/octet-stream",
dms:"application/octet-stream",
doc:"application/msword",
docx:"application/vnd.openxmlformats-officedocument.wordprocessingml." + 
"document",
dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml." + 
"template",
docm:"application/vnd.ms-word.document.macroEnabled.12",
dotm:"application/vnd.ms-word.template.macroEnabled.12",
dtd:"application/xml-dtd",
dv:"video/x-dv",
dvi:"application/x-dvi",
dxr:"application/x-director",
eps:"application/postscript",
etx:"text/x-setext",
exe:"application/octet-stream",
ez:"application/andrew-inset",
gif:"image/gif",
gram:"application/srgs",
grxml:"application/srgs+xml",
gtar:"application/x-gtar",
hdf:"application/x-hdf",
hqx:"application/mac-binhex40",
htm:"text/html",
html:"text/html",
ice:"x-conference/x-cooltalk",
ico:"image/x-icon",
ics:"text/calendar",
ief:"image/ief",
ifb:"text/calendar",
iges:"model/iges",
igs:"model/iges",
jnlp:"application/x-java-jnlp-file",
jp2:"image/jp2",
jpe:"image/jpeg",
jpeg:"image/jpeg",
jpg:"image/jpeg",
js:"application/x-javascript",
kar:"audio/midi",
latex:"application/x-latex",
lha:"application/octet-stream",
lzh:"application/octet-stream",
m3u:"audio/x-mpegurl",
m4a:"audio/mp4a-latm",
m4b:"audio/mp4a-latm",
m4p:"audio/mp4a-latm",
m4u:"video/vnd.mpegurl",
m4v:"video/x-m4v",
mac:"image/x-macpaint",
man:"application/x-troff-man",
mathml:"application/mathml+xml",
me:"application/x-troff-me",
mesh:"model/mesh",
mid:"audio/midi",
midi:"audio/midi",
mif:"application/vnd.mif",
mov:"video/quicktime",
movie:"video/x-sgi-movie",
mp2:"audio/mpeg",
mp3:"audio/mpeg",
mp4:"video/mp4",
mpe:"video/mpeg",
mpeg:"video/mpeg",
mpg:"video/mpeg",
mpga:"audio/mpeg",
ms:"application/x-troff-ms",
msh:"model/mesh",
mxu:"video/vnd.mpegurl",
nc:"application/x-netcdf",
oda:"application/oda",
ogg:"application/ogg",
pbm:"image/x-portable-bitmap",
pct:"image/pict",
pdb:"chemical/x-pdb",
pdf:"application/pdf",
pgm:"image/x-portable-graymap",
pgn:"application/x-chess-pgn",
pic:"image/pict",
pict:"image/pict",
png:"image/png",
pnm:"image/x-portable-anymap",
pnt:"image/x-macpaint",
pntg:"image/x-macpaint",
ppm:"image/x-portable-pixmap",
ppt:"application/vnd.ms-powerpoint",
pptx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"presentation",
potx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"template",
ppsx:"application/vnd.openxmlformats-officedocument.presentationml." + 
"slideshow",
ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",
pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",
potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",
ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",
ps:"application/postscript",
qt:"video/quicktime",
qti:"image/x-quicktime",
qtif:"image/x-quicktime",
ra:"audio/x-pn-realaudio",
ram:"audio/x-pn-realaudio",
ras:"image/x-cmu-raster",
rdf:"application/rdf+xml",
rgb:"image/x-rgb",
rm:"application/vnd.rn-realmedia",
roff:"application/x-troff",
rtf:"text/rtf",
rtx:"text/richtext",
sgm:"text/sgml",
sgml:"text/sgml",
sh:"application/x-sh",
shar:"application/x-shar",
silo:"model/mesh",
sit:"application/x-stuffit",
skd:"application/x-koan",
skm:"application/x-koan",
skp:"application/x-koan",
skt:"application/x-koan",
smi:"application/smil",
smil:"application/smil",
snd:"audio/basic",
so:"application/octet-stream",
spl:"application/x-futuresplash",
src:"application/x-wais-source",
sv4cpio:"application/x-sv4cpio",
sv4crc:"application/x-sv4crc",
svg:"image/svg+xml",
swf:"application/x-shockwave-flash",
t:"application/x-troff",
tar:"application/x-tar",
tcl:"application/x-tcl",
tex:"application/x-tex",
texi:"application/x-texinfo",
texinfo:"application/x-texinfo",
tif:"image/tiff",
tiff:"image/tiff",
tr:"application/x-troff",
tsv:"text/tab-separated-values",
txt:"text/plain",
ustar:"application/x-ustar",
vcd:"application/x-cdlink",
vrml:"model/vrml",
vxml:"application/voicexml+xml",
wav:"audio/x-wav",
wbmp:"image/vnd.wap.wbmp",
wbmxl:"application/vnd.wap.wbxml",
wml:"text/vnd.wap.wml",
wmlc:"application/vnd.wap.wmlc",
wmls:"text/vnd.wap.wmlscript",
wmlsc:"application/vnd.wap.wmlscriptc",
wrl:"model/vrml",
xbm:"image/x-xbitmap",
xht:"application/xhtml+xml",
xhtml:"application/xhtml+xml",
xls:"application/vnd.ms-excel",
xml:"application/xml",
xpm:"image/x-xpixmap",
xsl:"application/xml",
xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml." + 
"template",
xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",
xltm:"application/vnd.ms-excel.template.macroEnabled.12",
xlam:"application/vnd.ms-excel.addin.macroEnabled.12",
xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",
xslt:"application/xslt+xml",
xul:"application/vnd.mozilla.xul+xml",
xwd:"image/x-xwindowdump",
xyz:"chemical/x-xyz",
zip:"application/zip"};









var readAsync=function(file,type){
var promise=new AV.Promise();

if(typeof FileReader === "undefined"){
return AV.Promise.error(new AV.Error(
-1,"Attempted to use a FileReader on an unsupported browser."));}


var reader=new FileReader();
reader.onloadend = function(){
if(reader.readyState !== 2){
promise.reject(new AV.Error(-1,"Error reading file."));
return;}


var dataURL=reader.result;
var matches=/^data:([^;]*);base64,(.*)$/.exec(dataURL);
if(!matches){
promise.reject(
new AV.Error(-1,"Unable to interpret data URL: " + dataURL));
return;}


promise.resolve(matches[2],type || matches[1]);};

reader.readAsDataURL(file);
return promise;};































AV.File = function(name,data,type){
this._name = name;


this._base64 = '';

var currentUser;
try{
currentUser = AV.User.current();}

catch(e) {
console.warn('Get current user failed. It seems this runtime use an async storage system, please new AV.File in the callback of AV.User.currentAsync().');}

this._metaData = {
owner:currentUser != null?currentUser.id:'unknown'};



var extension=/\.([^.]*)$/.exec(name);
if(extension){
extension = extension[1].toLowerCase();}

var guessedType=type || mimeTypes[extension] || "text/plain";
this._guessedType = guessedType;

if(_.isArray(data)){
this._base64 = encodeBase64(data);
this._source = AV.Promise.as(this._base64,guessedType);
this._metaData.size = data.length;}else 
if(data && data.base64){
var parseBase64=require('avoscloud-sdk/lib/browserify-wrapper/parse-base64-browser.js');
var dataBase64=parseBase64(data.base64,guessedType);
this._base64 = dataURLToBase64(data.base64);
this._source = AV.Promise.as(dataBase64,guessedType);}else 
if(data && data.blob){
this._source = AV.Promise.as(data.blob,guessedType);}else 
if(typeof File !== "undefined" && data instanceof File){
this._source = AV.Promise.as(data,guessedType);}else 
if(AV._isNode && global.Buffer.isBuffer(data)){

this._base64 = data.toString('base64');
this._source = AV.Promise.as(this._base64,guessedType);
this._metaData.size = data.length;}else 
if(_.isString(data)){
throw "Creating a AV.File from a String is not yet supported.";}};













AV.File.withURL = function(name,url,metaData,type){
if(!name || !url){
throw "Please provide file name and url";}

var file=new AV.File(name,null,type);

if(metaData){
for(var prop in metaData) {
if(!file._metaData[prop])
file._metaData[prop] = metaData[prop];}}


file._url = url;

file._metaData['__source'] = 'external';
return file;};







AV.File.createWithoutData = function(objectId){
var file=new AV.File();
file.id = objectId;
return file;};


AV.File.prototype = {

toJSON:function(){
return AV._encode(this);},






getACL:function(){
return this._acl;},






setACL:function(acl){
if(!(acl instanceof AV.ACL)){
return new AV.Error(AV.Error.OTHER_CAUSE,
"ACL must be a AV.ACL.");}

this._acl = acl;},







name:function(){
return this._name;},







url:function(){
return this._url;},














metaData:function(attr,value){
if(attr != null && value != null){
this._metaData[attr] = value;
return this;}else 
if(attr != null){
return this._metaData[attr];}else 
{
return this._metaData;}},












thumbnailURL:function(width,height,quality,scaleToFit,fmt){
if(!this.url()){
throw "Invalid url.";}

if(!width || !height || width <= 0 || height <= 0){
throw "Invalid width or height value.";}

quality = quality || 100;
scaleToFit = scaleToFit == null?true:scaleToFit;
if(quality <= 0 || quality > 100){
throw "Invalid quality value.";}

fmt = fmt || 'png';
var mode=scaleToFit?2:1;
return this.url() + '?imageView/' + mode + '/w/' + width + '/h/' + height + 
'/q/' + quality + '/format/' + fmt;},






size:function(){
return this.metaData().size;},






ownerId:function(){
return this.metaData().owner;},






destroy:function(options){
if(!this.id)
return AV.Promise.error('The file id is not eixsts.')._thenRunCallbacks(options);
var request=AV._request("files",null,this.id,'DELETE');
return request._thenRunCallbacks(options);},








_qiniuToken:function(type){
var self=this;

var extName=extname(self._name);
var hexOctet=function(){
return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);};

var key=hexOctet() + hexOctet() + hexOctet() + hexOctet() + hexOctet() + 
extName;

var data={
key:key,
ACL:self._acl,
name:self._name,
mime_type:type,
metaData:self._metaData};

if(type && self._metaData.mime_type == null)
self._metaData.mime_type = type;
self._qiniu_key = key;
return AV._request("qiniu",null,null,'POST',data);},













save:function(){
if(this.id){
throw new Error('File already saved. If you want to manipulate a file, use AV.Query to get it.');}

var options=null;
var saveOptions={};
if(arguments.length === 1){
options = arguments[0];}else 
if(arguments.length === 2){
saveOptions = arguments[0];
options = arguments[1];}

var self=this;
if(!self._previousSave){

if(self._source && AV.serverURL === AV._config.cnApiUrl){

var upload=require('avoscloud-sdk/lib/browserify-wrapper/upload-browser.js');
upload(self,AV,saveOptions);}else 
if(self._url && self._metaData['__source'] == 'external'){

var data={
name:self._name,
ACL:self._acl,
metaData:self._metaData,
mime_type:self._guessedType,
url:self._url};

self._previousSave = AV._request('files',self._name,null,'POST',data).then(function(response){
self._name = response.name;
self._url = response.url;
self.id = response.objectId;
if(response.size){
self._metaData.size = response.size;}

return self;});}else 

if(AV.serverURL !== AV._config.cnApiUrl){

self._previousSave = self._source.then(function(file,type){
var data={
base64:'',
_ContentType:type,
ACL:self._acl,
mime_type:type,
metaData:self._metaData};


if(self._base64){
data.base64 = self._base64;
return AV._request('files',self._name,null,'POST',data);}else 
{
return readAsync(file).then(function(base64){
data.base64 = base64;
return AV._request('files',self._name,null,'POST',data);});}}).


then(function(response){
self._name = response.name;
self._url = response.url;
self.id = response.objectId;
if(response.size)
self._metaData.size = response.size;
return self;});}}



return self._previousSave._thenRunCallbacks(options);},












fetch:function(){
var options=null;
var fetchOptions={};
if(arguments.length === 1){
options = arguments[0];}else 
if(arguments.length === 2){
fetchOptions = arguments[0];
options = arguments[1];}


var self=this;
var request=AV._request('files',null,this.id,'GET',
fetchOptions);
return request.then(function(response){
var value=AV.Object.prototype.parse(response);
value._metaData = value.metaData || {};
value._url = value.url;
value._name = value.name;
delete value.objectId;
delete value.metaData;
delete value.url;
delete value.name;
_.extend(self,value);
return self;}).
_thenRunCallbacks(options);}};};
});
__d('avoscloud-sdk/lib/browserify-wrapper/parse-base64-browser.js',function(global, require, module, exports) {  'use strict';

var dataURItoBlob=function(dataURI,type){
var byteString;


if(dataURI.indexOf('base64') < 0){
byteString = atob(dataURI);}else 
if(dataURI.split(',')[0].indexOf('base64') >= 0){
byteString = atob(dataURI.split(',')[1]);}else 
{
byteString = unescape(dataURI.split(',')[1]);}


var mimeString=type || dataURI.split(',')[0].split(':')[1].split(';')[0];
var ia=new Uint8Array(byteString.length);
for(var i=0;i < byteString.length;i++) {
ia[i] = byteString.charCodeAt(i);}

return new Blob([ia],{type:mimeString});};


module.exports = dataURItoBlob;
});
__d('avoscloud-sdk/lib/browserify-wrapper/upload-browser.js',function(global, require, module, exports) {  'use strict';

module.exports = function upload(file,AV,saveOptions){

var self=file;
var dataFormat;
self._previousSave = self._source.then(function(data,type){
dataFormat = data;
return self._qiniuToken(type);}).
then(function(response){
self._url = response.url;
self._bucket = response.bucket;
self.id = response.objectId;

var uptoken=response.token;

var data=new FormData();
data.append("file",dataFormat,self._name);
data.append("key",self._qiniu_key);
data.append("token",uptoken);

var promise=new AV.Promise();
var handled=false;

var xhr=new AV.XMLHttpRequest();

if(xhr.upload){
xhr.upload.onprogress = saveOptions.onProgress;}


xhr.onreadystatechange = function(){
if(xhr.readyState === 4){
if(handled){
return;}

handled = true;

delete self._qiniu_key;
if(xhr.status >= 200 && xhr.status < 300){
var response;
try{
response = JSON.parse(xhr.responseText);}
catch(e) {
promise.reject(e);
self.destroy();}

if(response){
promise.resolve(self);}else 
{
promise.reject(response);}}else 

{
promise.reject(xhr);
self.destroy();}}};



xhr.open('POST','http://upload.qiniu.com',true);
xhr.send(data);

return promise;});};
});
__d('avoscloud-sdk/lib/object.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');




module.exports = function(AV){



























AV.Object = function(attributes,options){

if(_.isString(attributes)){
return AV.Object._create.apply(this,arguments);}


attributes = attributes || {};
if(options && options.parse){
attributes = this.parse(attributes);}

var defaults=AV._getValue(this,'defaults');
if(defaults){
attributes = _.extend({},defaults,attributes);}

if(options && options.collection){
this.collection = options.collection;}


this._serverData = {};
this._opSetQueue = [{}];
this.attributes = {};

this._hashedJSON = {};
this._escapedAttributes = {};
this.cid = _.uniqueId('c');
this.changed = {};
this._silent = {};
this._pending = {};
if(!this.set(attributes,{silent:true})){
throw new Error("Can't create an invalid AV.Object");}

this.changed = {};
this._silent = {};
this._pending = {};
this._hasData = true;
this._previousAttributes = _.clone(this.attributes);
this.initialize.apply(this,arguments);};



































AV.Object.saveAll = function(list,options){
return AV.Object._deepSaveAsync(list)._thenRunCallbacks(options);};



_.extend(AV.Object.prototype,AV.Events,
{
_fetchWhenSave:false,





initialize:function(){},







fetchWhenSave:function(enable){
if(!_.isBoolean(enable)){
throw "Expect boolean value for fetchWhenSave";}

this._fetchWhenSave = enable;},






getObjectId:function(){
return this.id;},






getCreatedAt:function(){
return this.createdAt || this.get('createdAt');},






getUpdatedAt:function(){
return this.updatedAt || this.get('updatedAt');},






toJSON:function(){
var json=this._toFullJSON();
AV._arrayEach(["__type","className"],
function(key){delete json[key];});
return json;},


_toFullJSON:function(seenObjects){
var json=_.clone(this.attributes);
AV._objectEach(json,function(val,key){
json[key] = AV._encode(val,seenObjects);});

AV._objectEach(this._operations,function(val,key){
json[key] = val;});


if(_.has(this,"id")){
json.objectId = this.id;}

if(_.has(this,"createdAt")){
if(_.isDate(this.createdAt)){
json.createdAt = this.createdAt.toJSON();}else 
{
json.createdAt = this.createdAt;}}



if(_.has(this,"updatedAt")){
if(_.isDate(this.updatedAt)){
json.updatedAt = this.updatedAt.toJSON();}else 
{
json.updatedAt = this.updatedAt;}}


json.__type = "Object";
json.className = this.className;
return json;},






_refreshCache:function(){
var self=this;
if(self._refreshingCache){
return;}

self._refreshingCache = true;
AV._objectEach(this.attributes,function(value,key){
if(value instanceof AV.Object){
value._refreshCache();}else 
if(_.isObject(value)){
if(self._resetCacheForKey(key)){
self.set(key,new AV.Op.Set(value),{silent:true});}}});



delete self._refreshingCache;},









dirty:function(attr){
this._refreshCache();

var currentChanges=_.last(this._opSetQueue);

if(attr){
return currentChanges[attr]?true:false;}

if(!this.id){
return true;}

if(_.keys(currentChanges).length > 0){
return true;}

return false;},





_toPointer:function(){



return {__type:"Pointer",
className:this.className,
objectId:this.id};},






get:function(attr){
return this.attributes[attr];},






relation:function(attr){
var value=this.get(attr);
if(value){
if(!(value instanceof AV.Relation)){
throw "Called relation() on non-relation field " + attr;}

value._ensureParentAndKey(this,attr);
return value;}else 
{
return new AV.Relation(this,attr);}},






escape:function(attr){
var html=this._escapedAttributes[attr];
if(html){
return html;}

var val=this.attributes[attr];
var escaped;
if(AV._isNullOrUndefined(val)){
escaped = '';}else 
{
escaped = _.escape(val.toString());}

this._escapedAttributes[attr] = escaped;
return escaped;},








has:function(attr){
return !AV._isNullOrUndefined(this.attributes[attr]);},







_mergeMagicFields:function(attrs){

var model=this;
var specialFields=["id","objectId","createdAt","updatedAt"];
AV._arrayEach(specialFields,function(attr){
if(attrs[attr]){
if(attr === "objectId"){
model.id = attrs[attr];}else 
if((attr === "createdAt" || attr === "updatedAt") && 
!_.isDate(attrs[attr])){
model[attr] = AV._parseDate(attrs[attr]);}else 
{
model[attr] = attrs[attr];}

delete attrs[attr];}});},







_startSave:function(){
this._opSetQueue.push({});},














_cancelSave:function(){
var self=this;
var failedChanges=_.first(this._opSetQueue);
this._opSetQueue = _.rest(this._opSetQueue);
var nextChanges=_.first(this._opSetQueue);
AV._objectEach(failedChanges,function(op,key){
var op1=failedChanges[key];
var op2=nextChanges[key];
if(op1 && op2){
nextChanges[key] = op2._mergeWithPrevious(op1);}else 
if(op1){
nextChanges[key] = op1;}});


this._saving = this._saving - 1;},







_finishSave:function(serverData){




var fetchedObjects={};
AV._traverse(this.attributes,function(object){
if(object instanceof AV.Object && object.id && object._hasData){
fetchedObjects[object.id] = object;}});



var savedChanges=_.first(this._opSetQueue);
this._opSetQueue = _.rest(this._opSetQueue);
this._applyOpSet(savedChanges,this._serverData);
this._mergeMagicFields(serverData);
var self=this;
AV._objectEach(serverData,function(value,key){
self._serverData[key] = AV._decode(key,value);



var fetched=AV._traverse(self._serverData[key],function(object){
if(object instanceof AV.Object && fetchedObjects[object.id]){
return fetchedObjects[object.id];}});


if(fetched){
self._serverData[key] = fetched;}});


this._rebuildAllEstimatedData();
this._saving = this._saving - 1;},






_finishFetch:function(serverData,hasData){

this._opSetQueue = [{}];


this._mergeMagicFields(serverData);
var self=this;
AV._objectEach(serverData,function(value,key){
self._serverData[key] = AV._decode(key,value);});



this._rebuildAllEstimatedData();


this._refreshCache();
this._opSetQueue = [{}];

this._hasData = hasData;},





_applyOpSet:function(opSet,target){
var self=this;
AV._objectEach(opSet,function(change,key){
target[key] = change._estimate(target[key],self,key);
if(target[key] === AV.Op._UNSET){
delete target[key];}});},








_resetCacheForKey:function(key){
var value=this.attributes[key];
if(_.isObject(value) && 
!(value instanceof AV.Object) && 
!(value instanceof AV.File)){

value = value.toJSON?value.toJSON():value;
var json=JSON.stringify(value);
if(this._hashedJSON[key] !== json){
var wasSet=!!this._hashedJSON[key];
this._hashedJSON[key] = json;
return wasSet;}}


return false;},







_rebuildEstimatedDataForKey:function(key){
var self=this;
delete this.attributes[key];
if(this._serverData[key]){
this.attributes[key] = this._serverData[key];}

AV._arrayEach(this._opSetQueue,function(opSet){
var op=opSet[key];
if(op){
self.attributes[key] = op._estimate(self.attributes[key],self,key);
if(self.attributes[key] === AV.Op._UNSET){
delete self.attributes[key];}else 
{
self._resetCacheForKey(key);}}});},










_rebuildAllEstimatedData:function(){
var self=this;

var previousAttributes=_.clone(this.attributes);

this.attributes = _.clone(this._serverData);
AV._arrayEach(this._opSetQueue,function(opSet){
self._applyOpSet(opSet,self.attributes);
AV._objectEach(opSet,function(op,key){
self._resetCacheForKey(key);});});




AV._objectEach(previousAttributes,function(oldValue,key){
if(self.attributes[key] !== oldValue){
self.trigger('change:' + key,self,self.attributes[key],{});}});


AV._objectEach(this.attributes,function(newValue,key){
if(!_.has(previousAttributes,key)){
self.trigger('change:' + key,self,newValue,{});}});},




































set:function(key,value,options){
var attrs,attr;
if(_.isObject(key) || AV._isNullOrUndefined(key)){
attrs = key;
AV._objectEach(attrs,function(v,k){
attrs[k] = AV._decode(k,v);});

options = value;}else 
{
attrs = {};
attrs[key] = AV._decode(key,value);}



options = options || {};
if(!attrs){
return this;}

if(attrs instanceof AV.Object){
attrs = attrs.attributes;}



if(options.unset){
AV._objectEach(attrs,function(unused_value,key){
attrs[key] = new AV.Op.Unset();});}




var dataToValidate=_.clone(attrs);
var self=this;
AV._objectEach(dataToValidate,function(value,key){
if(value instanceof AV.Op){
dataToValidate[key] = value._estimate(self.attributes[key],
self,key);
if(dataToValidate[key] === AV.Op._UNSET){
delete dataToValidate[key];}}});





if(!this._validate(attrs,options)){
return false;}


this._mergeMagicFields(attrs);

options.changes = {};
var escaped=this._escapedAttributes;
var prev=this._previousAttributes || {};


AV._arrayEach(_.keys(attrs),function(attr){
var val=attrs[attr];




if(val instanceof AV.Relation){
val.parent = self;}


if(!(val instanceof AV.Op)){
val = new AV.Op.Set(val);}



var isRealChange=true;
if(val instanceof AV.Op.Set && 
_.isEqual(self.attributes[attr],val.value)){
isRealChange = false;}


if(isRealChange){
delete escaped[attr];
if(options.silent){
self._silent[attr] = true;}else 
{
options.changes[attr] = true;}}



var currentChanges=_.last(self._opSetQueue);
currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);
self._rebuildEstimatedDataForKey(attr);

if(isRealChange){
self.changed[attr] = self.attributes[attr];
if(!options.silent){
self._pending[attr] = true;}}else 

{
delete self.changed[attr];
delete self._pending[attr];}});



if(!options.silent){
this.change(options);}

return this;},







unset:function(attr,options){
options = options || {};
options.unset = true;
return this.set(attr,null,options);},









increment:function(attr,amount){
if(_.isUndefined(amount) || _.isNull(amount)){
amount = 1;}

return this.set(attr,new AV.Op.Increment(amount));},








add:function(attr,item){
return this.set(attr,new AV.Op.Add([item]));},










addUnique:function(attr,item){
return this.set(attr,new AV.Op.AddUnique([item]));},









remove:function(attr,item){
return this.set(attr,new AV.Op.Remove([item]));},











op:function(attr){
return _.last(this._opSetQueue)[attr];},






clear:function(options){
options = options || {};
options.unset = true;
var keysToClear=_.extend(this.attributes,this._operations);
return this.set(keysToClear,options);},






_getSaveJSON:function(){
var json=_.clone(_.first(this._opSetQueue));
AV._objectEach(json,function(op,key){
json[key] = op.toJSON();});

return json;},





_canBeSerialized:function(){
return AV.Object._canBeSerializedAsValue(this.attributes);},













fetch:function(){
var options=null;
var fetchOptions={};
if(arguments.length === 1){
options = arguments[0];}else 
if(arguments.length === 2){
fetchOptions = arguments[0];
options = arguments[1];}


var self=this;
var request=AV._request("classes",this.className,this.id,'GET',
fetchOptions);
return request.then(function(response){
self._finishFetch(self.parse(response),true);
return self;}).
_thenRunCallbacks(options,this);},








































save:function(arg1,arg2,arg3){
var i,attrs,current,options,saved;
if(_.isObject(arg1) || AV._isNullOrUndefined(arg1)){
attrs = arg1;
options = arg2;}else 
{
attrs = {};
attrs[arg1] = arg2;
options = arg3;}



if(!options && attrs){
var extra_keys=_.reject(attrs,function(value,key){
return _.include(["success","error","wait"],key);});

if(extra_keys.length === 0){
var all_functions=true;
if(_.has(attrs,"success") && !_.isFunction(attrs.success)){
all_functions = false;}

if(_.has(attrs,"error") && !_.isFunction(attrs.error)){
all_functions = false;}

if(all_functions){


return this.save(null,attrs);}}}




options = _.clone(options) || {};
if(options.wait){
current = _.clone(this.attributes);}


var setOptions=_.clone(options) || {};
if(setOptions.wait){
setOptions.silent = true;}

var setError;
setOptions.error = function(model,error){
setError = error;};

if(attrs && !this.set(attrs,setOptions)){
return AV.Promise.error(setError)._thenRunCallbacks(options,this);}


var model=this;


model._refreshCache();



var unsavedChildren=[];
var unsavedFiles=[];
AV.Object._findUnsavedChildren(model.attributes,
unsavedChildren,
unsavedFiles);
if(unsavedChildren.length + unsavedFiles.length > 0){
return AV.Object._deepSaveAsync(this.attributes,model).then(function(){
return model.save(null,options);},
function(error){
return AV.Promise.error(error)._thenRunCallbacks(options,model);});}



this._startSave();
this._saving = (this._saving || 0) + 1;

this._allPreviousSaves = this._allPreviousSaves || AV.Promise.as();
this._allPreviousSaves = this._allPreviousSaves._continueWith(function(){
var method=model.id?'PUT':'POST';

var json=model._getSaveJSON();

if(model._fetchWhenSave){

json._fetchWhenSave = true;}


var route="classes";
var className=model.className;
if(model.className === "_User" && !model.id){

route = "users";
className = null;}


var makeRequest=options._makeRequest || AV._request;
var request=makeRequest(route,className,model.id,method,json);

request = request.then(function(resp){
var serverAttrs=model.parse(resp);
if(options.wait){
serverAttrs = _.extend(attrs || {},serverAttrs);}

model._finishSave(serverAttrs);
if(options.wait){
model.set(current,setOptions);}

return model;},

function(error){
model._cancelSave();
return AV.Promise.error(error);}).

_thenRunCallbacks(options,model);

return request;});

return this._allPreviousSaves;},











destroy:function(options){
options = options || {};
var model=this;

var triggerDestroy=function(){
model.trigger('destroy',model,model.collection,options);};


if(!this.id){
return triggerDestroy();}


if(!options.wait){
triggerDestroy();}


var request=
AV._request("classes",this.className,this.id,'DELETE');
return request.then(function(){
if(options.wait){
triggerDestroy();}

return model;}).
_thenRunCallbacks(options,this);},






parse:function(resp){
var output=_.clone(resp);
_(["createdAt","updatedAt"]).each(function(key){
if(output[key]){
output[key] = AV._parseDate(output[key]);}});


if(!output.updatedAt){
output.updatedAt = output.createdAt;}

return output;},






clone:function(){
return new this.constructor(this.attributes);},






isNew:function(){
return !this.id;},







change:function(options){
options = options || {};
var changing=this._changing;
this._changing = true;


var self=this;
AV._objectEach(this._silent,function(attr){
self._pending[attr] = true;});



var changes=_.extend({},options.changes,this._silent);
this._silent = {};
AV._objectEach(changes,function(unused_value,attr){
self.trigger('change:' + attr,self,self.get(attr),options);});

if(changing){
return this;}



var deleteChanged=function(value,attr){
if(!self._pending[attr] && !self._silent[attr]){
delete self.changed[attr];}};




while(!_.isEmpty(this._pending)) {
this._pending = {};
this.trigger('change',this,options);

AV._objectEach(this.changed,deleteChanged);
self._previousAttributes = _.clone(this.attributes);}


this._changing = false;
return this;},







existed:function(){
console.warn('AV.Object.prototype.existed() is deprecated.');
return false;},









hasChanged:function(attr){
if(!arguments.length){
return !_.isEmpty(this.changed);}

return this.changed && _.has(this.changed,attr);},










changedAttributes:function(diff){
if(!diff){
return this.hasChanged()?_.clone(this.changed):false;}

var changed={};
var old=this._previousAttributes;
AV._objectEach(diff,function(diffVal,attr){
if(!_.isEqual(old[attr],diffVal)){
changed[attr] = diffVal;}});


return changed;},







previous:function(attr){
if(!arguments.length || !this._previousAttributes){
return null;}

return this._previousAttributes[attr];},







previousAttributes:function(){
return _.clone(this._previousAttributes);},







isValid:function(){
return !this.validate(this.attributes);},













validate:function(attrs,options){
if(_.has(attrs,"ACL") && !(attrs.ACL instanceof AV.ACL)){
return new AV.Error(AV.Error.OTHER_CAUSE,
"ACL must be a AV.ACL.");}

return false;},







_validate:function(attrs,options){
if(options.silent || !this.validate){
return true;}

attrs = _.extend({},this.attributes,attrs);
var error=this.validate(attrs,options);
if(!error){
return true;}

if(options && options.error){
options.error(this,error,options);}else 
{
this.trigger('error',this,error,options);}

return false;},







getACL:function(){
return this.get("ACL");},










setACL:function(acl,options){
return this.set("ACL",acl,options);}});











AV.Object.createWithoutData = function(className,id,hasData){
var result=new AV.Object(className);
result.id = id;
result._hasData = hasData;
return result;};









AV.Object.destroyAll = function(objects,options){
if(objects == null || objects.length == 0){
return AV.Promise.as()._thenRunCallbacks(options);}

var className=objects[0].className;
var id="";
var wasFirst=true;
objects.forEach(function(obj){
if(obj.className != className)
throw "AV.Object.destroyAll requires the argument object array's classNames must be the same";
if(!obj.id)
throw "Could not delete unsaved object";
if(wasFirst){
id = obj.id;
wasFirst = false;}else 
{
id = id + ',' + obj.id;}});


var request=
AV._request("classes",className,id,'DELETE');
return request._thenRunCallbacks(options);};






AV.Object._getSubclass = function(className){
if(!_.isString(className)){
throw "AV.Object._getSubclass requires a string argument.";}

var ObjectClass=AV.Object._classMap[className];
if(!ObjectClass){
ObjectClass = AV.Object.extend(className);
AV.Object._classMap[className] = ObjectClass;}

return ObjectClass;};





AV.Object._create = function(className,attributes,options){
var ObjectClass=AV.Object._getSubclass(className);
return new ObjectClass(attributes,options);};




AV.Object._classMap = {};

AV.Object._extend = AV._extend;















AV.Object['new'] = function(attributes,options){
return new AV.Object(attributes,options);};































AV.Object.extend = function(className,protoProps,classProps){

if(!_.isString(className)){
if(className && _.has(className,"className")){
return AV.Object.extend(className.className,className,protoProps);}else 
{
throw new Error(
"AV.Object.extend's first argument should be the className.");}}




if(className === "User"){
className = "_User";}


var NewClassObject=null;
if(_.has(AV.Object._classMap,className)){
var OldClassObject=AV.Object._classMap[className];



NewClassObject = OldClassObject._extend(protoProps,classProps);}else 
{
protoProps = protoProps || {};
protoProps.className = className;
NewClassObject = this._extend(protoProps,classProps);}


NewClassObject.extend = function(arg0){
if(_.isString(arg0) || arg0 && _.has(arg0,"className")){
return AV.Object.extend.apply(NewClassObject,arguments);}

var newArguments=[className].concat(AV._.toArray(arguments));
return AV.Object.extend.apply(NewClassObject,newArguments);};

NewClassObject['new'] = function(attributes,options){
return new NewClassObject(attributes,options);};

AV.Object._classMap[className] = NewClassObject;
return NewClassObject;};


AV.Object._findUnsavedChildren = function(object,children,files){
AV._traverse(object,function(object){
if(object instanceof AV.Object){
object._refreshCache();
if(object.dirty()){
children.push(object);}

return;}


if(object instanceof AV.File){
if(!object.url() && !object.id){
files.push(object);}

return;}});};




AV.Object._canBeSerializedAsValue = function(object){
var canBeSerializedAsValue=true;

if(object instanceof AV.Object || object instanceof AV.File){
canBeSerializedAsValue = !!object.id;}else 

if(_.isArray(object)){
AV._arrayEach(object,function(child){
if(!AV.Object._canBeSerializedAsValue(child)){
canBeSerializedAsValue = false;}});}else 



if(_.isObject(object)){
AV._objectEach(object,function(child){
if(!AV.Object._canBeSerializedAsValue(child)){
canBeSerializedAsValue = false;}});}




return canBeSerializedAsValue;};


AV.Object._deepSaveAsync = function(object,model){
var unsavedChildren=[];
var unsavedFiles=[];
AV.Object._findUnsavedChildren(object,unsavedChildren,unsavedFiles);
if(model){
unsavedChildren = _.filter(unsavedChildren,function(object){
return object != model;});}



var promise=AV.Promise.as();
_.each(unsavedFiles,function(file){
promise = promise.then(function(){
return file.save();});});



var objects=_.uniq(unsavedChildren);
var remaining=_.uniq(objects);

return promise.then(function(){
return AV.Promise._continueWhile(function(){
return remaining.length > 0;},
function(){


var batch=[];
var newRemaining=[];
AV._arrayEach(remaining,function(object){

if(batch.length > 20){
newRemaining.push(object);
return;}


if(object._canBeSerialized()){
batch.push(object);}else 
{
newRemaining.push(object);}});


remaining = newRemaining;


if(batch.length === 0){
return AV.Promise.error(
new AV.Error(AV.Error.OTHER_CAUSE,
"Tried to save a batch with a cycle."));}



var readyToStart=AV.Promise.when(_.map(batch,function(object){
return object._allPreviousSaves || AV.Promise.as();}));

var batchFinished=new AV.Promise();
AV._arrayEach(batch,function(object){
object._allPreviousSaves = batchFinished;});



return readyToStart._continueWith(function(){
return AV._request("batch",null,null,"POST",{
requests:_.map(batch,function(object){
var json=object._getSaveJSON();
var method="POST";

var path="/1.1/classes/" + object.className;
if(object.id){
path = path + "/" + object.id;
method = "PUT";}


object._startSave();

return {
method:method,
path:path,
body:json};})}).



then(function(response){
var error;
AV._arrayEach(batch,function(object,i){
if(response[i].success){
object._finishSave(
object.parse(response[i].success));}else 
{
error = error || response[i].error;
object._cancelSave();}});


if(error){
return AV.Promise.error(
new AV.Error(error.code,error.error));}}).


then(function(results){
batchFinished.resolve(results);
return results;},
function(error){
batchFinished.reject(error);
return AV.Promise.error(error);});});});}).



then(function(){
return object;});};};
});
__d('avoscloud-sdk/lib/role.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){













AV.Role = AV.Object.extend("_Role",{









constructor:function(name,acl){
if(_.isString(name)){
AV.Object.prototype.constructor.call(this,null,null);
this.setName(name);}else 
{
AV.Object.prototype.constructor.call(this,name,acl);}

if(acl === undefined){
var defaultAcl=new AV.ACL();
defaultAcl.setPublicReadAccess(true);
if(!this.getACL()){
this.setACL(defaultAcl);}}else 

if(!(acl instanceof AV.ACL)){
throw new TypeError('acl must be an instance of AV.ACL');}else 
{
this.setACL(acl);}},








getName:function(){
return this.get("name");},


















setName:function(name,options){
return this.set("name",name,options);},













getUsers:function(){
return this.relation("users");},













getRoles:function(){
return this.relation("roles");},





validate:function(attrs,options){
if("name" in attrs && attrs.name !== this.getName()){
var newName=attrs.name;
if(this.id && this.id !== attrs.objectId){



return new AV.Error(AV.Error.OTHER_CAUSE,
"A role's name can only be set before it has been saved.");}

if(!_.isString(newName)){
return new AV.Error(AV.Error.OTHER_CAUSE,
"A role's name must be a String.");}

if(!/^[0-9a-zA-Z\-_ ]+$/.test(newName)){
return new AV.Error(AV.Error.OTHER_CAUSE,
"A role's name can only contain alphanumeric characters, _," + 
" -, and spaces.");}}


if(AV.Object.prototype.validate){
return AV.Object.prototype.validate.call(this,attrs,options);}

return false;}});};
});
__d('avoscloud-sdk/lib/user.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){









AV.User = AV.Object.extend("_User",{

_isCurrentUser:false,







_mergeMagicFields:function(attrs){
if(attrs.sessionToken){
this._sessionToken = attrs.sessionToken;
delete attrs.sessionToken;}

AV.User.__super__._mergeMagicFields.call(this,attrs);},






_cleanupAuthData:function(){
if(!this.isCurrent()){
return;}

var authData=this.get('authData');
if(!authData){
return;}

AV._objectEach(this.get('authData'),function(value,key){
if(!authData[key]){
delete authData[key];}});},







_synchronizeAllAuthData:function(){
var authData=this.get('authData');
if(!authData){
return;}


var self=this;
AV._objectEach(this.get('authData'),function(value,key){
self._synchronizeAuthData(key);});},







_synchronizeAuthData:function(provider){
if(!this.isCurrent()){
return;}

var authType;
if(_.isString(provider)){
authType = provider;
provider = AV.User._authProviders[authType];}else 
{
authType = provider.getAuthType();}

var authData=this.get('authData');
if(!authData || !provider){
return;}

var success=provider.restoreAuthentication(authData[authType]);
if(!success){
this._unlinkFrom(provider);}},



_handleSaveResult:function(makeCurrent){

if(makeCurrent){
this._isCurrentUser = true;}

this._cleanupAuthData();
this._synchronizeAllAuthData();

delete this._serverData.password;
this._rebuildEstimatedDataForKey("password");
this._refreshCache();
if(makeCurrent || this.isCurrent()){



return AV.Promise.as(AV.User._saveCurrentUser(this));}else 
{
return AV.Promise.as();}},







_linkWith:function(provider,options){
var authType;
if(_.isString(provider)){
authType = provider;
provider = AV.User._authProviders[provider];}else 
{
authType = provider.getAuthType();}

if(_.has(options,'authData')){
var authData=this.get('authData') || {};
authData[authType] = options.authData;
this.set('authData',authData);
return this.save({'authData':authData},filterOutCallbacks(options)).
then(function(model){
return model._handleSaveResult(true).then(function(){
return model;});}).

_thenRunCallbacks(options);}else 
{
var self=this;
var promise=new AV.Promise();
provider.authenticate({
success:function(provider,result){
self._linkWith(provider,{
authData:result,
success:options.success,
error:options.error}).
then(function(){
promise.resolve(self);});},


error:function(provider,error){
if(options.error){
options.error(self,error);}

promise.reject(error);}});


return promise;}},






_unlinkFrom:function(provider,options){
var authType;
if(_.isString(provider)){
authType = provider;
provider = AV.User._authProviders[provider];}else 
{
authType = provider.getAuthType();}

var newOptions=_.clone(options);
var self=this;
newOptions.authData = null;
newOptions.success = function(model){
self._synchronizeAuthData(provider);
if(options.success){
options.success.apply(this,arguments);}};


return this._linkWith(provider,newOptions);},





_isLinked:function(provider){
var authType;
if(_.isString(provider)){
authType = provider;}else 
{
authType = provider.getAuthType();}

var authData=this.get('authData') || {};
return !!authData[authType];},





_logOutWithAll:function(){
var authData=this.get('authData');
if(!authData){
return;}

var self=this;
AV._objectEach(this.get('authData'),function(value,key){
self._logOutWith(key);});},







_logOutWith:function(provider){
if(!this.isCurrent()){
return;}

if(_.isString(provider)){
provider = AV.User._authProviders[provider];}

if(provider && provider.deauthenticate){
provider.deauthenticate();}},



















signUp:function(attrs,options){
var error;
options = options || {};

var username=attrs && attrs.username || this.get("username");
if(!username || username === ""){
error = new AV.Error(
AV.Error.OTHER_CAUSE,
"Cannot sign up user with an empty name.");
if(options && options.error){
options.error(this,error);}

return AV.Promise.error(error);}


var password=attrs && attrs.password || this.get("password");
if(!password || password === ""){
error = new AV.Error(
AV.Error.OTHER_CAUSE,
"Cannot sign up user with an empty password.");
if(options && options.error){
options.error(this,error);}

return AV.Promise.error(error);}


return this.save(attrs,filterOutCallbacks(options)).then(function(model){
return model._handleSaveResult(true).then(function(){
return model;});}).

_thenRunCallbacks(options,this);},




















signUpOrlogInWithMobilePhone:function(attrs,options){
var error;
options = options || {};

var mobilePhoneNumber=attrs && attrs.mobilePhoneNumber || 
this.get("mobilePhoneNumber");
if(!mobilePhoneNumber || mobilePhoneNumber === ""){
error = new AV.Error(
AV.Error.OTHER_CAUSE,
"Cannot sign up or login user by mobilePhoneNumber " + 
"with an empty mobilePhoneNumber.");
if(options && options.error){
options.error(this,error);}

return AV.Promise.error(error);}


var smsCode=attrs && attrs.smsCode || this.get("smsCode");
if(!smsCode || smsCode === ""){
error = new AV.Error(
AV.Error.OTHER_CAUSE,
"Cannot sign up or login user by mobilePhoneNumber  " + 
"with an empty smsCode.");
if(options && options.error){
options.error(this,error);}

return AV.Promise.error(error);}


var newOptions=filterOutCallbacks(options);
newOptions._makeRequest = function(route,className,id,method,json){
return AV._request('usersByMobilePhone',null,null,"POST",json);};

return this.save(attrs,newOptions).then(function(model){
delete model.attributes.smsCode;
delete model._serverData.smsCode;
return model._handleSaveResult(true).then(function(){
return model;});}).

_thenRunCallbacks(options);},
















logIn:function(options){
var model=this;
var request=AV._request("login",null,null,"GET",this.toJSON());
return request.then(function(resp,status,xhr){
var serverAttrs=model.parse(resp,status,xhr);
model._finishFetch(serverAttrs);
return model._handleSaveResult(true).then(function(){
if(!serverAttrs.smsCode)
delete model.attributes['smsCode'];
return model;});}).

_thenRunCallbacks(options,this);},




save:function(arg1,arg2,arg3){
var i,attrs,current,options,saved;
if(_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)){
attrs = arg1;
options = arg2;}else 
{
attrs = {};
attrs[arg1] = arg2;
options = arg3;}

options = options || {};

return AV.Object.prototype.save.
call(this,attrs,filterOutCallbacks(options)).
then(function(model){
return model._handleSaveResult(false).then(function(){
return model;});}).

_thenRunCallbacks(options);},










follow:function(target,options){
if(!this.id){
throw "Please signin.";}

if(!target){
throw "Invalid target user.";}

var userObjectId=_.isString(target)?target:target.id;
if(!userObjectId){
throw "Invalid target user.";}

var route='users/' + this.id + '/friendship/' + userObjectId;
var request=AV._request(route,null,null,'POST',null);
return request._thenRunCallbacks(options);},










unfollow:function(target,options){
if(!this.id){
throw "Please signin.";}

if(!target){
throw "Invalid target user.";}

var userObjectId=_.isString(target)?target:target.id;
if(!userObjectId){
throw "Invalid target user.";}

var route='users/' + this.id + '/friendship/' + userObjectId;
var request=AV._request(route,null,null,'DELETE',null);
return request._thenRunCallbacks(options);},







followerQuery:function(){
return AV.User.followerQuery(this.id);},







followeeQuery:function(){
return AV.User.followeeQuery(this.id);},





fetch:function(options){
return AV.Object.prototype.fetch.call(this,filterOutCallbacks(options)).
then(function(model){
return model._handleSaveResult(false).then(function(){
return model;});}).

_thenRunCallbacks(options);},










updatePassword:function(oldPassword,newPassword,options){
var route='users/' + this.id + '/updatePassword';
var params={
old_password:oldPassword,
new_password:newPassword};

var request=AV._request(route,null,null,'PUT',params);
return request._thenRunCallbacks(options,this);},






isCurrent:function(){
return this._isCurrentUser;},







getUsername:function(){
return this.get("username");},







getMobilePhoneNumber:function(){
return this.get("mobilePhoneNumber");},









setMobilePhoneNumber:function(phone,options){
return this.set("mobilePhoneNumber",phone,options);},









setUsername:function(username,options){
return this.set("username",username,options);},









setPassword:function(password,options){
return this.set("password",password,options);},







getEmail:function(){
return this.get("email");},









setEmail:function(email,options){
return this.set("email",email,options);},






authenticated:function(){
return !!this._sessionToken && 
AV.User.current() && AV.User.current().id === this.id;}},


{



_currentUser:null,




_currentUserMatchesDisk:false,


_CURRENT_USER_KEY:"currentUser",


_authProviders:{},




















signUp:function(username,password,attrs,options){
attrs = attrs || {};
attrs.username = username;
attrs.password = password;
var user=AV.Object._create("_User");
return user.signUp(attrs,options);},
















logIn:function(username,password,options){
var user=AV.Object._create("_User");
user._finishFetch({username:username,password:password});
return user.logIn(options);},














become:function(sessionToken,options){
options = options || {};

var user=AV.Object._create("_User");
return AV._request(
"users",
"me",
null,
"GET",
{
useMasterKey:options.useMasterKey,
session_token:sessionToken}).

then(function(resp,status,xhr){
var serverAttrs=user.parse(resp,status,xhr);
user._finishFetch(serverAttrs);
return user._handleSaveResult(true).then(function(){
return user;});}).

_thenRunCallbacks(options,user);},

















logInWithMobilePhoneSmsCode:function(mobilePhone,smsCode,options){
var user=AV.Object._create("_User");
user._finishFetch({mobilePhoneNumber:mobilePhone,smsCode:smsCode});
return user.logIn(options);},


















signUpOrlogInWithMobilePhone:function(mobilePhoneNumber,smsCode,attrs,options){
attrs = attrs || {};
attrs.mobilePhoneNumber = mobilePhoneNumber;
attrs.smsCode = smsCode;
var user=AV.Object._create("_User");
return user.signUpOrlogInWithMobilePhone(attrs,options);},

















logInWithMobilePhone:function(mobilePhone,password,options){
var user=AV.Object._create("_User");
user._finishFetch({mobilePhoneNumber:mobilePhone,password:password});
return user.logIn(options);},
























signUpOrlogInWithAuthData:function(data,platform,callback){



return AV.User._logInWith(platform,{
"authData":data,
success:function(user){
callback.success(user);},

error:function(error){
callback.error(error);}});},









logOut:function(){
if(AV.User._currentUser !== null){
AV.User._currentUser._logOutWithAll();
AV.User._currentUser._isCurrentUser = false;}

AV.User._currentUserMatchesDisk = true;
AV.User._currentUser = null;
return AV.localStorage.removeItemAsync(
AV._getAVPath(AV.User._CURRENT_USER_KEY));},







followerQuery:function(userObjectId){
if(!userObjectId || !_.isString(userObjectId)){
throw "Invalid user object id.";}

var query=new AV.FriendShipQuery('_Follower');
query._friendshipTag = 'follower';
query.equalTo('user',AV.Object.createWithoutData('_User',userObjectId));
return query;},







followeeQuery:function(userObjectId){
if(!userObjectId || !_.isString(userObjectId)){
throw "Invalid user object id.";}

var query=new AV.FriendShipQuery('_Followee');
query._friendshipTag = 'followee';
query.equalTo('user',AV.Object.createWithoutData('_User',userObjectId));
return query;},













requestPasswordReset:function(email,options){
var json={email:email};
var request=AV._request("requestPasswordReset",null,null,"POST",
json);
return request._thenRunCallbacks(options);},













requestEmailVerify:function(email,options){
var json={email:email};
var request=AV._request("requestEmailVerify",null,null,"POST",
json);
return request._thenRunCallbacks(options);},





requestEmailVerfiy:function(email,options){
var json={email:email};
var request=AV._request("requestEmailVerify",null,null,"POST",
json);
return request._thenRunCallbacks(options);},













requestMobilePhoneVerify:function(mobilePhone,options){
var json={mobilePhoneNumber:mobilePhone};
var request=AV._request("requestMobilePhoneVerify",null,null,"POST",
json);
return request._thenRunCallbacks(options);},














requestPasswordResetBySmsCode:function(mobilePhone,options){
var json={mobilePhoneNumber:mobilePhone};
var request=AV._request("requestPasswordResetBySmsCode",null,null,"POST",
json);
return request._thenRunCallbacks(options);},











resetPasswordBySmsCode:function(code,password,options){
var json={password:password};
var request=AV._request("resetPasswordBySmsCode",null,code,"PUT",
json);
return request._thenRunCallbacks(options);},










verifyMobilePhone:function(code,options){
var request=AV._request("verifyMobilePhone",null,code,"POST",
null);
return request._thenRunCallbacks(options);},













requestLoginSmsCode:function(mobilePhone,options){
var json={mobilePhoneNumber:mobilePhone};
var request=AV._request("requestLoginSmsCode",null,null,"POST",
json);
return request._thenRunCallbacks(options);},







currentAsync:function(){
if(AV.User._currentUser){
return AV.Promise.as(AV.User._currentUser);}


if(AV.User._currentUserMatchesDisk){

return AV.Promise.as(AV.User._currentUser);}



return AV.localStorage.getItemAsync(
AV._getAVPath(AV.User._CURRENT_USER_KEY)).
then(function(userData){
if(!userData){
return null;}



AV.User._currentUserMatchesDisk = true;

AV.User._currentUser = AV.Object._create("_User");
AV.User._currentUser._isCurrentUser = true;

var json=JSON.parse(userData);
AV.User._currentUser.id = json._id;
delete json._id;
AV.User._currentUser._sessionToken = json._sessionToken;
delete json._sessionToken;
AV.User._currentUser._finishFetch(json);


AV.User._currentUser._synchronizeAllAuthData();
AV.User._currentUser._refreshCache();
AV.User._currentUser._opSetQueue = [{}];
return AV.User._currentUser;});},








current:function(){
if(AV.User._currentUser){
return AV.User._currentUser;}


if(AV.User._currentUserMatchesDisk){

return AV.User._currentUser;}



AV.User._currentUserMatchesDisk = true;

var userData=AV.localStorage.getItem(AV._getAVPath(
AV.User._CURRENT_USER_KEY));
if(!userData){

return null;}

AV.User._currentUser = AV.Object._create("_User");
AV.User._currentUser._isCurrentUser = true;

var json=JSON.parse(userData);
AV.User._currentUser.id = json._id;
delete json._id;
AV.User._currentUser._sessionToken = json._sessionToken;
delete json._sessionToken;
AV.User._currentUser._finishFetch(json);


AV.User._currentUser._synchronizeAllAuthData();
AV.User._currentUser._refreshCache();
AV.User._currentUser._opSetQueue = [{}];
return AV.User._currentUser;},





_saveCurrentUser:function(user){
var promise;
if(AV.User._currentUser !== user){
promise = AV.User.logOut();}else 

{
promise = AV.Promise.as();}

return promise.then(function(){
user._isCurrentUser = true;
AV.User._currentUser = user;

var json=user.toJSON();
json._id = user.id;
json._sessionToken = user._sessionToken;
return AV.localStorage.setItemAsync(
AV._getAVPath(AV.User._CURRENT_USER_KEY),
JSON.stringify(json)).
then(function(){
AV.User._currentUserMatchesDisk = true;});});},




_registerAuthenticationProvider:function(provider){
AV.User._authProviders[provider.getAuthType()] = provider;

if(AV.User.current()){
AV.User.current()._synchronizeAuthData(provider.getAuthType());}},



_logInWith:function(provider,options){
var user=AV.Object._create("_User");
return user._linkWith(provider,options);}});};





function filterOutCallbacks(options){
var newOptions=_.clone(options) || {};
delete newOptions.success;
delete newOptions.error;
return newOptions;}
});
__d('avoscloud-sdk/lib/query.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');


module.exports = function(AV){
























































AV.Query = function(objectClass){
if(_.isString(objectClass)){
objectClass = AV.Object._getSubclass(objectClass);}


this.objectClass = objectClass;

this.className = objectClass.prototype.className;

this._where = {};
this._include = [];
this._limit = -1;
this._skip = 0;
this._extraOptions = {};};












AV.Query.or = function(){
var queries=_.toArray(arguments);
var className=null;
AV._arrayEach(queries,function(q){
if(_.isNull(className)){
className = q.className;}


if(className !== q.className){
throw "All queries must be for the same class";}});


var query=new AV.Query(className);
query._orQuery(queries);
return query;};












AV.Query.and = function(){
var queries=_.toArray(arguments);
var className=null;
AV._arrayEach(queries,function(q){
if(_.isNull(className)){
className = q.className;}


if(className !== q.className){
throw "All queries must be for the same class";}});


var query=new AV.Query(className);
query._andQuery(queries);
return query;};














AV.Query.doCloudQuery = function(cql,pvalues,options){
var params={cql:cql};
if(_.isArray(pvalues)){
params.pvalues = pvalues;}else 
{
options = pvalues;}


var request=AV._request("cloudQuery",null,null,'GET',params);
return request.then(function(response){

var query=new AV.Query(response.className);
var results=_.map(response.results,function(json){
var obj=query._newObject(response);
obj._finishFetch(query._processResult(json),true);
return obj;});

return {
results:results,
count:response.count,
className:response.className};}).

_thenRunCallbacks(options);};


AV.Query._extend = AV._extend;

AV.Query.prototype = {

_processResult:function(obj){
return obj;},










get:function(objectId,options){
if(!objectId){
var errorObject=new AV.Error(AV.Error.OBJECT_NOT_FOUND,
"Object not found.");
return AV.Promise.error(errorObject);}


var self=this;
self.equalTo('objectId',objectId);

return self.first().then(function(response){
if(!AV._.isEmpty(response)){
return response;}


var errorObject=new AV.Error(AV.Error.OBJECT_NOT_FOUND,
"Object not found.");
return AV.Promise.error(errorObject);}).

_thenRunCallbacks(options,null);},






toJSON:function(){
var params={
where:this._where};


if(this._include.length > 0){
params.include = this._include.join(",");}

if(this._select){
params.keys = this._select.join(",");}

if(this._limit >= 0){
params.limit = this._limit;}

if(this._skip > 0){
params.skip = this._skip;}

if(this._order !== undefined){
params.order = this._order;}


AV._objectEach(this._extraOptions,function(v,k){
params[k] = v;});


return params;},


_newObject:function(response){
var obj;
if(response && response.className){
obj = new AV.Object(response.className);}else 
{
obj = new this.objectClass();}

return obj;},

_createRequest:function(params){
return AV._request("classes",this.className,null,"GET",
params || this.toJSON());},











find:function(options){
var self=this;

var request=this._createRequest();

return request.then(function(response){
return _.map(response.results,function(json){
var obj=self._newObject(response);
obj._finishFetch(self._processResult(json),true);
return obj;});}).

_thenRunCallbacks(options);},









destroyAll:function(options){
var self=this;
return self.find().then(function(objects){
return AV.Object.destroyAll(objects);}).
_thenRunCallbacks(options);},











count:function(options){
var params=this.toJSON();
params.limit = 0;
params.count = 1;
var request=this._createRequest(params);

return request.then(function(response){
return response.count;}).
_thenRunCallbacks(options);},












first:function(options){
var self=this;

var params=this.toJSON();
params.limit = 1;
var request=this._createRequest(params);

return request.then(function(response){
return _.map(response.results,function(json){
var obj=self._newObject();
obj._finishFetch(self._processResult(json),true);
return obj;})[
0];}).
_thenRunCallbacks(options);},






collection:function(items,options){
options = options || {};
return new AV.Collection(items,_.extend(options,{
model:this._objectClass || this.objectClass,
query:this}));},










skip:function(n){
this._skip = n;
return this;},








limit:function(n){
this._limit = n;
return this;},









equalTo:function(key,value){
this._where[key] = AV._encode(value);
return this;},





_addCondition:function(key,condition,value){

if(!this._where[key]){
this._where[key] = {};}

this._where[key][condition] = AV._encode(value);
return this;},









sizeEqualTo:function(key,value){
this._addCondition(key,"$size",value);},









notEqualTo:function(key,value){
this._addCondition(key,"$ne",value);
return this;},









lessThan:function(key,value){
this._addCondition(key,"$lt",value);
return this;},









greaterThan:function(key,value){
this._addCondition(key,"$gt",value);
return this;},









lessThanOrEqualTo:function(key,value){
this._addCondition(key,"$lte",value);
return this;},









greaterThanOrEqualTo:function(key,value){
this._addCondition(key,"$gte",value);
return this;},









containedIn:function(key,values){
this._addCondition(key,"$in",values);
return this;},









notContainedIn:function(key,values){
this._addCondition(key,"$nin",values);
return this;},









containsAll:function(key,values){
this._addCondition(key,"$all",values);
return this;},








exists:function(key){
this._addCondition(key,"$exists",true);
return this;},







doesNotExist:function(key){
this._addCondition(key,"$exists",false);
return this;},










matches:function(key,regex,modifiers){
this._addCondition(key,"$regex",regex);
if(!modifiers){modifiers = "";}



if(regex.ignoreCase){modifiers += 'i';}
if(regex.multiline){modifiers += 'm';}

if(modifiers && modifiers.length){
this._addCondition(key,"$options",modifiers);}

return this;},










matchesQuery:function(key,query){
var queryJSON=query.toJSON();
queryJSON.className = query.className;
this._addCondition(key,"$inQuery",queryJSON);
return this;},










doesNotMatchQuery:function(key,query){
var queryJSON=query.toJSON();
queryJSON.className = query.className;
this._addCondition(key,"$notInQuery",queryJSON);
return this;},













matchesKeyInQuery:function(key,queryKey,query){
var queryJSON=query.toJSON();
queryJSON.className = query.className;
this._addCondition(key,"$select",
{key:queryKey,query:queryJSON});
return this;},












doesNotMatchKeyInQuery:function(key,queryKey,query){
var queryJSON=query.toJSON();
queryJSON.className = query.className;
this._addCondition(key,"$dontSelect",
{key:queryKey,query:queryJSON});
return this;},







_orQuery:function(queries){
var queryJSON=_.map(queries,function(q){
return q.toJSON().where;});


this._where.$or = queryJSON;
return this;},







_andQuery:function(queries){
var queryJSON=_.map(queries,function(q){
return q.toJSON().where;});


this._where.$and = queryJSON;
return this;},








_quote:function(s){
return "\\Q" + s.replace("\\E","\\E\\\\E\\Q") + "\\E";},









contains:function(key,value){
this._addCondition(key,"$regex",this._quote(value));
return this;},










startsWith:function(key,value){
this._addCondition(key,"$regex","^" + this._quote(value));
return this;},









endsWith:function(key,value){
this._addCondition(key,"$regex",this._quote(value) + "$");
return this;},








ascending:function(key){
this._order = key;
return this;},









addAscending:function(key){
if(this._order)
this._order += ',' + key;else 

this._order = key;
return this;},








descending:function(key){
this._order = "-" + key;
return this;},









addDescending:function(key){
if(this._order)
this._order += ',-' + key;else 

this._order = '-' + key;
return key;},









near:function(key,point){
if(!(point instanceof AV.GeoPoint)){

point = new AV.GeoPoint(point);}

this._addCondition(key,"$nearSphere",point);
return this;},










withinRadians:function(key,point,distance){
this.near(key,point);
this._addCondition(key,"$maxDistance",distance);
return this;},












withinMiles:function(key,point,distance){
return this.withinRadians(key,point,distance / 3958.8);},












withinKilometers:function(key,point,distance){
return this.withinRadians(key,point,distance / 6371.0);},













withinGeoBox:function(key,southwest,northeast){
if(!(southwest instanceof AV.GeoPoint)){
southwest = new AV.GeoPoint(southwest);}

if(!(northeast instanceof AV.GeoPoint)){
northeast = new AV.GeoPoint(northeast);}

this._addCondition(key,'$within',{'$box':[southwest,northeast]});
return this;},








include:function(){
var self=this;
AV._arrayEach(arguments,function(key){
if(_.isArray(key)){
self._include = self._include.concat(key);}else 
{
self._include.push(key);}});


return this;},









select:function(){
var self=this;
this._select = this._select || [];
AV._arrayEach(arguments,function(key){
if(_.isArray(key)){
self._select = self._select.concat(key);}else 
{
self._select.push(key);}});


return this;},

















each:function(callback,options){
options = options || {};

if(this._order || this._skip || this._limit >= 0){
var error=
"Cannot iterate on a query with sort, skip, or limit.";
return AV.Promise.error(error)._thenRunCallbacks(options);}


var promise=new AV.Promise();

var query=new AV.Query(this.objectClass);


query._limit = options.batchSize || 100;
query._where = _.clone(this._where);
query._include = _.clone(this._include);

query.ascending('objectId');

var finished=false;
return AV.Promise._continueWhile(function(){
return !finished;},

function(){
return query.find().then(function(results){
var callbacksDone=AV.Promise.as();
AV._.each(results,function(result){
callbacksDone = callbacksDone.then(function(){
return callback(result);});});



return callbacksDone.then(function(){
if(results.length >= query._limit){
query.greaterThan("objectId",results[results.length - 1].id);}else 
{
finished = true;}});});}).



_thenRunCallbacks(options);}};



AV.FriendShipQuery = AV.Query._extend({
_objectClass:AV.User,
_newObject:function(){
return new AV.User();},

_processResult:function(json){
if(json && json[this._friendshipTag]){
var user=json[this._friendshipTag];
if(user.__type === 'Pointer' && user.className === '_User'){
delete user.__type;
delete user.className;}

return user;}else 
{
return null;}}});};
});
__d('avoscloud-sdk/lib/cloudfunction.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){







AV.Cloud = AV.Cloud || {};

_.extend(AV.Cloud,{












run:function(name,data,options){
var request=AV._request("functions",name,null,'POST',
AV._encode(data,null,true));

return request.then(function(resp){
return AV._decode(null,resp).result;}).
_thenRunCallbacks(options);},













getServerDate:function(options){
var request=AV._request("date",null,null,'GET');

return request.then(function(resp){
return AV._decode(null,resp);}).
_thenRunCallbacks(options);},










requestSmsCode:function(data,options){
if(_.isString(data)){
data = {mobilePhoneNumber:data};}

if(!data.mobilePhoneNumber){
throw "Missing mobilePhoneNumber.";}

var request=AV._request("requestSmsCode",null,null,'POST',
data);
return request._thenRunCallbacks(options);},










verifySmsCode:function(code,phone,options){
if(!code)
throw "Missing sms code.";
var params={};
if(AV._.isString(phone)){
params['mobilePhoneNumber'] = phone;}else 
{

options = phone;}


var request=AV._request("verifySmsCode",code,null,'POST',
params);
return request._thenRunCallbacks(options);}});};
});
__d('avoscloud-sdk/lib/push.js',function(global, require, module, exports) {  'use strict';

module.exports = function(AV){
AV.Installation = AV.Object.extend("_Installation");






AV.Push = AV.Push || {};






















AV.Push.send = function(data,options){
if(data.where){
data.where = data.where.toJSON().where;}


if(data.where && data.cql){
throw "Both where and cql can't be set";}


if(data.push_time){
data.push_time = data.push_time.toJSON();}


if(data.expiration_time){
data.expiration_time = data.expiration_time.toJSON();}


if(data.expiration_time && data.expiration_time_interval){
throw "Both expiration_time and expiration_time_interval can't be set";}


var request=AV._request('push',null,null,'POST',data);
return request._thenRunCallbacks(options);};};
});
__d('avoscloud-sdk/lib/status.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){





AV.Status = function(imageUrl,message){
this.data = {};
this.inboxType = 'default';
this.query = null;
if(imageUrl && typeof imageUrl === 'object'){
this.data = imageUrl;}else 
{
if(imageUrl){
this.data.image = imageUrl;}

if(message){
this.data.message = message;}}


return this;};


AV.Status.prototype = {




get:function(attr){
return this.data[attr];},






set:function(key,value){
this.data[key] = value;
return this;},









destroy:function(options){
if(!this.id)
return AV.Promise.error('The status id is not exists.')._thenRunCallbacks(options);
var request=AV._request("statuses",null,this.id,'DELETE');
return request._thenRunCallbacks(options);},





toObject:function(){
if(!this.id)
return null;
return AV.Object.createWithoutData('_Status',this.id);},

_getDataJSON:function(){
var json=AV._.clone(this.data);
return AV._encode(json);},





















send:function(options){
if(!AV.User.current()){
throw 'Please signin an user.';}

if(!this.query){
return AV.Status.sendStatusToFollowers(this,options);}


var query=this.query.toJSON();
query.className = this.query.className;
var data={};
data.query = query;
this.data = this.data || {};
var currUser=AV.Object.createWithoutData('_User',AV.User.current().id)._toPointer();
this.data.source = this.data.source || currUser;
data.data = this._getDataJSON();
data.inboxType = this.inboxType || 'default';

var request=AV._request('statuses',null,null,'POST',data);
var self=this;
return request.then(function(response){
self.id = response.objectId;
self.createdAt = AV._parseDate(response.createdAt);
return self;}).
_thenRunCallbacks(options);},


_finishFetch:function(serverData){
this.id = serverData.objectId;
this.createdAt = AV._parseDate(serverData.createdAt);
this.updatedAt = AV._parseDate(serverData.updatedAt);
this.messageId = serverData.messageId;
delete serverData.messageId;
delete serverData.objectId;
delete serverData.createdAt;
delete serverData.updatedAt;
this.data = AV._decode(undefined,serverData);}};






















AV.Status.sendStatusToFollowers = function(status,options){
if(!AV.User.current()){
throw 'Please signin an user.';}

var query={};
query.className = '_Follower';
query.keys = 'follower';
var currUser=AV.Object.createWithoutData('_User',AV.User.current().id)._toPointer();
query.where = {user:currUser};
var data={};
data.query = query;
status.data = status.data || {};
status.data.source = status.data.source || currUser;
data.data = status._getDataJSON();
data.inboxType = status.inboxType || 'default';

var request=AV._request('statuses',null,null,'POST',data);
return request.then(function(response){
status.id = response.objectId;
status.createdAt = AV._parseDate(response.createdAt);
return status;}).
_thenRunCallbacks(options);};























AV.Status.sendPrivateStatus = function(status,target,options){
if(!AV.User.current()){
throw 'Please signin an user.';}

if(!target){
throw "Invalid target user.";}

var userObjectId=_.isString(target)?target:target.id;
if(!userObjectId){
throw "Invalid target user.";}


var query={};
query.className = '_User';
var currUser=AV.Object.createWithoutData('_User',AV.User.current().id)._toPointer();
query.where = {objectId:userObjectId};
var data={};
data.query = query;
status.data = status.data || {};
status.data.source = status.data.source || currUser;
data.data = status._getDataJSON();
data.inboxType = 'private';
status.inboxType = 'private';

var request=AV._request('statuses',null,null,'POST',data);
return request.then(function(response){
status.id = response.objectId;
status.createdAt = AV._parseDate(response.createdAt);
return status;}).
_thenRunCallbacks(options);};
















AV.Status.countUnreadStatuses = function(owner){
if(!AV.User.current() && owner == null){
throw 'Please signin an user or pass the owner objectId.';}

owner = owner || AV.User.current();
var options=!_.isString(arguments[1])?arguments[1]:arguments[2];
var inboxType=!_.isString(arguments[1])?'default':arguments[1];
var params={};
params.inboxType = AV._encode(inboxType);
params.owner = AV._encode(owner);
var request=AV._request('subscribe/statuses/count',null,null,'GET',params);
return request._thenRunCallbacks(options);};















AV.Status.statusQuery = function(source){
var query=new AV.Query('_Status');
if(source){
query.equalTo('source',source);}

return query;};







AV.InboxQuery = AV.Query._extend({
_objectClass:AV.Status,
_sinceId:0,
_maxId:0,
_inboxType:'default',
_owner:null,
_newObject:function(){
return new AV.Status();},

_createRequest:function(params){
return AV._request("subscribe/statuses",null,null,"GET",
params || this.toJSON());},










sinceId:function(id){
this._sinceId = id;
return this;},








maxId:function(id){
this._maxId = id;
return this;},






owner:function(owner){
this._owner = owner;
return this;},






inboxType:function(type){
this._inboxType = type;
return this;},

toJSON:function(){
var params=AV.InboxQuery.__super__.toJSON.call(this);
params.owner = AV._encode(this._owner);
params.inboxType = AV._encode(this._inboxType);
params.sinceId = AV._encode(this._sinceId);
params.maxId = AV._encode(this._maxId);
return params;}});




















AV.Status.inboxQuery = function(owner,inboxType){
var query=new AV.InboxQuery(AV.Status);
if(owner){
query._owner = owner;}

if(inboxType){
query._inboxType = inboxType;}

return query;};};
});
__d('avoscloud-sdk/lib/search.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){












AV.SearchSortBuilder = function(){
this._sortFields = [];};


AV.SearchSortBuilder.prototype = {
_addField:function(key,order,mode,missing){
var field={};
field[key] = {
order:order || 'asc',
mode:mode || 'avg',
missing:'_' + (missing || 'last')};

this._sortFields.push(field);
return this;},













ascending:function(key,mode,missing){
return this._addField(key,'asc',mode,missing);},












descending:function(key,mode,missing){
return this._addField(key,'desc',mode,missing);},










whereNear:function(key,point,options){
options = options || {};
var field={};
var geo={
lat:point.latitude,
lon:point.longitude};

var m={
order:options.order || 'asc',
mode:options.mode || 'avg',
unit:options.unit || 'km'};

m[key] = geo;
field['_geo_distance'] = m;

this._sortFields.push(field);
return this;},






build:function(){
return JSON.stringify(AV._encode(this._sortFields));}};




















AV.SearchQuery = AV.Query._extend({
_sid:null,
_hits:0,
_queryString:null,
_highlights:null,
_sortBuilder:null,
_createRequest:function(params){
return AV._request("search/select",null,null,"GET",
params || this.toJSON());},







sid:function(sid){
this._sid = sid;
return this;},







queryString:function(q){
this._queryString = q;
return this;},













highlights:function(highlights){
var objects;
if(highlights && _.isString(highlights)){
objects = arguments;}else 
{
objects = highlights;}

this._highlights = objects;
return this;},









sortBy:function(builder){
this._sortBuilder = builder;
return this;},






hits:function(){
if(!this._hits){
this._hits = 0;}

return this._hits;},


_processResult:function(json){
delete json['className'];
delete json['_app_url'];
delete json['_deeplink'];
return json;},








hasMore:function(){
return !this._hitEnd;},






reset:function(){
this._hitEnd = false;
this._sid = null;
this._hits = 0;},












find:function(options){
var self=this;

var request=this._createRequest();

return request.then(function(response){

if(response.sid){
self._oldSid = self._sid;
self._sid = response.sid;}else 
{
self._sid = null;
self._hitEnd = true;}

self._hits = response.hits || 0;

return _.map(response.results,function(json){
if(json.className){
response.className = json.className;}

var obj=self._newObject(response);
obj.appURL = json['_app_url'];
obj._finishFetch(self._processResult(json),true);
return obj;});}).

_thenRunCallbacks(options);},


toJSON:function(){
var params=AV.SearchQuery.__super__.toJSON.call(this);
delete params.where;
if(this.className){
params.clazz = this.className;}

if(this._sid){
params.sid = this._sid;}

if(!this._queryString){
throw 'Please set query string.';}else 
{
params.q = this._queryString;}

if(this._highlights){
params.highlights = this._highlights.join(',');}

if(this._sortBuilder && params.order){
throw 'sort and order can not be set at same time.';}

if(this._sortBuilder){
params.sort = this._sortBuilder.build();}


return params;}});};
});
__d('avoscloud-sdk/lib/insight.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');

module.exports = function(AV){







AV.Insight = AV.Insight || {};

_.extend(AV.Insight,{





















startJob:function(jobConfig,options){
if(!jobConfig || !jobConfig.sql){
throw new Error('Please provide the sql to run the job.');}

var data={
jobConfig:jobConfig,
appId:AV.applicationId};

var request=AV._request("bigquery",'jobs',null,'POST',
AV._encode(data,null,true));

return request.then(function(resp){
return AV._decode(null,resp).id;}).
_thenRunCallbacks(options);},












on:function(event,cb){}});









AV.Insight.JobQuery = function(id,className){
if(!id){
throw new Error('Please provide the job id.');}

this.id = id;
this.className = className;
this._skip = 0;
this._limit = 100;};


AV.Insight.JobQuery.prototype = {








skip:function(n){
this._skip = n;
return this;},








limit:function(n){
this._limit = n;
return this;},
















find:function(options){
var params={
skip:this._skip,
limit:this._limit};


var request=AV._request("bigquery",'jobs',this.id,"GET",
params);
var self=this;
return request.then(function(response){
if(response.error){
return AV.Promise.error(new AV.Error(response.code,response.error));}

return AV.Promise.as(response);}).
_thenRunCallbacks(options);}};};
});
__d('AwesomeProject/src/debug.js',function(global, require, module, exports) {  var debug=require('debug/browser.js');

debug.enable('*:*');

debug.useColors = function(){
return false;};


module.exports = debug;
});
__d('debug/browser.js',function(global, require, module, exports) {  exports = 






module.exports = require('debug/debug.js');
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome && 
'undefined' != typeof chrome.storage?
chrome.storage.local:
localstorage();





exports.colors = [
'lightseagreen',
'forestgreen',
'goldenrod',
'dodgerblue',
'darkorchid',
'crimson'];










function useColors(){

return 'WebkitAppearance' in document.documentElement.style || 

window.console && (console.firebug || console.exception && console.table) || 


navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1,10) >= 31;}






exports.formatters.j = function(v){
return JSON.stringify(v);};









function formatArgs(){
var args=arguments;
var useColors=this.useColors;

args[0] = (useColors?'%c':'') + 
this.namespace + (
useColors?' %c':' ') + 
args[0] + (
useColors?'%c ':' ') + 
'+' + exports.humanize(this.diff);

if(!useColors)return args;

var c='color: ' + this.color;
args = [args[0],c,'color: inherit'].concat(Array.prototype.slice.call(args,1));




var index=0;
var lastC=0;
args[0].replace(/%[a-z%]/g,function(match){
if('%%' === match)return;
index++;
if('%c' === match){


lastC = index;}});



args.splice(lastC,0,c);
return args;}









function log(){


return 'object' === typeof console && 
console.log && 
Function.prototype.apply.call(console.log,console,arguments);}









function save(namespaces){
try{
if(null == namespaces){
exports.storage.removeItem('debug');}else 
{
exports.storage.debug = namespaces;}}

catch(e) {}}









function load(){
var r;
try{
r = exports.storage.debug;}
catch(e) {}
return r;}






exports.enable(load());












function localstorage(){
try{
return window.localStorage;}
catch(e) {}}
});
__d('debug/debug.js',function(global, require, module, exports) {  exports = 







module.exports = debug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = require('ms/index.js');





exports.names = [];
exports.skips = [];







exports.formatters = {};





var prevColor=0;





var prevTime;








function selectColor(){
return exports.colors[prevColor++ % exports.colors.length];}










function debug(namespace){


function disabled(){}

disabled.enabled = false;


function enabled(){

var self=enabled;


var curr=+new Date();
var ms=curr - (prevTime || curr);
self.diff = ms;
self.prev = prevTime;
self.curr = curr;
prevTime = curr;


if(null == self.useColors)self.useColors = exports.useColors();
if(null == self.color && self.useColors)self.color = selectColor();

var args=Array.prototype.slice.call(arguments);

args[0] = exports.coerce(args[0]);

if('string' !== typeof args[0]){

args = ['%o'].concat(args);}



var index=0;
args[0] = args[0].replace(/%([a-z%])/g,function(match,format){

if(match === '%%')return match;
index++;
var formatter=exports.formatters[format];
if('function' === typeof formatter){
var val=args[index];
match = formatter.call(self,val);


args.splice(index,1);
index--;}

return match;});


if('function' === typeof exports.formatArgs){
args = exports.formatArgs.apply(self,args);}

var logFn=enabled.log || exports.log || console.log.bind(console);
logFn.apply(self,args);}

enabled.enabled = true;

var fn=exports.enabled(namespace)?enabled:disabled;

fn.namespace = namespace;

return fn;}










function enable(namespaces){
exports.save(namespaces);

var split=(namespaces || '').split(/[\s,]+/);
var len=split.length;

for(var i=0;i < len;i++) {
if(!split[i])continue;
namespaces = split[i].replace(/\*/g,'.*?');
if(namespaces[0] === '-'){
exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));}else 
{
exports.names.push(new RegExp('^' + namespaces + '$'));}}}










function disable(){
exports.enable('');}










function enabled(name){
var i,len;
for(i = 0,len = exports.skips.length;i < len;i++) {
if(exports.skips[i].test(name)){
return false;}}


for(i = 0,len = exports.names.length;i < len;i++) {
if(exports.names[i].test(name)){
return true;}}


return false;}










function coerce(val){
if(val instanceof Error)return val.stack || val.message;
return val;}
});
__d('ms/index.js',function(global, require, module, exports) {  var 



s=1000;
var m=s * 60;
var h=m * 60;
var d=h * 24;
var y=d * 365.25;














module.exports = function(val,options){
options = options || {};
if('string' == typeof val)return parse(val);
return options.long?
long(val):
short(val);};










function parse(str){
str = '' + str;
if(str.length > 10000)return;
var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);
if(!match)return;
var n=parseFloat(match[1]);
var type=(match[2] || 'ms').toLowerCase();
switch(type){
case 'years':
case 'year':
case 'yrs':
case 'yr':
case 'y':
return n * y;
case 'days':
case 'day':
case 'd':
return n * d;
case 'hours':
case 'hour':
case 'hrs':
case 'hr':
case 'h':
return n * h;
case 'minutes':
case 'minute':
case 'mins':
case 'min':
case 'm':
return n * m;
case 'seconds':
case 'second':
case 'secs':
case 'sec':
case 's':
return n * s;
case 'milliseconds':
case 'millisecond':
case 'msecs':
case 'msec':
case 'ms':
return n;}}











function short(ms){
if(ms >= d)return Math.round(ms / d) + 'd';
if(ms >= h)return Math.round(ms / h) + 'h';
if(ms >= m)return Math.round(ms / m) + 'm';
if(ms >= s)return Math.round(ms / s) + 's';
return ms + 'ms';}










function long(ms){
return plural(ms,d,'day') || 
plural(ms,h,'hour') || 
plural(ms,m,'minute') || 
plural(ms,s,'second') || 
ms + ' ms';}






function plural(ms,n,name){
if(ms < n)return;
if(ms < n * 1.5)return Math.floor(ms / n) + ' ' + name;
return Math.ceil(ms / n) + ' ' + name + 's';}
});
__d('ext-name/index.js',function(global, require, module, exports) {  'use strict';

var endsWith=require('ends-with/index.js');
var extList=require('ext-list/index.js');
var sortKeysLength=require('sort-keys-length/index.js');

module.exports = function(str){
var obj=sortKeysLength.desc(extList());
var ext=Object.keys(obj).filter(endsWith.bind(null,str));

if(!ext.length){
return;}


return {
ext:ext[0],
mime:obj[ext[0]]};};
});
__d('ends-with/index.js',function(global, require, module, exports) {  'use strict';








module.exports = function(a,b){
if(Array.isArray(a)){
return a[a.length - 1] === b;}


a = String(a);
b = String(b);

var i=b.length;
var len=a.length - i;

while(i--) {
if(b.charAt(i) !== a.charAt(len + i)){
return false;}}


return true;};
});
__d('ext-list/index.js',function(global, require, module, exports) {  'use strict';

module.exports = function(){
return require('ext-list/ext-list.json');};
});
__d('ext-list/ext-list.json',function(global, require, module, exports) {  module.exports = {"123":"application/vnd.lotus-1-2-3","ez":"application/andrew-inset","aw":"application/applixware","atom":"application/atom+xml","atomcat":"application/atomcat+xml","atomsvc":"application/atomsvc+xml","ccxml":"application/ccxml+xml","cdmia":"application/cdmi-capability","cdmic":"application/cdmi-container","cdmid":"application/cdmi-domain","cdmio":"application/cdmi-object","cdmiq":"application/cdmi-queue","cu":"application/cu-seeme","davmount":"application/davmount+xml","dbk":"application/docbook+xml","dssc":"application/dssc+der","xdssc":"application/dssc+xml","ecma":"application/ecmascript","emma":"application/emma+xml","epub":"application/epub+zip","exi":"application/exi","pfr":"application/font-tdpfr","gml":"application/gml+xml","gpx":"application/gpx+xml","gxf":"application/gxf","stk":"application/hyperstudio","ink":"application/inkml+xml","inkml":"application/inkml+xml","ipfix":"application/ipfix","jar":"application/java-archive","ser":"application/java-serialized-object","class":"application/java-vm","js":"application/javascript","json":"application/json","jsonml":"application/jsonml+json","lostxml":"application/lost+xml","hqx":"application/mac-binhex40","cpt":"application/mac-compactpro","mads":"application/mads+xml","mrc":"application/marc","mrcx":"application/marcxml+xml","ma":"application/mathematica","nb":"application/mathematica","mb":"application/mathematica","mathml":"application/mathml+xml","mbox":"application/mbox","mscml":"application/mediaservercontrol+xml","metalink":"application/metalink+xml","meta4":"application/metalink4+xml","mets":"application/mets+xml","mods":"application/mods+xml","m21":"application/mp21","mp21":"application/mp21","mp4s":"application/mp4","doc":"application/msword","dot":"application/msword","mxf":"application/mxf","bin":"application/octet-stream","dms":"application/octet-stream","lrf":"application/octet-stream","mar":"application/octet-stream","so":"application/octet-stream","dist":"application/octet-stream","distz":"application/octet-stream","pkg":"application/octet-stream","bpk":"application/octet-stream","dump":"application/octet-stream","elc":"application/octet-stream","deploy":"application/octet-stream","oda":"application/oda","opf":"application/oebps-package+xml","ogx":"application/ogg","omdoc":"application/omdoc+xml","onetoc":"application/onenote","onetoc2":"application/onenote","onetmp":"application/onenote","onepkg":"application/onenote","oxps":"application/oxps","xer":"application/patch-ops-error+xml","pdf":"application/pdf","pgp":"application/pgp-encrypted","asc":"application/pgp-signature","sig":"application/pgp-signature","prf":"application/pics-rules","p10":"application/pkcs10","p7m":"application/pkcs7-mime","p7c":"application/pkcs7-mime","p7s":"application/pkcs7-signature","p8":"application/pkcs8","ac":"application/pkix-attr-cert","cer":"application/pkix-cert","crl":"application/pkix-crl","pkipath":"application/pkix-pkipath","pki":"application/pkixcmp","pls":"application/pls+xml","ai":"application/postscript","eps":"application/postscript","ps":"application/postscript","cww":"application/prs.cww","pskcxml":"application/pskc+xml","rdf":"application/rdf+xml","rif":"application/reginfo+xml","rnc":"application/relax-ng-compact-syntax","rl":"application/resource-lists+xml","rld":"application/resource-lists-diff+xml","rs":"application/rls-services+xml","gbr":"application/rpki-ghostbusters","mft":"application/rpki-manifest","roa":"application/rpki-roa","rsd":"application/rsd+xml","rss":"application/rss+xml","rtf":"application/rtf","sbml":"application/sbml+xml","scq":"application/scvp-cv-request","scs":"application/scvp-cv-response","spq":"application/scvp-vp-request","spp":"application/scvp-vp-response","sdp":"application/sdp","setpay":"application/set-payment-initiation","setreg":"application/set-registration-initiation","shf":"application/shf+xml","smi":"application/smil+xml","smil":"application/smil+xml","rq":"application/sparql-query","srx":"application/sparql-results+xml","gram":"application/srgs","grxml":"application/srgs+xml","sru":"application/sru+xml","ssdl":"application/ssdl+xml","ssml":"application/ssml+xml","tei":"application/tei+xml","teicorpus":"application/tei+xml","tfi":"application/thraud+xml","tsd":"application/timestamped-data","plb":"application/vnd.3gpp.pic-bw-large","psb":"application/vnd.3gpp.pic-bw-small","pvb":"application/vnd.3gpp.pic-bw-var","tcap":"application/vnd.3gpp2.tcap","pwn":"application/vnd.3m.post-it-notes","aso":"application/vnd.accpac.simply.aso","imp":"application/vnd.accpac.simply.imp","acu":"application/vnd.acucobol","atc":"application/vnd.acucorp","acutc":"application/vnd.acucorp","air":"application/vnd.adobe.air-application-installer-package+zip","fcdt":"application/vnd.adobe.formscentral.fcdt","fxp":"application/vnd.adobe.fxp","fxpl":"application/vnd.adobe.fxp","xdp":"application/vnd.adobe.xdp+xml","xfdf":"application/vnd.adobe.xfdf","ahead":"application/vnd.ahead.space","azf":"application/vnd.airzip.filesecure.azf","azs":"application/vnd.airzip.filesecure.azs","azw":"application/vnd.amazon.ebook","acc":"application/vnd.americandynamics.acc","ami":"application/vnd.amiga.ami","apk":"application/vnd.android.package-archive","cii":"application/vnd.anser-web-certificate-issue-initiation","fti":"application/vnd.anser-web-funds-transfer-initiation","atx":"application/vnd.antix.game-component","mpkg":"application/vnd.apple.installer+xml","m3u8":"application/vnd.apple.mpegurl","swi":"application/vnd.aristanetworks.swi","iota":"application/vnd.astraea-software.iota","aep":"application/vnd.audiograph","mpm":"application/vnd.blueice.multipass","bmi":"application/vnd.bmi","rep":"application/vnd.businessobjects","cdxml":"application/vnd.chemdraw+xml","mmd":"application/vnd.chipnuts.karaoke-mmd","cdy":"application/vnd.cinderella","cla":"application/vnd.claymore","rp9":"application/vnd.cloanto.rp9","c4g":"application/vnd.clonk.c4group","c4d":"application/vnd.clonk.c4group","c4f":"application/vnd.clonk.c4group","c4p":"application/vnd.clonk.c4group","c4u":"application/vnd.clonk.c4group","c11amc":"application/vnd.cluetrust.cartomobile-config","c11amz":"application/vnd.cluetrust.cartomobile-config-pkg","csp":"application/vnd.commonspace","cdbcmsg":"application/vnd.contact.cmsg","cmc":"application/vnd.cosmocaller","clkx":"application/vnd.crick.clicker","clkk":"application/vnd.crick.clicker.keyboard","clkp":"application/vnd.crick.clicker.palette","clkt":"application/vnd.crick.clicker.template","clkw":"application/vnd.crick.clicker.wordbank","wbs":"application/vnd.criticaltools.wbs+xml","pml":"application/vnd.ctc-posml","ppd":"application/vnd.cups-ppd","car":"application/vnd.curl.car","pcurl":"application/vnd.curl.pcurl","dart":"application/vnd.dart","rdz":"application/vnd.data-vision.rdz","uvf":"application/vnd.dece.data","uvvf":"application/vnd.dece.data","uvd":"application/vnd.dece.data","uvvd":"application/vnd.dece.data","uvt":"application/vnd.dece.ttml+xml","uvvt":"application/vnd.dece.ttml+xml","uvx":"application/vnd.dece.unspecified","uvvx":"application/vnd.dece.unspecified","uvz":"application/vnd.dece.zip","uvvz":"application/vnd.dece.zip","fe_launch":"application/vnd.denovo.fcselayout-link","dna":"application/vnd.dna","mlp":"application/vnd.dolby.mlp","dpg":"application/vnd.dpgraph","dfac":"application/vnd.dreamfactory","kpxx":"application/vnd.ds-keypoint","ait":"application/vnd.dvb.ait","svc":"application/vnd.dvb.service","geo":"application/vnd.dynageo","mag":"application/vnd.ecowin.chart","nml":"application/vnd.enliven","esf":"application/vnd.epson.esf","msf":"application/vnd.epson.msf","qam":"application/vnd.epson.quickanime","slt":"application/vnd.epson.salt","ssf":"application/vnd.epson.ssf","es3":"application/vnd.eszigno3+xml","et3":"application/vnd.eszigno3+xml","ez2":"application/vnd.ezpix-album","ez3":"application/vnd.ezpix-package","fdf":"application/vnd.fdf","mseed":"application/vnd.fdsn.mseed","seed":"application/vnd.fdsn.seed","dataless":"application/vnd.fdsn.seed","gph":"application/vnd.flographit","ftc":"application/vnd.fluxtime.clip","fm":"application/vnd.framemaker","frame":"application/vnd.framemaker","maker":"application/vnd.framemaker","book":"application/vnd.framemaker","fnc":"application/vnd.frogans.fnc","ltf":"application/vnd.frogans.ltf","fsc":"application/vnd.fsc.weblaunch","oas":"application/vnd.fujitsu.oasys","oa2":"application/vnd.fujitsu.oasys2","oa3":"application/vnd.fujitsu.oasys3","fg5":"application/vnd.fujitsu.oasysgp","bh2":"application/vnd.fujitsu.oasysprs","ddd":"application/vnd.fujixerox.ddd","xdw":"application/vnd.fujixerox.docuworks","xbd":"application/vnd.fujixerox.docuworks.binder","fzs":"application/vnd.fuzzysheet","txd":"application/vnd.genomatix.tuxedo","ggb":"application/vnd.geogebra.file","ggt":"application/vnd.geogebra.tool","gex":"application/vnd.geometry-explorer","gre":"application/vnd.geometry-explorer","gxt":"application/vnd.geonext","g2w":"application/vnd.geoplan","g3w":"application/vnd.geospace","gmx":"application/vnd.gmx","kml":"application/vnd.google-earth.kml+xml","kmz":"application/vnd.google-earth.kmz","gqf":"application/vnd.grafeq","gqs":"application/vnd.grafeq","gac":"application/vnd.groove-account","ghf":"application/vnd.groove-help","gim":"application/vnd.groove-identity-message","grv":"application/vnd.groove-injector","gtm":"application/vnd.groove-tool-message","tpl":"application/vnd.groove-tool-template","vcg":"application/vnd.groove-vcard","hal":"application/vnd.hal+xml","zmm":"application/vnd.handheld-entertainment+xml","hbci":"application/vnd.hbci","les":"application/vnd.hhe.lesson-player","hpgl":"application/vnd.hp-hpgl","hpid":"application/vnd.hp-hpid","hps":"application/vnd.hp-hps","jlt":"application/vnd.hp-jlyt","pcl":"application/vnd.hp-pcl","pclxl":"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data","mpy":"application/vnd.ibm.minipay","afp":"application/vnd.ibm.modcap","listafp":"application/vnd.ibm.modcap","list3820":"application/vnd.ibm.modcap","irm":"application/vnd.ibm.rights-management","sc":"application/vnd.ibm.secure-container","icc":"application/vnd.iccprofile","icm":"application/vnd.iccprofile","igl":"application/vnd.igloader","ivp":"application/vnd.immervision-ivp","ivu":"application/vnd.immervision-ivu","igm":"application/vnd.insors.igm","xpw":"application/vnd.intercon.formnet","xpx":"application/vnd.intercon.formnet","i2g":"application/vnd.intergeo","qbo":"application/vnd.intu.qbo","qfx":"application/vnd.intu.qfx","rcprofile":"application/vnd.ipunplugged.rcprofile","irp":"application/vnd.irepository.package+xml","xpr":"application/vnd.is-xpr","fcs":"application/vnd.isac.fcs","jam":"application/vnd.jam","rms":"application/vnd.jcp.javame.midlet-rms","jisp":"application/vnd.jisp","joda":"application/vnd.joost.joda-archive","ktz":"application/vnd.kahootz","ktr":"application/vnd.kahootz","karbon":"application/vnd.kde.karbon","chrt":"application/vnd.kde.kchart","kfo":"application/vnd.kde.kformula","flw":"application/vnd.kde.kivio","kon":"application/vnd.kde.kontour","kpr":"application/vnd.kde.kpresenter","kpt":"application/vnd.kde.kpresenter","ksp":"application/vnd.kde.kspread","kwd":"application/vnd.kde.kword","kwt":"application/vnd.kde.kword","htke":"application/vnd.kenameaapp","kia":"application/vnd.kidspiration","kne":"application/vnd.kinar","knp":"application/vnd.kinar","skp":"application/vnd.koan","skd":"application/vnd.koan","skt":"application/vnd.koan","skm":"application/vnd.koan","sse":"application/vnd.kodak-descriptor","lasxml":"application/vnd.las.las+xml","lbd":"application/vnd.llamagraphics.life-balance.desktop","lbe":"application/vnd.llamagraphics.life-balance.exchange+xml","apr":"application/vnd.lotus-approach","pre":"application/vnd.lotus-freelance","nsf":"application/vnd.lotus-notes","org":"application/vnd.lotus-organizer","scm":"application/vnd.lotus-screencam","lwp":"application/vnd.lotus-wordpro","portpkg":"application/vnd.macports.portpkg","mcd":"application/vnd.mcd","mc1":"application/vnd.medcalcdata","cdkey":"application/vnd.mediastation.cdkey","mwf":"application/vnd.mfer","mfm":"application/vnd.mfmp","flo":"application/vnd.micrografx.flo","igx":"application/vnd.micrografx.igx","mif":"application/vnd.mif","daf":"application/vnd.mobius.daf","dis":"application/vnd.mobius.dis","mbk":"application/vnd.mobius.mbk","mqy":"application/vnd.mobius.mqy","msl":"application/vnd.mobius.msl","plc":"application/vnd.mobius.plc","txf":"application/vnd.mobius.txf","mpn":"application/vnd.mophun.application","mpc":"application/vnd.mophun.certificate","xul":"application/vnd.mozilla.xul+xml","cil":"application/vnd.ms-artgalry","cab":"application/vnd.ms-cab-compressed","xls":"application/vnd.ms-excel","xlm":"application/vnd.ms-excel","xla":"application/vnd.ms-excel","xlc":"application/vnd.ms-excel","xlt":"application/vnd.ms-excel","xlw":"application/vnd.ms-excel","xlam":"application/vnd.ms-excel.addin.macroenabled.12","xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsm":"application/vnd.ms-excel.sheet.macroenabled.12","xltm":"application/vnd.ms-excel.template.macroenabled.12","eot":"application/vnd.ms-fontobject","chm":"application/vnd.ms-htmlhelp","ims":"application/vnd.ms-ims","lrm":"application/vnd.ms-lrm","thmx":"application/vnd.ms-officetheme","cat":"application/vnd.ms-pki.seccat","stl":"application/vnd.ms-pki.stl","ppt":"application/vnd.ms-powerpoint","pps":"application/vnd.ms-powerpoint","pot":"application/vnd.ms-powerpoint","ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12","pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12","sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12","ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12","potm":"application/vnd.ms-powerpoint.template.macroenabled.12","mpp":"application/vnd.ms-project","mpt":"application/vnd.ms-project","docm":"application/vnd.ms-word.document.macroenabled.12","dotm":"application/vnd.ms-word.template.macroenabled.12","wps":"application/vnd.ms-works","wks":"application/vnd.ms-works","wcm":"application/vnd.ms-works","wdb":"application/vnd.ms-works","wpl":"application/vnd.ms-wpl","xps":"application/vnd.ms-xpsdocument","mseq":"application/vnd.mseq","mus":"application/vnd.musician","msty":"application/vnd.muvee.style","taglet":"application/vnd.mynfc","nlu":"application/vnd.neurolanguage.nlu","ntf":"application/vnd.nitf","nitf":"application/vnd.nitf","nnd":"application/vnd.noblenet-directory","nns":"application/vnd.noblenet-sealer","nnw":"application/vnd.noblenet-web","ngdat":"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install","rpst":"application/vnd.nokia.radio-preset","rpss":"application/vnd.nokia.radio-presets","edm":"application/vnd.novadigm.edm","edx":"application/vnd.novadigm.edx","ext":"application/vnd.novadigm.ext","odc":"application/vnd.oasis.opendocument.chart","otc":"application/vnd.oasis.opendocument.chart-template","odb":"application/vnd.oasis.opendocument.database","odf":"application/vnd.oasis.opendocument.formula","odft":"application/vnd.oasis.opendocument.formula-template","odg":"application/vnd.oasis.opendocument.graphics","otg":"application/vnd.oasis.opendocument.graphics-template","odi":"application/vnd.oasis.opendocument.image","oti":"application/vnd.oasis.opendocument.image-template","odp":"application/vnd.oasis.opendocument.presentation","otp":"application/vnd.oasis.opendocument.presentation-template","ods":"application/vnd.oasis.opendocument.spreadsheet","ots":"application/vnd.oasis.opendocument.spreadsheet-template","odt":"application/vnd.oasis.opendocument.text","odm":"application/vnd.oasis.opendocument.text-master","ott":"application/vnd.oasis.opendocument.text-template","oth":"application/vnd.oasis.opendocument.text-web","xo":"application/vnd.olpc-sugar","dd2":"application/vnd.oma.dd2+xml","oxt":"application/vnd.openofficeorg.extension","pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation","sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide","ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow","potx":"application/vnd.openxmlformats-officedocument.presentationml.template","xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template","docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template","mgp":"application/vnd.osgeo.mapguide.package","dp":"application/vnd.osgi.dp","esa":"application/vnd.osgi.subsystem","pdb":"application/vnd.palm","pqa":"application/vnd.palm","oprc":"application/vnd.palm","paw":"application/vnd.pawaafile","str":"application/vnd.pg.format","ei6":"application/vnd.pg.osasli","efif":"application/vnd.picsel","wg":"application/vnd.pmi.widget","plf":"application/vnd.pocketlearn","pbd":"application/vnd.powerbuilder6","box":"application/vnd.previewsystems.box","mgz":"application/vnd.proteus.magazine","qps":"application/vnd.publishare-delta-tree","ptid":"application/vnd.pvi.ptid1","qxd":"application/vnd.quark.quarkxpress","qxt":"application/vnd.quark.quarkxpress","qwd":"application/vnd.quark.quarkxpress","qwt":"application/vnd.quark.quarkxpress","qxl":"application/vnd.quark.quarkxpress","qxb":"application/vnd.quark.quarkxpress","bed":"application/vnd.realvnc.bed","mxl":"application/vnd.recordare.musicxml","musicxml":"application/vnd.recordare.musicxml+xml","cryptonote":"application/vnd.rig.cryptonote","cod":"application/vnd.rim.cod","rm":"application/vnd.rn-realmedia","rmvb":"application/vnd.rn-realmedia-vbr","link66":"application/vnd.route66.link66+xml","st":"application/vnd.sailingtracker.track","see":"application/vnd.seemail","sema":"application/vnd.sema","semd":"application/vnd.semd","semf":"application/vnd.semf","ifm":"application/vnd.shana.informed.formdata","itp":"application/vnd.shana.informed.formtemplate","iif":"application/vnd.shana.informed.interchange","ipk":"application/vnd.shana.informed.package","twd":"application/vnd.simtech-mindmapper","twds":"application/vnd.simtech-mindmapper","mmf":"application/vnd.smaf","teacher":"application/vnd.smart.teacher","sdkm":"application/vnd.solent.sdkm+xml","sdkd":"application/vnd.solent.sdkm+xml","dxp":"application/vnd.spotfire.dxp","sfs":"application/vnd.spotfire.sfs","sdc":"application/vnd.stardivision.calc","sda":"application/vnd.stardivision.draw","sdd":"application/vnd.stardivision.impress","smf":"application/vnd.stardivision.math","sdw":"application/vnd.stardivision.writer","vor":"application/vnd.stardivision.writer","sgl":"application/vnd.stardivision.writer-global","smzip":"application/vnd.stepmania.package","sm":"application/vnd.stepmania.stepchart","sxc":"application/vnd.sun.xml.calc","stc":"application/vnd.sun.xml.calc.template","sxd":"application/vnd.sun.xml.draw","std":"application/vnd.sun.xml.draw.template","sxi":"application/vnd.sun.xml.impress","sti":"application/vnd.sun.xml.impress.template","sxm":"application/vnd.sun.xml.math","sxw":"application/vnd.sun.xml.writer","sxg":"application/vnd.sun.xml.writer.global","stw":"application/vnd.sun.xml.writer.template","sus":"application/vnd.sus-calendar","susp":"application/vnd.sus-calendar","svd":"application/vnd.svd","sis":"application/vnd.symbian.install","sisx":"application/vnd.symbian.install","xsm":"application/vnd.syncml+xml","bdm":"application/vnd.syncml.dm+wbxml","xdm":"application/vnd.syncml.dm+xml","tao":"application/vnd.tao.intent-module-archive","pcap":"application/vnd.tcpdump.pcap","cap":"application/vnd.tcpdump.pcap","dmp":"application/vnd.tcpdump.pcap","tmo":"application/vnd.tmobile-livetv","tpt":"application/vnd.trid.tpt","mxs":"application/vnd.triscape.mxs","tra":"application/vnd.trueapp","ufd":"application/vnd.ufdl","ufdl":"application/vnd.ufdl","utz":"application/vnd.uiq.theme","umj":"application/vnd.umajin","unityweb":"application/vnd.unity","uoml":"application/vnd.uoml+xml","vcx":"application/vnd.vcx","vsd":"application/vnd.visio","vst":"application/vnd.visio","vss":"application/vnd.visio","vsw":"application/vnd.visio","vis":"application/vnd.visionary","vsf":"application/vnd.vsf","wbxml":"application/vnd.wap.wbxml","wmlc":"application/vnd.wap.wmlc","wmlsc":"application/vnd.wap.wmlscriptc","wtb":"application/vnd.webturbo","nbp":"application/vnd.wolfram.player","wpd":"application/vnd.wordperfect","wqd":"application/vnd.wqd","stf":"application/vnd.wt.stf","xar":"application/vnd.xara","xfdl":"application/vnd.xfdl","hvd":"application/vnd.yamaha.hv-dic","hvs":"application/vnd.yamaha.hv-script","hvp":"application/vnd.yamaha.hv-voice","osf":"application/vnd.yamaha.openscoreformat","osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml","saf":"application/vnd.yamaha.smaf-audio","spf":"application/vnd.yamaha.smaf-phrase","cmp":"application/vnd.yellowriver-custom-menu","zir":"application/vnd.zul","zirz":"application/vnd.zul","zaz":"application/vnd.zzazz.deck+xml","vxml":"application/voicexml+xml","wgt":"application/widget","hlp":"application/winhlp","wsdl":"application/wsdl+xml","wspolicy":"application/wspolicy+xml","7z":"application/x-7z-compressed","abw":"application/x-abiword","ace":"application/x-ace-compressed","dmg":"application/x-apple-diskimage","aab":"application/x-authorware-bin","x32":"application/x-authorware-bin","u32":"application/x-authorware-bin","vox":"application/x-authorware-bin","aam":"application/x-authorware-map","aas":"application/x-authorware-seg","bcpio":"application/x-bcpio","torrent":"application/x-bittorrent","blb":"application/x-blorb","blorb":"application/x-blorb","bz":"application/x-bzip","bz2":"application/x-bzip2","boz":"application/x-bzip2","cbr":"application/x-cbr","cba":"application/x-cbr","cbt":"application/x-cbr","cbz":"application/x-cbr","cb7":"application/x-cbr","vcd":"application/x-cdlink","cfs":"application/x-cfs-compressed","chat":"application/x-chat","pgn":"application/x-chess-pgn","nsc":"application/x-conference","cpio":"application/x-cpio","csh":"application/x-csh","deb":"application/x-debian-package","udeb":"application/x-debian-package","dgc":"application/x-dgc-compressed","dir":"application/x-director","dcr":"application/x-director","dxr":"application/x-director","cst":"application/x-director","cct":"application/x-director","cxt":"application/x-director","w3d":"application/x-director","fgd":"application/x-director","swa":"application/x-director","wad":"application/x-doom","ncx":"application/x-dtbncx+xml","dtb":"application/x-dtbook+xml","res":"application/x-dtbresource+xml","dvi":"application/x-dvi","evy":"application/x-envoy","eva":"application/x-eva","bdf":"application/x-font-bdf","gsf":"application/x-font-ghostscript","psf":"application/x-font-linux-psf","otf":"application/x-font-otf","pcf":"application/x-font-pcf","snf":"application/x-font-snf","ttf":"application/x-font-ttf","ttc":"application/x-font-ttf","pfa":"application/x-font-type1","pfb":"application/x-font-type1","pfm":"application/x-font-type1","afm":"application/x-font-type1","woff":"application/font-woff","arc":"application/x-freearc","spl":"application/x-futuresplash","gca":"application/x-gca-compressed","ulx":"application/x-glulx","gnumeric":"application/x-gnumeric","gramps":"application/x-gramps-xml","gtar":"application/x-gtar","hdf":"application/x-hdf","install":"application/x-install-instructions","iso":"application/x-iso9660-image","jnlp":"application/x-java-jnlp-file","latex":"application/x-latex","lzh":"application/x-lzh-compressed","lha":"application/x-lzh-compressed","mie":"application/x-mie","prc":"application/x-mobipocket-ebook","mobi":"application/x-mobipocket-ebook","application":"application/x-ms-application","lnk":"application/x-ms-shortcut","wmd":"application/x-ms-wmd","wmz":"application/x-msmetafile","xbap":"application/x-ms-xbap","mdb":"application/x-msaccess","obd":"application/x-msbinder","crd":"application/x-mscardfile","clp":"application/x-msclip","exe":"application/x-msdownload","dll":"application/x-msdownload","com":"application/x-msdownload","bat":"application/x-msdownload","msi":"application/x-msdownload","mvb":"application/x-msmediaview","m13":"application/x-msmediaview","m14":"application/x-msmediaview","wmf":"application/x-msmetafile","emf":"application/x-msmetafile","emz":"application/x-msmetafile","mny":"application/x-msmoney","pub":"application/x-mspublisher","scd":"application/x-msschedule","trm":"application/x-msterminal","wri":"application/x-mswrite","nc":"application/x-netcdf","cdf":"application/x-netcdf","nzb":"application/x-nzb","p12":"application/x-pkcs12","pfx":"application/x-pkcs12","p7b":"application/x-pkcs7-certificates","spc":"application/x-pkcs7-certificates","p7r":"application/x-pkcs7-certreqresp","rar":"application/x-rar-compressed","ris":"application/x-research-info-systems","sh":"application/x-sh","shar":"application/x-shar","swf":"application/x-shockwave-flash","xap":"application/x-silverlight-app","sql":"application/x-sql","sit":"application/x-stuffit","sitx":"application/x-stuffitx","srt":"application/x-subrip","sv4cpio":"application/x-sv4cpio","sv4crc":"application/x-sv4crc","t3":"application/x-t3vm-image","gam":"application/x-tads","tar":"application/x-tar","tcl":"application/x-tcl","tex":"application/x-tex","tfm":"application/x-tex-tfm","texinfo":"application/x-texinfo","texi":"application/x-texinfo","obj":"application/x-tgif","ustar":"application/x-ustar","src":"application/x-wais-source","der":"application/x-x509-ca-cert","crt":"application/x-x509-ca-cert","fig":"application/x-xfig","xlf":"application/x-xliff+xml","xpi":"application/x-xpinstall","xz":"application/x-xz","z1":"application/x-zmachine","z2":"application/x-zmachine","z3":"application/x-zmachine","z4":"application/x-zmachine","z5":"application/x-zmachine","z6":"application/x-zmachine","z7":"application/x-zmachine","z8":"application/x-zmachine","xaml":"application/xaml+xml","xdf":"application/xcap-diff+xml","xenc":"application/xenc+xml","xhtml":"application/xhtml+xml","xht":"application/xhtml+xml","xml":"application/xml","xsl":"application/xml","dtd":"application/xml-dtd","xop":"application/xop+xml","xpl":"application/xproc+xml","xslt":"application/xslt+xml","xspf":"application/xspf+xml","mxml":"application/xv+xml","xhvml":"application/xv+xml","xvml":"application/xv+xml","xvm":"application/xv+xml","yang":"application/yang","yin":"application/yin+xml","zip":"application/zip","adp":"audio/adpcm","au":"audio/basic","snd":"audio/basic","mid":"audio/midi","midi":"audio/midi","kar":"audio/midi","rmi":"audio/midi","mp4a":"audio/mp4","mpga":"audio/mpeg","mp2":"audio/mpeg","mp2a":"audio/mpeg","mp3":"audio/mpeg","m2a":"audio/mpeg","m3a":"audio/mpeg","oga":"audio/ogg","ogg":"audio/ogg","spx":"audio/ogg","s3m":"audio/s3m","sil":"audio/silk","uva":"audio/vnd.dece.audio","uvva":"audio/vnd.dece.audio","eol":"audio/vnd.digital-winds","dra":"audio/vnd.dra","dts":"audio/vnd.dts","dtshd":"audio/vnd.dts.hd","lvp":"audio/vnd.lucent.voice","pya":"audio/vnd.ms-playready.media.pya","ecelp4800":"audio/vnd.nuera.ecelp4800","ecelp7470":"audio/vnd.nuera.ecelp7470","ecelp9600":"audio/vnd.nuera.ecelp9600","rip":"audio/vnd.rip","weba":"audio/webm","aac":"audio/x-aac","aif":"audio/x-aiff","aiff":"audio/x-aiff","aifc":"audio/x-aiff","caf":"audio/x-caf","flac":"audio/x-flac","mka":"audio/x-matroska","m3u":"audio/x-mpegurl","wax":"audio/x-ms-wax","wma":"audio/x-ms-wma","ram":"audio/x-pn-realaudio","ra":"audio/x-pn-realaudio","rmp":"audio/x-pn-realaudio-plugin","wav":"audio/x-wav","xm":"audio/xm","cdx":"chemical/x-cdx","cif":"chemical/x-cif","cmdf":"chemical/x-cmdf","cml":"chemical/x-cml","csml":"chemical/x-csml","xyz":"chemical/x-xyz","bmp":"image/bmp","cgm":"image/cgm","g3":"image/g3fax","gif":"image/gif","ief":"image/ief","jpeg":"image/jpeg","jpg":"image/jpeg","jpe":"image/jpeg","ktx":"image/ktx","png":"image/png","btif":"image/prs.btif","sgi":"image/sgi","svg":"image/svg+xml","svgz":"image/svg+xml","tiff":"image/tiff","tif":"image/tiff","psd":"image/vnd.adobe.photoshop","uvi":"image/vnd.dece.graphic","uvvi":"image/vnd.dece.graphic","uvg":"image/vnd.dece.graphic","uvvg":"image/vnd.dece.graphic","sub":"text/vnd.dvb.subtitle","djvu":"image/vnd.djvu","djv":"image/vnd.djvu","dwg":"image/vnd.dwg","dxf":"image/vnd.dxf","fbs":"image/vnd.fastbidsheet","fpx":"image/vnd.fpx","fst":"image/vnd.fst","mmr":"image/vnd.fujixerox.edmics-mmr","rlc":"image/vnd.fujixerox.edmics-rlc","mdi":"image/vnd.ms-modi","wdp":"image/vnd.ms-photo","npx":"image/vnd.net-fpx","wbmp":"image/vnd.wap.wbmp","xif":"image/vnd.xiff","webp":"image/webp","3ds":"image/x-3ds","ras":"image/x-cmu-raster","cmx":"image/x-cmx","fh":"image/x-freehand","fhc":"image/x-freehand","fh4":"image/x-freehand","fh5":"image/x-freehand","fh7":"image/x-freehand","ico":"image/x-icon","sid":"image/x-mrsid-image","pcx":"image/x-pcx","pic":"image/x-pict","pct":"image/x-pict","pnm":"image/x-portable-anymap","pbm":"image/x-portable-bitmap","pgm":"image/x-portable-graymap","ppm":"image/x-portable-pixmap","rgb":"image/x-rgb","tga":"image/x-tga","xbm":"image/x-xbitmap","xpm":"image/x-xpixmap","xwd":"image/x-xwindowdump","eml":"message/rfc822","mime":"message/rfc822","igs":"model/iges","iges":"model/iges","msh":"model/mesh","mesh":"model/mesh","silo":"model/mesh","dae":"model/vnd.collada+xml","dwf":"model/vnd.dwf","gdl":"model/vnd.gdl","gtw":"model/vnd.gtw","mts":"model/vnd.mts","vtu":"model/vnd.vtu","wrl":"model/vrml","vrml":"model/vrml","x3db":"model/x3d+binary","x3dbz":"model/x3d+binary","x3dv":"model/x3d+vrml","x3dvz":"model/x3d+vrml","x3d":"model/x3d+xml","x3dz":"model/x3d+xml","appcache":"text/cache-manifest","ics":"text/calendar","ifb":"text/calendar","css":"text/css","csv":"text/csv","html":"text/html","htm":"text/html","n3":"text/n3","txt":"text/plain","text":"text/plain","conf":"text/plain","def":"text/plain","list":"text/plain","log":"text/plain","in":"text/plain","dsc":"text/prs.lines.tag","rtx":"text/richtext","sgml":"text/sgml","sgm":"text/sgml","tsv":"text/tab-separated-values","t":"text/troff","tr":"text/troff","roff":"text/troff","man":"text/troff","me":"text/troff","ms":"text/troff","ttl":"text/turtle","uri":"text/uri-list","uris":"text/uri-list","urls":"text/uri-list","vcard":"text/vcard","curl":"text/vnd.curl","dcurl":"text/vnd.curl.dcurl","scurl":"text/vnd.curl.scurl","mcurl":"text/vnd.curl.mcurl","fly":"text/vnd.fly","flx":"text/vnd.fmi.flexstor","gv":"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml","spot":"text/vnd.in3d.spot","jad":"text/vnd.sun.j2me.app-descriptor","wml":"text/vnd.wap.wml","wmls":"text/vnd.wap.wmlscript","s":"text/x-asm","asm":"text/x-asm","c":"text/x-c","cc":"text/x-c","cxx":"text/x-c","cpp":"text/x-c","h":"text/x-c","hh":"text/x-c","dic":"text/x-c","f":"text/x-fortran","for":"text/x-fortran","f77":"text/x-fortran","f90":"text/x-fortran","java":"text/x-java-source","opml":"text/x-opml","p":"text/x-pascal","pas":"text/x-pascal","nfo":"text/x-nfo","etx":"text/x-setext","sfv":"text/x-sfv","uu":"text/x-uuencode","vcs":"text/x-vcalendar","vcf":"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2","h261":"video/h261","h263":"video/h263","h264":"video/h264","jpgv":"video/jpeg","jpm":"video/jpm","jpgm":"video/jpm","mj2":"video/mj2","mjp2":"video/mj2","mp4":"video/mp4","mp4v":"video/mp4","mpg4":"video/mp4","mpeg":"video/mpeg","mpg":"video/mpeg","mpe":"video/mpeg","m1v":"video/mpeg","m2v":"video/mpeg","ogv":"video/ogg","qt":"video/quicktime","mov":"video/quicktime","uvh":"video/vnd.dece.hd","uvvh":"video/vnd.dece.hd","uvm":"video/vnd.dece.mobile","uvvm":"video/vnd.dece.mobile","uvp":"video/vnd.dece.pd","uvvp":"video/vnd.dece.pd","uvs":"video/vnd.dece.sd","uvvs":"video/vnd.dece.sd","uvv":"video/vnd.dece.video","uvvv":"video/vnd.dece.video","dvb":"video/vnd.dvb.file","fvt":"video/vnd.fvt","mxu":"video/vnd.mpegurl","m4u":"video/vnd.mpegurl","pyv":"video/vnd.ms-playready.media.pyv","uvu":"video/vnd.uvvu.mp4","uvvu":"video/vnd.uvvu.mp4","viv":"video/vnd.vivo","webm":"video/webm","f4v":"video/x-f4v","fli":"video/x-fli","flv":"video/x-flv","m4v":"video/x-m4v","mkv":"video/x-matroska","mk3d":"video/x-matroska","mks":"video/x-matroska","mng":"video/x-mng","asf":"video/x-ms-asf","asx":"video/x-ms-asf","vob":"video/x-ms-vob","wm":"video/x-ms-wm","wmv":"video/x-ms-wmv","wmx":"video/x-ms-wmx","wvx":"video/x-ms-wvx","avi":"video/x-msvideo","movie":"video/x-sgi-movie","smv":"video/x-smv","ice":"x-conference/x-cooltalk"};
});
__d('sort-keys-length/index.js',function(global, require, module, exports) {  'use strict';

var sortKeys=require('sort-keys/index.js');








module.exports.desc = function(obj){
return sortKeys(obj,function(a,b){
return b.length - a.length;});};



module.exports.asc = function(obj){
return sortKeys(obj,function(a,b){
return a.length - b.length;});};
});
__d('sort-keys/index.js',function(global, require, module, exports) {  'use strict';
var isPlainObj=require('is-plain-obj/index.js');

module.exports = function(obj,opts){
if(!isPlainObj(obj)){
throw new TypeError('Expected a plain object');}


opts = opts || {};


if(typeof opts === 'function'){
opts = {compare:opts};}


var deep=opts.deep;

var sortKeys=function(x){
var ret={};
var keys=Object.keys(x).sort(opts.compare);

for(var i=0;i < keys.length;i++) {
var key=keys[i];
var val=x[key];

ret[key] = deep && val !== x && isPlainObj(val)?sortKeys(val):val;}


return ret;};


return sortKeys(obj);};
});
__d('is-plain-obj/index.js',function(global, require, module, exports) {  'use strict';
var toString=Object.prototype.toString;

module.exports = function(x){
var prototype;
return toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x),prototype === null || prototype === Object.getPrototypeOf({}));};
});
__d('shortid/index.js',function(global, require, module, exports) {  'use strict';
module.exports = require('shortid/lib/index.js');
});
__d('shortid/lib/index.js',function(global, require, module, exports) {  'use strict';

var alphabet=require('shortid/lib/alphabet.js');
var encode=require('shortid/lib/encode.js');
var decode=require('shortid/lib/decode.js');
var isValid=require('shortid/lib/is-valid.js');




var REDUCE_TIME=1426452414093;



var version=5;





var clusterWorkerId=require('shortid/lib/util/cluster-worker-id-browser.js') || 0;


var counter;


var previousSeconds;





function generate(){

var str='';

var seconds=Math.floor((Date.now() - REDUCE_TIME) * 0.001);

if(seconds === previousSeconds){
counter++;}else 
{
counter = 0;
previousSeconds = seconds;}


str = str + encode(alphabet.lookup,version);
str = str + encode(alphabet.lookup,clusterWorkerId);
if(counter > 0){
str = str + encode(alphabet.lookup,counter);}

str = str + encode(alphabet.lookup,seconds);

return str;}









function seed(seedValue){
alphabet.seed(seedValue);
return module.exports;}








function worker(workerId){
clusterWorkerId = workerId;
return module.exports;}







function characters(newCharacters){
if(newCharacters !== undefined){
alphabet.characters(newCharacters);}


return alphabet.shuffled();}




module.exports = generate;
module.exports.generate = generate;
module.exports.seed = seed;
module.exports.worker = worker;
module.exports.characters = characters;
module.exports.decode = decode;
module.exports.isValid = isValid;
});
__d('shortid/lib/alphabet.js',function(global, require, module, exports) {  'use strict';

var randomFromSeed=require('shortid/lib/random/random-from-seed.js');

var ORIGINAL='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';
var alphabet;
var previousSeed;

var shuffled;

function reset(){
shuffled = false;}


function setCharacters(_alphabet_){
if(!_alphabet_){
if(alphabet !== ORIGINAL){
alphabet = ORIGINAL;
reset();}

return;}


if(_alphabet_ === alphabet){
return;}


if(_alphabet_.length !== ORIGINAL.length){
throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);}


var unique=_alphabet_.split('').filter(function(item,ind,arr){
return ind !== arr.lastIndexOf(item);});


if(unique.length){
throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));}


alphabet = _alphabet_;
reset();}


function characters(_alphabet_){
setCharacters(_alphabet_);
return alphabet;}


function setSeed(seed){
randomFromSeed.seed(seed);
if(previousSeed !== seed){
reset();
previousSeed = seed;}}



function shuffle(){
if(!alphabet){
setCharacters(ORIGINAL);}


var sourceArray=alphabet.split('');
var targetArray=[];
var r=randomFromSeed.nextValue();
var characterIndex;

while(sourceArray.length > 0) {
r = randomFromSeed.nextValue();
characterIndex = Math.floor(r * sourceArray.length);
targetArray.push(sourceArray.splice(characterIndex,1)[0]);}

return targetArray.join('');}


function getShuffled(){
if(shuffled){
return shuffled;}

shuffled = shuffle();
return shuffled;}







function lookup(index){
var alphabetShuffled=getShuffled();
return alphabetShuffled[index];}


module.exports = {
characters:characters,
seed:setSeed,
lookup:lookup,
shuffled:getShuffled};
});
__d('shortid/lib/random/random-from-seed.js',function(global, require, module, exports) {  'use strict';




var seed=1;






function getNextValue(){
seed = (seed * 9301 + 49297) % 233280;
return seed / 233280.0;}


function setSeed(_seed_){
seed = _seed_;}


module.exports = {
nextValue:getNextValue,
seed:setSeed};
});
__d('shortid/lib/encode.js',function(global, require, module, exports) {  'use strict';

var randomByte=require('shortid/lib/random/random-byte-browser.js');

function encode(lookup,number){
var loopCounter=0;
var done;

var str='';

while(!done) {
str = str + lookup(number >> 4 * loopCounter & 0x0f | randomByte());
done = number < Math.pow(16,loopCounter + 1);
loopCounter++;}

return str;}


module.exports = encode;
});
__d('shortid/lib/random/random-byte-browser.js',function(global, require, module, exports) {  'use strict';

var crypto=window.crypto || window.msCrypto;

function randomByte(){
if(!crypto || !crypto.getRandomValues){
return Math.floor(Math.random() * 256) & 0x30;}

var dest=new Uint8Array(1);
crypto.getRandomValues(dest);
return dest[0] & 0x30;}


module.exports = randomByte;
});
__d('shortid/lib/decode.js',function(global, require, module, exports) {  'use strict';
var alphabet=require('shortid/lib/alphabet.js');






function decode(id){
var characters=alphabet.shuffled();
return {
version:characters.indexOf(id.substr(0,1)) & 0x0f,
worker:characters.indexOf(id.substr(1,1)) & 0x0f};}



module.exports = decode;
});
__d('shortid/lib/is-valid.js',function(global, require, module, exports) {  'use strict';
var alphabet=require('shortid/lib/alphabet.js');

function isShortId(id){
if(!id || typeof id !== 'string' || id.length < 6){
return false;}


var characters=alphabet.characters();
var invalidCharacters=id.split('').map(function(char){
if(characters.indexOf(char) === -1){
return char;}}).

join('').split('').join('');

return invalidCharacters.length === 0;}


module.exports = isShortId;
});
__d('shortid/lib/util/cluster-worker-id-browser.js',function(global, require, module, exports) {  'use strict';

module.exports = 0;
});
__d('react-native-fs/FS.ios.js',function(global, require, module, exports) {  'use strict';

var RNFSManager=require('react-native/Libraries/react-native/react-native.js').NativeModules.RNFSManager;
var Promise=require('bluebird/js/browser/bluebird.js');
var base64=require('base-64/base64.js');

var _readDir=Promise.promisify(RNFSManager.readDir);
var _stat=Promise.promisify(RNFSManager.stat);
var _readFile=Promise.promisify(RNFSManager.readFile);
var _writeFile=Promise.promisify(RNFSManager.writeFile);
var _unlink=Promise.promisify(RNFSManager.unlink);
var _pathForBundle=Promise.promisify(RNFSManager.pathForBundle);

var convertError=function(err){
if(err.isOperational){
err = err.cause;}


var error=new Error(err.description || err.message);
error.code = err.code;
throw error;};


var NSFileTypeRegular=RNFSManager.NSFileTypeRegular;
var NSFileTypeDirectory=RNFSManager.NSFileTypeDirectory;

var RNFS={

readDir:function(path,rootDir){
return _readDir(path,rootDir).
catch(convertError);},


stat:function(filepath){
return _stat(filepath).
then(function(result){
return {
'ctime':new Date(result.ctime * 1000),
'mtime':new Date(result.mtime * 1000),
'size':result.size,
'mode':result.mode,
isFile:function(){return result.type === NSFileTypeRegular;},
isDirectory:function(){return result.type === NSFileTypeDirectory;}};}).


catch(convertError);},


readFile:function(filepath,shouldDecode){
var p=_readFile(filepath);

if(shouldDecode !== false){
p = p.then(function(data){
return base64.decode(data);});}



return p.catch(convertError);},


writeFile:function(filepath,contents,options){
return _writeFile(filepath,base64.encode(contents),options).
catch(convertError);},


pathForBundle:function(bundleName){
return _pathForBundle(bundleName);},


unlink:function(filepath){
return _unlink(filepath).
catch(convertError);},


MainBundle:RNFSManager.MainBundleDirectory,
CachesDirectory:RNFSManager.NSCachesDirectory,
DocumentDirectory:RNFSManager.NSDocumentDirectory,
CachesDirectoryPath:RNFSManager.NSCachesDirectoryPath,
DocumentDirectoryPath:RNFSManager.NSDocumentDirectoryPath};


module.exports = RNFS;
});
__d('bluebird/js/browser/bluebird.js',function(global, require, module, exports) {  /* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */




!(function(e){if("object" == typeof exports && "undefined" != typeof module)module.exports = e();else if("function" == typeof define && define.amd)define([],e);else {var f;"undefined" != typeof window?f = window:"undefined" != typeof global?f = global:"undefined" != typeof self && (f = self),f.Promise = e();}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_ == "function" && _dereq_;if(!u && a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '" + o + "'");throw (f.code = "MODULE_NOT_FOUND",f);}var l=n[o] = {exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;}var i=typeof _dereq_ == "function" && _dereq_;for(var o=0;o < r.length;o++) s(r[o]);return s;})({1:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise){
var SomePromiseArray=Promise._SomePromiseArray;
function any(promises){
var ret=new SomePromiseArray(promises);
var promise=ret.promise();
ret.setHowMany(1);
ret.setUnwrap();
ret.init();
return promise;}


Promise.any = function(promises){
return any(promises);};


Promise.prototype.any = function(){
return any(this);};};},




{}],2:[function(_dereq_,module,exports){
"use strict";
var firstLineError;
try{throw new Error();}catch(e) {firstLineError = e;}
var schedule=_dereq_("./schedule.js");
var Queue=_dereq_("./queue.js");
var util=_dereq_("./util.js");

function Async(){
this._isTickUsed = false;
this._lateQueue = new Queue(16);
this._normalQueue = new Queue(16);
this._trampolineEnabled = true;
var self=this;
this.drainQueues = function(){
self._drainQueues();};

this._schedule = 
schedule.isStatic?schedule(this.drainQueues):schedule;}


Async.prototype.disableTrampolineIfNecessary = function(){
if(util.hasDevTools){
this._trampolineEnabled = false;}};



Async.prototype.enableTrampoline = function(){
if(!this._trampolineEnabled){
this._trampolineEnabled = true;
this._schedule = function(fn){
setTimeout(fn,0);};}};




Async.prototype.haveItemsQueued = function(){
return this._normalQueue.length() > 0;};


Async.prototype.throwLater = function(fn,arg){
if(arguments.length === 1){
arg = fn;
fn = function(){throw arg;};}

if(typeof setTimeout !== "undefined"){
setTimeout(function(){
fn(arg);},
0);}else 
try{
this._schedule(function(){
fn(arg);});}

catch(e) {
throw new Error("No async scheduler available\u000a\u000a    See http://goo.gl/m3OTXk\u000a");}};



function AsyncInvokeLater(fn,receiver,arg){
this._lateQueue.push(fn,receiver,arg);
this._queueTick();}


function AsyncInvoke(fn,receiver,arg){
this._normalQueue.push(fn,receiver,arg);
this._queueTick();}


function AsyncSettlePromises(promise){
this._normalQueue._pushOne(promise);
this._queueTick();}


if(!util.hasDevTools){
Async.prototype.invokeLater = AsyncInvokeLater;
Async.prototype.invoke = AsyncInvoke;
Async.prototype.settlePromises = AsyncSettlePromises;}else 
{
if(schedule.isStatic){
schedule = function(fn){setTimeout(fn,0);};}

Async.prototype.invokeLater = function(fn,receiver,arg){
if(this._trampolineEnabled){
AsyncInvokeLater.call(this,fn,receiver,arg);}else 
{
this._schedule(function(){
setTimeout(function(){
fn.call(receiver,arg);},
100);});}};




Async.prototype.invoke = function(fn,receiver,arg){
if(this._trampolineEnabled){
AsyncInvoke.call(this,fn,receiver,arg);}else 
{
this._schedule(function(){
fn.call(receiver,arg);});}};




Async.prototype.settlePromises = function(promise){
if(this._trampolineEnabled){
AsyncSettlePromises.call(this,promise);}else 
{
this._schedule(function(){
promise._settlePromises();});}};}





Async.prototype.invokeFirst = function(fn,receiver,arg){
this._normalQueue.unshift(fn,receiver,arg);
this._queueTick();};


Async.prototype._drainQueue = function(queue){
while(queue.length() > 0) {
var fn=queue.shift();
if(typeof fn !== "function"){
fn._settlePromises();
continue;}

var receiver=queue.shift();
var arg=queue.shift();
fn.call(receiver,arg);}};



Async.prototype._drainQueues = function(){
this._drainQueue(this._normalQueue);
this._reset();
this._drainQueue(this._lateQueue);};


Async.prototype._queueTick = function(){
if(!this._isTickUsed){
this._isTickUsed = true;
this._schedule(this.drainQueues);}};



Async.prototype._reset = function(){
this._isTickUsed = false;};


module.exports = new Async();
module.exports.firstLineError = firstLineError;},

{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL,tryConvertToPromise){
var rejectThis=function(_,e){
this._reject(e);};


var targetRejected=function(e,context){
context.promiseRejectionQueued = true;
context.bindingPromise._then(rejectThis,rejectThis,null,this,e);};


var bindingResolved=function(thisArg,context){
if(this._isPending()){
this._resolveCallback(context.target);}};



var bindingRejected=function(e,context){
if(!context.promiseRejectionQueued)this._reject(e);};


Promise.prototype.bind = function(thisArg){
var maybePromise=tryConvertToPromise(thisArg);
var ret=new Promise(INTERNAL);
ret._propagateFrom(this,1);
var target=this._target();

ret._setBoundTo(maybePromise);
if(maybePromise instanceof Promise){
var context={
promiseRejectionQueued:false,
promise:ret,
target:target,
bindingPromise:maybePromise};

target._then(INTERNAL,targetRejected,ret._progress,ret,context);
maybePromise._then(
bindingResolved,bindingRejected,ret._progress,ret,context);}else 
{
ret._resolveCallback(target);}

return ret;};


Promise.prototype._setBoundTo = function(obj){
if(obj !== undefined){
this._bitField = this._bitField | 131072;
this._boundTo = obj;}else 
{
this._bitField = this._bitField & ~131072;}};



Promise.prototype._isBound = function(){
return (this._bitField & 131072) === 131072;};


Promise.bind = function(thisArg,value){
var maybePromise=tryConvertToPromise(thisArg);
var ret=new Promise(INTERNAL);

ret._setBoundTo(maybePromise);
if(maybePromise instanceof Promise){
maybePromise._then(function(){
ret._resolveCallback(value);},
ret._reject,ret._progress,ret,null);}else 
{
ret._resolveCallback(value);}

return ret;};};},



{}],4:[function(_dereq_,module,exports){
"use strict";
var old;
if(typeof Promise !== "undefined")old = Promise;
function noConflict(){
try{if(Promise === bluebird)Promise = old;}
catch(e) {}
return bluebird;}

var bluebird=_dereq_("./promise.js")();
bluebird.noConflict = noConflict;
module.exports = bluebird;},

{"./promise.js":23}],5:[function(_dereq_,module,exports){
"use strict";
var cr=Object.create;
if(cr){
var callerCache=cr(null);
var getterCache=cr(null);
callerCache[" size"] = getterCache[" size"] = 0;}


module.exports = function(Promise){
var util=_dereq_("./util.js");
var canEvaluate=util.canEvaluate;
var isIdentifier=util.isIdentifier;

var getMethodCaller;
var getGetter;
if(!true){
var makeMethodCaller=function(methodName){
return new Function("ensureMethod","                                    \n\
        return function(obj) {                                               \n\
            'use strict'                                                     \n\
            var len = this.length;                                           \n\
            ensureMethod(obj, 'methodName');                                 \n\
            switch(len) {                                                    \n\
                case 1: return obj.methodName(this[0]);                      \n\
                case 2: return obj.methodName(this[0], this[1]);             \n\
                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\
                case 0: return obj.methodName();                             \n\
                default:                                                     \n\
                    return obj.methodName.apply(obj, this);                  \n\
            }                                                                \n\
        };                                                                   \n\
        ".replace(/methodName/g,methodName))(ensureMethod);};


var makeGetter=function(propertyName){
return new Function("obj","                                             \n\
        'use strict';                                                        \n\
        return obj.propertyName;                                             \n\
        ".replace("propertyName",propertyName));};


var getCompiled=function(name,compiler,cache){
var ret=cache[name];
if(typeof ret !== "function"){
if(!isIdentifier(name)){
return null;}

ret = compiler(name);
cache[name] = ret;
cache[" size"]++;
if(cache[" size"] > 512){
var keys=Object.keys(cache);
for(var i=0;i < 256;++i) delete cache[keys[i]];
cache[" size"] = keys.length - 256;}}


return ret;};


getMethodCaller = function(name){
return getCompiled(name,makeMethodCaller,callerCache);};


getGetter = function(name){
return getCompiled(name,makeGetter,getterCache);};}



function ensureMethod(obj,methodName){
var fn;
if(obj != null)fn = obj[methodName];
if(typeof fn !== "function"){
var message="Object " + util.classString(obj) + " has no method '" + 
util.toString(methodName) + "'";
throw new Promise.TypeError(message);}

return fn;}


function caller(obj){
var methodName=this.pop();
var fn=ensureMethod(obj,methodName);
return fn.apply(obj,this);}

Promise.prototype.call = function(methodName){
var $_len=arguments.length;var args=new Array($_len - 1);for(var $_i=1;$_i < $_len;++$_i) {args[$_i - 1] = arguments[$_i];}
if(!true){
if(canEvaluate){
var maybeCaller=getMethodCaller(methodName);
if(maybeCaller !== null){
return this._then(
maybeCaller,undefined,undefined,args,undefined);}}}



args.push(methodName);
return this._then(caller,undefined,undefined,args,undefined);};


function namedGetter(obj){
return obj[this];}

function indexedGetter(obj){
var index=+this;
if(index < 0)index = Math.max(0,index + obj.length);
return obj[index];}

Promise.prototype.get = function(propertyName){
var isIndex=typeof propertyName === "number";
var getter;
if(!isIndex){
if(canEvaluate){
var maybeGetter=getGetter(propertyName);
getter = maybeGetter !== null?maybeGetter:namedGetter;}else 
{
getter = namedGetter;}}else 

{
getter = indexedGetter;}

return this._then(getter,undefined,undefined,propertyName,undefined);};};},



{"./util.js":38}],6:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise){
var errors=_dereq_("./errors.js");
var async=_dereq_("./async.js");
var CancellationError=errors.CancellationError;

Promise.prototype._cancel = function(reason){
if(!this.isCancellable())return this;
var parent;
var promiseToReject=this;
while((parent = promiseToReject._cancellationParent) !== undefined && 
parent.isCancellable()) {
promiseToReject = parent;}

this._unsetCancellable();
promiseToReject._target()._rejectCallback(reason,false,true);};


Promise.prototype.cancel = function(reason){
if(!this.isCancellable())return this;
if(reason === undefined)reason = new CancellationError();
async.invokeLater(this._cancel,this,reason);
return this;};


Promise.prototype.cancellable = function(){
if(this._cancellable())return this;
async.enableTrampoline();
this._setCancellable();
this._cancellationParent = undefined;
return this;};


Promise.prototype.uncancellable = function(){
var ret=this.then();
ret._unsetCancellable();
return ret;};


Promise.prototype.fork = function(didFulfill,didReject,didProgress){
var ret=this._then(didFulfill,didReject,didProgress,
undefined,undefined);

ret._setCancellable();
ret._cancellationParent = undefined;
return ret;};};},



{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module,exports){
"use strict";
module.exports = function(){
var async=_dereq_("./async.js");
var util=_dereq_("./util.js");
var bluebirdFramePattern=
/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;
var stackFramePattern=null;
var formatStack=null;
var indentStackFrames=false;
var warn;

function CapturedTrace(parent){
this._parent = parent;
var length=this._length = 1 + (parent === undefined?0:parent._length);
captureStackTrace(this,CapturedTrace);
if(length > 32)this.uncycle();}

util.inherits(CapturedTrace,Error);

CapturedTrace.prototype.uncycle = function(){
var length=this._length;
if(length < 2)return;
var nodes=[];
var stackToIndex={};

for(var i=0,node=this;node !== undefined;++i) {
nodes.push(node);
node = node._parent;}

length = this._length = i;
for(var i=length - 1;i >= 0;--i) {
var stack=nodes[i].stack;
if(stackToIndex[stack] === undefined){
stackToIndex[stack] = i;}}


for(var i=0;i < length;++i) {
var currentStack=nodes[i].stack;
var index=stackToIndex[currentStack];
if(index !== undefined && index !== i){
if(index > 0){
nodes[index - 1]._parent = undefined;
nodes[index - 1]._length = 1;}

nodes[i]._parent = undefined;
nodes[i]._length = 1;
var cycleEdgeNode=i > 0?nodes[i - 1]:this;

if(index < length - 1){
cycleEdgeNode._parent = nodes[index + 1];
cycleEdgeNode._parent.uncycle();
cycleEdgeNode._length = 
cycleEdgeNode._parent._length + 1;}else 
{
cycleEdgeNode._parent = undefined;
cycleEdgeNode._length = 1;}

var currentChildLength=cycleEdgeNode._length + 1;
for(var j=i - 2;j >= 0;--j) {
nodes[j]._length = currentChildLength;
currentChildLength++;}

return;}}};




CapturedTrace.prototype.parent = function(){
return this._parent;};


CapturedTrace.prototype.hasParent = function(){
return this._parent !== undefined;};


CapturedTrace.prototype.attachExtraTrace = function(error){
if(error.__stackCleaned__)return;
this.uncycle();
var parsed=CapturedTrace.parseStackAndMessage(error);
var message=parsed.message;
var stacks=[parsed.stack];

var trace=this;
while(trace !== undefined) {
stacks.push(cleanStack(trace.stack.split("\n")));
trace = trace._parent;}

removeCommonRoots(stacks);
removeDuplicateOrEmptyJumps(stacks);
util.notEnumerableProp(error,"stack",reconstructStack(message,stacks));
util.notEnumerableProp(error,"__stackCleaned__",true);};


function reconstructStack(message,stacks){
for(var i=0;i < stacks.length - 1;++i) {
stacks[i].push("From previous event:");
stacks[i] = stacks[i].join("\n");}

if(i < stacks.length){
stacks[i] = stacks[i].join("\n");}

return message + "\n" + stacks.join("\n");}


function removeDuplicateOrEmptyJumps(stacks){
for(var i=0;i < stacks.length;++i) {
if(stacks[i].length === 0 || 
i + 1 < stacks.length && stacks[i][0] === stacks[i + 1][0]){
stacks.splice(i,1);
i--;}}}




function removeCommonRoots(stacks){
var current=stacks[0];
for(var i=1;i < stacks.length;++i) {
var prev=stacks[i];
var currentLastIndex=current.length - 1;
var currentLastLine=current[currentLastIndex];
var commonRootMeetPoint=-1;

for(var j=prev.length - 1;j >= 0;--j) {
if(prev[j] === currentLastLine){
commonRootMeetPoint = j;
break;}}



for(var j=commonRootMeetPoint;j >= 0;--j) {
var line=prev[j];
if(current[currentLastIndex] === line){
current.pop();
currentLastIndex--;}else 
{
break;}}


current = prev;}}



function cleanStack(stack){
var ret=[];
for(var i=0;i < stack.length;++i) {
var line=stack[i];
var isTraceLine=stackFramePattern.test(line) || 
"    (No stack trace)" === line;
var isInternalFrame=isTraceLine && shouldIgnore(line);
if(isTraceLine && !isInternalFrame){
if(indentStackFrames && line.charAt(0) !== " "){
line = "    " + line;}

ret.push(line);}}


return ret;}


function stackFramesAsArray(error){
var stack=error.stack.replace(/\s+$/g,"").split("\n");
for(var i=0;i < stack.length;++i) {
var line=stack[i];
if("    (No stack trace)" === line || stackFramePattern.test(line)){
break;}}


if(i > 0){
stack = stack.slice(i);}

return stack;}


CapturedTrace.parseStackAndMessage = function(error){
var stack=error.stack;
var message=error.toString();
stack = typeof stack === "string" && stack.length > 0?
stackFramesAsArray(error):["    (No stack trace)"];
return {
message:message,
stack:cleanStack(stack)};};



CapturedTrace.formatAndLogError = function(error,title){
if(typeof console !== "undefined"){
var message;
if(typeof error === "object" || typeof error === "function"){
var stack=error.stack;
message = title + formatStack(stack,error);}else 
{
message = title + String(error);}

if(typeof warn === "function"){
warn(message);}else 
if(typeof console.log === "function" || 
typeof console.log === "object"){
console.log(message);}}};




CapturedTrace.unhandledRejection = function(reason){
CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ");};


CapturedTrace.isSupported = function(){
return typeof captureStackTrace === "function";};


CapturedTrace.fireRejectionEvent = 
function(name,localHandler,reason,promise){
var localEventFired=false;
try{
if(typeof localHandler === "function"){
localEventFired = true;
if(name === "rejectionHandled"){
localHandler(promise);}else 
{
localHandler(reason,promise);}}}


catch(e) {
async.throwLater(e);}


var globalEventFired=false;
try{
globalEventFired = fireGlobalEvent(name,reason,promise);}
catch(e) {
globalEventFired = true;
async.throwLater(e);}


var domEventFired=false;
if(fireDomEvent){
try{
domEventFired = fireDomEvent(name.toLowerCase(),{
reason:reason,
promise:promise});}

catch(e) {
domEventFired = true;
async.throwLater(e);}}



if(!globalEventFired && !localEventFired && !domEventFired && 
name === "unhandledRejection"){
CapturedTrace.formatAndLogError(reason,"Unhandled rejection ");}};



function formatNonError(obj){
var str;
if(typeof obj === "function"){
str = "[function " + (
obj.name || "anonymous") + 
"]";}else 
{
str = obj.toString();
var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;
if(ruselessToString.test(str)){
try{
var newStr=JSON.stringify(obj);
str = newStr;}

catch(e) {}}



if(str.length === 0){
str = "(empty array)";}}


return "(<" + snip(str) + ">, no stack trace)";}


function snip(str){
var maxChars=41;
if(str.length < maxChars){
return str;}

return str.substr(0,maxChars - 3) + "...";}


var shouldIgnore=function(){return false;};
var parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;
function parseLineInfo(line){
var matches=line.match(parseLineInfoRegex);
if(matches){
return {
fileName:matches[1],
line:parseInt(matches[2],10)};}}



CapturedTrace.setBounds = function(firstLineError,lastLineError){
if(!CapturedTrace.isSupported())return;
var firstStackLines=firstLineError.stack.split("\n");
var lastStackLines=lastLineError.stack.split("\n");
var firstIndex=-1;
var lastIndex=-1;
var firstFileName;
var lastFileName;
for(var i=0;i < firstStackLines.length;++i) {
var result=parseLineInfo(firstStackLines[i]);
if(result){
firstFileName = result.fileName;
firstIndex = result.line;
break;}}


for(var i=0;i < lastStackLines.length;++i) {
var result=parseLineInfo(lastStackLines[i]);
if(result){
lastFileName = result.fileName;
lastIndex = result.line;
break;}}


if(firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName || 
firstFileName !== lastFileName || firstIndex >= lastIndex){
return;}


shouldIgnore = function(line){
if(bluebirdFramePattern.test(line))return true;
var info=parseLineInfo(line);
if(info){
if(info.fileName === firstFileName && 
firstIndex <= info.line && info.line <= lastIndex){
return true;}}


return false;};};



var captureStackTrace=(function stackDetection(){
var v8stackFramePattern=/^\s*at\s*/;
var v8stackFormatter=function(stack,error){
if(typeof stack === "string")return stack;

if(error.name !== undefined && 
error.message !== undefined){
return error.toString();}

return formatNonError(error);};


if(typeof Error.stackTraceLimit === "number" && 
typeof Error.captureStackTrace === "function"){
Error.stackTraceLimit = Error.stackTraceLimit + 6;
stackFramePattern = v8stackFramePattern;
formatStack = v8stackFormatter;
var captureStackTrace=Error.captureStackTrace;

shouldIgnore = function(line){
return bluebirdFramePattern.test(line);};

return function(receiver,ignoreUntil){
Error.stackTraceLimit = Error.stackTraceLimit + 6;
captureStackTrace(receiver,ignoreUntil);
Error.stackTraceLimit = Error.stackTraceLimit - 6;};}


var err=new Error();

if(typeof err.stack === "string" && 
err.stack.split("\n")[0].indexOf("stackDetection@") >= 0){
stackFramePattern = /@/;
formatStack = v8stackFormatter;
indentStackFrames = true;
return function captureStackTrace(o){
o.stack = new Error().stack;};}



var hasStackAfterThrow;
try{throw new Error();}
catch(e) {
hasStackAfterThrow = "stack" in e;}

if(!("stack" in err) && hasStackAfterThrow && 
typeof Error.stackTraceLimit === "number"){
stackFramePattern = v8stackFramePattern;
formatStack = v8stackFormatter;
return function captureStackTrace(o){
Error.stackTraceLimit = Error.stackTraceLimit + 6;
try{throw new Error();}
catch(e) {o.stack = e.stack;}
Error.stackTraceLimit = Error.stackTraceLimit - 6;};}



formatStack = function(stack,error){
if(typeof stack === "string")return stack;

if((typeof error === "object" || 
typeof error === "function") && 
error.name !== undefined && 
error.message !== undefined){
return error.toString();}

return formatNonError(error);};


return null;})(

[]);

var fireDomEvent;
var fireGlobalEvent=(function(){
if(util.isNode){
return function(name,reason,promise){
if(name === "rejectionHandled"){
return process.emit(name,promise);}else 
{
return process.emit(name,reason,promise);}};}else 


{
var customEventWorks=false;
var anyEventWorks=true;
try{
var ev=new self.CustomEvent("test");
customEventWorks = ev instanceof CustomEvent;}
catch(e) {}
if(!customEventWorks){
try{
var event=document.createEvent("CustomEvent");
event.initCustomEvent("testingtheevent",false,true,{});
self.dispatchEvent(event);}
catch(e) {
anyEventWorks = false;}}


if(anyEventWorks){
fireDomEvent = function(type,detail){
var event;
if(customEventWorks){
event = new self.CustomEvent(type,{
detail:detail,
bubbles:false,
cancelable:true});}else 

if(self.dispatchEvent){
event = document.createEvent("CustomEvent");
event.initCustomEvent(type,false,true,detail);}


return event?!self.dispatchEvent(event):false;};}



var toWindowMethodNameMap={};
toWindowMethodNameMap["unhandledRejection"] = ("on" + 
"unhandledRejection").toLowerCase();
toWindowMethodNameMap["rejectionHandled"] = ("on" + 
"rejectionHandled").toLowerCase();

return function(name,reason,promise){
var methodName=toWindowMethodNameMap[name];
var method=self[methodName];
if(!method)return false;
if(name === "rejectionHandled"){
method.call(self,promise);}else 
{
method.call(self,reason,promise);}

return true;};}})();




if(typeof console !== "undefined" && typeof console.warn !== "undefined"){
warn = function(message){
console.warn(message);};

if(util.isNode && process.stderr.isTTY){
warn = function(message){
process.stderr.write("\u001b[31m" + message + "\u001b[39m\n");};}else 

if(!util.isNode && typeof new Error().stack === "string"){
warn = function(message){
console.warn("%c" + message,"color: red");};}}




return CapturedTrace;};},


{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module,exports){
"use strict";
module.exports = function(NEXT_FILTER){
var util=_dereq_("./util.js");
var errors=_dereq_("./errors.js");
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;
var keys=_dereq_("./es5.js").keys;
var TypeError=errors.TypeError;

function CatchFilter(instances,callback,promise){
this._instances = instances;
this._callback = callback;
this._promise = promise;}


function safePredicate(predicate,e){
var safeObject={};
var retfilter=tryCatch(predicate).call(safeObject,e);

if(retfilter === errorObj)return retfilter;

var safeKeys=keys(safeObject);
if(safeKeys.length){
errorObj.e = new TypeError("Catch filter must inherit from Error or be a simple predicate function\u000a\u000a    See http://goo.gl/o84o68\u000a");
return errorObj;}

return retfilter;}


CatchFilter.prototype.doFilter = function(e){
var cb=this._callback;
var promise=this._promise;
var boundTo=promise._boundValue();
for(var i=0,len=this._instances.length;i < len;++i) {
var item=this._instances[i];
var itemIsErrorType=item === Error || 
item != null && item.prototype instanceof Error;

if(itemIsErrorType && e instanceof item){
var ret=tryCatch(cb).call(boundTo,e);
if(ret === errorObj){
NEXT_FILTER.e = ret.e;
return NEXT_FILTER;}

return ret;}else 
if(typeof item === "function" && !itemIsErrorType){
var shouldHandle=safePredicate(item,e);
if(shouldHandle === errorObj){
e = errorObj.e;
break;}else 
if(shouldHandle){
var ret=tryCatch(cb).call(boundTo,e);
if(ret === errorObj){
NEXT_FILTER.e = ret.e;
return NEXT_FILTER;}

return ret;}}}



NEXT_FILTER.e = e;
return NEXT_FILTER;};


return CatchFilter;};},


{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,CapturedTrace,isDebugging){
var contextStack=[];
function Context(){
this._trace = new CapturedTrace(peekContext());}

Context.prototype._pushContext = function(){
if(!isDebugging())return;
if(this._trace !== undefined){
contextStack.push(this._trace);}};



Context.prototype._popContext = function(){
if(!isDebugging())return;
if(this._trace !== undefined){
contextStack.pop();}};



function createContext(){
if(isDebugging())return new Context();}


function peekContext(){
var lastIndex=contextStack.length - 1;
if(lastIndex >= 0){
return contextStack[lastIndex];}

return undefined;}


Promise.prototype._peekContext = peekContext;
Promise.prototype._pushContext = Context.prototype._pushContext;
Promise.prototype._popContext = Context.prototype._popContext;

return createContext;};},


{}],10:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,CapturedTrace){
var getDomain=Promise._getDomain;
var async=_dereq_("./async.js");
var Warning=_dereq_("./errors.js").Warning;
var util=_dereq_("./util.js");
var canAttachTrace=util.canAttachTrace;
var unhandledRejectionHandled;
var possiblyUnhandledRejection;
var debugging=false || util.isNode && (
!!process.env["BLUEBIRD_DEBUG"] || 
process.env["NODE_ENV"] === "development");

if(util.isNode && process.env["BLUEBIRD_DEBUG"] == 0)debugging = false;

if(debugging){
async.disableTrampolineIfNecessary();}


Promise.prototype._ignoreRejections = function(){
this._unsetRejectionIsUnhandled();
this._bitField = this._bitField | 16777216;};


Promise.prototype._ensurePossibleRejectionHandled = function(){
if((this._bitField & 16777216) !== 0)return;
this._setRejectionIsUnhandled();
async.invokeLater(this._notifyUnhandledRejection,this,undefined);};


Promise.prototype._notifyUnhandledRejectionIsHandled = function(){
CapturedTrace.fireRejectionEvent("rejectionHandled",
unhandledRejectionHandled,undefined,this);};


Promise.prototype._notifyUnhandledRejection = function(){
if(this._isRejectionUnhandled()){
var reason=this._getCarriedStackTrace() || this._settledValue;
this._setUnhandledRejectionIsNotified();
CapturedTrace.fireRejectionEvent("unhandledRejection",
possiblyUnhandledRejection,reason,this);}};



Promise.prototype._setUnhandledRejectionIsNotified = function(){
this._bitField = this._bitField | 524288;};


Promise.prototype._unsetUnhandledRejectionIsNotified = function(){
this._bitField = this._bitField & ~524288;};


Promise.prototype._isUnhandledRejectionNotified = function(){
return (this._bitField & 524288) > 0;};


Promise.prototype._setRejectionIsUnhandled = function(){
this._bitField = this._bitField | 2097152;};


Promise.prototype._unsetRejectionIsUnhandled = function(){
this._bitField = this._bitField & ~2097152;
if(this._isUnhandledRejectionNotified()){
this._unsetUnhandledRejectionIsNotified();
this._notifyUnhandledRejectionIsHandled();}};



Promise.prototype._isRejectionUnhandled = function(){
return (this._bitField & 2097152) > 0;};


Promise.prototype._setCarriedStackTrace = function(capturedTrace){
this._bitField = this._bitField | 1048576;
this._fulfillmentHandler0 = capturedTrace;};


Promise.prototype._isCarryingStackTrace = function(){
return (this._bitField & 1048576) > 0;};


Promise.prototype._getCarriedStackTrace = function(){
return this._isCarryingStackTrace()?
this._fulfillmentHandler0:
undefined;};


Promise.prototype._captureStackTrace = function(){
if(debugging){
this._trace = new CapturedTrace(this._peekContext());}

return this;};


Promise.prototype._attachExtraTrace = function(error,ignoreSelf){
if(debugging && canAttachTrace(error)){
var trace=this._trace;
if(trace !== undefined){
if(ignoreSelf)trace = trace._parent;}

if(trace !== undefined){
trace.attachExtraTrace(error);}else 
if(!error.__stackCleaned__){
var parsed=CapturedTrace.parseStackAndMessage(error);
util.notEnumerableProp(error,"stack",
parsed.message + "\n" + parsed.stack.join("\n"));
util.notEnumerableProp(error,"__stackCleaned__",true);}}};




Promise.prototype._warn = function(message){
var warning=new Warning(message);
var ctx=this._peekContext();
if(ctx){
ctx.attachExtraTrace(warning);}else 
{
var parsed=CapturedTrace.parseStackAndMessage(warning);
warning.stack = parsed.message + "\n" + parsed.stack.join("\n");}

CapturedTrace.formatAndLogError(warning,"");};


Promise.onPossiblyUnhandledRejection = function(fn){
var domain=getDomain();
possiblyUnhandledRejection = 
typeof fn === "function"?domain === null?fn:domain.bind(fn):
undefined;};


Promise.onUnhandledRejectionHandled = function(fn){
var domain=getDomain();
unhandledRejectionHandled = 
typeof fn === "function"?domain === null?fn:domain.bind(fn):
undefined;};


Promise.longStackTraces = function(){
if(async.haveItemsQueued() && 
debugging === false)
{
throw new Error("cannot enable long stack traces after promises have been created\u000a\u000a    See http://goo.gl/DT1qyG\u000a");}

debugging = CapturedTrace.isSupported();
if(debugging){
async.disableTrampolineIfNecessary();}};



Promise.hasLongStackTraces = function(){
return debugging && CapturedTrace.isSupported();};


if(!CapturedTrace.isSupported()){
Promise.longStackTraces = function(){};
debugging = false;}


return function(){
return debugging;};};},



{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_dereq_,module,exports){
"use strict";
var util=_dereq_("./util.js");
var isPrimitive=util.isPrimitive;

module.exports = function(Promise){
var returner=function(){
return this;};

var thrower=function(){
throw this;};

var returnUndefined=function(){};
var throwUndefined=function(){
throw undefined;};


var wrapper=function(value,action){
if(action === 1){
return function(){
throw value;};}else 

if(action === 2){
return function(){
return value;};}};





Promise.prototype["return"] = 
Promise.prototype.thenReturn = function(value){
if(value === undefined)return this.then(returnUndefined);

if(isPrimitive(value)){
return this._then(
wrapper(value,2),
undefined,
undefined,
undefined,
undefined);}else 

if(value instanceof Promise){
value._ignoreRejections();}

return this._then(returner,undefined,undefined,value,undefined);};


Promise.prototype["throw"] = 
Promise.prototype.thenThrow = function(reason){
if(reason === undefined)return this.then(throwUndefined);

if(isPrimitive(reason)){
return this._then(
wrapper(reason,1),
undefined,
undefined,
undefined,
undefined);}


return this._then(thrower,undefined,undefined,reason,undefined);};};},



{"./util.js":38}],12:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL){
var PromiseReduce=Promise.reduce;

Promise.prototype.each = function(fn){
return PromiseReduce(this,fn,null,INTERNAL);};


Promise.each = function(promises,fn){
return PromiseReduce(promises,fn,null,INTERNAL);};};},



{}],13:[function(_dereq_,module,exports){
"use strict";
var es5=_dereq_("./es5.js");
var Objectfreeze=es5.freeze;
var util=_dereq_("./util.js");
var inherits=util.inherits;
var notEnumerableProp=util.notEnumerableProp;

function subError(nameProperty,defaultMessage){
function SubError(message){
if(!(this instanceof SubError))return new SubError(message);
notEnumerableProp(this,"message",
typeof message === "string"?message:defaultMessage);
notEnumerableProp(this,"name",nameProperty);
if(Error.captureStackTrace){
Error.captureStackTrace(this,this.constructor);}else 
{
Error.call(this);}}


inherits(SubError,Error);
return SubError;}


var _TypeError,_RangeError;
var Warning=subError("Warning","warning");
var CancellationError=subError("CancellationError","cancellation error");
var TimeoutError=subError("TimeoutError","timeout error");
var AggregateError=subError("AggregateError","aggregate error");
try{
_TypeError = TypeError;
_RangeError = RangeError;}
catch(e) {
_TypeError = subError("TypeError","type error");
_RangeError = subError("RangeError","range error");}


var methods=("join pop push shift unshift slice filter forEach some " + 
"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");

for(var i=0;i < methods.length;++i) {
if(typeof Array.prototype[methods[i]] === "function"){
AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];}}



es5.defineProperty(AggregateError.prototype,"length",{
value:0,
configurable:false,
writable:true,
enumerable:true});

AggregateError.prototype["isOperational"] = true;
var level=0;
AggregateError.prototype.toString = function(){
var indent=Array(level * 4 + 1).join(" ");
var ret="\n" + indent + "AggregateError of:" + "\n";
level++;
indent = Array(level * 4 + 1).join(" ");
for(var i=0;i < this.length;++i) {
var str=this[i] === this?"[Circular AggregateError]":this[i] + "";
var lines=str.split("\n");
for(var j=0;j < lines.length;++j) {
lines[j] = indent + lines[j];}

str = lines.join("\n");
ret += str + "\n";}

level--;
return ret;};


function OperationalError(message){
if(!(this instanceof OperationalError))
return new OperationalError(message);
notEnumerableProp(this,"name","OperationalError");
notEnumerableProp(this,"message",message);
this.cause = message;
this["isOperational"] = true;

if(message instanceof Error){
notEnumerableProp(this,"message",message.message);
notEnumerableProp(this,"stack",message.stack);}else 
if(Error.captureStackTrace){
Error.captureStackTrace(this,this.constructor);}}



inherits(OperationalError,Error);

var errorTypes=Error["__BluebirdErrorTypes__"];
if(!errorTypes){
errorTypes = Objectfreeze({
CancellationError:CancellationError,
TimeoutError:TimeoutError,
OperationalError:OperationalError,
RejectionError:OperationalError,
AggregateError:AggregateError});

notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes);}


module.exports = {
Error:Error,
TypeError:_TypeError,
RangeError:_RangeError,
CancellationError:errorTypes.CancellationError,
OperationalError:errorTypes.OperationalError,
TimeoutError:errorTypes.TimeoutError,
AggregateError:errorTypes.AggregateError,
Warning:Warning};},


{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module,exports){
var isES5=(function(){
"use strict";
return this === undefined;})();


if(isES5){
module.exports = {
freeze:Object.freeze,
defineProperty:Object.defineProperty,
getDescriptor:Object.getOwnPropertyDescriptor,
keys:Object.keys,
names:Object.getOwnPropertyNames,
getPrototypeOf:Object.getPrototypeOf,
isArray:Array.isArray,
isES5:isES5,
propertyIsWritable:function(obj,prop){
var descriptor=Object.getOwnPropertyDescriptor(obj,prop);
return !!(!descriptor || descriptor.writable || descriptor.set);}};}else 


{
var has=({}).hasOwnProperty;
var str=({}).toString;
var proto=({}).constructor.prototype;

var ObjectKeys=function(o){
var ret=[];
for(var key in o) {
if(has.call(o,key)){
ret.push(key);}}


return ret;};


var ObjectGetDescriptor=function(o,key){
return {value:o[key]};};


var ObjectDefineProperty=function(o,key,desc){
o[key] = desc.value;
return o;};


var ObjectFreeze=function(obj){
return obj;};


var ObjectGetPrototypeOf=function(obj){
try{
return Object(obj).constructor.prototype;}

catch(e) {
return proto;}};



var ArrayIsArray=function(obj){
try{
return str.call(obj) === "[object Array]";}

catch(e) {
return false;}};



module.exports = {
isArray:ArrayIsArray,
keys:ObjectKeys,
names:ObjectKeys,
defineProperty:ObjectDefineProperty,
getDescriptor:ObjectGetDescriptor,
freeze:ObjectFreeze,
getPrototypeOf:ObjectGetPrototypeOf,
isES5:isES5,
propertyIsWritable:function(){
return true;}};}},




{}],15:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL){
var PromiseMap=Promise.map;

Promise.prototype.filter = function(fn,options){
return PromiseMap(this,fn,options,INTERNAL);};


Promise.filter = function(promises,fn,options){
return PromiseMap(promises,fn,options,INTERNAL);};};},



{}],16:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,NEXT_FILTER,tryConvertToPromise){
var util=_dereq_("./util.js");
var isPrimitive=util.isPrimitive;
var thrower=util.thrower;

function returnThis(){
return this;}

function throwThis(){
throw this;}

function return$(r){
return function(){
return r;};}


function throw$(r){
return function(){
throw r;};}


function promisedFinally(ret,reasonOrValue,isFulfilled){
var then;
if(isPrimitive(reasonOrValue)){
then = isFulfilled?return$(reasonOrValue):throw$(reasonOrValue);}else 
{
then = isFulfilled?returnThis:throwThis;}

return ret._then(then,thrower,undefined,reasonOrValue,undefined);}


function finallyHandler(reasonOrValue){
var promise=this.promise;
var handler=this.handler;

var ret=promise._isBound()?
handler.call(promise._boundValue()):
handler();

if(ret !== undefined){
var maybePromise=tryConvertToPromise(ret,promise);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
return promisedFinally(maybePromise,reasonOrValue,
promise.isFulfilled());}}



if(promise.isRejected()){
NEXT_FILTER.e = reasonOrValue;
return NEXT_FILTER;}else 
{
return reasonOrValue;}}



function tapHandler(value){
var promise=this.promise;
var handler=this.handler;

var ret=promise._isBound()?
handler.call(promise._boundValue(),value):
handler(value);

if(ret !== undefined){
var maybePromise=tryConvertToPromise(ret,promise);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
return promisedFinally(maybePromise,value,true);}}


return value;}


Promise.prototype._passThroughHandler = function(handler,isFinally){
if(typeof handler !== "function")return this.then();

var promiseAndHandler={
promise:this,
handler:handler};


return this._then(
isFinally?finallyHandler:tapHandler,
isFinally?finallyHandler:undefined,undefined,
promiseAndHandler,undefined);};


Promise.prototype.lastly = 
Promise.prototype["finally"] = function(handler){
return this._passThroughHandler(handler,true);};


Promise.prototype.tap = function(handler){
return this._passThroughHandler(handler,false);};};},



{"./util.js":38}],17:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,
apiRejection,
INTERNAL,
tryConvertToPromise){
var errors=_dereq_("./errors.js");
var TypeError=errors.TypeError;
var util=_dereq_("./util.js");
var errorObj=util.errorObj;
var tryCatch=util.tryCatch;
var yieldHandlers=[];

function promiseFromYieldHandler(value,yieldHandlers,traceParent){
for(var i=0;i < yieldHandlers.length;++i) {
traceParent._pushContext();
var result=tryCatch(yieldHandlers[i])(value);
traceParent._popContext();
if(result === errorObj){
traceParent._pushContext();
var ret=Promise.reject(errorObj.e);
traceParent._popContext();
return ret;}

var maybePromise=tryConvertToPromise(result,traceParent);
if(maybePromise instanceof Promise)return maybePromise;}

return null;}


function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){
var promise=this._promise = new Promise(INTERNAL);
promise._captureStackTrace();
this._stack = stack;
this._generatorFunction = generatorFunction;
this._receiver = receiver;
this._generator = undefined;
this._yieldHandlers = typeof yieldHandler === "function"?
[yieldHandler].concat(yieldHandlers):
yieldHandlers;}


PromiseSpawn.prototype.promise = function(){
return this._promise;};


PromiseSpawn.prototype._run = function(){
this._generator = this._generatorFunction.call(this._receiver);
this._receiver = 
this._generatorFunction = undefined;
this._next(undefined);};


PromiseSpawn.prototype._continue = function(result){
if(result === errorObj){
return this._promise._rejectCallback(result.e,false,true);}


var value=result.value;
if(result.done === true){
this._promise._resolveCallback(value);}else 
{
var maybePromise=tryConvertToPromise(value,this._promise);
if(!(maybePromise instanceof Promise)){
maybePromise = 
promiseFromYieldHandler(maybePromise,
this._yieldHandlers,
this._promise);
if(maybePromise === null){
this._throw(
new TypeError(
"A value %s was yielded that could not be treated as a promise\u000a\u000a    See http://goo.gl/4Y4pDk\u000a\u000a".replace("%s",value) + 
"From coroutine:\u000a" + 
this._stack.split("\n").slice(1,-7).join("\n")));


return;}}


maybePromise._then(
this._next,
this._throw,
undefined,
this,
null);}};




PromiseSpawn.prototype._throw = function(reason){
this._promise._attachExtraTrace(reason);
this._promise._pushContext();
var result=tryCatch(this._generator["throw"]).
call(this._generator,reason);
this._promise._popContext();
this._continue(result);};


PromiseSpawn.prototype._next = function(value){
this._promise._pushContext();
var result=tryCatch(this._generator.next).call(this._generator,value);
this._promise._popContext();
this._continue(result);};


Promise.coroutine = function(generatorFunction,options){
if(typeof generatorFunction !== "function"){
throw new TypeError("generatorFunction must be a function\u000a\u000a    See http://goo.gl/6Vqhm0\u000a");}

var yieldHandler=Object(options).yieldHandler;
var PromiseSpawn$=PromiseSpawn;
var stack=new Error().stack;
return function(){
var generator=generatorFunction.apply(this,arguments);
var spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,
stack);
spawn._generator = generator;
spawn._next(undefined);
return spawn.promise();};};



Promise.coroutine.addYieldHandler = function(fn){
if(typeof fn !== "function")throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");
yieldHandlers.push(fn);};


Promise.spawn = function(generatorFunction){
if(typeof generatorFunction !== "function"){
return apiRejection("generatorFunction must be a function\u000a\u000a    See http://goo.gl/6Vqhm0\u000a");}

var spawn=new PromiseSpawn(generatorFunction,this);
var ret=spawn.promise();
spawn._run(Promise.spawn);
return ret;};};},



{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module,exports){
"use strict";
module.exports = 
function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){
var util=_dereq_("./util.js");
var canEvaluate=util.canEvaluate;
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;
var reject;

if(!true){
if(canEvaluate){
var thenCallback=function(i){
return new Function("value","holder","                             \n\
            'use strict';                                                    \n\
            holder.pIndex = value;                                           \n\
            holder.checkFulfillment(this);                                   \n\
            ".replace(/Index/g,i));};


var caller=function(count){
var values=[];
for(var i=1;i <= count;++i) values.push("holder.p" + i);
return new Function("holder","                                      \n\
            'use strict';                                                    \n\
            var callback = holder.fn;                                        \n\
            return callback(values);                                         \n\
            ".replace(/values/g,values.join(", ")));};

var thenCallbacks=[];
var callers=[undefined];
for(var i=1;i <= 5;++i) {
thenCallbacks.push(thenCallback(i));
callers.push(caller(i));}


var Holder=function(total,fn){
this.p1 = this.p2 = this.p3 = this.p4 = this.p5 = null;
this.fn = fn;
this.total = total;
this.now = 0;};


Holder.prototype.callers = callers;
Holder.prototype.checkFulfillment = function(promise){
var now=this.now;
now++;
var total=this.total;
if(now >= total){
var handler=this.callers[total];
promise._pushContext();
var ret=tryCatch(handler)(this);
promise._popContext();
if(ret === errorObj){
promise._rejectCallback(ret.e,false,true);}else 
{
promise._resolveCallback(ret);}}else 

{
this.now = now;}};



var reject=function(reason){
this._reject(reason);};}}




Promise.join = function(){
var last=arguments.length - 1;
var fn;
if(last > 0 && typeof arguments[last] === "function"){
fn = arguments[last];
if(!true){
if(last < 6 && canEvaluate){
var ret=new Promise(INTERNAL);
ret._captureStackTrace();
var holder=new Holder(last,fn);
var callbacks=thenCallbacks;
for(var i=0;i < last;++i) {
var maybePromise=tryConvertToPromise(arguments[i],ret);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
if(maybePromise._isPending()){
maybePromise._then(callbacks[i],reject,
undefined,ret,holder);}else 
if(maybePromise._isFulfilled()){
callbacks[i].call(ret,
maybePromise._value(),holder);}else 
{
ret._reject(maybePromise._reason());}}else 

{
callbacks[i].call(ret,maybePromise,holder);}}


return ret;}}}



var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i < $_len;++$_i) {args[$_i] = arguments[$_i];}
if(fn)args.pop();
var ret=new PromiseArray(args).promise();
return fn !== undefined?ret.spread(fn):ret;};};},




{"./util.js":38}],19:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,
PromiseArray,
apiRejection,
tryConvertToPromise,
INTERNAL){
var getDomain=Promise._getDomain;
var async=_dereq_("./async.js");
var util=_dereq_("./util.js");
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;
var PENDING={};
var EMPTY_ARRAY=[];

function MappingPromiseArray(promises,fn,limit,_filter){
this.constructor$(promises);
this._promise._captureStackTrace();
var domain=getDomain();
this._callback = domain === null?fn:domain.bind(fn);
this._preservedValues = _filter === INTERNAL?
new Array(this.length()):
null;
this._limit = limit;
this._inFlight = 0;
this._queue = limit >= 1?[]:EMPTY_ARRAY;
async.invoke(init,this,undefined);}

util.inherits(MappingPromiseArray,PromiseArray);
function init(){this._init$(undefined,-2);}

MappingPromiseArray.prototype._init = function(){};

MappingPromiseArray.prototype._promiseFulfilled = function(value,index){
var values=this._values;
var length=this.length();
var preservedValues=this._preservedValues;
var limit=this._limit;
if(values[index] === PENDING){
values[index] = value;
if(limit >= 1){
this._inFlight--;
this._drainQueue();
if(this._isResolved())return;}}else 

{
if(limit >= 1 && this._inFlight >= limit){
values[index] = value;
this._queue.push(index);
return;}

if(preservedValues !== null)preservedValues[index] = value;

var callback=this._callback;
var receiver=this._promise._boundValue();
this._promise._pushContext();
var ret=tryCatch(callback).call(receiver,value,index,length);
this._promise._popContext();
if(ret === errorObj)return this._reject(ret.e);

var maybePromise=tryConvertToPromise(ret,this._promise);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
if(maybePromise._isPending()){
if(limit >= 1)this._inFlight++;
values[index] = PENDING;
return maybePromise._proxyPromiseArray(this,index);}else 
if(maybePromise._isFulfilled()){
ret = maybePromise._value();}else 
{
return this._reject(maybePromise._reason());}}


values[index] = ret;}

var totalResolved=++this._totalResolved;
if(totalResolved >= length){
if(preservedValues !== null){
this._filter(values,preservedValues);}else 
{
this._resolve(values);}}};





MappingPromiseArray.prototype._drainQueue = function(){
var queue=this._queue;
var limit=this._limit;
var values=this._values;
while(queue.length > 0 && this._inFlight < limit) {
if(this._isResolved())return;
var index=queue.pop();
this._promiseFulfilled(values[index],index);}};



MappingPromiseArray.prototype._filter = function(booleans,values){
var len=values.length;
var ret=new Array(len);
var j=0;
for(var i=0;i < len;++i) {
if(booleans[i])ret[j++] = values[i];}

ret.length = j;
this._resolve(ret);};


MappingPromiseArray.prototype.preservedValues = function(){
return this._preservedValues;};


function map(promises,fn,options,_filter){
var limit=typeof options === "object" && options !== null?
options.concurrency:
0;
limit = typeof limit === "number" && 
isFinite(limit) && limit >= 1?limit:0;
return new MappingPromiseArray(promises,fn,limit,_filter);}


Promise.prototype.map = function(fn,options){
if(typeof fn !== "function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");

return map(this,fn,options,null).promise();};


Promise.map = function(promises,fn,options,_filter){
if(typeof fn !== "function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");
return map(promises,fn,options,_filter).promise();};};},





{"./async.js":2,"./util.js":38}],20:[function(_dereq_,module,exports){
"use strict";
module.exports = 
function(Promise,INTERNAL,tryConvertToPromise,apiRejection){
var util=_dereq_("./util.js");
var tryCatch=util.tryCatch;

Promise.method = function(fn){
if(typeof fn !== "function"){
throw new Promise.TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}

return function(){
var ret=new Promise(INTERNAL);
ret._captureStackTrace();
ret._pushContext();
var value=tryCatch(fn).apply(this,arguments);
ret._popContext();
ret._resolveFromSyncValue(value);
return ret;};};



Promise.attempt = Promise["try"] = function(fn,args,ctx){
if(typeof fn !== "function"){
return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}

var ret=new Promise(INTERNAL);
ret._captureStackTrace();
ret._pushContext();
var value=util.isArray(args)?
tryCatch(fn).apply(ctx,args):
tryCatch(fn).call(ctx,args);
ret._popContext();
ret._resolveFromSyncValue(value);
return ret;};


Promise.prototype._resolveFromSyncValue = function(value){
if(value === util.errorObj){
this._rejectCallback(value.e,false,true);}else 
{
this._resolveCallback(value,true);}};};},




{"./util.js":38}],21:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise){
var util=_dereq_("./util.js");
var async=_dereq_("./async.js");
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;

function spreadAdapter(val,nodeback){
var promise=this;
if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);
var ret=
tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));
if(ret === errorObj){
async.throwLater(ret.e);}}



function successAdapter(val,nodeback){
var promise=this;
var receiver=promise._boundValue();
var ret=val === undefined?
tryCatch(nodeback).call(receiver,null):
tryCatch(nodeback).call(receiver,null,val);
if(ret === errorObj){
async.throwLater(ret.e);}}


function errorAdapter(reason,nodeback){
var promise=this;
if(!reason){
var target=promise._target();
var newReason=target._getCarriedStackTrace();
newReason.cause = reason;
reason = newReason;}

var ret=tryCatch(nodeback).call(promise._boundValue(),reason);
if(ret === errorObj){
async.throwLater(ret.e);}}



Promise.prototype.asCallback = 
Promise.prototype.nodeify = function(nodeback,options){
if(typeof nodeback == "function"){
var adapter=successAdapter;
if(options !== undefined && Object(options).spread){
adapter = spreadAdapter;}

this._then(
adapter,
errorAdapter,
undefined,
this,
nodeback);}


return this;};};},



{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,PromiseArray){
var util=_dereq_("./util.js");
var async=_dereq_("./async.js");
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;

Promise.prototype.progressed = function(handler){
return this._then(undefined,undefined,handler,undefined,undefined);};


Promise.prototype._progress = function(progressValue){
if(this._isFollowingOrFulfilledOrRejected())return;
this._target()._progressUnchecked(progressValue);};



Promise.prototype._progressHandlerAt = function(index){
return index === 0?
this._progressHandler0:
this[(index << 2) + index - 5 + 2];};


Promise.prototype._doProgressWith = function(progression){
var progressValue=progression.value;
var handler=progression.handler;
var promise=progression.promise;
var receiver=progression.receiver;

var ret=tryCatch(handler).call(receiver,progressValue);
if(ret === errorObj){
if(ret.e != null && 
ret.e.name !== "StopProgressPropagation"){
var trace=util.canAttachTrace(ret.e)?
ret.e:new Error(util.toString(ret.e));
promise._attachExtraTrace(trace);
promise._progress(ret.e);}}else 

if(ret instanceof Promise){
ret._then(promise._progress,null,null,promise,undefined);}else 
{
promise._progress(ret);}};




Promise.prototype._progressUnchecked = function(progressValue){
var len=this._length();
var progress=this._progress;
for(var i=0;i < len;i++) {
var handler=this._progressHandlerAt(i);
var promise=this._promiseAt(i);
if(!(promise instanceof Promise)){
var receiver=this._receiverAt(i);
if(typeof handler === "function"){
handler.call(receiver,progressValue,promise);}else 
if(receiver instanceof PromiseArray && 
!receiver._isResolved()){
receiver._promiseProgressed(progressValue,promise);}

continue;}


if(typeof handler === "function"){
async.invoke(this._doProgressWith,this,{
handler:handler,
promise:promise,
receiver:this._receiverAt(i),
value:progressValue});}else 

{
async.invoke(progress,promise,progressValue);}}};};},





{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module,exports){
"use strict";
module.exports = function(){
var makeSelfResolutionError=function(){
return new TypeError("circular promise resolution chain\u000a\u000a    See http://goo.gl/LhFpo0\u000a");};

var reflect=function(){
return new Promise.PromiseInspection(this._target());};

var apiRejection=function(msg){
return Promise.reject(new TypeError(msg));};


var util=_dereq_("./util.js");

var getDomain;
if(util.isNode){
getDomain = function(){
var ret=process.domain;
if(ret === undefined)ret = null;
return ret;};}else 

{
getDomain = function(){
return null;};}


util.notEnumerableProp(Promise,"_getDomain",getDomain);

var UNDEFINED_BINDING={};
var async=_dereq_("./async.js");
var errors=_dereq_("./errors.js");
var TypeError=Promise.TypeError = errors.TypeError;
Promise.RangeError = errors.RangeError;
Promise.CancellationError = errors.CancellationError;
Promise.TimeoutError = errors.TimeoutError;
Promise.OperationalError = errors.OperationalError;
Promise.RejectionError = errors.OperationalError;
Promise.AggregateError = errors.AggregateError;
var INTERNAL=function(){};
var APPLY={};
var NEXT_FILTER={e:null};
var tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL);
var PromiseArray=
_dereq_("./promise_array.js")(Promise,INTERNAL,
tryConvertToPromise,apiRejection);
var CapturedTrace=_dereq_("./captured_trace.js")();
var isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace);

var createContext=
_dereq_("./context.js")(Promise,CapturedTrace,isDebugging);
var CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER);
var PromiseResolver=_dereq_("./promise_resolver.js");
var nodebackForPromise=PromiseResolver._nodebackForPromise;
var errorObj=util.errorObj;
var tryCatch=util.tryCatch;
function Promise(resolver){
if(typeof resolver !== "function"){
throw new TypeError("the promise constructor requires a resolver function\u000a\u000a    See http://goo.gl/EC22Yn\u000a");}

if(this.constructor !== Promise){
throw new TypeError("the promise constructor cannot be invoked directly\u000a\u000a    See http://goo.gl/KsIlge\u000a");}

this._bitField = 0;
this._fulfillmentHandler0 = undefined;
this._rejectionHandler0 = undefined;
this._progressHandler0 = undefined;
this._promise0 = undefined;
this._receiver0 = undefined;
this._settledValue = undefined;
if(resolver !== INTERNAL)this._resolveFromResolver(resolver);}


Promise.prototype.toString = function(){
return "[object Promise]";};


Promise.prototype.caught = Promise.prototype["catch"] = function(fn){
var len=arguments.length;
if(len > 1){
var catchInstances=new Array(len - 1),
j=0,i;
for(i = 0;i < len - 1;++i) {
var item=arguments[i];
if(typeof item === "function"){
catchInstances[j++] = item;}else 
{
return Promise.reject(
new TypeError("Catch filter must inherit from Error or be a simple predicate function\u000a\u000a    See http://goo.gl/o84o68\u000a"));}}


catchInstances.length = j;
fn = arguments[i];
var catchFilter=new CatchFilter(catchInstances,fn,this);
return this._then(undefined,catchFilter.doFilter,undefined,
catchFilter,undefined);}

return this._then(undefined,fn,undefined,undefined,undefined);};


Promise.prototype.reflect = function(){
return this._then(reflect,reflect,undefined,this,undefined);};


Promise.prototype.then = function(didFulfill,didReject,didProgress){
if(isDebugging() && arguments.length > 0 && 
typeof didFulfill !== "function" && 
typeof didReject !== "function"){
var msg=".then() only accepts functions but was passed: " + 
util.classString(didFulfill);
if(arguments.length > 1){
msg += ", " + util.classString(didReject);}

this._warn(msg);}

return this._then(didFulfill,didReject,didProgress,
undefined,undefined);};


Promise.prototype.done = function(didFulfill,didReject,didProgress){
var promise=this._then(didFulfill,didReject,didProgress,
undefined,undefined);
promise._setIsFinal();};


Promise.prototype.spread = function(didFulfill,didReject){
return this.all()._then(didFulfill,didReject,undefined,APPLY,undefined);};


Promise.prototype.isCancellable = function(){
return !this.isResolved() && 
this._cancellable();};


Promise.prototype.toJSON = function(){
var ret={
isFulfilled:false,
isRejected:false,
fulfillmentValue:undefined,
rejectionReason:undefined};

if(this.isFulfilled()){
ret.fulfillmentValue = this.value();
ret.isFulfilled = true;}else 
if(this.isRejected()){
ret.rejectionReason = this.reason();
ret.isRejected = true;}

return ret;};


Promise.prototype.all = function(){
return new PromiseArray(this).promise();};


Promise.prototype.error = function(fn){
return this.caught(util.originatesFromRejection,fn);};


Promise.is = function(val){
return val instanceof Promise;};


Promise.fromNode = function(fn){
var ret=new Promise(INTERNAL);
var result=tryCatch(fn)(nodebackForPromise(ret));
if(result === errorObj){
ret._rejectCallback(result.e,true,true);}

return ret;};


Promise.all = function(promises){
return new PromiseArray(promises).promise();};


Promise.defer = Promise.pending = function(){
var promise=new Promise(INTERNAL);
return new PromiseResolver(promise);};


Promise.cast = function(obj){
var ret=tryConvertToPromise(obj);
if(!(ret instanceof Promise)){
var val=ret;
ret = new Promise(INTERNAL);
ret._fulfillUnchecked(val);}

return ret;};


Promise.resolve = Promise.fulfilled = Promise.cast;

Promise.reject = Promise.rejected = function(reason){
var ret=new Promise(INTERNAL);
ret._captureStackTrace();
ret._rejectCallback(reason,true);
return ret;};


Promise.setScheduler = function(fn){
if(typeof fn !== "function")throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");
var prev=async._schedule;
async._schedule = fn;
return prev;};


Promise.prototype._then = function(
didFulfill,
didReject,
didProgress,
receiver,
internalData)
{
var haveInternalData=internalData !== undefined;
var ret=haveInternalData?internalData:new Promise(INTERNAL);

if(!haveInternalData){
ret._propagateFrom(this,4 | 1);
ret._captureStackTrace();}


var target=this._target();
if(target !== this){
if(receiver === undefined)receiver = this._boundTo;
if(!haveInternalData)ret._setIsMigrated();}


var callbackIndex=target._addCallbacks(didFulfill,
didReject,
didProgress,
ret,
receiver,
getDomain());

if(target._isResolved() && !target._isSettlePromisesQueued()){
async.invoke(
target._settlePromiseAtPostResolution,target,callbackIndex);}


return ret;};


Promise.prototype._settlePromiseAtPostResolution = function(index){
if(this._isRejectionUnhandled())this._unsetRejectionIsUnhandled();
this._settlePromiseAt(index);};


Promise.prototype._length = function(){
return this._bitField & 131071;};


Promise.prototype._isFollowingOrFulfilledOrRejected = function(){
return (this._bitField & 939524096) > 0;};


Promise.prototype._isFollowing = function(){
return (this._bitField & 536870912) === 536870912;};


Promise.prototype._setLength = function(len){
this._bitField = this._bitField & -131072 | 
len & 131071;};


Promise.prototype._setFulfilled = function(){
this._bitField = this._bitField | 268435456;};


Promise.prototype._setRejected = function(){
this._bitField = this._bitField | 134217728;};


Promise.prototype._setFollowing = function(){
this._bitField = this._bitField | 536870912;};


Promise.prototype._setIsFinal = function(){
this._bitField = this._bitField | 33554432;};


Promise.prototype._isFinal = function(){
return (this._bitField & 33554432) > 0;};


Promise.prototype._cancellable = function(){
return (this._bitField & 67108864) > 0;};


Promise.prototype._setCancellable = function(){
this._bitField = this._bitField | 67108864;};


Promise.prototype._unsetCancellable = function(){
this._bitField = this._bitField & ~67108864;};


Promise.prototype._setIsMigrated = function(){
this._bitField = this._bitField | 4194304;};


Promise.prototype._unsetIsMigrated = function(){
this._bitField = this._bitField & ~4194304;};


Promise.prototype._isMigrated = function(){
return (this._bitField & 4194304) > 0;};


Promise.prototype._receiverAt = function(index){
var ret=index === 0?
this._receiver0:
this[
index * 5 - 5 + 4];
if(ret === UNDEFINED_BINDING){
return undefined;}else 
if(ret === undefined && this._isBound()){
return this._boundValue();}

return ret;};


Promise.prototype._promiseAt = function(index){
return index === 0?
this._promise0:
this[index * 5 - 5 + 3];};


Promise.prototype._fulfillmentHandlerAt = function(index){
return index === 0?
this._fulfillmentHandler0:
this[index * 5 - 5 + 0];};


Promise.prototype._rejectionHandlerAt = function(index){
return index === 0?
this._rejectionHandler0:
this[index * 5 - 5 + 1];};


Promise.prototype._boundValue = function(){
var ret=this._boundTo;
if(ret !== undefined){
if(ret instanceof Promise){
if(ret.isFulfilled()){
return ret.value();}else 
{
return undefined;}}}



return ret;};


Promise.prototype._migrateCallbacks = function(follower,index){
var fulfill=follower._fulfillmentHandlerAt(index);
var reject=follower._rejectionHandlerAt(index);
var progress=follower._progressHandlerAt(index);
var promise=follower._promiseAt(index);
var receiver=follower._receiverAt(index);
if(promise instanceof Promise)promise._setIsMigrated();
if(receiver === undefined)receiver = UNDEFINED_BINDING;
this._addCallbacks(fulfill,reject,progress,promise,receiver,null);};


Promise.prototype._addCallbacks = function(
fulfill,
reject,
progress,
promise,
receiver,
domain)
{
var index=this._length();

if(index >= 131071 - 5){
index = 0;
this._setLength(0);}


if(index === 0){
this._promise0 = promise;
if(receiver !== undefined)this._receiver0 = receiver;
if(typeof fulfill === "function" && !this._isCarryingStackTrace()){
this._fulfillmentHandler0 = 
domain === null?fulfill:domain.bind(fulfill);}

if(typeof reject === "function"){
this._rejectionHandler0 = 
domain === null?reject:domain.bind(reject);}

if(typeof progress === "function"){
this._progressHandler0 = 
domain === null?progress:domain.bind(progress);}}else 

{
var base=index * 5 - 5;
this[base + 3] = promise;
this[base + 4] = receiver;
if(typeof fulfill === "function"){
this[base + 0] = 
domain === null?fulfill:domain.bind(fulfill);}

if(typeof reject === "function"){
this[base + 1] = 
domain === null?reject:domain.bind(reject);}

if(typeof progress === "function"){
this[base + 2] = 
domain === null?progress:domain.bind(progress);}}


this._setLength(index + 1);
return index;};


Promise.prototype._setProxyHandlers = function(receiver,promiseSlotValue){
var index=this._length();

if(index >= 131071 - 5){
index = 0;
this._setLength(0);}

if(index === 0){
this._promise0 = promiseSlotValue;
this._receiver0 = receiver;}else 
{
var base=index * 5 - 5;
this[base + 3] = promiseSlotValue;
this[base + 4] = receiver;}

this._setLength(index + 1);};


Promise.prototype._proxyPromiseArray = function(promiseArray,index){
this._setProxyHandlers(promiseArray,index);};


Promise.prototype._resolveCallback = function(value,shouldBind){
if(this._isFollowingOrFulfilledOrRejected())return;
if(value === this)
return this._rejectCallback(makeSelfResolutionError(),false,true);
var maybePromise=tryConvertToPromise(value,this);
if(!(maybePromise instanceof Promise))return this._fulfill(value);

var propagationFlags=1 | (shouldBind?4:0);
this._propagateFrom(maybePromise,propagationFlags);
var promise=maybePromise._target();
if(promise._isPending()){
var len=this._length();
for(var i=0;i < len;++i) {
promise._migrateCallbacks(this,i);}

this._setFollowing();
this._setLength(0);
this._setFollowee(promise);}else 
if(promise._isFulfilled()){
this._fulfillUnchecked(promise._value());}else 
{
this._rejectUnchecked(promise._reason(),
promise._getCarriedStackTrace());}};



Promise.prototype._rejectCallback = 
function(reason,synchronous,shouldNotMarkOriginatingFromRejection){
if(!shouldNotMarkOriginatingFromRejection){
util.markAsOriginatingFromRejection(reason);}

var trace=util.ensureErrorObject(reason);
var hasStack=trace === reason;
this._attachExtraTrace(trace,synchronous?hasStack:false);
this._reject(reason,hasStack?undefined:trace);};


Promise.prototype._resolveFromResolver = function(resolver){
var promise=this;
this._captureStackTrace();
this._pushContext();
var synchronous=true;
var r=tryCatch(resolver)(function(value){
if(promise === null)return;
promise._resolveCallback(value);
promise = null;},
function(reason){
if(promise === null)return;
promise._rejectCallback(reason,synchronous);
promise = null;});

synchronous = false;
this._popContext();

if(r !== undefined && r === errorObj && promise !== null){
promise._rejectCallback(r.e,true,true);
promise = null;}};



Promise.prototype._settlePromiseFromHandler = function(
handler,receiver,value,promise)
{
if(promise._isRejected())return;
promise._pushContext();
var x;
if(receiver === APPLY && !this._isRejected()){
x = tryCatch(handler).apply(this._boundValue(),value);}else 
{
x = tryCatch(handler).call(receiver,value);}

promise._popContext();

if(x === errorObj || x === promise || x === NEXT_FILTER){
var err=x === promise?makeSelfResolutionError():x.e;
promise._rejectCallback(err,false,true);}else 
{
promise._resolveCallback(x);}};



Promise.prototype._target = function(){
var ret=this;
while(ret._isFollowing()) ret = ret._followee();
return ret;};


Promise.prototype._followee = function(){
return this._rejectionHandler0;};


Promise.prototype._setFollowee = function(promise){
this._rejectionHandler0 = promise;};


Promise.prototype._cleanValues = function(){
if(this._cancellable()){
this._cancellationParent = undefined;}};



Promise.prototype._propagateFrom = function(parent,flags){
if((flags & 1) > 0 && parent._cancellable()){
this._setCancellable();
this._cancellationParent = parent;}

if((flags & 4) > 0 && parent._isBound()){
this._setBoundTo(parent._boundTo);}};



Promise.prototype._fulfill = function(value){
if(this._isFollowingOrFulfilledOrRejected())return;
this._fulfillUnchecked(value);};


Promise.prototype._reject = function(reason,carriedStackTrace){
if(this._isFollowingOrFulfilledOrRejected())return;
this._rejectUnchecked(reason,carriedStackTrace);};


Promise.prototype._settlePromiseAt = function(index){
var promise=this._promiseAt(index);
var isPromise=promise instanceof Promise;

if(isPromise && promise._isMigrated()){
promise._unsetIsMigrated();
return async.invoke(this._settlePromiseAt,this,index);}

var handler=this._isFulfilled()?
this._fulfillmentHandlerAt(index):
this._rejectionHandlerAt(index);

var carriedStackTrace=
this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;
var value=this._settledValue;
var receiver=this._receiverAt(index);
this._clearCallbackDataAtIndex(index);

if(typeof handler === "function"){
if(!isPromise){
handler.call(receiver,value,promise);}else 
{
this._settlePromiseFromHandler(handler,receiver,value,promise);}}else 

if(receiver instanceof PromiseArray){
if(!receiver._isResolved()){
if(this._isFulfilled()){
receiver._promiseFulfilled(value,promise);}else 

{
receiver._promiseRejected(value,promise);}}}else 


if(isPromise){
if(this._isFulfilled()){
promise._fulfill(value);}else 
{
promise._reject(value,carriedStackTrace);}}



if(index >= 4 && (index & 31) === 4)
async.invokeLater(this._setLength,this,0);};


Promise.prototype._clearCallbackDataAtIndex = function(index){
if(index === 0){
if(!this._isCarryingStackTrace()){
this._fulfillmentHandler0 = undefined;}

this._rejectionHandler0 = 
this._progressHandler0 = 
this._receiver0 = 
this._promise0 = undefined;}else 
{
var base=index * 5 - 5;
this[base + 3] = 
this[base + 4] = 
this[base + 0] = 
this[base + 1] = 
this[base + 2] = undefined;}};



Promise.prototype._isSettlePromisesQueued = function(){
return (this._bitField & 
-1073741824) === -1073741824;};


Promise.prototype._setSettlePromisesQueued = function(){
this._bitField = this._bitField | -1073741824;};


Promise.prototype._unsetSettlePromisesQueued = function(){
this._bitField = this._bitField & ~ -1073741824;};


Promise.prototype._queueSettlePromises = function(){
async.settlePromises(this);
this._setSettlePromisesQueued();};


Promise.prototype._fulfillUnchecked = function(value){
if(value === this){
var err=makeSelfResolutionError();
this._attachExtraTrace(err);
return this._rejectUnchecked(err,undefined);}

this._setFulfilled();
this._settledValue = value;
this._cleanValues();

if(this._length() > 0){
this._queueSettlePromises();}};



Promise.prototype._rejectUncheckedCheckError = function(reason){
var trace=util.ensureErrorObject(reason);
this._rejectUnchecked(reason,trace === reason?undefined:trace);};


Promise.prototype._rejectUnchecked = function(reason,trace){
if(reason === this){
var err=makeSelfResolutionError();
this._attachExtraTrace(err);
return this._rejectUnchecked(err);}

this._setRejected();
this._settledValue = reason;
this._cleanValues();

if(this._isFinal()){
async.throwLater(function(e){
if("stack" in e){
async.invokeFirst(
CapturedTrace.unhandledRejection,undefined,e);}

throw e;},
trace === undefined?reason:trace);
return;}


if(trace !== undefined && trace !== reason){
this._setCarriedStackTrace(trace);}


if(this._length() > 0){
this._queueSettlePromises();}else 
{
this._ensurePossibleRejectionHandled();}};



Promise.prototype._settlePromises = function(){
this._unsetSettlePromisesQueued();
var len=this._length();
for(var i=0;i < len;i++) {
this._settlePromiseAt(i);}};



util.notEnumerableProp(Promise,
"_makeSelfResolutionError",
makeSelfResolutionError);

_dereq_("./progress.js")(Promise,PromiseArray);
_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);
_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise);
_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise);
_dereq_("./direct_resolve.js")(Promise);
_dereq_("./synchronous_inspection.js")(Promise);
_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL);
Promise.Promise = Promise;
_dereq_('./map.js')(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);
_dereq_('./cancel.js')(Promise);
_dereq_('./using.js')(Promise,apiRejection,tryConvertToPromise,createContext);
_dereq_('./generators.js')(Promise,apiRejection,INTERNAL,tryConvertToPromise);
_dereq_('./nodeify.js')(Promise);
_dereq_('./call_get.js')(Promise);
_dereq_('./props.js')(Promise,PromiseArray,tryConvertToPromise,apiRejection);
_dereq_('./race.js')(Promise,INTERNAL,tryConvertToPromise,apiRejection);
_dereq_('./reduce.js')(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);
_dereq_('./settle.js')(Promise,PromiseArray);
_dereq_('./some.js')(Promise,PromiseArray,apiRejection);
_dereq_('./promisify.js')(Promise,INTERNAL);
_dereq_('./any.js')(Promise);
_dereq_('./each.js')(Promise,INTERNAL);
_dereq_('./timers.js')(Promise,INTERNAL);
_dereq_('./filter.js')(Promise,INTERNAL);

util.toFastProperties(Promise);
util.toFastProperties(Promise.prototype);
function fillTypes(value){
var p=new Promise(INTERNAL);
p._fulfillmentHandler0 = value;
p._rejectionHandler0 = value;
p._progressHandler0 = value;
p._promise0 = value;
p._receiver0 = value;
p._settledValue = value;}



fillTypes({a:1});
fillTypes({b:2});
fillTypes({c:3});
fillTypes(1);
fillTypes(function(){});
fillTypes(undefined);
fillTypes(false);
fillTypes(new Promise(INTERNAL));
CapturedTrace.setBounds(async.firstLineError,util.lastLineError);
return Promise;};},



{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL,tryConvertToPromise,
apiRejection){
var util=_dereq_("./util.js");
var isArray=util.isArray;

function toResolutionValue(val){
switch(val){
case -2:return [];
case -3:return {};}}



function PromiseArray(values){
var promise=this._promise = new Promise(INTERNAL);
var parent;
if(values instanceof Promise){
parent = values;
promise._propagateFrom(parent,1 | 4);}

this._values = values;
this._length = 0;
this._totalResolved = 0;
this._init(undefined,-2);}

PromiseArray.prototype.length = function(){
return this._length;};


PromiseArray.prototype.promise = function(){
return this._promise;};


PromiseArray.prototype._init = function init(_,resolveValueIfEmpty){
var values=tryConvertToPromise(this._values,this._promise);
if(values instanceof Promise){
values = values._target();
this._values = values;
if(values._isFulfilled()){
values = values._value();
if(!isArray(values)){
var err=new Promise.TypeError("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a");
this.__hardReject__(err);
return;}}else 

if(values._isPending()){
values._then(
init,
this._reject,
undefined,
this,
resolveValueIfEmpty);

return;}else 
{
this._reject(values._reason());
return;}}else 

if(!isArray(values)){
this._promise._reject(apiRejection("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a")._reason());
return;}


if(values.length === 0){
if(resolveValueIfEmpty === -5){
this._resolveEmptyArray();}else 

{
this._resolve(toResolutionValue(resolveValueIfEmpty));}

return;}

var len=this.getActualLength(values.length);
this._length = len;
this._values = this.shouldCopyValues()?new Array(len):this._values;
var promise=this._promise;
for(var i=0;i < len;++i) {
var isResolved=this._isResolved();
var maybePromise=tryConvertToPromise(values[i],promise);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
if(isResolved){
maybePromise._ignoreRejections();}else 
if(maybePromise._isPending()){
maybePromise._proxyPromiseArray(this,i);}else 
if(maybePromise._isFulfilled()){
this._promiseFulfilled(maybePromise._value(),i);}else 
{
this._promiseRejected(maybePromise._reason(),i);}}else 

if(!isResolved){
this._promiseFulfilled(maybePromise,i);}}};




PromiseArray.prototype._isResolved = function(){
return this._values === null;};


PromiseArray.prototype._resolve = function(value){
this._values = null;
this._promise._fulfill(value);};


PromiseArray.prototype.__hardReject__ = 
PromiseArray.prototype._reject = function(reason){
this._values = null;
this._promise._rejectCallback(reason,false,true);};


PromiseArray.prototype._promiseProgressed = function(progressValue,index){
this._promise._progress({
index:index,
value:progressValue});};




PromiseArray.prototype._promiseFulfilled = function(value,index){
this._values[index] = value;
var totalResolved=++this._totalResolved;
if(totalResolved >= this._length){
this._resolve(this._values);}};



PromiseArray.prototype._promiseRejected = function(reason,index){
this._totalResolved++;
this._reject(reason);};


PromiseArray.prototype.shouldCopyValues = function(){
return true;};


PromiseArray.prototype.getActualLength = function(len){
return len;};


return PromiseArray;};},


{"./util.js":38}],25:[function(_dereq_,module,exports){
"use strict";
var util=_dereq_("./util.js");
var maybeWrapAsError=util.maybeWrapAsError;
var errors=_dereq_("./errors.js");
var TimeoutError=errors.TimeoutError;
var OperationalError=errors.OperationalError;
var haveGetters=util.haveGetters;
var es5=_dereq_("./es5.js");

function isUntypedError(obj){
return obj instanceof Error && 
es5.getPrototypeOf(obj) === Error.prototype;}


var rErrorKey=/^(?:name|message|stack|cause)$/;
function wrapAsOperationalError(obj){
var ret;
if(isUntypedError(obj)){
ret = new OperationalError(obj);
ret.name = obj.name;
ret.message = obj.message;
ret.stack = obj.stack;
var keys=es5.keys(obj);
for(var i=0;i < keys.length;++i) {
var key=keys[i];
if(!rErrorKey.test(key)){
ret[key] = obj[key];}}


return ret;}

util.markAsOriginatingFromRejection(obj);
return obj;}


function nodebackForPromise(promise){
return function(err,value){
if(promise === null)return;

if(err){
var wrapped=wrapAsOperationalError(maybeWrapAsError(err));
promise._attachExtraTrace(wrapped);
promise._reject(wrapped);}else 
if(arguments.length > 2){
var $_len=arguments.length;var args=new Array($_len - 1);for(var $_i=1;$_i < $_len;++$_i) {args[$_i - 1] = arguments[$_i];}
promise._fulfill(args);}else 
{
promise._fulfill(value);}


promise = null;};}




var PromiseResolver;
if(!haveGetters){
PromiseResolver = function(promise){
this.promise = promise;
this.asCallback = nodebackForPromise(promise);
this.callback = this.asCallback;};}else 


{
PromiseResolver = function(promise){
this.promise = promise;};}


if(haveGetters){
var prop={
get:function(){
return nodebackForPromise(this.promise);}};


es5.defineProperty(PromiseResolver.prototype,"asCallback",prop);
es5.defineProperty(PromiseResolver.prototype,"callback",prop);}


PromiseResolver._nodebackForPromise = nodebackForPromise;

PromiseResolver.prototype.toString = function(){
return "[object PromiseResolver]";};


PromiseResolver.prototype.resolve = 
PromiseResolver.prototype.fulfill = function(value){
if(!(this instanceof PromiseResolver)){
throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}

this.promise._resolveCallback(value);};


PromiseResolver.prototype.reject = function(reason){
if(!(this instanceof PromiseResolver)){
throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}

this.promise._rejectCallback(reason);};


PromiseResolver.prototype.progress = function(value){
if(!(this instanceof PromiseResolver)){
throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\u000a\u000a    See http://goo.gl/sdkXL9\u000a");}

this.promise._progress(value);};


PromiseResolver.prototype.cancel = function(err){
this.promise.cancel(err);};


PromiseResolver.prototype.timeout = function(){
this.reject(new TimeoutError("timeout"));};


PromiseResolver.prototype.isResolved = function(){
return this.promise.isResolved();};


PromiseResolver.prototype.toJSON = function(){
return this.promise.toJSON();};


module.exports = PromiseResolver;},

{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL){
var THIS={};
var util=_dereq_("./util.js");
var nodebackForPromise=_dereq_("./promise_resolver.js").
_nodebackForPromise;
var withAppended=util.withAppended;
var maybeWrapAsError=util.maybeWrapAsError;
var canEvaluate=util.canEvaluate;
var TypeError=_dereq_("./errors").TypeError;
var defaultSuffix="Async";
var defaultPromisified={__isPromisified__:true};
var noCopyProps=[
"arity","length",
"name",
"arguments",
"caller",
"callee",
"prototype",
"__isPromisified__"];

var noCopyPropsPattern=new RegExp("^(?:" + noCopyProps.join("|") + ")$");

var defaultFilter=function(name){
return util.isIdentifier(name) && 
name.charAt(0) !== "_" && 
name !== "constructor";};


function propsFilter(key){
return !noCopyPropsPattern.test(key);}


function isPromisified(fn){
try{
return fn.__isPromisified__ === true;}

catch(e) {
return false;}}



function hasPromisified(obj,key,suffix){
var val=util.getDataPropertyOrDefault(obj,key + suffix,
defaultPromisified);
return val?isPromisified(val):false;}

function checkValid(ret,suffix,suffixRegexp){
for(var i=0;i < ret.length;i += 2) {
var key=ret[i];
if(suffixRegexp.test(key)){
var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");
for(var j=0;j < ret.length;j += 2) {
if(ret[j] === keyWithoutAsyncSuffix){
throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\u000a\u000a    See http://goo.gl/iWrZbw\u000a".
replace("%s",suffix));}}}}}






function promisifiableMethods(obj,suffix,suffixRegexp,filter){
var keys=util.inheritedDataKeys(obj);
var ret=[];
for(var i=0;i < keys.length;++i) {
var key=keys[i];
var value=obj[key];
var passesDefaultFilter=filter === defaultFilter?
true:defaultFilter(key,value,obj);
if(typeof value === "function" && 
!isPromisified(value) && 
!hasPromisified(obj,key,suffix) && 
filter(key,value,obj,passesDefaultFilter)){
ret.push(key,value);}}


checkValid(ret,suffix,suffixRegexp);
return ret;}


var escapeIdentRegex=function(str){
return str.replace(/([$])/,"\\$");};


var makeNodePromisifiedEval;
if(!true){
var switchCaseArgumentOrder=function(likelyArgumentCount){
var ret=[likelyArgumentCount];
var min=Math.max(0,likelyArgumentCount - 1 - 3);
for(var i=likelyArgumentCount - 1;i >= min;--i) {
ret.push(i);}

for(var i=likelyArgumentCount + 1;i <= 3;++i) {
ret.push(i);}

return ret;};


var argumentSequence=function(argumentCount){
return util.filledRange(argumentCount,"_arg","");};


var parameterDeclaration=function(parameterCount){
return util.filledRange(
Math.max(parameterCount,3),"_arg","");};


var parameterCount=function(fn){
if(typeof fn.length === "number"){
return Math.max(Math.min(fn.length,1023 + 1),0);}

return 0;};


makeNodePromisifiedEval = 
function(callback,receiver,originalName,fn){
var newParameterCount=Math.max(0,parameterCount(fn) - 1);
var argumentOrder=switchCaseArgumentOrder(newParameterCount);
var shouldProxyThis=typeof callback === "string" || receiver === THIS;

function generateCallForArgumentCount(count){
var args=argumentSequence(count).join(", ");
var comma=count > 0?", ":"";
var ret;
if(shouldProxyThis){
ret = "ret = callback.call(this, {{args}}, nodeback); break;\n";}else 
{
ret = receiver === undefined?
"ret = callback({{args}}, nodeback); break;\n":
"ret = callback.call(receiver, {{args}}, nodeback); break;\n";}

return ret.replace("{{args}}",args).replace(", ",comma);}


function generateArgumentSwitchCase(){
var ret="";
for(var i=0;i < argumentOrder.length;++i) {
ret += "case " + argumentOrder[i] + ":" + 
generateCallForArgumentCount(argumentOrder[i]);}


ret += "                                                             \n\
        default:                                                             \n\
            var args = new Array(len + 1);                                   \n\
            var i = 0;                                                       \n\
            for (var i = 0; i < len; ++i) {                                  \n\
               args[i] = arguments[i];                                       \n\
            }                                                                \n\
            args[i] = nodeback;                                              \n\
            [CodeForCall]                                                    \n\
            break;                                                           \n\
        ".replace("[CodeForCall]",shouldProxyThis?
"ret = callback.apply(this, args);\n":
"ret = callback.apply(receiver, args);\n");
return ret;}


var getFunctionCode=typeof callback === "string"?
"this != null ? this['" + callback + "'] : fn":
"fn";

return new Function("Promise",
"fn",
"receiver",
"withAppended",
"maybeWrapAsError",
"nodebackForPromise",
"tryCatch",
"errorObj",
"notEnumerableProp",
"INTERNAL","'use strict';                            \n\
        var ret = function (Parameters) {                                    \n\
            'use strict';                                                    \n\
            var len = arguments.length;                                      \n\
            var promise = new Promise(INTERNAL);                             \n\
            promise._captureStackTrace();                                    \n\
            var nodeback = nodebackForPromise(promise);                      \n\
            var ret;                                                         \n\
            var callback = tryCatch([GetFunctionCode]);                      \n\
            switch(len) {                                                    \n\
                [CodeForSwitchCase]                                          \n\
            }                                                                \n\
            if (ret === errorObj) {                                          \n\
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\
            }                                                                \n\
            return promise;                                                  \n\
        };                                                                   \n\
        notEnumerableProp(ret, '__isPromisified__', true);                   \n\
        return ret;                                                          \n\
        ".
replace("Parameters",parameterDeclaration(newParameterCount)).
replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).
replace("[GetFunctionCode]",getFunctionCode))(
Promise,
fn,
receiver,
withAppended,
maybeWrapAsError,
nodebackForPromise,
util.tryCatch,
util.errorObj,
util.notEnumerableProp,
INTERNAL);};}




function makeNodePromisifiedClosure(callback,receiver,_,fn){
var defaultThis=(function(){return this;})();
var method=callback;
if(typeof method === "string"){
callback = fn;}

function promisified(){
var _receiver=receiver;
if(receiver === THIS)_receiver = this;
var promise=new Promise(INTERNAL);
promise._captureStackTrace();
var cb=typeof method === "string" && this !== defaultThis?
this[method]:callback;
var fn=nodebackForPromise(promise);
try{
cb.apply(_receiver,withAppended(arguments,fn));}
catch(e) {
promise._rejectCallback(maybeWrapAsError(e),true,true);}

return promise;}

util.notEnumerableProp(promisified,"__isPromisified__",true);
return promisified;}


var makeNodePromisified=canEvaluate?
makeNodePromisifiedEval:
makeNodePromisifiedClosure;

function promisifyAll(obj,suffix,filter,promisifier){
var suffixRegexp=new RegExp(escapeIdentRegex(suffix) + "$");
var methods=
promisifiableMethods(obj,suffix,suffixRegexp,filter);

for(var i=0,len=methods.length;i < len;i += 2) {
var key=methods[i];
var fn=methods[i + 1];
var promisifiedKey=key + suffix;
if(promisifier === makeNodePromisified){
obj[promisifiedKey] = 
makeNodePromisified(key,THIS,key,fn,suffix);}else 
{
var promisified=promisifier(fn,function(){
return makeNodePromisified(key,THIS,key,fn,suffix);});

util.notEnumerableProp(promisified,"__isPromisified__",true);
obj[promisifiedKey] = promisified;}}


util.toFastProperties(obj);
return obj;}


function promisify(callback,receiver){
return makeNodePromisified(callback,receiver,undefined,callback);}


Promise.promisify = function(fn,receiver){
if(typeof fn !== "function"){
throw new TypeError("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");}

if(isPromisified(fn)){
return fn;}

var ret=promisify(fn,arguments.length < 2?THIS:receiver);
util.copyDescriptors(fn,ret,propsFilter);
return ret;};


Promise.promisifyAll = function(target,options){
if(typeof target !== "function" && typeof target !== "object"){
throw new TypeError("the target of promisifyAll must be an object or a function\u000a\u000a    See http://goo.gl/9ITlV0\u000a");}

options = Object(options);
var suffix=options.suffix;
if(typeof suffix !== "string")suffix = defaultSuffix;
var filter=options.filter;
if(typeof filter !== "function")filter = defaultFilter;
var promisifier=options.promisifier;
if(typeof promisifier !== "function")promisifier = makeNodePromisified;

if(!util.isIdentifier(suffix)){
throw new RangeError("suffix must be a valid identifier\u000a\u000a    See http://goo.gl/8FZo5V\u000a");}


var keys=util.inheritedDataKeys(target);
for(var i=0;i < keys.length;++i) {
var value=target[keys[i]];
if(keys[i] !== "constructor" && 
util.isClass(value)){
promisifyAll(value.prototype,suffix,filter,promisifier);
promisifyAll(value,suffix,filter,promisifier);}}



return promisifyAll(target,suffix,filter,promisifier);};};},




{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module,exports){
"use strict";
module.exports = function(
Promise,PromiseArray,tryConvertToPromise,apiRejection){
var util=_dereq_("./util.js");
var isObject=util.isObject;
var es5=_dereq_("./es5.js");

function PropertiesPromiseArray(obj){
var keys=es5.keys(obj);
var len=keys.length;
var values=new Array(len * 2);
for(var i=0;i < len;++i) {
var key=keys[i];
values[i] = obj[key];
values[i + len] = key;}

this.constructor$(values);}

util.inherits(PropertiesPromiseArray,PromiseArray);

PropertiesPromiseArray.prototype._init = function(){
this._init$(undefined,-3);};


PropertiesPromiseArray.prototype._promiseFulfilled = function(value,index){
this._values[index] = value;
var totalResolved=++this._totalResolved;
if(totalResolved >= this._length){
var val={};
var keyOffset=this.length();
for(var i=0,len=this.length();i < len;++i) {
val[this._values[i + keyOffset]] = this._values[i];}

this._resolve(val);}};



PropertiesPromiseArray.prototype._promiseProgressed = function(value,index){
this._promise._progress({
key:this._values[index + this.length()],
value:value});};



PropertiesPromiseArray.prototype.shouldCopyValues = function(){
return false;};


PropertiesPromiseArray.prototype.getActualLength = function(len){
return len >> 1;};


function props(promises){
var ret;
var castValue=tryConvertToPromise(promises);

if(!isObject(castValue)){
return apiRejection("cannot await properties of a non-object\u000a\u000a    See http://goo.gl/OsFKC8\u000a");}else 
if(castValue instanceof Promise){
ret = castValue._then(
Promise.props,undefined,undefined,undefined,undefined);}else 
{
ret = new PropertiesPromiseArray(castValue).promise();}


if(castValue instanceof Promise){
ret._propagateFrom(castValue,4);}

return ret;}


Promise.prototype.props = function(){
return props(this);};


Promise.props = function(promises){
return props(promises);};};},



{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module,exports){
"use strict";
function arrayMove(src,srcIndex,dst,dstIndex,len){
for(var j=0;j < len;++j) {
dst[j + dstIndex] = src[j + srcIndex];
src[j + srcIndex] = void 0;}}



function Queue(capacity){
this._capacity = capacity;
this._length = 0;
this._front = 0;}


Queue.prototype._willBeOverCapacity = function(size){
return this._capacity < size;};


Queue.prototype._pushOne = function(arg){
var length=this.length();
this._checkCapacity(length + 1);
var i=this._front + length & this._capacity - 1;
this[i] = arg;
this._length = length + 1;};


Queue.prototype._unshiftOne = function(value){
var capacity=this._capacity;
this._checkCapacity(this.length() + 1);
var front=this._front;
var i=(front - 1 & 
capacity - 1 ^ capacity) - capacity;
this[i] = value;
this._front = i;
this._length = this.length() + 1;};


Queue.prototype.unshift = function(fn,receiver,arg){
this._unshiftOne(arg);
this._unshiftOne(receiver);
this._unshiftOne(fn);};


Queue.prototype.push = function(fn,receiver,arg){
var length=this.length() + 3;
if(this._willBeOverCapacity(length)){
this._pushOne(fn);
this._pushOne(receiver);
this._pushOne(arg);
return;}

var j=this._front + length - 3;
this._checkCapacity(length);
var wrapMask=this._capacity - 1;
this[j + 0 & wrapMask] = fn;
this[j + 1 & wrapMask] = receiver;
this[j + 2 & wrapMask] = arg;
this._length = length;};


Queue.prototype.shift = function(){
var front=this._front,
ret=this[front];

this[front] = undefined;
this._front = front + 1 & this._capacity - 1;
this._length--;
return ret;};


Queue.prototype.length = function(){
return this._length;};


Queue.prototype._checkCapacity = function(size){
if(this._capacity < size){
this._resizeTo(this._capacity << 1);}};



Queue.prototype._resizeTo = function(capacity){
var oldCapacity=this._capacity;
this._capacity = capacity;
var front=this._front;
var length=this._length;
var moveItemsCount=front + length & oldCapacity - 1;
arrayMove(this,0,this,oldCapacity,moveItemsCount);};


module.exports = Queue;},

{}],29:[function(_dereq_,module,exports){
"use strict";
module.exports = function(
Promise,INTERNAL,tryConvertToPromise,apiRejection){
var isArray=_dereq_("./util.js").isArray;

var raceLater=function(promise){
return promise.then(function(array){
return race(array,promise);});};



function race(promises,parent){
var maybePromise=tryConvertToPromise(promises);

if(maybePromise instanceof Promise){
return raceLater(maybePromise);}else 
if(!isArray(promises)){
return apiRejection("expecting an array, a promise or a thenable\u000a\u000a    See http://goo.gl/s8MMhc\u000a");}


var ret=new Promise(INTERNAL);
if(parent !== undefined){
ret._propagateFrom(parent,4 | 1);}

var fulfill=ret._fulfill;
var reject=ret._reject;
for(var i=0,len=promises.length;i < len;++i) {
var val=promises[i];

if(val === undefined && !(i in promises)){
continue;}


Promise.cast(val)._then(fulfill,reject,undefined,ret,null);}

return ret;}


Promise.race = function(promises){
return race(promises,undefined);};


Promise.prototype.race = function(){
return race(this,undefined);};};},




{"./util.js":38}],30:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,
PromiseArray,
apiRejection,
tryConvertToPromise,
INTERNAL){
var getDomain=Promise._getDomain;
var async=_dereq_("./async.js");
var util=_dereq_("./util.js");
var tryCatch=util.tryCatch;
var errorObj=util.errorObj;
function ReductionPromiseArray(promises,fn,accum,_each){
this.constructor$(promises);
this._promise._captureStackTrace();
this._preservedValues = _each === INTERNAL?[]:null;
this._zerothIsAccum = accum === undefined;
this._gotAccum = false;
this._reducingIndex = this._zerothIsAccum?1:0;
this._valuesPhase = undefined;
var maybePromise=tryConvertToPromise(accum,this._promise);
var rejected=false;
var isPromise=maybePromise instanceof Promise;
if(isPromise){
maybePromise = maybePromise._target();
if(maybePromise._isPending()){
maybePromise._proxyPromiseArray(this,-1);}else 
if(maybePromise._isFulfilled()){
accum = maybePromise._value();
this._gotAccum = true;}else 
{
this._reject(maybePromise._reason());
rejected = true;}}


if(!(isPromise || this._zerothIsAccum))this._gotAccum = true;
var domain=getDomain();
this._callback = domain === null?fn:domain.bind(fn);
this._accum = accum;
if(!rejected)async.invoke(init,this,undefined);}

function init(){
this._init$(undefined,-5);}

util.inherits(ReductionPromiseArray,PromiseArray);

ReductionPromiseArray.prototype._init = function(){};

ReductionPromiseArray.prototype._resolveEmptyArray = function(){
if(this._gotAccum || this._zerothIsAccum){
this._resolve(this._preservedValues !== null?
[]:this._accum);}};



ReductionPromiseArray.prototype._promiseFulfilled = function(value,index){
var values=this._values;
values[index] = value;
var length=this.length();
var preservedValues=this._preservedValues;
var isEach=preservedValues !== null;
var gotAccum=this._gotAccum;
var valuesPhase=this._valuesPhase;
var valuesPhaseIndex;
if(!valuesPhase){
valuesPhase = this._valuesPhase = new Array(length);
for(valuesPhaseIndex = 0;valuesPhaseIndex < length;++valuesPhaseIndex) {
valuesPhase[valuesPhaseIndex] = 0;}}


valuesPhaseIndex = valuesPhase[index];

if(index === 0 && this._zerothIsAccum){
this._accum = value;
this._gotAccum = gotAccum = true;
valuesPhase[index] = valuesPhaseIndex === 0?
1:2;}else 
if(index === -1){
this._accum = value;
this._gotAccum = gotAccum = true;}else 
{
if(valuesPhaseIndex === 0){
valuesPhase[index] = 1;}else 
{
valuesPhase[index] = 2;
this._accum = value;}}


if(!gotAccum)return;

var callback=this._callback;
var receiver=this._promise._boundValue();
var ret;

for(var i=this._reducingIndex;i < length;++i) {
valuesPhaseIndex = valuesPhase[i];
if(valuesPhaseIndex === 2){
this._reducingIndex = i + 1;
continue;}

if(valuesPhaseIndex !== 1)return;
value = values[i];
this._promise._pushContext();
if(isEach){
preservedValues.push(value);
ret = tryCatch(callback).call(receiver,value,i,length);}else 

{
ret = tryCatch(callback).
call(receiver,this._accum,value,i,length);}

this._promise._popContext();

if(ret === errorObj)return this._reject(ret.e);

var maybePromise=tryConvertToPromise(ret,this._promise);
if(maybePromise instanceof Promise){
maybePromise = maybePromise._target();
if(maybePromise._isPending()){
valuesPhase[i] = 4;
return maybePromise._proxyPromiseArray(this,i);}else 
if(maybePromise._isFulfilled()){
ret = maybePromise._value();}else 
{
return this._reject(maybePromise._reason());}}



this._reducingIndex = i + 1;
this._accum = ret;}


this._resolve(isEach?preservedValues:this._accum);};


function reduce(promises,fn,initialValue,_each){
if(typeof fn !== "function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");
var array=new ReductionPromiseArray(promises,fn,initialValue,_each);
return array.promise();}


Promise.prototype.reduce = function(fn,initialValue){
return reduce(this,fn,initialValue,null);};


Promise.reduce = function(promises,fn,initialValue,_each){
return reduce(promises,fn,initialValue,_each);};};},



{"./async.js":2,"./util.js":38}],31:[function(_dereq_,module,exports){
"use strict";
var schedule;
var util=_dereq_("./util");
var noAsyncScheduler=function(){
throw new Error("No async scheduler available\u000a\u000a    See http://goo.gl/m3OTXk\u000a");};

if(util.isNode && typeof MutationObserver === "undefined"){
var GlobalSetImmediate=global.setImmediate;
var ProcessNextTick=process.nextTick;
schedule = util.isRecentNode?
function(fn){GlobalSetImmediate.call(global,fn);}:
function(fn){ProcessNextTick.call(process,fn);};}else 
if(typeof MutationObserver !== "undefined" && 
!(typeof window !== "undefined" && 
window.navigator && 
window.navigator.standalone)){
schedule = function(fn){
var div=document.createElement("div");
var observer=new MutationObserver(fn);
observer.observe(div,{attributes:true});
return function(){div.classList.toggle("foo");};};

schedule.isStatic = true;}else 
if(typeof setImmediate !== "undefined"){
schedule = function(fn){
setImmediate(fn);};}else 

if(typeof setTimeout !== "undefined"){
schedule = function(fn){
setTimeout(fn,0);};}else 

{
schedule = noAsyncScheduler;}

module.exports = schedule;},

{"./util":38}],32:[function(_dereq_,module,exports){
"use strict";
module.exports = 
function(Promise,PromiseArray){
var PromiseInspection=Promise.PromiseInspection;
var util=_dereq_("./util.js");

function SettledPromiseArray(values){
this.constructor$(values);}

util.inherits(SettledPromiseArray,PromiseArray);

SettledPromiseArray.prototype._promiseResolved = function(index,inspection){
this._values[index] = inspection;
var totalResolved=++this._totalResolved;
if(totalResolved >= this._length){
this._resolve(this._values);}};



SettledPromiseArray.prototype._promiseFulfilled = function(value,index){
var ret=new PromiseInspection();
ret._bitField = 268435456;
ret._settledValue = value;
this._promiseResolved(index,ret);};

SettledPromiseArray.prototype._promiseRejected = function(reason,index){
var ret=new PromiseInspection();
ret._bitField = 134217728;
ret._settledValue = reason;
this._promiseResolved(index,ret);};


Promise.settle = function(promises){
return new SettledPromiseArray(promises).promise();};


Promise.prototype.settle = function(){
return new SettledPromiseArray(this).promise();};};},



{"./util.js":38}],33:[function(_dereq_,module,exports){
"use strict";
module.exports = 
function(Promise,PromiseArray,apiRejection){
var util=_dereq_("./util.js");
var RangeError=_dereq_("./errors.js").RangeError;
var AggregateError=_dereq_("./errors.js").AggregateError;
var isArray=util.isArray;


function SomePromiseArray(values){
this.constructor$(values);
this._howMany = 0;
this._unwrap = false;
this._initialized = false;}

util.inherits(SomePromiseArray,PromiseArray);

SomePromiseArray.prototype._init = function(){
if(!this._initialized){
return;}

if(this._howMany === 0){
this._resolve([]);
return;}

this._init$(undefined,-5);
var isArrayResolved=isArray(this._values);
if(!this._isResolved() && 
isArrayResolved && 
this._howMany > this._canPossiblyFulfill()){
this._reject(this._getRangeError(this.length()));}};



SomePromiseArray.prototype.init = function(){
this._initialized = true;
this._init();};


SomePromiseArray.prototype.setUnwrap = function(){
this._unwrap = true;};


SomePromiseArray.prototype.howMany = function(){
return this._howMany;};


SomePromiseArray.prototype.setHowMany = function(count){
this._howMany = count;};


SomePromiseArray.prototype._promiseFulfilled = function(value){
this._addFulfilled(value);
if(this._fulfilled() === this.howMany()){
this._values.length = this.howMany();
if(this.howMany() === 1 && this._unwrap){
this._resolve(this._values[0]);}else 
{
this._resolve(this._values);}}};




SomePromiseArray.prototype._promiseRejected = function(reason){
this._addRejected(reason);
if(this.howMany() > this._canPossiblyFulfill()){
var e=new AggregateError();
for(var i=this.length();i < this._values.length;++i) {
e.push(this._values[i]);}

this._reject(e);}};



SomePromiseArray.prototype._fulfilled = function(){
return this._totalResolved;};


SomePromiseArray.prototype._rejected = function(){
return this._values.length - this.length();};


SomePromiseArray.prototype._addRejected = function(reason){
this._values.push(reason);};


SomePromiseArray.prototype._addFulfilled = function(value){
this._values[this._totalResolved++] = value;};


SomePromiseArray.prototype._canPossiblyFulfill = function(){
return this.length() - this._rejected();};


SomePromiseArray.prototype._getRangeError = function(count){
var message="Input array must contain at least " + 
this._howMany + " items but contains only " + count + " items";
return new RangeError(message);};


SomePromiseArray.prototype._resolveEmptyArray = function(){
this._reject(this._getRangeError(0));};


function some(promises,howMany){
if((howMany | 0) !== howMany || howMany < 0){
return apiRejection("expecting a positive integer\u000a\u000a    See http://goo.gl/1wAmHx\u000a");}

var ret=new SomePromiseArray(promises);
var promise=ret.promise();
ret.setHowMany(howMany);
ret.init();
return promise;}


Promise.some = function(promises,howMany){
return some(promises,howMany);};


Promise.prototype.some = function(howMany){
return some(this,howMany);};


Promise._SomePromiseArray = SomePromiseArray;};},


{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise){
function PromiseInspection(promise){
if(promise !== undefined){
promise = promise._target();
this._bitField = promise._bitField;
this._settledValue = promise._settledValue;}else 

{
this._bitField = 0;
this._settledValue = undefined;}}



PromiseInspection.prototype.value = function(){
if(!this.isFulfilled()){
throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\u000a\u000a    See http://goo.gl/hc1DLj\u000a");}

return this._settledValue;};


PromiseInspection.prototype.error = 
PromiseInspection.prototype.reason = function(){
if(!this.isRejected()){
throw new TypeError("cannot get rejection reason of a non-rejected promise\u000a\u000a    See http://goo.gl/hPuiwB\u000a");}

return this._settledValue;};


PromiseInspection.prototype.isFulfilled = 
Promise.prototype._isFulfilled = function(){
return (this._bitField & 268435456) > 0;};


PromiseInspection.prototype.isRejected = 
Promise.prototype._isRejected = function(){
return (this._bitField & 134217728) > 0;};


PromiseInspection.prototype.isPending = 
Promise.prototype._isPending = function(){
return (this._bitField & 402653184) === 0;};


PromiseInspection.prototype.isResolved = 
Promise.prototype._isResolved = function(){
return (this._bitField & 402653184) > 0;};


Promise.prototype.isPending = function(){
return this._target()._isPending();};


Promise.prototype.isRejected = function(){
return this._target()._isRejected();};


Promise.prototype.isFulfilled = function(){
return this._target()._isFulfilled();};


Promise.prototype.isResolved = function(){
return this._target()._isResolved();};


Promise.prototype._value = function(){
return this._settledValue;};


Promise.prototype._reason = function(){
this._unsetRejectionIsUnhandled();
return this._settledValue;};


Promise.prototype.value = function(){
var target=this._target();
if(!target.isFulfilled()){
throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\u000a\u000a    See http://goo.gl/hc1DLj\u000a");}

return target._settledValue;};


Promise.prototype.reason = function(){
var target=this._target();
if(!target.isRejected()){
throw new TypeError("cannot get rejection reason of a non-rejected promise\u000a\u000a    See http://goo.gl/hPuiwB\u000a");}

target._unsetRejectionIsUnhandled();
return target._settledValue;};



Promise.PromiseInspection = PromiseInspection;};},


{}],35:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL){
var util=_dereq_("./util.js");
var errorObj=util.errorObj;
var isObject=util.isObject;

function tryConvertToPromise(obj,context){
if(isObject(obj)){
if(obj instanceof Promise){
return obj;}else 

if(isAnyBluebirdPromise(obj)){
var ret=new Promise(INTERNAL);
obj._then(
ret._fulfillUnchecked,
ret._rejectUncheckedCheckError,
ret._progressUnchecked,
ret,
null);

return ret;}

var then=util.tryCatch(getThen)(obj);
if(then === errorObj){
if(context)context._pushContext();
var ret=Promise.reject(then.e);
if(context)context._popContext();
return ret;}else 
if(typeof then === "function"){
return doThenable(obj,then,context);}}


return obj;}


function getThen(obj){
return obj.then;}


var hasProp=({}).hasOwnProperty;
function isAnyBluebirdPromise(obj){
return hasProp.call(obj,"_promise0");}


function doThenable(x,then,context){
var promise=new Promise(INTERNAL);
var ret=promise;
if(context)context._pushContext();
promise._captureStackTrace();
if(context)context._popContext();
var synchronous=true;
var result=util.tryCatch(then).call(x,
resolveFromThenable,
rejectFromThenable,
progressFromThenable);
synchronous = false;
if(promise && result === errorObj){
promise._rejectCallback(result.e,true,true);
promise = null;}


function resolveFromThenable(value){
if(!promise)return;
promise._resolveCallback(value);
promise = null;}


function rejectFromThenable(reason){
if(!promise)return;
promise._rejectCallback(reason,synchronous,true);
promise = null;}


function progressFromThenable(value){
if(!promise)return;
if(typeof promise._progress === "function"){
promise._progress(value);}}


return ret;}


return tryConvertToPromise;};},


{"./util.js":38}],36:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,INTERNAL){
var util=_dereq_("./util.js");
var TimeoutError=Promise.TimeoutError;

var afterTimeout=function(promise,message){
if(!promise.isPending())return;

var err;
if(!util.isPrimitive(message) && message instanceof Error){
err = message;}else 
{
if(typeof message !== "string"){
message = "operation timed out";}

err = new TimeoutError(message);}

util.markAsOriginatingFromRejection(err);
promise._attachExtraTrace(err);
promise._cancel(err);};


var afterValue=function(value){return delay(+this).thenReturn(value);};
var delay=Promise.delay = function(value,ms){
if(ms === undefined){
ms = value;
value = undefined;
var ret=new Promise(INTERNAL);
setTimeout(function(){ret._fulfill();},ms);
return ret;}

ms = +ms;
return Promise.resolve(value)._then(afterValue,null,null,ms,undefined);};


Promise.prototype.delay = function(ms){
return delay(this,ms);};


function successClear(value){
var handle=this;
if(handle instanceof Number)handle = +handle;
clearTimeout(handle);
return value;}


function failureClear(reason){
var handle=this;
if(handle instanceof Number)handle = +handle;
clearTimeout(handle);
throw reason;}


Promise.prototype.timeout = function(ms,message){
ms = +ms;
var ret=this.then().cancellable();
ret._cancellationParent = this;
var handle=setTimeout(function timeoutTimeout(){
afterTimeout(ret,message);},
ms);
return ret._then(successClear,failureClear,undefined,handle,undefined);};};},




{"./util.js":38}],37:[function(_dereq_,module,exports){
"use strict";
module.exports = function(Promise,apiRejection,tryConvertToPromise,
createContext){
var TypeError=_dereq_("./errors.js").TypeError;
var inherits=_dereq_("./util.js").inherits;
var PromiseInspection=Promise.PromiseInspection;

function inspectionMapper(inspections){
var len=inspections.length;
for(var i=0;i < len;++i) {
var inspection=inspections[i];
if(inspection.isRejected()){
return Promise.reject(inspection.error());}

inspections[i] = inspection._settledValue;}

return inspections;}


function thrower(e){
setTimeout(function(){throw e;},0);}


function castPreservingDisposable(thenable){
var maybePromise=tryConvertToPromise(thenable);
if(maybePromise !== thenable && 
typeof thenable._isDisposable === "function" && 
typeof thenable._getDisposer === "function" && 
thenable._isDisposable()){
maybePromise._setDisposable(thenable._getDisposer());}

return maybePromise;}

function dispose(resources,inspection){
var i=0;
var len=resources.length;
var ret=Promise.defer();
function iterator(){
if(i >= len)return ret.resolve();
var maybePromise=castPreservingDisposable(resources[i++]);
if(maybePromise instanceof Promise && 
maybePromise._isDisposable()){
try{
maybePromise = tryConvertToPromise(
maybePromise._getDisposer().tryDispose(inspection),
resources.promise);}
catch(e) {
return thrower(e);}

if(maybePromise instanceof Promise){
return maybePromise._then(iterator,thrower,
null,null,null);}}


iterator();}

iterator();
return ret.promise;}


function disposerSuccess(value){
var inspection=new PromiseInspection();
inspection._settledValue = value;
inspection._bitField = 268435456;
return dispose(this,inspection).thenReturn(value);}


function disposerFail(reason){
var inspection=new PromiseInspection();
inspection._settledValue = reason;
inspection._bitField = 134217728;
return dispose(this,inspection).thenThrow(reason);}


function Disposer(data,promise,context){
this._data = data;
this._promise = promise;
this._context = context;}


Disposer.prototype.data = function(){
return this._data;};


Disposer.prototype.promise = function(){
return this._promise;};


Disposer.prototype.resource = function(){
if(this.promise().isFulfilled()){
return this.promise().value();}

return null;};


Disposer.prototype.tryDispose = function(inspection){
var resource=this.resource();
var context=this._context;
if(context !== undefined)context._pushContext();
var ret=resource !== null?
this.doDispose(resource,inspection):null;
if(context !== undefined)context._popContext();
this._promise._unsetDisposable();
this._data = null;
return ret;};


Disposer.isDisposer = function(d){
return d != null && 
typeof d.resource === "function" && 
typeof d.tryDispose === "function";};


function FunctionDisposer(fn,promise,context){
this.constructor$(fn,promise,context);}

inherits(FunctionDisposer,Disposer);

FunctionDisposer.prototype.doDispose = function(resource,inspection){
var fn=this.data();
return fn.call(resource,resource,inspection);};


function maybeUnwrapDisposer(value){
if(Disposer.isDisposer(value)){
this.resources[this.index]._setDisposable(value);
return value.promise();}

return value;}


Promise.using = function(){
var len=arguments.length;
if(len < 2)return apiRejection(
"you must pass at least 2 arguments to Promise.using");
var fn=arguments[len - 1];
if(typeof fn !== "function")return apiRejection("fn must be a function\u000a\u000a    See http://goo.gl/916lJJ\u000a");

var input;
var spreadArgs=true;
if(len === 2 && Array.isArray(arguments[0])){
input = arguments[0];
len = input.length;
spreadArgs = false;}else 
{
input = arguments;
len--;}

var resources=new Array(len);
for(var i=0;i < len;++i) {
var resource=input[i];
if(Disposer.isDisposer(resource)){
var disposer=resource;
resource = resource.promise();
resource._setDisposable(disposer);}else 
{
var maybePromise=tryConvertToPromise(resource);
if(maybePromise instanceof Promise){
resource = 
maybePromise._then(maybeUnwrapDisposer,null,null,{
resources:resources,
index:i},
undefined);}}


resources[i] = resource;}


var promise=Promise.settle(resources).
then(inspectionMapper).
then(function(vals){
promise._pushContext();
var ret;
try{
ret = spreadArgs?
fn.apply(undefined,vals):fn.call(undefined,vals);}finally 
{
promise._popContext();}

return ret;}).

_then(
disposerSuccess,disposerFail,undefined,resources,undefined);
resources.promise = promise;
return promise;};


Promise.prototype._setDisposable = function(disposer){
this._bitField = this._bitField | 262144;
this._disposer = disposer;};


Promise.prototype._isDisposable = function(){
return (this._bitField & 262144) > 0;};


Promise.prototype._getDisposer = function(){
return this._disposer;};


Promise.prototype._unsetDisposable = function(){
this._bitField = this._bitField & ~262144;
this._disposer = undefined;};


Promise.prototype.disposer = function(fn){
if(typeof fn === "function"){
return new FunctionDisposer(fn,this,createContext());}

throw new TypeError();};};},




{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){
"use strict";
var es5=_dereq_("./es5.js");
var canEvaluate=typeof navigator == "undefined";
var haveGetters=(function(){
try{
var o={};
es5.defineProperty(o,"f",{
get:function(){
return 3;}});


return o.f === 3;}

catch(e) {
return false;}})();




var errorObj={e:{}};
var tryCatchTarget;
function tryCatcher(){
try{
var target=tryCatchTarget;
tryCatchTarget = null;
return target.apply(this,arguments);}
catch(e) {
errorObj.e = e;
return errorObj;}}


function tryCatch(fn){
tryCatchTarget = fn;
return tryCatcher;}


var inherits=function(Child,Parent){
var hasProp=({}).hasOwnProperty;

function T(){
this.constructor = Child;
this.constructor$ = Parent;
for(var propertyName in Parent.prototype) {
if(hasProp.call(Parent.prototype,propertyName) && 
propertyName.charAt(propertyName.length - 1) !== "$")
{
this[propertyName + "$"] = Parent.prototype[propertyName];}}}



T.prototype = Parent.prototype;
Child.prototype = new T();
return Child.prototype;};



function isPrimitive(val){
return val == null || val === true || val === false || 
typeof val === "string" || typeof val === "number";}



function isObject(value){
return !isPrimitive(value);}


function maybeWrapAsError(maybeError){
if(!isPrimitive(maybeError))return maybeError;

return new Error(safeToString(maybeError));}


function withAppended(target,appendee){
var len=target.length;
var ret=new Array(len + 1);
var i;
for(i = 0;i < len;++i) {
ret[i] = target[i];}

ret[i] = appendee;
return ret;}


function getDataPropertyOrDefault(obj,key,defaultValue){
if(es5.isES5){
var desc=Object.getOwnPropertyDescriptor(obj,key);

if(desc != null){
return desc.get == null && desc.set == null?
desc.value:
defaultValue;}}else 

{
return ({}).hasOwnProperty.call(obj,key)?obj[key]:undefined;}}



function notEnumerableProp(obj,name,value){
if(isPrimitive(obj))return obj;
var descriptor={
value:value,
configurable:true,
enumerable:false,
writable:true};

es5.defineProperty(obj,name,descriptor);
return obj;}


function thrower(r){
throw r;}


var inheritedDataKeys=(function(){
var excludedPrototypes=[
Array.prototype,
Object.prototype,
Function.prototype];


var isExcludedProto=function(val){
for(var i=0;i < excludedPrototypes.length;++i) {
if(excludedPrototypes[i] === val){
return true;}}


return false;};


if(es5.isES5){
var getKeys=Object.getOwnPropertyNames;
return function(obj){
var ret=[];
var visitedKeys=Object.create(null);
while(obj != null && !isExcludedProto(obj)) {
var keys;
try{
keys = getKeys(obj);}
catch(e) {
return ret;}

for(var i=0;i < keys.length;++i) {
var key=keys[i];
if(visitedKeys[key])continue;
visitedKeys[key] = true;
var desc=Object.getOwnPropertyDescriptor(obj,key);
if(desc != null && desc.get == null && desc.set == null){
ret.push(key);}}


obj = es5.getPrototypeOf(obj);}

return ret;};}else 

{
var hasProp=({}).hasOwnProperty;
return function(obj){
if(isExcludedProto(obj))return [];
var ret=[];


enumeration: for(var key in obj) {
if(hasProp.call(obj,key)){
ret.push(key);}else 
{
for(var i=0;i < excludedPrototypes.length;++i) {
if(hasProp.call(excludedPrototypes[i],key)){
continue enumeration;}}


ret.push(key);}}


return ret;};}})();





var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;
function isClass(fn){
try{
if(typeof fn === "function"){
var keys=es5.names(fn.prototype);

var hasMethods=es5.isES5 && keys.length > 1;
var hasMethodsOtherThanConstructor=keys.length > 0 && 
!(keys.length === 1 && keys[0] === "constructor");
var hasThisAssignmentAndStaticMethods=
thisAssignmentPattern.test(fn + "") && es5.names(fn).length > 0;

if(hasMethods || hasMethodsOtherThanConstructor || 
hasThisAssignmentAndStaticMethods){
return true;}}


return false;}
catch(e) {
return false;}}



function toFastProperties(obj){

function f(){}
f.prototype = obj;
var l=8;
while(l--) new f();
return obj;
eval(obj);}


var rident=/^[a-z$_][a-z$_0-9]*$/i;
function isIdentifier(str){
return rident.test(str);}


function filledRange(count,prefix,suffix){
var ret=new Array(count);
for(var i=0;i < count;++i) {
ret[i] = prefix + i + suffix;}

return ret;}


function safeToString(obj){
try{
return obj + "";}
catch(e) {
return "[no string representation]";}}



function markAsOriginatingFromRejection(e){
try{
notEnumerableProp(e,"isOperational",true);}

catch(ignore) {}}


function originatesFromRejection(e){
if(e == null)return false;
return e instanceof Error["__BluebirdErrorTypes__"].OperationalError || 
e["isOperational"] === true;}


function canAttachTrace(obj){
return obj instanceof Error && es5.propertyIsWritable(obj,"stack");}


var ensureErrorObject=(function(){
if(!("stack" in new Error())){
return function(value){
if(canAttachTrace(value))return value;
try{throw new Error(safeToString(value));}
catch(err) {return err;}};}else 

{
return function(value){
if(canAttachTrace(value))return value;
return new Error(safeToString(value));};}})();




function classString(obj){
return ({}).toString.call(obj);}


function copyDescriptors(from,to,filter){
var keys=es5.names(from);
for(var i=0;i < keys.length;++i) {
var key=keys[i];
if(filter(key)){
try{
es5.defineProperty(to,key,es5.getDescriptor(from,key));}
catch(ignore) {}}}}




var ret={
isClass:isClass,
isIdentifier:isIdentifier,
inheritedDataKeys:inheritedDataKeys,
getDataPropertyOrDefault:getDataPropertyOrDefault,
thrower:thrower,
isArray:es5.isArray,
haveGetters:haveGetters,
notEnumerableProp:notEnumerableProp,
isPrimitive:isPrimitive,
isObject:isObject,
canEvaluate:canEvaluate,
errorObj:errorObj,
tryCatch:tryCatch,
inherits:inherits,
withAppended:withAppended,
maybeWrapAsError:maybeWrapAsError,
toFastProperties:toFastProperties,
filledRange:filledRange,
toString:safeToString,
canAttachTrace:canAttachTrace,
ensureErrorObject:ensureErrorObject,
originatesFromRejection:originatesFromRejection,
markAsOriginatingFromRejection:markAsOriginatingFromRejection,
classString:classString,
copyDescriptors:copyDescriptors,
hasDevTools:typeof chrome !== "undefined" && chrome && 
typeof chrome.loadTimes === "function",
isNode:typeof process !== "undefined" && 
classString(process).toLowerCase() === "[object process]"};

ret.isRecentNode = ret.isNode && (function(){
var version=process.versions.node.split(".").map(Number);
return version[0] === 0 && version[1] > 10 || version[0] > 0;})();


if(ret.isNode)ret.toFastProperties(process);

try{throw new Error();}catch(e) {ret.lastLineError = e;}
module.exports = ret;},

{"./es5.js":14}]},{},[4])(4);});
;if(typeof window !== 'undefined' && window !== null){window.P = window.Promise;}else if(typeof self !== 'undefined' && self !== null){self.P = self.Promise;}
});
__d('base-64/base64.js',function(global, require, module, exports) {  ;
(function(root){


var freeExports=typeof exports == 'object' && exports;


var freeModule=typeof module == 'object' && module && 
module.exports == freeExports && module;



var freeGlobal=typeof global == 'object' && global;
if(freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal){
root = freeGlobal;}




var InvalidCharacterError=function(message){
this.message = message;};

InvalidCharacterError.prototype = new Error();
InvalidCharacterError.prototype.name = 'InvalidCharacterError';

var error=function(message){


throw new InvalidCharacterError(message);};


var TABLE='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

var REGEX_SPACE_CHARACTERS=/[\t\n\f\r ]/g;





var decode=function(input){
input = String(input).
replace(REGEX_SPACE_CHARACTERS,'');
var length=input.length;
if(length % 4 == 0){
input = input.replace(/==?$/,'');
length = input.length;}

if(
length % 4 == 1 || 

/[^+a-zA-Z0-9/]/.test(input))
{
error(
'Invalid character: the string to be decoded is not correctly encoded.');}


var bitCounter=0;
var bitStorage;
var buffer;
var output='';
var position=-1;
while(++position < length) {
buffer = TABLE.indexOf(input.charAt(position));
bitStorage = bitCounter % 4?bitStorage * 64 + buffer:buffer;

if(bitCounter++ % 4){

output += String.fromCharCode(
0xFF & bitStorage >> (-2 * bitCounter & 6));}}



return output;};




var encode=function(input){
input = String(input);
if(/[^\0-\xFF]/.test(input)){


error(
'The string to be encoded contains characters outside of the ' + 
'Latin1 range.');}


var padding=input.length % 3;
var output='';
var position=-1;
var a;
var b;
var c;
var d;
var buffer;

var length=input.length - padding;

while(++position < length) {

a = input.charCodeAt(position) << 16;
b = input.charCodeAt(++position) << 8;
c = input.charCodeAt(++position);
buffer = a + b + c;


output += 
TABLE.charAt(buffer >> 18 & 0x3F) + 
TABLE.charAt(buffer >> 12 & 0x3F) + 
TABLE.charAt(buffer >> 6 & 0x3F) + 
TABLE.charAt(buffer & 0x3F);}



if(padding == 2){
a = input.charCodeAt(position) << 8;
b = input.charCodeAt(++position);
buffer = a + b;
output += 
TABLE.charAt(buffer >> 10) + 
TABLE.charAt(buffer >> 4 & 0x3F) + 
TABLE.charAt(buffer << 2 & 0x3F) + 
'=';}else 

if(padding == 1){
buffer = input.charCodeAt(position);
output += 
TABLE.charAt(buffer >> 2) + 
TABLE.charAt(buffer << 4 & 0x3F) + 
'==';}



return output;};


var base64={
'encode':encode,
'decode':decode,
'version':'0.1.0'};




if(
typeof define == 'function' && 
typeof define.amd == 'object' && 
define.amd)
{
define(function(){
return base64;});}else 

if(freeExports && !freeExports.nodeType){
if(freeModule){
freeModule.exports = base64;}else 
{
for(var key in base64) {
base64.hasOwnProperty(key) && (freeExports[key] = base64[key]);}}}else 


{
root.base64 = base64;}})(


this);
});
__d('AwesomeProject/src/api/user.js',function(global, require, module, exports) {  var _require=


require('AwesomeProject/src/api/models.js');var Activity=_require.Activity;var AV=_require.AV;

var shortid=require('shortid/index.js');

var React=require('react-native/Libraries/react-native/react-native.js');
var NativeModules=React.NativeModules;
var UserApi=NativeModules.UserApi;

function currentUser(){
return AV.User.currentAsync();}











function signup(phone,password){
return AV.User.signUp('u' + shortid.generate(),password,{
mobilePhoneNumber:phone});}













function signin(phone,password){
return AV.User.logInWithMobilePhone(phone,password);}












function logout(){
return AV.User.logOut();}












function starActivity(activity){
return AV.User.currentAsync().then(function(user){
user.relation('starredActivities').add(activity);
return user.save();});}



function unstarActivity(activity){
return AV.User.currentAsync().then(function(user){
user.relation('starredActivities').remove(activity);
return user.save();});}



module.exports = {
currentUser:currentUser,
signup:signup,
signin:signin,
logout:logout,
starActivity:starActivity,
unstarActivity:unstarActivity};
});
__d('AwesomeProject/img/icon-region-shanxi.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-shanxi.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-shanxi","type":"png"});
});
__d('AwesomeProject/img/icon-region-beijing.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-beijing.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-beijing","type":"png"});
});
__d('AwesomeProject/img/icon-region-hebei.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-hebei.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-hebei","type":"png"});
});
__d('AwesomeProject/img/icon-region-shandong.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-shandong.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-shandong","type":"png"});
});
__d('AwesomeProject/img/icon-region-tianjin.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-tianjin.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-tianjin","type":"png"});
});
__d('AwesomeProject/img/icon-region-neimenggu.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":124,"height":124,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-region-neimenggu.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-region-neimenggu","type":"png"});
});
__d('AwesomeProject/src/SignUp.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var _=require('underscore/underscore.js');
var Color=require('color/index.js');
var React=require('react-native/Libraries/react-native/react-native.js');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');var 


AlertIOS=








React.AlertIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var View=React.View;var Text=React.Text;var TextInput=React.TextInput;var TouchableHighlight=React.TouchableHighlight;var TouchableOpacity=React.TouchableOpacity;var Image=React.Image;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var su=require('AwesomeProject/src/styleUtils.js');
var api=require('AwesomeProject/src/api/index.js');var 

user=

api.user;var sms=api.sms;
var HomePage=require('AwesomeProject/src/HomePage.js');

var SMS_COOLDOWN=60;

var SignUpView=React.createClass({displayName:'SignUpView',
mixins:[TimerMixin],

getInitialState:function(){
return {
smsCoolDown:0,
phone:'',
code:'',
password:''};},



_sendVerifyCode:function(){
var phoneValidator=/^(13[0-9]|15[012356789]|18[0-9]|14[57])[0-9]{8}$/;
if(!phoneValidator.test(this.state.phone)){
return AlertIOS.alert('请填写正确的手机号码');}


sms.requestSmsCode(this.state.phone).catch(function(e){
console.trace(e);}).
finally((function(){
this.setState({
smsStamp:Date.now(),
smsCoolDown:SMS_COOLDOWN},
(function(){
this.setTimeout(this._smsCoolDown,300);}).
bind(this));}).
bind(this));},


_smsCoolDown:function(){
var duration=Math.floor((Date.now() - this.state.smsStamp) / 1000);
if(duration >= SMS_COOLDOWN){
this.setState({
smsStamp:null,
smsCoolDown:0});}else 

{
this.setState({
smsCoolDown:SMS_COOLDOWN - duration});

this.setTimeout(this._smsCoolDown,300);}},



_signup:function(){
var labels={
phone:'手机号',
password:'密码',
code:'验证码'};

var key=_.find(['phone','code','password'],function(key){
return !this.state[key];},
this);

if(key){
return AlertIOS.alert('请填写' + labels[key]);}


sms.verifySmsCode(this.state.phone,this.state.code).then((function(verified){
if(!verified){
return AlertIOS.alert('验证码不正确');}


user.signup(this.state.phone,this.state.password).then((function(){
AlertIOS.alert('注册成功',null,[{
text:'确定',
onPress:(function(){
var navigator=this.props.navigator;
navigator.resetTo(new HomePage(navigator));}).
bind(this)}]);}).

bind(this),function(e){
console.trace(e);
AlertIOS.alert(e.reason);});}).

bind(this));},


_renderSmsButton:function(){
if(this.state.smsCoolDown){
return (
React.createElement(View,{style:styles.verifyCodeButtonWrap},
React.createElement(TouchableOpacity,{activeOpacity:1},
React.createElement(Text,{style:[styles.verifyCodeButton,styles.verifyCodeButtonDisabled]},
"获取验证码(" + this.state.smsCoolDown + ")"))));}else 




{
return (
React.createElement(View,{style:styles.verifyCodeButtonWrap},
React.createElement(TouchableOpacity,{onPress:this._sendVerifyCode},
React.createElement(Text,{style:styles.verifyCodeButton},'获取验证码'))));}},






render:function(){var _this=this;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(View,{style:styles.signupForm},
React.createElement(View,{style:styles.inputWrap},
React.createElement(Text,{style:styles.label},'手机号'),
React.createElement(TextInput,{
style:[styles.input,styles.inputPhone],
onChangeText:function(phone){return _this.setState({phone:phone});}}),
this._renderSmsButton()),


React.createElement(View,{style:[styles.inputWrap,styles.inputSeparator]}),

React.createElement(View,{style:styles.inputWrap},
React.createElement(Text,{style:styles.label},'验证码'),
React.createElement(TextInput,{
style:styles.input,
value:this.state.code,
onChangeText:function(code){return _this.setState({code:code});}})),


React.createElement(View,{style:[styles.inputWrap,styles.inputSeparator]}),

React.createElement(View,{style:styles.inputWrap},
React.createElement(Text,{style:styles.label},'密码'),
React.createElement(TextInput,{
secureTextEntry:true,
style:styles.input,
value:this.state.password,
onChangeText:function(password){return _this.setState({password:password});}}))),



React.createElement(View,{style:styles.signupButtonWrap},
React.createElement(TouchableHighlight,{onPress:this._signup,underlayColor:'transparent'},
React.createElement(Text,{style:styles.signupButton},'注册')))));}});







var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#f3f5f6'},


signupForm:{
marginTop:20,
borderTopWidth:1,
borderTopColor:'#dbe0e3',
borderBottomWidth:1,
borderBottomColor:'#dbe0e3',
backgroundColor:'#fff'},


signupButtonWrap:_extends({},
su.padding(20,15)),


signupButton:_extends({
overflow:'hidden',
textAlign:'center',
backgroundColor:'#0087fa',
borderRadius:6,
fontSize:17,
color:'#fff'},
su.padding(14,0)),


inputWrap:{
flexDirection:'row',
alignItems:'center',
marginLeft:15},


label:{
fontSize:14,
color:'#737373',
backgroundColor:'#fff',
width:60},


input:{
flex:2,
color:'#303030',
height:44,
fontSize:14,
backgroundColor:'#fff'},


verifyCodeButtonWrap:{
height:44,
width:110,
justifyContent:'center',
borderLeftWidth:1,
borderLeftColor:'#dbe0e3'},


verifyCodeButton:{
textAlign:'center',
fontSize:12,
color:'#0087fa'},


verifyCodeButtonDisabled:{
color:Color('#0087fa').lighten(0.3).hexString()},


inputSeparator:{
height:1,
backgroundColor:'#dbe0e3'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

SignUpRoute=(function(_BaseRouteMapper){_inherits(SignUpRoute,_BaseRouteMapper);function SignUpRoute(){_classCallCheck(this,SignUpRoute);_get(Object.getPrototypeOf(SignUpRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(SignUpRoute,[{key:'renderLeftButton',value:








function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:


function renderScene(){
return React.createElement(SignUpView,null);}},{key:'title',get:function(){return '注册';}},{key:'style',get:function(){return this.styles.navBar;}}]);return SignUpRoute;})(BaseRouteMapper);



module.exports = SignUpRoute;
});
__d('color/index.js',function(global, require, module, exports) {  var 
convert=require("color-convert/index.js"),
string=require("color-string/color-string.js");

var Color=function(obj){
if(obj instanceof Color)return obj;
if(!(this instanceof Color))return new Color(obj);

this.values = {
rgb:[0,0,0],
hsl:[0,0,0],
hsv:[0,0,0],
hwb:[0,0,0],
cmyk:[0,0,0,0],
alpha:1};



if(typeof obj == "string"){
var vals=string.getRgba(obj);
if(vals){
this.setValues("rgb",vals);}else 

if(vals = string.getHsla(obj)){
this.setValues("hsl",vals);}else 

if(vals = string.getHwb(obj)){
this.setValues("hwb",vals);}else 

{
throw new Error("Unable to parse color from string \"" + obj + "\"");}}else 


if(typeof obj == "object"){
var vals=obj;
if(vals["r"] !== undefined || vals["red"] !== undefined){
this.setValues("rgb",vals);}else 

if(vals["l"] !== undefined || vals["lightness"] !== undefined){
this.setValues("hsl",vals);}else 

if(vals["v"] !== undefined || vals["value"] !== undefined){
this.setValues("hsv",vals);}else 

if(vals["w"] !== undefined || vals["whiteness"] !== undefined){
this.setValues("hwb",vals);}else 

if(vals["c"] !== undefined || vals["cyan"] !== undefined){
this.setValues("cmyk",vals);}else 

{
throw new Error("Unable to parse color from object " + JSON.stringify(obj));}}};




Color.prototype = {
rgb:function(vals){
return this.setSpace("rgb",arguments);},

hsl:function(vals){
return this.setSpace("hsl",arguments);},

hsv:function(vals){
return this.setSpace("hsv",arguments);},

hwb:function(vals){
return this.setSpace("hwb",arguments);},

cmyk:function(vals){
return this.setSpace("cmyk",arguments);},


rgbArray:function(){
return this.values.rgb;},

hslArray:function(){
return this.values.hsl;},

hsvArray:function(){
return this.values.hsv;},

hwbArray:function(){
if(this.values.alpha !== 1){
return this.values.hwb.concat([this.values.alpha]);}

return this.values.hwb;},

cmykArray:function(){
return this.values.cmyk;},

rgbaArray:function(){
var rgb=this.values.rgb;
return rgb.concat([this.values.alpha]);},

hslaArray:function(){
var hsl=this.values.hsl;
return hsl.concat([this.values.alpha]);},

alpha:function(val){
if(val === undefined){
return this.values.alpha;}

this.setValues("alpha",val);
return this;},


red:function(val){
return this.setChannel("rgb",0,val);},

green:function(val){
return this.setChannel("rgb",1,val);},

blue:function(val){
return this.setChannel("rgb",2,val);},

hue:function(val){
return this.setChannel("hsl",0,val);},

saturation:function(val){
return this.setChannel("hsl",1,val);},

lightness:function(val){
return this.setChannel("hsl",2,val);},

saturationv:function(val){
return this.setChannel("hsv",1,val);},

whiteness:function(val){
return this.setChannel("hwb",1,val);},

blackness:function(val){
return this.setChannel("hwb",2,val);},

value:function(val){
return this.setChannel("hsv",2,val);},

cyan:function(val){
return this.setChannel("cmyk",0,val);},

magenta:function(val){
return this.setChannel("cmyk",1,val);},

yellow:function(val){
return this.setChannel("cmyk",2,val);},

black:function(val){
return this.setChannel("cmyk",3,val);},


hexString:function(){
return string.hexString(this.values.rgb);},

rgbString:function(){
return string.rgbString(this.values.rgb,this.values.alpha);},

rgbaString:function(){
return string.rgbaString(this.values.rgb,this.values.alpha);},

percentString:function(){
return string.percentString(this.values.rgb,this.values.alpha);},

hslString:function(){
return string.hslString(this.values.hsl,this.values.alpha);},

hslaString:function(){
return string.hslaString(this.values.hsl,this.values.alpha);},

hwbString:function(){
return string.hwbString(this.values.hwb,this.values.alpha);},

keyword:function(){
return string.keyword(this.values.rgb,this.values.alpha);},


rgbNumber:function(){
return this.values.rgb[0] << 16 | this.values.rgb[1] << 8 | this.values.rgb[2];},


luminosity:function(){

var rgb=this.values.rgb;
var lum=[];
for(var i=0;i < rgb.length;i++) {
var chan=rgb[i] / 255;
lum[i] = chan <= 0.03928?chan / 12.92:
Math.pow((chan + 0.055) / 1.055,2.4);}

return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];},


contrast:function(color2){

var lum1=this.luminosity();
var lum2=color2.luminosity();
if(lum1 > lum2){
return (lum1 + 0.05) / (lum2 + 0.05);}
;
return (lum2 + 0.05) / (lum1 + 0.05);},


level:function(color2){
var contrastRatio=this.contrast(color2);
return contrastRatio >= 7.1?
'AAA':
contrastRatio >= 4.5?
'AA':
'';},


dark:function(){

var rgb=this.values.rgb,
yiq=(rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;
return yiq < 128;},


light:function(){
return !this.dark();},


negate:function(){
var rgb=[];
for(var i=0;i < 3;i++) {
rgb[i] = 255 - this.values.rgb[i];}

this.setValues("rgb",rgb);
return this;},


lighten:function(ratio){
this.values.hsl[2] += this.values.hsl[2] * ratio;
this.setValues("hsl",this.values.hsl);
return this;},


darken:function(ratio){
this.values.hsl[2] -= this.values.hsl[2] * ratio;
this.setValues("hsl",this.values.hsl);
return this;},


saturate:function(ratio){
this.values.hsl[1] += this.values.hsl[1] * ratio;
this.setValues("hsl",this.values.hsl);
return this;},


desaturate:function(ratio){
this.values.hsl[1] -= this.values.hsl[1] * ratio;
this.setValues("hsl",this.values.hsl);
return this;},


whiten:function(ratio){
this.values.hwb[1] += this.values.hwb[1] * ratio;
this.setValues("hwb",this.values.hwb);
return this;},


blacken:function(ratio){
this.values.hwb[2] += this.values.hwb[2] * ratio;
this.setValues("hwb",this.values.hwb);
return this;},


greyscale:function(){
var rgb=this.values.rgb;

var val=rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;
this.setValues("rgb",[val,val,val]);
return this;},


clearer:function(ratio){
this.setValues("alpha",this.values.alpha - this.values.alpha * ratio);
return this;},


opaquer:function(ratio){
this.setValues("alpha",this.values.alpha + this.values.alpha * ratio);
return this;},


rotate:function(degrees){
var hue=this.values.hsl[0];
hue = (hue + degrees) % 360;
hue = hue < 0?360 + hue:hue;
this.values.hsl[0] = hue;
this.setValues("hsl",this.values.hsl);
return this;},






mix:function(mixinColor,weight){
var color1=this;
var color2=mixinColor;
var p=weight !== undefined?weight:0.5;

var w=2 * p - 1;
var a=color1.alpha() - color2.alpha();

var w1=((w * a == -1?w:(w + a) / (1 + w * a)) + 1) / 2.0;
var w2=1 - w1;

return this.
rgb(
w1 * color1.red() + w2 * color2.red(),
w1 * color1.green() + w2 * color2.green(),
w1 * color1.blue() + w2 * color2.blue()).

alpha(color1.alpha() * p + color2.alpha() * (1 - p));},


toJSON:function(){
return this.rgb();},


clone:function(){
return new Color(this.rgb());}};




Color.prototype.getValues = function(space){
var vals={};
for(var i=0;i < space.length;i++) {
vals[space.charAt(i)] = this.values[space][i];}

if(this.values.alpha != 1){
vals["a"] = this.values.alpha;}


return vals;};


Color.prototype.setValues = function(space,vals){
var spaces={
"rgb":["red","green","blue"],
"hsl":["hue","saturation","lightness"],
"hsv":["hue","saturation","value"],
"hwb":["hue","whiteness","blackness"],
"cmyk":["cyan","magenta","yellow","black"]};


var maxes={
"rgb":[255,255,255],
"hsl":[360,100,100],
"hsv":[360,100,100],
"hwb":[360,100,100],
"cmyk":[100,100,100,100]};


var alpha=1;
if(space == "alpha"){
alpha = vals;}else 

if(vals.length){

this.values[space] = vals.slice(0,space.length);
alpha = vals[space.length];}else 

if(vals[space.charAt(0)] !== undefined){

for(var i=0;i < space.length;i++) {
this.values[space][i] = vals[space.charAt(i)];}

alpha = vals.a;}else 

if(vals[spaces[space][0]] !== undefined){

var chans=spaces[space];
for(var i=0;i < space.length;i++) {
this.values[space][i] = vals[chans[i]];}

alpha = vals.alpha;}

this.values.alpha = Math.max(0,Math.min(1,alpha !== undefined?alpha:this.values.alpha));
if(space == "alpha"){
return;}



for(var i=0;i < space.length;i++) {
var capped=Math.max(0,Math.min(maxes[space][i],this.values[space][i]));
this.values[space][i] = Math.round(capped);}



for(var sname in spaces) {
if(sname != space){
this.values[sname] = convert[space][sname](this.values[space]);}



for(var i=0;i < sname.length;i++) {
var capped=Math.max(0,Math.min(maxes[sname][i],this.values[sname][i]));
this.values[sname][i] = Math.round(capped);}}


return true;};


Color.prototype.setSpace = function(space,args){
var vals=args[0];
if(vals === undefined){

return this.getValues(space);}


if(typeof vals == "number"){
vals = Array.prototype.slice.call(args);}

this.setValues(space,vals);
return this;};


Color.prototype.setChannel = function(space,index,val){
if(val === undefined){

return this.values[space][index];}


this.values[space][index] = val;
this.setValues(space,this.values[space]);
return this;};


module.exports = Color;
});
__d('color-convert/index.js',function(global, require, module, exports) {  var conversions=require("color-convert/conversions.js");

var convert=function(){
return new Converter();};


for(var func in conversions) {

convert[func + "Raw"] = (function(func){

return function(arg){
if(typeof arg == "number")
arg = Array.prototype.slice.call(arguments);
return conversions[func](arg);};})(

func);

var pair=/(\w+)2(\w+)/.exec(func),
from=pair[1],
to=pair[2];


convert[from] = convert[from] || {};

convert[from][to] = convert[func] = (function(func){
return function(arg){
if(typeof arg == "number")
arg = Array.prototype.slice.call(arguments);

var val=conversions[func](arg);
if(typeof val == "string" || val === undefined)
return val;

for(var i=0;i < val.length;i++) 
val[i] = Math.round(val[i]);
return val;};})(

func);}




var Converter=function(){
this.convs = {};};




Converter.prototype.routeSpace = function(space,args){
var values=args[0];
if(values === undefined){

return this.getValues(space);}


if(typeof values == "number"){
values = Array.prototype.slice.call(args);}


return this.setValues(space,values);};



Converter.prototype.setValues = function(space,values){
this.space = space;
this.convs = {};
this.convs[space] = values;
return this;};





Converter.prototype.getValues = function(space){
var vals=this.convs[space];
if(!vals){
var fspace=this.space,
from=this.convs[fspace];
vals = convert[fspace][space](from);

this.convs[space] = vals;}

return vals;};


["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){
Converter.prototype[space] = function(vals){
return this.routeSpace(space,arguments);};});



module.exports = convert;
});
__d('color-convert/conversions.js',function(global, require, module, exports) {  module.

exports = {
rgb2hsl:rgb2hsl,
rgb2hsv:rgb2hsv,
rgb2hwb:rgb2hwb,
rgb2cmyk:rgb2cmyk,
rgb2keyword:rgb2keyword,
rgb2xyz:rgb2xyz,
rgb2lab:rgb2lab,
rgb2lch:rgb2lch,

hsl2rgb:hsl2rgb,
hsl2hsv:hsl2hsv,
hsl2hwb:hsl2hwb,
hsl2cmyk:hsl2cmyk,
hsl2keyword:hsl2keyword,

hsv2rgb:hsv2rgb,
hsv2hsl:hsv2hsl,
hsv2hwb:hsv2hwb,
hsv2cmyk:hsv2cmyk,
hsv2keyword:hsv2keyword,

hwb2rgb:hwb2rgb,
hwb2hsl:hwb2hsl,
hwb2hsv:hwb2hsv,
hwb2cmyk:hwb2cmyk,
hwb2keyword:hwb2keyword,

cmyk2rgb:cmyk2rgb,
cmyk2hsl:cmyk2hsl,
cmyk2hsv:cmyk2hsv,
cmyk2hwb:cmyk2hwb,
cmyk2keyword:cmyk2keyword,

keyword2rgb:keyword2rgb,
keyword2hsl:keyword2hsl,
keyword2hsv:keyword2hsv,
keyword2hwb:keyword2hwb,
keyword2cmyk:keyword2cmyk,
keyword2lab:keyword2lab,
keyword2xyz:keyword2xyz,

xyz2rgb:xyz2rgb,
xyz2lab:xyz2lab,
xyz2lch:xyz2lch,

lab2xyz:lab2xyz,
lab2rgb:lab2rgb,
lab2lch:lab2lch,

lch2lab:lch2lab,
lch2xyz:lch2xyz,
lch2rgb:lch2rgb};



function rgb2hsl(rgb){
var r=rgb[0] / 255,
g=rgb[1] / 255,
b=rgb[2] / 255,
min=Math.min(r,g,b),
max=Math.max(r,g,b),
delta=max - min,
h,s,l;

if(max == min)
h = 0;else 
if(r == max)
h = (g - b) / delta;else 
if(g == max)
h = 2 + (b - r) / delta;else 
if(b == max)
h = 4 + (r - g) / delta;

h = Math.min(h * 60,360);

if(h < 0)
h += 360;

l = (min + max) / 2;

if(max == min)
s = 0;else 
if(l <= 0.5)
s = delta / (max + min);else 

s = delta / (2 - max - min);

return [h,s * 100,l * 100];}


function rgb2hsv(rgb){
var r=rgb[0],
g=rgb[1],
b=rgb[2],
min=Math.min(r,g,b),
max=Math.max(r,g,b),
delta=max - min,
h,s,v;

if(max == 0)
s = 0;else 

s = delta / max * 1000 / 10;

if(max == min)
h = 0;else 
if(r == max)
h = (g - b) / delta;else 
if(g == max)
h = 2 + (b - r) / delta;else 
if(b == max)
h = 4 + (r - g) / delta;

h = Math.min(h * 60,360);

if(h < 0)
h += 360;

v = max / 255 * 1000 / 10;

return [h,s,v];}


function rgb2hwb(rgb){
var r=rgb[0],
g=rgb[1],
b=rgb[2],
h=rgb2hsl(rgb)[0],
w=1 / 255 * Math.min(r,Math.min(g,b)),
b=1 - 1 / 255 * Math.max(r,Math.max(g,b));

return [h,w * 100,b * 100];}


function rgb2cmyk(rgb){
var r=rgb[0] / 255,
g=rgb[1] / 255,
b=rgb[2] / 255,
c,m,y,k;

k = Math.min(1 - r,1 - g,1 - b);
c = (1 - r - k) / (1 - k) || 0;
m = (1 - g - k) / (1 - k) || 0;
y = (1 - b - k) / (1 - k) || 0;
return [c * 100,m * 100,y * 100,k * 100];}


function rgb2keyword(rgb){
return reverseKeywords[JSON.stringify(rgb)];}


function rgb2xyz(rgb){
var r=rgb[0] / 255,
g=rgb[1] / 255,
b=rgb[2] / 255;


r = r > 0.04045?Math.pow((r + 0.055) / 1.055,2.4):r / 12.92;
g = g > 0.04045?Math.pow((g + 0.055) / 1.055,2.4):g / 12.92;
b = b > 0.04045?Math.pow((b + 0.055) / 1.055,2.4):b / 12.92;

var x=r * 0.4124 + g * 0.3576 + b * 0.1805;
var y=r * 0.2126 + g * 0.7152 + b * 0.0722;
var z=r * 0.0193 + g * 0.1192 + b * 0.9505;

return [x * 100,y * 100,z * 100];}


function rgb2lab(rgb){
var xyz=rgb2xyz(rgb),
x=xyz[0],
y=xyz[1],
z=xyz[2],
l,a,b;

x /= 95.047;
y /= 100;
z /= 108.883;

x = x > 0.008856?Math.pow(x,1 / 3):7.787 * x + 16 / 116;
y = y > 0.008856?Math.pow(y,1 / 3):7.787 * y + 16 / 116;
z = z > 0.008856?Math.pow(z,1 / 3):7.787 * z + 16 / 116;

l = 116 * y - 16;
a = 500 * (x - y);
b = 200 * (y - z);

return [l,a,b];}


function rgb2lch(args){
return lab2lch(rgb2lab(args));}


function hsl2rgb(hsl){
var h=hsl[0] / 360,
s=hsl[1] / 100,
l=hsl[2] / 100,
t1,t2,t3,rgb,val;

if(s == 0){
val = l * 255;
return [val,val,val];}


if(l < 0.5)
t2 = l * (1 + s);else 

t2 = l + s - l * s;
t1 = 2 * l - t2;

rgb = [0,0,0];
for(var i=0;i < 3;i++) {
t3 = h + 1 / 3 * -(i - 1);
t3 < 0 && t3++;
t3 > 1 && t3--;

if(6 * t3 < 1)
val = t1 + (t2 - t1) * 6 * t3;else 
if(2 * t3 < 1)
val = t2;else 
if(3 * t3 < 2)
val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;else 

val = t1;

rgb[i] = val * 255;}


return rgb;}


function hsl2hsv(hsl){
var h=hsl[0],
s=hsl[1] / 100,
l=hsl[2] / 100,
sv,v;

if(l === 0){


return [0,0,0];}


l *= 2;
s *= l <= 1?l:2 - l;
v = (l + s) / 2;
sv = 2 * s / (l + s);
return [h,sv * 100,v * 100];}


function hsl2hwb(args){
return rgb2hwb(hsl2rgb(args));}


function hsl2cmyk(args){
return rgb2cmyk(hsl2rgb(args));}


function hsl2keyword(args){
return rgb2keyword(hsl2rgb(args));}



function hsv2rgb(hsv){
var h=hsv[0] / 60,
s=hsv[1] / 100,
v=hsv[2] / 100,
hi=Math.floor(h) % 6;

var f=h - Math.floor(h),
p=255 * v * (1 - s),
q=255 * v * (1 - s * f),
t=255 * v * (1 - s * (1 - f)),
v=255 * v;

switch(hi){
case 0:
return [v,t,p];
case 1:
return [q,v,p];
case 2:
return [p,v,t];
case 3:
return [p,q,v];
case 4:
return [t,p,v];
case 5:
return [v,p,q];}}



function hsv2hsl(hsv){
var h=hsv[0],
s=hsv[1] / 100,
v=hsv[2] / 100,
sl,l;

l = (2 - s) * v;
sl = s * v;
sl /= l <= 1?l:2 - l;
sl = sl || 0;
l /= 2;
return [h,sl * 100,l * 100];}


function hsv2hwb(args){
return rgb2hwb(hsv2rgb(args));}


function hsv2cmyk(args){
return rgb2cmyk(hsv2rgb(args));}


function hsv2keyword(args){
return rgb2keyword(hsv2rgb(args));}



function hwb2rgb(hwb){
var h=hwb[0] / 360,
wh=hwb[1] / 100,
bl=hwb[2] / 100,
ratio=wh + bl,
i,v,f,n;


if(ratio > 1){
wh /= ratio;
bl /= ratio;}


i = Math.floor(6 * h);
v = 1 - bl;
f = 6 * h - i;
if((i & 0x01) != 0){
f = 1 - f;}

n = wh + f * (v - wh);

switch(i){
default:
case 6:
case 0:r = v;g = n;b = wh;break;
case 1:r = n;g = v;b = wh;break;
case 2:r = wh;g = v;b = n;break;
case 3:r = wh;g = n;b = v;break;
case 4:r = n;g = wh;b = v;break;
case 5:r = v;g = wh;b = n;break;}


return [r * 255,g * 255,b * 255];}


function hwb2hsl(args){
return rgb2hsl(hwb2rgb(args));}


function hwb2hsv(args){
return rgb2hsv(hwb2rgb(args));}


function hwb2cmyk(args){
return rgb2cmyk(hwb2rgb(args));}


function hwb2keyword(args){
return rgb2keyword(hwb2rgb(args));}


function cmyk2rgb(cmyk){
var c=cmyk[0] / 100,
m=cmyk[1] / 100,
y=cmyk[2] / 100,
k=cmyk[3] / 100,
r,g,b;

r = 1 - Math.min(1,c * (1 - k) + k);
g = 1 - Math.min(1,m * (1 - k) + k);
b = 1 - Math.min(1,y * (1 - k) + k);
return [r * 255,g * 255,b * 255];}


function cmyk2hsl(args){
return rgb2hsl(cmyk2rgb(args));}


function cmyk2hsv(args){
return rgb2hsv(cmyk2rgb(args));}


function cmyk2hwb(args){
return rgb2hwb(cmyk2rgb(args));}


function cmyk2keyword(args){
return rgb2keyword(cmyk2rgb(args));}



function xyz2rgb(xyz){
var x=xyz[0] / 100,
y=xyz[1] / 100,
z=xyz[2] / 100,
r,g,b;

r = x * 3.2406 + y * -1.5372 + z * -0.4986;
g = x * -0.9689 + y * 1.8758 + z * 0.0415;
b = x * 0.0557 + y * -0.2040 + z * 1.0570;


r = r > 0.0031308?1.055 * Math.pow(r,1.0 / 2.4) - 0.055:
r = r * 12.92;

g = g > 0.0031308?1.055 * Math.pow(g,1.0 / 2.4) - 0.055:
g = g * 12.92;

b = b > 0.0031308?1.055 * Math.pow(b,1.0 / 2.4) - 0.055:
b = b * 12.92;

r = Math.min(Math.max(0,r),1);
g = Math.min(Math.max(0,g),1);
b = Math.min(Math.max(0,b),1);

return [r * 255,g * 255,b * 255];}


function xyz2lab(xyz){
var x=xyz[0],
y=xyz[1],
z=xyz[2],
l,a,b;

x /= 95.047;
y /= 100;
z /= 108.883;

x = x > 0.008856?Math.pow(x,1 / 3):7.787 * x + 16 / 116;
y = y > 0.008856?Math.pow(y,1 / 3):7.787 * y + 16 / 116;
z = z > 0.008856?Math.pow(z,1 / 3):7.787 * z + 16 / 116;

l = 116 * y - 16;
a = 500 * (x - y);
b = 200 * (y - z);

return [l,a,b];}


function xyz2lch(args){
return lab2lch(xyz2lab(args));}


function lab2xyz(lab){
var l=lab[0],
a=lab[1],
b=lab[2],
x,y,z,y2;

if(l <= 8){
y = l * 100 / 903.3;
y2 = 7.787 * (y / 100) + 16 / 116;}else 
{
y = 100 * Math.pow((l + 16) / 116,3);
y2 = Math.pow(y / 100,1 / 3);}


x = x / 95.047 <= 0.008856?x = 95.047 * (a / 500 + y2 - 16 / 116) / 7.787:95.047 * Math.pow(a / 500 + y2,3);

z = z / 108.883 <= 0.008859?z = 108.883 * (y2 - b / 200 - 16 / 116) / 7.787:108.883 * Math.pow(y2 - b / 200,3);

return [x,y,z];}


function lab2lch(lab){
var l=lab[0],
a=lab[1],
b=lab[2],
hr,h,c;

hr = Math.atan2(b,a);
h = hr * 360 / 2 / Math.PI;
if(h < 0){
h += 360;}

c = Math.sqrt(a * a + b * b);
return [l,c,h];}


function lab2rgb(args){
return xyz2rgb(lab2xyz(args));}


function lch2lab(lch){
var l=lch[0],
c=lch[1],
h=lch[2],
a,b,hr;

hr = h / 360 * 2 * Math.PI;
a = c * Math.cos(hr);
b = c * Math.sin(hr);
return [l,a,b];}


function lch2xyz(args){
return lab2xyz(lch2lab(args));}


function lch2rgb(args){
return lab2rgb(lch2lab(args));}


function keyword2rgb(keyword){
return cssKeywords[keyword];}


function keyword2hsl(args){
return rgb2hsl(keyword2rgb(args));}


function keyword2hsv(args){
return rgb2hsv(keyword2rgb(args));}


function keyword2hwb(args){
return rgb2hwb(keyword2rgb(args));}


function keyword2cmyk(args){
return rgb2cmyk(keyword2rgb(args));}


function keyword2lab(args){
return rgb2lab(keyword2rgb(args));}


function keyword2xyz(args){
return rgb2xyz(keyword2rgb(args));}


var cssKeywords={
aliceblue:[240,248,255],
antiquewhite:[250,235,215],
aqua:[0,255,255],
aquamarine:[127,255,212],
azure:[240,255,255],
beige:[245,245,220],
bisque:[255,228,196],
black:[0,0,0],
blanchedalmond:[255,235,205],
blue:[0,0,255],
blueviolet:[138,43,226],
brown:[165,42,42],
burlywood:[222,184,135],
cadetblue:[95,158,160],
chartreuse:[127,255,0],
chocolate:[210,105,30],
coral:[255,127,80],
cornflowerblue:[100,149,237],
cornsilk:[255,248,220],
crimson:[220,20,60],
cyan:[0,255,255],
darkblue:[0,0,139],
darkcyan:[0,139,139],
darkgoldenrod:[184,134,11],
darkgray:[169,169,169],
darkgreen:[0,100,0],
darkgrey:[169,169,169],
darkkhaki:[189,183,107],
darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],
darkorange:[255,140,0],
darkorchid:[153,50,204],
darkred:[139,0,0],
darksalmon:[233,150,122],
darkseagreen:[143,188,143],
darkslateblue:[72,61,139],
darkslategray:[47,79,79],
darkslategrey:[47,79,79],
darkturquoise:[0,206,209],
darkviolet:[148,0,211],
deeppink:[255,20,147],
deepskyblue:[0,191,255],
dimgray:[105,105,105],
dimgrey:[105,105,105],
dodgerblue:[30,144,255],
firebrick:[178,34,34],
floralwhite:[255,250,240],
forestgreen:[34,139,34],
fuchsia:[255,0,255],
gainsboro:[220,220,220],
ghostwhite:[248,248,255],
gold:[255,215,0],
goldenrod:[218,165,32],
gray:[128,128,128],
green:[0,128,0],
greenyellow:[173,255,47],
grey:[128,128,128],
honeydew:[240,255,240],
hotpink:[255,105,180],
indianred:[205,92,92],
indigo:[75,0,130],
ivory:[255,255,240],
khaki:[240,230,140],
lavender:[230,230,250],
lavenderblush:[255,240,245],
lawngreen:[124,252,0],
lemonchiffon:[255,250,205],
lightblue:[173,216,230],
lightcoral:[240,128,128],
lightcyan:[224,255,255],
lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],
lightgreen:[144,238,144],
lightgrey:[211,211,211],
lightpink:[255,182,193],
lightsalmon:[255,160,122],
lightseagreen:[32,178,170],
lightskyblue:[135,206,250],
lightslategray:[119,136,153],
lightslategrey:[119,136,153],
lightsteelblue:[176,196,222],
lightyellow:[255,255,224],
lime:[0,255,0],
limegreen:[50,205,50],
linen:[250,240,230],
magenta:[255,0,255],
maroon:[128,0,0],
mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],
mediumorchid:[186,85,211],
mediumpurple:[147,112,219],
mediumseagreen:[60,179,113],
mediumslateblue:[123,104,238],
mediumspringgreen:[0,250,154],
mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],
midnightblue:[25,25,112],
mintcream:[245,255,250],
mistyrose:[255,228,225],
moccasin:[255,228,181],
navajowhite:[255,222,173],
navy:[0,0,128],
oldlace:[253,245,230],
olive:[128,128,0],
olivedrab:[107,142,35],
orange:[255,165,0],
orangered:[255,69,0],
orchid:[218,112,214],
palegoldenrod:[238,232,170],
palegreen:[152,251,152],
paleturquoise:[175,238,238],
palevioletred:[219,112,147],
papayawhip:[255,239,213],
peachpuff:[255,218,185],
peru:[205,133,63],
pink:[255,192,203],
plum:[221,160,221],
powderblue:[176,224,230],
purple:[128,0,128],
rebeccapurple:[102,51,153],
red:[255,0,0],
rosybrown:[188,143,143],
royalblue:[65,105,225],
saddlebrown:[139,69,19],
salmon:[250,128,114],
sandybrown:[244,164,96],
seagreen:[46,139,87],
seashell:[255,245,238],
sienna:[160,82,45],
silver:[192,192,192],
skyblue:[135,206,235],
slateblue:[106,90,205],
slategray:[112,128,144],
slategrey:[112,128,144],
snow:[255,250,250],
springgreen:[0,255,127],
steelblue:[70,130,180],
tan:[210,180,140],
teal:[0,128,128],
thistle:[216,191,216],
tomato:[255,99,71],
turquoise:[64,224,208],
violet:[238,130,238],
wheat:[245,222,179],
white:[255,255,255],
whitesmoke:[245,245,245],
yellow:[255,255,0],
yellowgreen:[154,205,50]};


var reverseKeywords={};
for(var key in cssKeywords) {
reverseKeywords[JSON.stringify(cssKeywords[key])] = key;}
});
__d('color-string/color-string.js',function(global, require, module, exports) {  var 
colorNames=require('color-name/index.json');

module.exports = {
getRgba:getRgba,
getHsla:getHsla,
getRgb:getRgb,
getHsl:getHsl,
getHwb:getHwb,
getAlpha:getAlpha,

hexString:hexString,
rgbString:rgbString,
rgbaString:rgbaString,
percentString:percentString,
percentaString:percentaString,
hslString:hslString,
hslaString:hslaString,
hwbString:hwbString,
keyword:keyword};


function getRgba(string){
if(!string){
return;}

var abbr=/^#([a-fA-F0-9]{3})$/,
hex=/^#([a-fA-F0-9]{6})$/,
rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
keyword=/(\D+)/;

var rgb=[0,0,0],
a=1,
match=string.match(abbr);
if(match){
match = match[1];
for(var i=0;i < rgb.length;i++) {
rgb[i] = parseInt(match[i] + match[i],16);}}else 


if(match = string.match(hex)){
match = match[1];
for(var i=0;i < rgb.length;i++) {
rgb[i] = parseInt(match.slice(i * 2,i * 2 + 2),16);}}else 


if(match = string.match(rgba)){
for(var i=0;i < rgb.length;i++) {
rgb[i] = parseInt(match[i + 1]);}

a = parseFloat(match[4]);}else 

if(match = string.match(per)){
for(var i=0;i < rgb.length;i++) {
rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);}

a = parseFloat(match[4]);}else 

if(match = string.match(keyword)){
if(match[1] == "transparent"){
return [0,0,0,0];}

rgb = colorNames[match[1]];
if(!rgb){
return;}}



for(var i=0;i < rgb.length;i++) {
rgb[i] = scale(rgb[i],0,255);}

if(!a && a != 0){
a = 1;}else 

{
a = scale(a,0,1);}

rgb[3] = a;
return rgb;}


function getHsla(string){
if(!string){
return;}

var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
var match=string.match(hsl);
if(match){
var alpha=parseFloat(match[4]);
var h=scale(parseInt(match[1]),0,360),
s=scale(parseFloat(match[2]),0,100),
l=scale(parseFloat(match[3]),0,100),
a=scale(isNaN(alpha)?1:alpha,0,1);
return [h,s,l,a];}}



function getHwb(string){
if(!string){
return;}

var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
var match=string.match(hwb);
if(match){
var alpha=parseFloat(match[4]);
var h=scale(parseInt(match[1]),0,360),
w=scale(parseFloat(match[2]),0,100),
b=scale(parseFloat(match[3]),0,100),
a=scale(isNaN(alpha)?1:alpha,0,1);
return [h,w,b,a];}}



function getRgb(string){
var rgba=getRgba(string);
return rgba && rgba.slice(0,3);}


function getHsl(string){
var hsla=getHsla(string);
return hsla && hsla.slice(0,3);}


function getAlpha(string){
var vals=getRgba(string);
if(vals){
return vals[3];}else 

if(vals = getHsla(string)){
return vals[3];}else 

if(vals = getHwb(string)){
return vals[3];}}




function hexString(rgb){
return "#" + hexDouble(rgb[0]) + hexDouble(rgb[1]) + 
hexDouble(rgb[2]);}


function rgbString(rgba,alpha){
if(alpha < 1 || rgba[3] && rgba[3] < 1){
return rgbaString(rgba,alpha);}

return "rgb(" + rgba[0] + ", " + rgba[1] + ", " + rgba[2] + ")";}


function rgbaString(rgba,alpha){
if(alpha === undefined){
alpha = rgba[3] !== undefined?rgba[3]:1;}

return "rgba(" + rgba[0] + ", " + rgba[1] + ", " + rgba[2] + 
", " + alpha + ")";}


function percentString(rgba,alpha){
if(alpha < 1 || rgba[3] && rgba[3] < 1){
return percentaString(rgba,alpha);}

var r=Math.round(rgba[0] / 255 * 100),
g=Math.round(rgba[1] / 255 * 100),
b=Math.round(rgba[2] / 255 * 100);

return "rgb(" + r + "%, " + g + "%, " + b + "%)";}


function percentaString(rgba,alpha){
var r=Math.round(rgba[0] / 255 * 100),
g=Math.round(rgba[1] / 255 * 100),
b=Math.round(rgba[2] / 255 * 100);
return "rgba(" + r + "%, " + g + "%, " + b + "%, " + (alpha || rgba[3] || 1) + ")";}


function hslString(hsla,alpha){
if(alpha < 1 || hsla[3] && hsla[3] < 1){
return hslaString(hsla,alpha);}

return "hsl(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%)";}


function hslaString(hsla,alpha){
if(alpha === undefined){
alpha = hsla[3] !== undefined?hsla[3]:1;}

return "hsla(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%, " + 
alpha + ")";}




function hwbString(hwb,alpha){
if(alpha === undefined){
alpha = hwb[3] !== undefined?hwb[3]:1;}

return "hwb(" + hwb[0] + ", " + hwb[1] + "%, " + hwb[2] + "%" + (
alpha !== undefined && alpha !== 1?", " + alpha:"") + ")";}


function keyword(rgb){
return reverseNames[rgb.slice(0,3)];}



function scale(num,min,max){
return Math.min(Math.max(min,num),max);}


function hexDouble(num){
var str=num.toString(16).toUpperCase();
return str.length < 2?"0" + str:str;}




var reverseNames={};
for(var name in colorNames) {
reverseNames[colorNames[name]] = name;}
});
__d('color-name/index.json',function(global, require, module, exports) {  module.exports = {
	"aliceblue": [240, 248, 255],
	"antiquewhite": [250, 235, 215],
	"aqua": [0, 255, 255],
	"aquamarine": [127, 255, 212],
	"azure": [240, 255, 255],
	"beige": [245, 245, 220],
	"bisque": [255, 228, 196],
	"black": [0, 0, 0],
	"blanchedalmond": [255, 235, 205],
	"blue": [0, 0, 255],
	"blueviolet": [138, 43, 226],
	"brown": [165, 42, 42],
	"burlywood": [222, 184, 135],
	"cadetblue": [95, 158, 160],
	"chartreuse": [127, 255, 0],
	"chocolate": [210, 105, 30],
	"coral": [255, 127, 80],
	"cornflowerblue": [100, 149, 237],
	"cornsilk": [255, 248, 220],
	"crimson": [220, 20, 60],
	"cyan": [0, 255, 255],
	"darkblue": [0, 0, 139],
	"darkcyan": [0, 139, 139],
	"darkgoldenrod": [184, 134, 11],
	"darkgray": [169, 169, 169],
	"darkgreen": [0, 100, 0],
	"darkgrey": [169, 169, 169],
	"darkkhaki": [189, 183, 107],
	"darkmagenta": [139, 0, 139],
	"darkolivegreen": [85, 107, 47],
	"darkorange": [255, 140, 0],
	"darkorchid": [153, 50, 204],
	"darkred": [139, 0, 0],
	"darksalmon": [233, 150, 122],
	"darkseagreen": [143, 188, 143],
	"darkslateblue": [72, 61, 139],
	"darkslategray": [47, 79, 79],
	"darkslategrey": [47, 79, 79],
	"darkturquoise": [0, 206, 209],
	"darkviolet": [148, 0, 211],
	"deeppink": [255, 20, 147],
	"deepskyblue": [0, 191, 255],
	"dimgray": [105, 105, 105],
	"dimgrey": [105, 105, 105],
	"dodgerblue": [30, 144, 255],
	"firebrick": [178, 34, 34],
	"floralwhite": [255, 250, 240],
	"forestgreen": [34, 139, 34],
	"fuchsia": [255, 0, 255],
	"gainsboro": [220, 220, 220],
	"ghostwhite": [248, 248, 255],
	"gold": [255, 215, 0],
	"goldenrod": [218, 165, 32],
	"gray": [128, 128, 128],
	"green": [0, 128, 0],
	"greenyellow": [173, 255, 47],
	"grey": [128, 128, 128],
	"honeydew": [240, 255, 240],
	"hotpink": [255, 105, 180],
	"indianred": [205, 92, 92],
	"indigo": [75, 0, 130],
	"ivory": [255, 255, 240],
	"khaki": [240, 230, 140],
	"lavender": [230, 230, 250],
	"lavenderblush": [255, 240, 245],
	"lawngreen": [124, 252, 0],
	"lemonchiffon": [255, 250, 205],
	"lightblue": [173, 216, 230],
	"lightcoral": [240, 128, 128],
	"lightcyan": [224, 255, 255],
	"lightgoldenrodyellow": [250, 250, 210],
	"lightgray": [211, 211, 211],
	"lightgreen": [144, 238, 144],
	"lightgrey": [211, 211, 211],
	"lightpink": [255, 182, 193],
	"lightsalmon": [255, 160, 122],
	"lightseagreen": [32, 178, 170],
	"lightskyblue": [135, 206, 250],
	"lightslategray": [119, 136, 153],
	"lightslategrey": [119, 136, 153],
	"lightsteelblue": [176, 196, 222],
	"lightyellow": [255, 255, 224],
	"lime": [0, 255, 0],
	"limegreen": [50, 205, 50],
	"linen": [250, 240, 230],
	"magenta": [255, 0, 255],
	"maroon": [128, 0, 0],
	"mediumaquamarine": [102, 205, 170],
	"mediumblue": [0, 0, 205],
	"mediumorchid": [186, 85, 211],
	"mediumpurple": [147, 112, 219],
	"mediumseagreen": [60, 179, 113],
	"mediumslateblue": [123, 104, 238],
	"mediumspringgreen": [0, 250, 154],
	"mediumturquoise": [72, 209, 204],
	"mediumvioletred": [199, 21, 133],
	"midnightblue": [25, 25, 112],
	"mintcream": [245, 255, 250],
	"mistyrose": [255, 228, 225],
	"moccasin": [255, 228, 181],
	"navajowhite": [255, 222, 173],
	"navy": [0, 0, 128],
	"oldlace": [253, 245, 230],
	"olive": [128, 128, 0],
	"olivedrab": [107, 142, 35],
	"orange": [255, 165, 0],
	"orangered": [255, 69, 0],
	"orchid": [218, 112, 214],
	"palegoldenrod": [238, 232, 170],
	"palegreen": [152, 251, 152],
	"paleturquoise": [175, 238, 238],
	"palevioletred": [219, 112, 147],
	"papayawhip": [255, 239, 213],
	"peachpuff": [255, 218, 185],
	"peru": [205, 133, 63],
	"pink": [255, 192, 203],
	"plum": [221, 160, 221],
	"powderblue": [176, 224, 230],
	"purple": [128, 0, 128],
	"rebeccapurple": [102, 51, 153],
	"red": [255, 0, 0],
	"rosybrown": [188, 143, 143],
	"royalblue": [65, 105, 225],
	"saddlebrown": [139, 69, 19],
	"salmon": [250, 128, 114],
	"sandybrown": [244, 164, 96],
	"seagreen": [46, 139, 87],
	"seashell": [255, 245, 238],
	"sienna": [160, 82, 45],
	"silver": [192, 192, 192],
	"skyblue": [135, 206, 235],
	"slateblue": [106, 90, 205],
	"slategray": [112, 128, 144],
	"slategrey": [112, 128, 144],
	"snow": [255, 250, 250],
	"springgreen": [0, 255, 127],
	"steelblue": [70, 130, 180],
	"tan": [210, 180, 140],
	"teal": [0, 128, 128],
	"thistle": [216, 191, 216],
	"tomato": [255, 99, 71],
	"turquoise": [64, 224, 208],
	"violet": [238, 130, 238],
	"wheat": [245, 222, 179],
	"white": [255, 255, 255],
	"whitesmoke": [245, 245, 245],
	"yellow": [255, 255, 0],
	"yellowgreen": [154, 205, 50]
};
});
__d('react-timer-mixin/TimerMixin.js',function(global, require, module, exports) {  'use strict';










var GLOBAL=typeof window === 'undefined'?global:window;

var setter=function(_setter,_clearer,array){
return function(callback,delta){
var id=_setter((function(){
_clearer.call(this,id);
callback.apply(this,arguments);}).
bind(this),delta);

if(!this[array]){
this[array] = [id];}else 
{
this[array].push(id);}

return id;};};



var clearer=function(_clearer,array){
return function(id){
if(this[array]){
var index=this[array].indexOf(id);
if(index !== -1){
this[array].splice(index,1);}}


_clearer(id);};};



var _timeouts='TimerMixin_timeouts';
var _clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts);
var _setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts);

var _intervals='TimerMixin_intervals';
var _clearInterval=clearer(GLOBAL.clearInterval,_intervals);
var _setInterval=setter(GLOBAL.setInterval,function(){},_intervals);

var _immediates='TimerMixin_immediates';
var _clearImmediate=clearer(GLOBAL.clearImmediate,_immediates);
var _setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates);

var _rafs='TimerMixin_rafs';
var _cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs);
var _requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs);

var TimerMixin={
componentWillUnmount:function(){
this[_timeouts] && this[_timeouts].forEach(function(id){
GLOBAL.clearTimeout(id);});

this[_timeouts] = null;
this[_intervals] && this[_intervals].forEach(function(id){
GLOBAL.clearInterval(id);});

this[_intervals] = null;
this[_immediates] && this[_immediates].forEach(function(id){
GLOBAL.clearImmediate(id);});

this[_immediates] = null;
this[_rafs] && this[_rafs].forEach(function(id){
GLOBAL.cancelAnimationFrame(id);});

this[_rafs] = null;},


setTimeout:_setTimeout,
clearTimeout:_clearTimeout,

setInterval:_setInterval,
clearInterval:_clearInterval,

setImmediate:_setImmediate,
clearImmediate:_clearImmediate,

requestAnimationFrame:_requestAnimationFrame,
cancelAnimationFrame:_cancelAnimationFrame};


module.exports = TimerMixin;
});
__d('AwesomeProject/src/styleUtils.js',function(global, require, module, exports) {  var _slice=Array.prototype.slice;function padding(){
if(arguments.length === 0){
return {};}


if(arguments.length === 1){
return {
padding:arguments[0]};}



if(arguments.length === 2){var _arguments=_slice.call(
arguments);var vertical=_arguments[0];var horizontal=_arguments[1];
return {
paddingVertical:vertical,
paddingHorizontal:horizontal};}



if(arguments.length === 3){var _arguments2=_slice.call(
arguments);var top=_arguments2[0];var vertical=_arguments2[1];var bottom=_arguments2[2];
return {
paddingTop:top,
paddingBottom:bottom,
paddingVertical:vertical};}var _arguments3=_slice.call(



arguments);var top=_arguments3[0];var right=_arguments3[1];var bottom=_arguments3[2];var left=_arguments3[3];
return {
paddingTop:top,
paddingBottom:bottom,
paddingLeft:left,
paddingRight:right};}



function margin(){
if(arguments.length === 0){
return {};}


if(arguments.length === 1){
return {
margin:arguments[0]};}



if(arguments.length === 2){var _arguments4=_slice.call(
arguments);var vertical=_arguments4[0];var horizontal=_arguments4[1];
return {
marginVertical:vertical,
marginHorizontal:horizontal};}



if(arguments.length === 3){var _arguments5=_slice.call(
arguments);var top=_arguments5[0];var vertical=_arguments5[1];var bottom=_arguments5[2];
return {
marginTop:top,
marginBottom:bottom,
marginLeft:vertical,
marginRight:vertical};}var _arguments6=_slice.call(



arguments);var top=_arguments6[0];var right=_arguments6[1];var bottom=_arguments6[2];var left=_arguments6[3];
return {
marginTop:top,
marginBottom:bottom,
marginLeft:left,
marginRight:right};}



function size(){
if(arguments.length === 1){
var size=arguments[0];
return {
width:size,
height:size};}var _arguments7=_slice.call(



arguments);var width=_arguments7[0];var height=_arguments7[1];
return {
width:width,
height:height};}

;

module.exports = {
margin:margin,
padding:padding,
size:size};
});
__d('AwesomeProject/src/HomePage.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

StyleSheet=












React.StyleSheet;var Text=React.Text;var Image=React.Image;var AlertIOS=React.AlertIOS;var View=React.View;var Component=React.Component;var TouchableOpacity=React.TouchableOpacity;var ListView=React.ListView;var TouchableHighlight=React.TouchableHighlight;var Navigator=React.Navigator;var TabBarIOS=React.TabBarIOS;var StatusBarIOS=React.StatusBarIOS;var NativeModules=React.NativeModules;

var icons=require('AwesomeProject/src/icons.js');
var Icon=require('Ionicons');
var Navbars=require('AwesomeProject/src/Navbars.js');
var SpringBoard=NativeModules.SpringBoard;
var ActivityList=require('AwesomeProject/src/Activity.js');
var Space=require('AwesomeProject/src/Space.js');
var JourneyTab=require('AwesomeProject/src/JourneyTab.js');
var PlusMenu=require('AwesomeProject/src/PlusMenu.js');
var FillActivityBrief=require('AwesomeProject/src/FillActivityBrief.js');
var FriendsTab=require('AwesomeProject/src/FriendsTab.js');
var RecordJourneyChooseActivity=require('AwesomeProject/src/RecordJourneyChooseActivity.js');

console.log(icons.tabActivity);

function emptyFunction(){}

var HomePage=React.createClass({
statics:{
title:'<TabBarIOS>',
description:'Tab-based navigation.'},


displayName:'HomePage',

getInitialState:function(){
return {
selectedTab:'activities',
notifCount:0,
presses:0,
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}}),

loaded:false};},



componentDidMount:function(){
this.props.changeRoute(this.refs[this.state.selectedTab].route);},


gotoIM:function(){
SpringBoard.gotoIM(function(){
console.log('goto IM','done!');});},



_renderContent:function(color,pageText,num){
return (
React.createElement(View,{style:[style.rootContainer,{backgroundColor:color}]},
this.renderHeader(pageText),
React.createElement(Text,{style:style.text},pageText),
React.createElement(Text,{style:style.text},num,' re-renders of the ',pageText),
React.createElement(Button,{onClick:this.gotoIM},'IM')));},




onTouch:function(data){
this.props.navigator.push({
name:'NextPage',
index:1,
id:data.id,
title:data.title,
content:data.content,
component:NextPage});},



renderMovie:function(data){var _this=this;
return (
React.createElement(TouchableHighlight,{onPress:function(){_this.onTouch(data);},underlayColor:'#efefef'},
React.createElement(View,{style:styleListView.container},
React.createElement(View,{style:styleListView.rightContainer},
React.createElement(Text,{style:styleListView.title},data.title),
React.createElement(Text,{style:styleListView.content},data.content)))));},






renderHeader:function(title){
return (
React.createElement(View,{style:style.headerContainer},
React.createElement(Text,{style:style.header},title)));},




_onTabSelect:function(tab){
this.setState({
selectedTab:tab},
(function(){
this.props.changeRoute(this.refs[tab].route);}).
bind(this));},


_onPlusResult:function(result){
if(result === 'activity'){
this.props.navigator.push(new FillActivityBrief());}else 
if(result === 'journey'){
this.props.navigator.push(new RecordJourneyChooseActivity());}},



_onPlusDismiss:function(){
console.log('modal dismiss');},


_popPlusMenu:function(){
var view=
React.createElement(PlusMenu,{
onDismiss:this._onPlusDismiss,
onResult:this._onPlusResult});

this.props.openModal(view);},


render:function(){var _this2=this;
var containerStyles=[styles.container,this.props.style];
if(this.state.selectedTab === 'space'){
containerStyles.push({
paddingTop:0});}



return (
React.createElement(View,{style:containerStyles},
React.createElement(TabBarIOS,{barTintColor:'#fff'},
React.createElement(TabBarIOS.Item,{
title:'活动',
icon:{uri:'icon-tab-activity',scale:2},
selectedIcon:{uri:'icon-tab-activity-active',scale:2},
selected:this.state.selectedTab === 'activities',
onPress:function(){return _this2._onTabSelect('activities');}},

React.createElement(ActivityList,{
ref:'activities',
navigator:this.props.navigator})),



React.createElement(TabBarIOS.Item,{
title:'游记',
icon:{uri:'icon-tab-journey',scale:2},
selectedIcon:{uri:'icon-tab-journey-active',scale:2},
selected:this.state.selectedTab === 'journeys',
onPress:function(){return _this2._onTabSelect('journeys');}},

React.createElement(JourneyTab,{
ref:'journeys',
navigator:this.props.navigator})),



React.createElement(TabBarIOS.Item,{
onPress:this._popPlusMenu,
title:'',
icon:{uri:'icon-tab-plus',scale:2}}),


React.createElement(TabBarIOS.Item,{
title:'朋友',
selected:this.state.selectedTab === 'friends',
icon:{uri:'icon-tab-friends',scale:2},
selectedIcon:{uri:'icon-tab-friends-active',scale:2}},

React.createElement(FriendsTab,{ref:'friends',navigator:this.props.navigator})),



React.createElement(TabBarIOS.Item,{
title:'我的',
icon:{uri:'icon-tab-space',scale:2},
selectedIcon:{uri:'icon-tab-space-active',scale:2},
selected:this.state.selectedTab === 'space',
onPress:function(){return _this2._onTabSelect('space');}},

React.createElement(Space,{
ref:'space',
navigator:this.props.navigator})))));}});








var styles=StyleSheet.create({
container:{
backgroundColor:'#0087fa',
flex:1},

navBarTransparent:{
opacity:0}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

HomePageRoute=(function(_BaseRouteMapper){_inherits(HomePageRoute,_BaseRouteMapper);

function HomePageRoute(navigator){_classCallCheck(this,HomePageRoute);
_get(Object.getPrototypeOf(HomePageRoute.prototype),'constructor',this).call(this);
this._navigator = navigator;}_createClass(HomePageRoute,[{key:'renderLeftButton',value:










function renderLeftButton(route,navigator,index,navState){
return this._route && 
this._route.renderLeftButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return this._route && 
this._route.renderRightButton(route,navigator,index,navState);}},{key:'renderTitle',value:


function renderTitle(route,navigator,index,navState){
return this._route && 
this._route.renderTitle(route,navigator,index,navState);}},{key:'_changeRoute',value:


function _changeRoute(route){
if(this._route === route){
return;}


this._route = route;
this._navigator.forceUpdate();}},{key:'renderScene',value:


function renderScene(navigator){
return (
React.createElement(HomePage,{
navigator:navigator,
changeRoute:this._changeRoute.bind(this)}));}},{key:'title',get:function(){return this._route?this._route.title:'';}},{key:'style',get:function(){return this._route?this._route.style:{};}}]);return HomePageRoute;})(BaseRouteMapper);




module.exports = HomePageRoute;
});
__d('AwesomeProject/src/icons.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');
var Image=React.Image;




exports.tabActivity = require('AwesomeProject/img/icon-tab-activity.png');
exports.activeTabActivity = require('AwesomeProject/img/icon-tab-activity-active.png');
exports.tabJourney = require('AwesomeProject/img/icon-tab-journey.png');
exports.activeTabJourney = require('AwesomeProject/img/icon-tab-journey-active.png');
exports.tabFriends = require('AwesomeProject/img/icon-tab-friends.png');
exports.activeTabFriends = require('AwesomeProject/img/icon-tab-friends-active.png');
exports.tabSpace = require('AwesomeProject/img/icon-tab-space.png');
exports.activeTabSpace = require('AwesomeProject/img/icon-tab-space-active.png');
exports.btnPlus = require('AwesomeProject/img/icon-tab-plus.png');

exports.countdown = require('AwesomeProject/img/icon-countdown.png');
exports.photos = require('AwesomeProject/img/icon-photos.png');
exports.journey = require('AwesomeProject/img/icon-journey.png');
exports.activity = require('AwesomeProject/img/icon-activity.png');
exports.annotations = require('AwesomeProject/img/icon-annotations.png');
exports.bills = require('AwesomeProject/img/icon-bills.png');
exports.photoGreen = require('AwesomeProject/img/icon-photo-green.png');
exports.journeyRed = require('AwesomeProject/img/icon-journey-red.png');
exports.annotationYellow = require('AwesomeProject/img/icon-annotation-yello.png');
exports.avatarPlaceholder = require('AwesomeProject/img/avatar-placeholder.png');
exports.editWhite = require('AwesomeProject/img/icon-edit-white.png');
exports.manageWhite = require('AwesomeProject/img/icon-manage-white.png');
exports.moreDownGray = require('AwesomeProject/img/more-down-gray.png');
exports.star = require('AwesomeProject/img/icon-star.png');
exports.stars = require('AwesomeProject/img/icon-stars.png');
exports.starsOpposite = require('AwesomeProject/img/icon-stars-o.png');
exports.comments = require('AwesomeProject/img/icon-comments.png');
exports.share = require('AwesomeProject/img/icon-share.png');
exports.activityCoverPlaceholder = require('AwesomeProject/img/banner-activity-placeholder.png');
exports.likeRed = require('AwesomeProject/img/like-red.png');
exports.likeGray = require('AwesomeProject/img/like-gray.png');
exports.back = require('AwesomeProject/img/back-icon.png');
exports.mark = require('AwesomeProject/img/icon-mark.png');
exports.calendar = require('AwesomeProject/img/icon-calendar.png');
exports.arrow = require('AwesomeProject/img/icon-arrow.png');
exports.edit = require('AwesomeProject/img/icon-edit.png');
exports.face = require('AwesomeProject/img/faceIcon.png');
exports.pictureGray = require('AwesomeProject/img/icon-picture-gray.png');
exports.information = require('AwesomeProject/img/icon-information.png');
exports.activityCircleTrans = require('AwesomeProject/img/icon-activity-circle-trans.png');
exports.pictureTrans = require('AwesomeProject/img/icon-picture-trans.png');
exports.journeyTrans = require('AwesomeProject/img/icon-journey-trans.png');
exports.annotationTrans = require('AwesomeProject/img/icon-annotation-trans.png');
exports.okGreen = require('AwesomeProject/img/ok-green.png');
exports.ready = require('AwesomeProject/img/icon-ready.png');
exports.audio = require('AwesomeProject/img/icon-switch-to-audio.png');
exports.keyboard = require('AwesomeProject/img/icon-keyboard.png');
exports.expression = require('AwesomeProject/img/icon-expression.png');
exports.sendMedia = require('AwesomeProject/img/icon-send-media.png');

exports.spaceHeader = require('AwesomeProject/img/space-header.png');
exports.levelsBg = require('AwesomeProject/img/levels-bg.png');

exports.views = require('AwesomeProject/img/icon-views.png');
exports.dismiss = require('AwesomeProject/img/icon-dismiss.png');
exports.addRoute = require('AwesomeProject/img/icon-add-route.png');
exports.addImage = require('AwesomeProject/img/icon-add-image.png');
exports.addText = require('AwesomeProject/img/icon-add-text.png');
exports.newActivity = require('AwesomeProject/img/icon-new-activity.png');
exports.newJourneyNote = require('AwesomeProject/img/icon-new-journey-note.png');
exports.coverPlaceholder = require('AwesomeProject/img/cover-placeholder.png');
exports.addDetail = require('AwesomeProject/img/icon-add-detail.png');
exports.contact = require('AwesomeProject/img/icon-contact.png');
exports.plusConv = require('AwesomeProject/img/icon-conv-plus.png');
exports.search = require('AwesomeProject/img/icon-search.png');
exports.circle = require('AwesomeProject/img/icon-circle.png');
exports.group = require('AwesomeProject/img/icon-group.png');


exports.bgGray = require('AwesomeProject/img/bg-gray.png');
exports.starWhite = require('AwesomeProject/img/icon-star-white.png');
exports.viewWhite = require('AwesomeProject/img/icon-view-white.png');
exports.calendarGray = require('AwesomeProject/img/icon-calendar-gray.png');
exports.traceGray = require('AwesomeProject/img/icon-trace-gray.png');


exports.page1 = require('AwesomeProject/img/page1.png');
exports.page2 = require('AwesomeProject/img/page2.png');
exports.page3 = require('AwesomeProject/img/page3.png');


exports.checkedGreen = require('AwesomeProject/img/checked-green.png');
exports.checkedTrans = require('AwesomeProject/img/checked-trans.png');
exports.dismissBg = require('AwesomeProject/img/icon-dismiss-bg.png');


exports.dismissMid = require('AwesomeProject/img/icon-dismiss-mid.png');
exports.plusBlue = require('AwesomeProject/img/icon-plus-blue.png');
exports.calendarGreen = require('AwesomeProject/img/icon-calendar-green.png');
exports.markBlue = require('AwesomeProject/img/icon-mark-blue.png');


exports.code = require('AwesomeProject/img/icon-code.png');
exports.avatar = require('AwesomeProject/img/icon-avatar.png');


exports.photosDecoration = require('AwesomeProject/img/photos-decoration.png');
});
__d('AwesomeProject/img/icon-tab-activity.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":53,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-activity.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-activity","type":"png"});
});
__d('AwesomeProject/img/icon-tab-activity-active.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":53,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-activity-active.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-activity-active","type":"png"});
});
__d('AwesomeProject/img/icon-tab-journey.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":42,"height":54,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-journey.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-journey","type":"png"});
});
__d('AwesomeProject/img/icon-tab-journey-active.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":42,"height":54,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-journey-active.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-journey-active","type":"png"});
});
__d('AwesomeProject/img/icon-tab-friends.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":54,"height":52,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-friends.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-friends","type":"png"});
});
__d('AwesomeProject/img/icon-tab-friends-active.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":54,"height":52,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-friends-active.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-friends-active","type":"png"});
});
__d('AwesomeProject/img/icon-tab-space.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":40,"height":50,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-space.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-space","type":"png"});
});
__d('AwesomeProject/img/icon-tab-space-active.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":40,"height":50,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-space-active.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-space-active","type":"png"});
});
__d('AwesomeProject/img/icon-tab-plus.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":100,"height":76,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-tab-plus.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-tab-plus","type":"png"});
});
__d('AwesomeProject/img/icon-countdown.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":17,"height":23,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-countdown.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-countdown","type":"png"});
});
__d('AwesomeProject/img/icon-photos.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-photos.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-photos","type":"png"});
});
__d('AwesomeProject/img/icon-journey.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-journey.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-journey","type":"png"});
});
__d('AwesomeProject/img/icon-activity.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-activity.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-activity","type":"png"});
});
__d('AwesomeProject/img/icon-annotations.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-annotations.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-annotations","type":"png"});
});
__d('AwesomeProject/img/icon-bills.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-bills.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-bills","type":"png"});
});
__d('AwesomeProject/img/icon-photo-green.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":52,"height":56,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-photo-green.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-photo-green","type":"png"});
});
__d('AwesomeProject/img/icon-journey-red.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":46,"height":62,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-journey-red.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-journey-red","type":"png"});
});
__d('AwesomeProject/img/icon-annotation-yello.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":44,"height":58,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-annotation-yello.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-annotation-yello","type":"png"});
});
__d('AwesomeProject/img/avatar-placeholder.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":50,"height":50,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/avatar-placeholder.png"],"hash":"19d1e1fc8e0ca7e82e1f63b73476b8b3","name":"avatar-placeholder","type":"png"});
});
__d('AwesomeProject/img/icon-edit-white.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":28,"height":28,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-edit-white.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-edit-white","type":"png"});
});
__d('AwesomeProject/img/icon-manage-white.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":35,"height":34,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-manage-white.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-manage-white","type":"png"});
});
__d('AwesomeProject/img/more-down-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":27,"height":27,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/more-down-gray.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"more-down-gray","type":"png"});
});
__d('AwesomeProject/img/icon-star.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":30,"height":28,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-star.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-star","type":"png"});
});
__d('AwesomeProject/img/icon-stars.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":24,"height":22,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-stars.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-stars","type":"png"});
});
__d('AwesomeProject/img/icon-stars-o.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":34,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-stars-o.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-stars-o","type":"png"});
});
__d('AwesomeProject/img/icon-comments.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":34,"height":34,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-comments.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-comments","type":"png"});
});
__d('AwesomeProject/img/icon-share.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":28,"height":40,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-share.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-share","type":"png"});
});
__d('AwesomeProject/img/banner-activity-placeholder.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":360,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/banner-activity-placeholder.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"banner-activity-placeholder","type":"png"});
});
__d('AwesomeProject/img/like-red.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":26,"height":26,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/like-red.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"like-red","type":"png"});
});
__d('AwesomeProject/img/like-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":26,"height":26,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/like-gray.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"like-gray","type":"png"});
});
__d('AwesomeProject/img/back-icon.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":34,"height":30,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/back-icon.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"back-icon","type":"png"});
});
__d('AwesomeProject/img/icon-mark.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":22,"height":24,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-mark.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-mark","type":"png"});
});
__d('AwesomeProject/img/icon-calendar.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":22,"height":22,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-calendar.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-calendar","type":"png"});
});
__d('AwesomeProject/img/icon-arrow.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":17,"height":29,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-arrow.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-arrow","type":"png"});
});
__d('AwesomeProject/img/icon-edit.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":64,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-edit.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-edit","type":"png"});
});
__d('AwesomeProject/img/faceIcon.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":57,"height":57,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/faceIcon.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"faceIcon","type":"png"});
});
__d('AwesomeProject/img/icon-picture-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":56,"height":42,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-picture-gray.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-picture-gray","type":"png"});
});
__d('AwesomeProject/img/icon-information.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":44,"height":45,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-information.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-information","type":"png"});
});
__d('AwesomeProject/img/icon-activity-circle-trans.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":44,"height":42,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-activity-circle-trans.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-activity-circle-trans","type":"png"});
});
__d('AwesomeProject/img/icon-picture-trans.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":44,"height":32,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-picture-trans.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-picture-trans","type":"png"});
});
__d('AwesomeProject/img/icon-journey-trans.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":32,"height":36,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-journey-trans.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-journey-trans","type":"png"});
});
__d('AwesomeProject/img/icon-annotation-trans.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":28,"height":38,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-annotation-trans.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-annotation-trans","type":"png"});
});
__d('AwesomeProject/img/ok-green.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":122,"height":122,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/ok-green.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"ok-green","type":"png"});
});
__d('AwesomeProject/img/icon-ready.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":24,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-ready.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-ready","type":"png"});
});
__d('AwesomeProject/img/icon-switch-to-audio.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":57,"height":57,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-switch-to-audio.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-switch-to-audio","type":"png"});
});
__d('AwesomeProject/img/icon-keyboard.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":1024,"height":1024,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-keyboard.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-keyboard","type":"png"});
});
__d('AwesomeProject/img/icon-expression.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":57,"height":57,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-expression.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-expression","type":"png"});
});
__d('AwesomeProject/img/icon-send-media.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":57,"height":57,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-send-media.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-send-media","type":"png"});
});
__d('AwesomeProject/img/space-header.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":360,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/space-header.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"space-header","type":"png"});
});
__d('AwesomeProject/img/levels-bg.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":122,"height":32,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/levels-bg.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"levels-bg","type":"png"});
});
__d('AwesomeProject/img/icon-views.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":24,"height":16,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-views.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-views","type":"png"});
});
__d('AwesomeProject/img/icon-dismiss.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-dismiss.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-dismiss","type":"png"});
});
__d('AwesomeProject/img/icon-add-route.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-add-route.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-add-route","type":"png"});
});
__d('AwesomeProject/img/icon-add-image.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":80,"height":80,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-add-image.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-add-image","type":"png"});
});
__d('AwesomeProject/img/icon-add-text.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":80,"height":80,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-add-text.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-add-text","type":"png"});
});
__d('AwesomeProject/img/icon-new-activity.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-new-activity.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-new-activity","type":"png"});
});
__d('AwesomeProject/img/icon-new-journey-note.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-new-journey-note.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-new-journey-note","type":"png"});
});
__d('AwesomeProject/img/cover-placeholder.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":722,"height":332,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/cover-placeholder.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"cover-placeholder","type":"png"});
});
__d('AwesomeProject/img/icon-add-detail.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":36,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-add-detail.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-add-detail","type":"png"});
});
__d('AwesomeProject/img/icon-contact.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":34,"height":44,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-contact.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-contact","type":"png"});
});
__d('AwesomeProject/img/icon-conv-plus.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":36,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-conv-plus.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-conv-plus","type":"png"});
});
__d('AwesomeProject/img/icon-search.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":35,"height":35,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-search.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-search","type":"png"});
});
__d('AwesomeProject/img/icon-circle.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-circle.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-circle","type":"png"});
});
__d('AwesomeProject/img/icon-group.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-group.png"],"hash":"a50220e74e9df46f088160053fd62f64","name":"icon-group","type":"png"});
});
__d('AwesomeProject/img/bg-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":204,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/bg-gray.png"],"hash":"d04286efb617d714d0a5323053116116","name":"bg-gray","type":"png"});
});
__d('AwesomeProject/img/icon-star-white.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":34,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-star-white.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-star-white","type":"png"});
});
__d('AwesomeProject/img/icon-view-white.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":40,"height":24,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-view-white.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-view-white","type":"png"});
});
__d('AwesomeProject/img/icon-calendar-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":64,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-calendar-gray.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-calendar-gray","type":"png"});
});
__d('AwesomeProject/img/icon-trace-gray.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":64,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-trace-gray.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-trace-gray","type":"png"});
});
__d('AwesomeProject/img/page1.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":1334,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/page1.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"page1","type":"png"});
});
__d('AwesomeProject/img/page2.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":1334,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/page2.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"page2","type":"png"});
});
__d('AwesomeProject/img/page3.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":1334,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/page3.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"page3","type":"png"});
});
__d('AwesomeProject/img/checked-green.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/checked-green.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"checked-green","type":"png"});
});
__d('AwesomeProject/img/checked-trans.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/checked-trans.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"checked-trans","type":"png"});
});
__d('AwesomeProject/img/icon-dismiss-bg.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":44,"height":44,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-dismiss-bg.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-dismiss-bg","type":"png"});
});
__d('AwesomeProject/img/icon-dismiss-mid.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":64,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-dismiss-mid.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-dismiss-mid","type":"png"});
});
__d('AwesomeProject/img/icon-plus-blue.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":64,"height":64,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-plus-blue.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-plus-blue","type":"png"});
});
__d('AwesomeProject/img/icon-calendar-green.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-calendar-green.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-calendar-green","type":"png"});
});
__d('AwesomeProject/img/icon-mark-blue.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":48,"height":48,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-mark-blue.png"],"hash":"d996833de1ebba7bc8b2ae9748a77e6d","name":"icon-mark-blue","type":"png"});
});
__d('AwesomeProject/img/icon-code.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":36,"height":36,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-code.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-code","type":"png"});
});
__d('AwesomeProject/img/icon-avatar.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-avatar.png"],"hash":"d04286efb617d714d0a5323053116116","name":"icon-avatar","type":"png"});
});
__d('AwesomeProject/img/photos-decoration.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":330,"height":10,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/photos-decoration.png"],"hash":"d04286efb617d714d0a5323053116116","name":"photos-decoration","type":"png"});
});
__d('Ionicons',function(global, require, module, exports) {  'use strict';







var createIconSet=require('createIconSet');
var glyphMap={
"alert":61697,
"alert-circled":61696,
"android-add":62151,
"android-add-circle":62297,
"android-alarm-clock":62298,
"android-alert":62299,
"android-apps":62300,
"android-archive":62153,
"android-arrow-back":62154,
"android-arrow-down":62301,
"android-arrow-dropdown":62303,
"android-arrow-dropdown-circle":62302,
"android-arrow-dropleft":62305,
"android-arrow-dropleft-circle":62304,
"android-arrow-dropright":62307,
"android-arrow-dropright-circle":62306,
"android-arrow-dropup":62309,
"android-arrow-dropup-circle":62308,
"android-arrow-forward":62223,
"android-arrow-up":62310,
"android-attach":62311,
"android-bar":62312,
"android-bicycle":62313,
"android-boat":62314,
"android-bookmark":62315,
"android-bulb":62316,
"android-bus":62317,
"android-calendar":62161,
"android-call":62162,
"android-camera":62163,
"android-cancel":62318,
"android-car":62319,
"android-cart":62320,
"android-chat":62164,
"android-checkbox":62324,
"android-checkbox-blank":62321,
"android-checkbox-outline":62323,
"android-checkbox-outline-blank":62322,
"android-checkmark-circle":62325,
"android-clipboard":62326,
"android-close":62167,
"android-cloud":62330,
"android-cloud-circle":62327,
"android-cloud-done":62328,
"android-cloud-outline":62329,
"android-color-palette":62331,
"android-compass":62332,
"android-contact":62168,
"android-contacts":62169,
"android-contract":62333,
"android-create":62334,
"android-delete":62335,
"android-desktop":62336,
"android-document":62337,
"android-done":62339,
"android-done-all":62338,
"android-download":62173,
"android-drafts":62340,
"android-exit":62341,
"android-expand":62342,
"android-favorite":62344,
"android-favorite-outline":62343,
"android-film":62345,
"android-folder":62176,
"android-folder-open":62346,
"android-funnel":62347,
"android-globe":62348,
"android-hand":62179,
"android-hangout":62349,
"android-happy":62350,
"android-home":62351,
"android-image":62180,
"android-laptop":62352,
"android-list":62353,
"android-locate":62185,
"android-lock":62354,
"android-mail":62187,
"android-map":62355,
"android-menu":62356,
"android-microphone":62188,
"android-microphone-off":62357,
"android-more-horizontal":62358,
"android-more-vertical":62359,
"android-navigate":62360,
"android-notifications":62363,
"android-notifications-none":62361,
"android-notifications-off":62362,
"android-open":62364,
"android-options":62365,
"android-people":62366,
"android-person":62368,
"android-person-add":62367,
"android-phone-landscape":62369,
"android-phone-portrait":62370,
"android-pin":62371,
"android-plane":62372,
"android-playstore":62192,
"android-print":62373,
"android-radio-button-off":62374,
"android-radio-button-on":62375,
"android-refresh":62376,
"android-remove":62196,
"android-remove-circle":62377,
"android-restaurant":62378,
"android-sad":62379,
"android-search":62197,
"android-send":62198,
"android-settings":62199,
"android-share":62200,
"android-share-alt":62380,
"android-star":62204,
"android-star-half":62381,
"android-star-outline":62382,
"android-stopwatch":62205,
"android-subway":62383,
"android-sunny":62384,
"android-sync":62385,
"android-textsms":62386,
"android-time":62387,
"android-train":62388,
"android-unlock":62389,
"android-upload":62390,
"android-volume-down":62391,
"android-volume-mute":62392,
"android-volume-off":62393,
"android-volume-up":62394,
"android-walk":62395,
"android-warning":62396,
"android-watch":62397,
"android-wifi":62213,
"aperture":62227,
"archive":61698,
"arrow-down-a":61699,
"arrow-down-b":61700,
"arrow-down-c":61701,
"arrow-expand":62046,
"arrow-graph-down-left":62047,
"arrow-graph-down-right":62048,
"arrow-graph-up-left":62049,
"arrow-graph-up-right":62050,
"arrow-left-a":61702,
"arrow-left-b":61703,
"arrow-left-c":61704,
"arrow-move":62051,
"arrow-resize":62052,
"arrow-return-left":62053,
"arrow-return-right":62054,
"arrow-right-a":61705,
"arrow-right-b":61706,
"arrow-right-c":61707,
"arrow-shrink":62055,
"arrow-swap":62056,
"arrow-up-a":61708,
"arrow-up-b":61709,
"arrow-up-c":61710,
"asterisk":62228,
"at":61711,
"backspace":62399,
"backspace-outline":62398,
"bag":61712,
"battery-charging":61713,
"battery-empty":61714,
"battery-full":61715,
"battery-half":61716,
"battery-low":61717,
"beaker":62057,
"beer":62058,
"bluetooth":61718,
"bonfire":62229,
"bookmark":62059,
"bowtie":62400,
"briefcase":62060,
"bug":62142,
"calculator":62061,
"calendar":61719,
"camera":61720,
"card":61721,
"cash":62230,
"chatbox":61723,
"chatbox-working":61722,
"chatboxes":61724,
"chatbubble":61726,
"chatbubble-working":61725,
"chatbubbles":61727,
"checkmark":61730,
"checkmark-circled":61728,
"checkmark-round":61729,
"chevron-down":61731,
"chevron-left":61732,
"chevron-right":61733,
"chevron-up":61734,
"clipboard":61735,
"clock":62062,
"close":61738,
"close-circled":61736,
"close-round":61737,
"closed-captioning":62231,
"cloud":61739,
"code":62065,
"code-download":62063,
"code-working":62064,
"coffee":62066,
"compass":62067,
"compose":61740,
"connection-bars":62068,
"contrast":62069,
"crop":62401,
"cube":62232,
"disc":61741,
"document":61743,
"document-text":61742,
"drag":61744,
"earth":62070,
"easel":62402,
"edit":62143,
"egg":62071,
"eject":61745,
"email":61746,
"email-unread":62403,
"erlenmeyer-flask":62405,
"erlenmeyer-flask-bubbles":62404,
"eye":61747,
"eye-disabled":62214,
"female":62072,
"filing":61748,
"film-marker":61749,
"fireball":62233,
"flag":62073,
"flame":62234,
"flash":61751,
"flash-off":61750,
"folder":61753,
"fork":62074,
"fork-repo":62144,
"forward":61754,
"funnel":62235,
"gear-a":61757,
"gear-b":61758,
"grid":61759,
"hammer":62075,
"happy":62236,
"happy-outline":62406,
"headphone":61760,
"heart":61761,
"heart-broken":62237,
"help":61763,
"help-buoy":62076,
"help-circled":61762,
"home":61764,
"icecream":62077,
"image":61767,
"images":61768,
"information":61770,
"information-circled":61769,
"ionic":61771,
"ios-alarm":62408,
"ios-alarm-outline":62407,
"ios-albums":62410,
"ios-albums-outline":62409,
"ios-americanfootball":62412,
"ios-americanfootball-outline":62411,
"ios-analytics":62414,
"ios-analytics-outline":62413,
"ios-arrow-back":62415,
"ios-arrow-down":62416,
"ios-arrow-forward":62417,
"ios-arrow-left":62418,
"ios-arrow-right":62419,
"ios-arrow-thin-down":62420,
"ios-arrow-thin-left":62421,
"ios-arrow-thin-right":62422,
"ios-arrow-thin-up":62423,
"ios-arrow-up":62424,
"ios-at":62426,
"ios-at-outline":62425,
"ios-barcode":62428,
"ios-barcode-outline":62427,
"ios-baseball":62430,
"ios-baseball-outline":62429,
"ios-basketball":62432,
"ios-basketball-outline":62431,
"ios-bell":62434,
"ios-bell-outline":62433,
"ios-body":62436,
"ios-body-outline":62435,
"ios-bolt":62438,
"ios-bolt-outline":62437,
"ios-book":62440,
"ios-book-outline":62439,
"ios-bookmarks":62442,
"ios-bookmarks-outline":62441,
"ios-box":62444,
"ios-box-outline":62443,
"ios-briefcase":62446,
"ios-briefcase-outline":62445,
"ios-browsers":62448,
"ios-browsers-outline":62447,
"ios-calculator":62450,
"ios-calculator-outline":62449,
"ios-calendar":62452,
"ios-calendar-outline":62451,
"ios-camera":62454,
"ios-camera-outline":62453,
"ios-cart":62456,
"ios-cart-outline":62455,
"ios-chatboxes":62458,
"ios-chatboxes-outline":62457,
"ios-chatbubble":62460,
"ios-chatbubble-outline":62459,
"ios-checkmark":62463,
"ios-checkmark-empty":62461,
"ios-checkmark-outline":62462,
"ios-circle-filled":62464,
"ios-circle-outline":62465,
"ios-clock":62467,
"ios-clock-outline":62466,
"ios-close":62470,
"ios-close-empty":62468,
"ios-close-outline":62469,
"ios-cloud":62476,
"ios-cloud-download":62472,
"ios-cloud-download-outline":62471,
"ios-cloud-outline":62473,
"ios-cloud-upload":62475,
"ios-cloud-upload-outline":62474,
"ios-cloudy":62480,
"ios-cloudy-night":62478,
"ios-cloudy-night-outline":62477,
"ios-cloudy-outline":62479,
"ios-cog":62482,
"ios-cog-outline":62481,
"ios-color-filter":62484,
"ios-color-filter-outline":62483,
"ios-color-wand":62486,
"ios-color-wand-outline":62485,
"ios-compose":62488,
"ios-compose-outline":62487,
"ios-contact":62490,
"ios-contact-outline":62489,
"ios-copy":62492,
"ios-copy-outline":62491,
"ios-crop":62494,
"ios-crop-strong":62493,
"ios-download":62496,
"ios-download-outline":62495,
"ios-drag":62497,
"ios-email":62499,
"ios-email-outline":62498,
"ios-eye":62501,
"ios-eye-outline":62500,
"ios-fastforward":62503,
"ios-fastforward-outline":62502,
"ios-filing":62505,
"ios-filing-outline":62504,
"ios-film":62507,
"ios-film-outline":62506,
"ios-flag":62509,
"ios-flag-outline":62508,
"ios-flame":62511,
"ios-flame-outline":62510,
"ios-flask":62513,
"ios-flask-outline":62512,
"ios-flower":62515,
"ios-flower-outline":62514,
"ios-folder":62517,
"ios-folder-outline":62516,
"ios-football":62519,
"ios-football-outline":62518,
"ios-game-controller-a":62521,
"ios-game-controller-a-outline":62520,
"ios-game-controller-b":62523,
"ios-game-controller-b-outline":62522,
"ios-gear":62525,
"ios-gear-outline":62524,
"ios-glasses":62527,
"ios-glasses-outline":62526,
"ios-grid-view":62529,
"ios-grid-view-outline":62528,
"ios-heart":62531,
"ios-heart-outline":62530,
"ios-help":62534,
"ios-help-empty":62532,
"ios-help-outline":62533,
"ios-home":62536,
"ios-home-outline":62535,
"ios-infinite":62538,
"ios-infinite-outline":62537,
"ios-information":62541,
"ios-information-empty":62539,
"ios-information-outline":62540,
"ios-ionic-outline":62542,
"ios-keypad":62544,
"ios-keypad-outline":62543,
"ios-lightbulb":62546,
"ios-lightbulb-outline":62545,
"ios-list":62548,
"ios-list-outline":62547,
"ios-location":62550,
"ios-location-outline":62549,
"ios-locked":62552,
"ios-locked-outline":62551,
"ios-loop":62554,
"ios-loop-strong":62553,
"ios-medical":62556,
"ios-medical-outline":62555,
"ios-medkit":62558,
"ios-medkit-outline":62557,
"ios-mic":62561,
"ios-mic-off":62559,
"ios-mic-outline":62560,
"ios-minus":62564,
"ios-minus-empty":62562,
"ios-minus-outline":62563,
"ios-monitor":62566,
"ios-monitor-outline":62565,
"ios-moon":62568,
"ios-moon-outline":62567,
"ios-more":62570,
"ios-more-outline":62569,
"ios-musical-note":62571,
"ios-musical-notes":62572,
"ios-navigate":62574,
"ios-navigate-outline":62573,
"ios-nutrition":62576,
"ios-nutrition-outline":62575,
"ios-paper":62578,
"ios-paper-outline":62577,
"ios-paperplane":62580,
"ios-paperplane-outline":62579,
"ios-partlysunny":62582,
"ios-partlysunny-outline":62581,
"ios-pause":62584,
"ios-pause-outline":62583,
"ios-paw":62586,
"ios-paw-outline":62585,
"ios-people":62588,
"ios-people-outline":62587,
"ios-person":62590,
"ios-person-outline":62589,
"ios-personadd":62592,
"ios-personadd-outline":62591,
"ios-photos":62594,
"ios-photos-outline":62593,
"ios-pie":62596,
"ios-pie-outline":62595,
"ios-pint":62598,
"ios-pint-outline":62597,
"ios-play":62600,
"ios-play-outline":62599,
"ios-plus":62603,
"ios-plus-empty":62601,
"ios-plus-outline":62602,
"ios-pricetag":62605,
"ios-pricetag-outline":62604,
"ios-pricetags":62607,
"ios-pricetags-outline":62606,
"ios-printer":62609,
"ios-printer-outline":62608,
"ios-pulse":62611,
"ios-pulse-strong":62610,
"ios-rainy":62613,
"ios-rainy-outline":62612,
"ios-recording":62615,
"ios-recording-outline":62614,
"ios-redo":62617,
"ios-redo-outline":62616,
"ios-refresh":62620,
"ios-refresh-empty":62618,
"ios-refresh-outline":62619,
"ios-reload":62621,
"ios-reverse-camera":62623,
"ios-reverse-camera-outline":62622,
"ios-rewind":62625,
"ios-rewind-outline":62624,
"ios-rose":62627,
"ios-rose-outline":62626,
"ios-search":62629,
"ios-search-strong":62628,
"ios-settings":62631,
"ios-settings-strong":62630,
"ios-shuffle":62633,
"ios-shuffle-strong":62632,
"ios-skipbackward":62635,
"ios-skipbackward-outline":62634,
"ios-skipforward":62637,
"ios-skipforward-outline":62636,
"ios-snowy":62638,
"ios-speedometer":62640,
"ios-speedometer-outline":62639,
"ios-star":62643,
"ios-star-half":62641,
"ios-star-outline":62642,
"ios-stopwatch":62645,
"ios-stopwatch-outline":62644,
"ios-sunny":62647,
"ios-sunny-outline":62646,
"ios-telephone":62649,
"ios-telephone-outline":62648,
"ios-tennisball":62651,
"ios-tennisball-outline":62650,
"ios-thunderstorm":62653,
"ios-thunderstorm-outline":62652,
"ios-time":62655,
"ios-time-outline":62654,
"ios-timer":62657,
"ios-timer-outline":62656,
"ios-toggle":62659,
"ios-toggle-outline":62658,
"ios-trash":62661,
"ios-trash-outline":62660,
"ios-undo":62663,
"ios-undo-outline":62662,
"ios-unlocked":62665,
"ios-unlocked-outline":62664,
"ios-upload":62667,
"ios-upload-outline":62666,
"ios-videocam":62669,
"ios-videocam-outline":62668,
"ios-volume-high":62670,
"ios-volume-low":62671,
"ios-wineglass":62673,
"ios-wineglass-outline":62672,
"ios-world":62675,
"ios-world-outline":62674,
"ipad":61945,
"iphone":61946,
"ipod":61947,
"jet":62101,
"key":62102,
"knife":62103,
"laptop":61948,
"leaf":61949,
"levels":62104,
"lightbulb":62105,
"link":61950,
"load-a":62106,
"load-b":62107,
"load-c":62108,
"load-d":62109,
"location":61951,
"lock-combination":62676,
"locked":61952,
"log-in":62110,
"log-out":62111,
"loop":61953,
"magnet":62112,
"male":62113,
"man":61954,
"map":61955,
"medkit":62114,
"merge":62271,
"mic-a":61956,
"mic-b":61957,
"mic-c":61958,
"minus":61961,
"minus-circled":61959,
"minus-round":61960,
"model-s":62145,
"monitor":61962,
"more":61963,
"mouse":62272,
"music-note":61964,
"navicon":61966,
"navicon-round":61965,
"navigate":62115,
"network":62273,
"no-smoking":62146,
"nuclear":62116,
"outlet":62274,
"paintbrush":62677,
"paintbucket":62678,
"paper-airplane":62147,
"paperclip":61967,
"pause":61968,
"person":61971,
"person-add":61969,
"person-stalker":61970,
"pie-graph":62117,
"pin":62118,
"pinpoint":62119,
"pizza":62120,
"plane":61972,
"planet":62275,
"play":61973,
"playstation":62218,
"plus":61976,
"plus-circled":61974,
"plus-round":61975,
"podium":62276,
"pound":61977,
"power":62121,
"pricetag":62122,
"pricetags":62123,
"printer":61978,
"pull-request":62277,
"qr-scanner":62278,
"quote":62279,
"radio-waves":62124,
"record":61979,
"refresh":61980,
"reply":61982,
"reply-all":61981,
"ribbon-a":62280,
"ribbon-b":62281,
"sad":62282,
"sad-outline":62679,
"scissors":62283,
"search":61983,
"settings":62125,
"share":61984,
"shuffle":61985,
"skip-backward":61986,
"skip-forward":61987,
"social-android":61989,
"social-android-outline":61988,
"social-angular":62681,
"social-angular-outline":62680,
"social-apple":61991,
"social-apple-outline":61990,
"social-bitcoin":62127,
"social-bitcoin-outline":62126,
"social-buffer":61993,
"social-buffer-outline":61992,
"social-chrome":62683,
"social-chrome-outline":62682,
"social-codepen":62685,
"social-codepen-outline":62684,
"social-css3":62687,
"social-css3-outline":62686,
"social-designernews":61995,
"social-designernews-outline":61994,
"social-dribbble":61997,
"social-dribbble-outline":61996,
"social-dropbox":61999,
"social-dropbox-outline":61998,
"social-euro":62689,
"social-euro-outline":62688,
"social-facebook":62001,
"social-facebook-outline":62000,
"social-foursquare":62285,
"social-foursquare-outline":62284,
"social-freebsd-devil":62148,
"social-github":62003,
"social-github-outline":62002,
"social-google":62287,
"social-google-outline":62286,
"social-googleplus":62005,
"social-googleplus-outline":62004,
"social-hackernews":62007,
"social-hackernews-outline":62006,
"social-html5":62691,
"social-html5-outline":62690,
"social-instagram":62289,
"social-instagram-outline":62288,
"social-javascript":62693,
"social-javascript-outline":62692,
"social-linkedin":62009,
"social-linkedin-outline":62008,
"social-markdown":62694,
"social-nodejs":62695,
"social-octocat":62696,
"social-pinterest":62129,
"social-pinterest-outline":62128,
"social-python":62697,
"social-reddit":62011,
"social-reddit-outline":62010,
"social-rss":62013,
"social-rss-outline":62012,
"social-sass":62698,
"social-skype":62015,
"social-skype-outline":62014,
"social-snapchat":62700,
"social-snapchat-outline":62699,
"social-tumblr":62017,
"social-tumblr-outline":62016,
"social-tux":62149,
"social-twitch":62702,
"social-twitch-outline":62701,
"social-twitter":62019,
"social-twitter-outline":62018,
"social-usd":62291,
"social-usd-outline":62290,
"social-vimeo":62021,
"social-vimeo-outline":62020,
"social-whatsapp":62704,
"social-whatsapp-outline":62703,
"social-windows":62023,
"social-windows-outline":62022,
"social-wordpress":62025,
"social-wordpress-outline":62024,
"social-yahoo":62027,
"social-yahoo-outline":62026,
"social-yen":62706,
"social-yen-outline":62705,
"social-youtube":62029,
"social-youtube-outline":62028,
"soup-can":62708,
"soup-can-outline":62707,
"speakerphone":62130,
"speedometer":62131,
"spoon":62132,
"star":62030,
"stats-bars":62133,
"steam":62219,
"stop":62031,
"thermometer":62134,
"thumbsdown":62032,
"thumbsup":62033,
"toggle":62293,
"toggle-filled":62292,
"transgender":62709,
"trash-a":62034,
"trash-b":62035,
"trophy":62294,
"tshirt":62711,
"tshirt-outline":62710,
"umbrella":62135,
"university":62295,
"unlocked":62036,
"upload":62037,
"usb":62136,
"videocamera":62038,
"volume-high":62039,
"volume-low":62040,
"volume-medium":62041,
"volume-mute":62042,
"wand":62296,
"waterdrop":62043,
"wifi":62044,
"wineglass":62137,
"woman":62045,
"wrench":62138,
"xbox":62220};


var Ionicons=createIconSet(glyphMap,'Ionicons','Fonts/Ionicons.ttf');

module.exports = Ionicons;
module.exports.glyphMap = glyphMap;
});
__d('createIconSet',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};





var _=require('lodash/index.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 

View=







React.View;var Text=React.Text;var StyleSheet=React.StyleSheet;var TabBarIOS=React.TabBarIOS;var requireNativeComponent=React.requireNativeComponent;var NativeModules=React.NativeModules;var Platform=React.Platform;var processColor=React.processColor;

var NativeIconAPI=NativeModules.RNVectorIconsManager || NativeModules.RNVectorIconsModule;
var StyleSheetPropType=require('StyleSheetPropType');
var flattenStyle=require('flattenStyle');
var ViewStylePropTypes=require('ViewStylePropTypes');
var TextStylePropTypes=require('TextStylePropTypes');

var DEFAULT_ICON_SIZE=12;
var TAB_BAR_ICON_SIZE=30;
var DEFAULT_ICON_COLOR='black';

var TypefaceTextView;

if(Platform.OS === 'android'){
TypefaceTextView = require('TypefaceTextView');}


function createIconSet(glyphMap,fontFamily,fontFile){
var styles=StyleSheet.create({
container:{
overflow:'hidden',
backgroundColor:'transparent',
flexDirection:'row',
justifyContent:'flex-start',
alignItems:'center'}});



var Icon=React.createClass({displayName:'Icon',
propTypes:{
name:React.PropTypes.oneOf(Object.keys(glyphMap)).isRequired,
size:React.PropTypes.number,
color:React.PropTypes.string,
style:StyleSheetPropType(TextStylePropTypes)},


setNativeProps:function(nativeProps){
this._root.setNativeProps(nativeProps);},


render:function(){var _this=this;

var name=this.props.name;
var glyph=glyphMap[name] || '?';
if(typeof glyph === 'number'){
glyph = String.fromCharCode(glyph);}


var containerStyle=_.pick(flattenStyle([styles.container,this.props.style]),Object.keys(ViewStylePropTypes));

var textStyle=_.pick(
flattenStyle([this.props.style]),
Object.keys(TextStylePropTypes));


var size=this.props.size || textStyle.fontSize || DEFAULT_ICON_SIZE;
var color=this.props.color || textStyle.color || DEFAULT_ICON_COLOR;

textStyle.fontSize = size;
textStyle.lineHeight = size;
textStyle.height = size;
textStyle.color = color;

var icon;


if(Platform.OS === 'android'){
if(!textStyle.width){

textStyle.width = size;}

icon = React.createElement(TypefaceTextView,{style:textStyle,fontFile:fontFile},glyph);}else 
{
textStyle.fontFamily = fontFamily;
icon = React.createElement(Text,{style:textStyle},glyph);}


return (
React.createElement(View,_extends({ref:function(component){return _this._root = component;}},this.props,{style:containerStyle}),
icon,
this.props.children));}});





var imageSourceCache={};

var getImageSource=function(name,size,color){
if(!NativeIconAPI){
if(Platform.OS === 'android'){
throw new Error('RNVectorIconsModule not available, did you properly integrate the module?');}

throw new Error('RNVectorIconsManager not available, did you add the library to your project and link with libRNVectorIcons.a?');}


var glyph=glyphMap[name] || '?';
if(typeof glyph === 'number'){
glyph = String.fromCharCode(glyph);}

size = size || DEFAULT_ICON_SIZE;
color = color || DEFAULT_ICON_COLOR;

if(processColor){
color = processColor(color);}


var cacheKey=glyph + ':' + size + ':' + color;

return new Promise(function(resolve,reject){
var cached=imageSourceCache[cacheKey];
if(typeof cached !== 'undefined'){
if(!cached || cached instanceof Error){reject(cached);}
return resolve({uri:cached});}

NativeIconAPI.getImageForFont(Platform.OS === 'android'?fontFile:fontFamily,glyph,size,color,function(err,image){
if(typeof err === 'string'){
err = new Error(err);}

imageSourceCache[cacheKey] = image || err || false;
if(!err && image){
return resolve({uri:image});}

reject(err);});});};





var TabBarItem=React.createClass({displayName:'TabBarItem',
propTypes:{
iconName:React.PropTypes.oneOf(Object.keys(glyphMap)).isRequired,
selectedIconName:React.PropTypes.oneOf(Object.keys(glyphMap)),
iconSize:React.PropTypes.number},


updateIconSources:function(){var _this2=this;
var size=this.props.iconSize || TAB_BAR_ICON_SIZE;
if(this.props.iconName){
getImageSource(this.props.iconName,size).then(function(icon){return _this2.setState({icon:icon});});}

if(this.props.selectedIconName){
getImageSource(this.props.selectedIconName,size).then(function(selectedIcon){return _this2.setState({selectedIcon:selectedIcon});});}},



componentWillMount:function(){
this.updateIconSources();},


componentWillReceiveProps:function(nextProps){
var keys=Object.keys(TabBarItem.propTypes);
if(!_.isEqual(_.pick(nextProps,keys),_.pick(this.props,keys))){
this.updateIconSources();}},



render:function(){
return React.createElement(TabBarIOS.Item,_extends({},this.props,this.state));}});



Icon.TabBarItem = TabBarItem;
Icon.getImageSource = getImageSource;

return Icon;}
;

module.exports = createIconSet;
});
__d('lodash/index.js',function(global, require, module, exports) {  /**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */
;(function(){


var undefined;


var VERSION='3.10.1';


var BIND_FLAG=1,
BIND_KEY_FLAG=2,
CURRY_BOUND_FLAG=4,
CURRY_FLAG=8,
CURRY_RIGHT_FLAG=16,
PARTIAL_FLAG=32,
PARTIAL_RIGHT_FLAG=64,
ARY_FLAG=128,
REARG_FLAG=256;


var DEFAULT_TRUNC_LENGTH=30,
DEFAULT_TRUNC_OMISSION='...';


var HOT_COUNT=150,
HOT_SPAN=16;


var LARGE_ARRAY_SIZE=200;


var LAZY_FILTER_FLAG=1,
LAZY_MAP_FLAG=2;


var FUNC_ERROR_TEXT='Expected a function';


var PLACEHOLDER='__lodash_placeholder__';


var argsTag='[object Arguments]',
arrayTag='[object Array]',
boolTag='[object Boolean]',
dateTag='[object Date]',
errorTag='[object Error]',
funcTag='[object Function]',
mapTag='[object Map]',
numberTag='[object Number]',
objectTag='[object Object]',
regexpTag='[object RegExp]',
setTag='[object Set]',
stringTag='[object String]',
weakMapTag='[object WeakMap]';

var arrayBufferTag='[object ArrayBuffer]',
float32Tag='[object Float32Array]',
float64Tag='[object Float64Array]',
int8Tag='[object Int8Array]',
int16Tag='[object Int16Array]',
int32Tag='[object Int32Array]',
uint8Tag='[object Uint8Array]',
uint8ClampedTag='[object Uint8ClampedArray]',
uint16Tag='[object Uint16Array]',
uint32Tag='[object Uint32Array]';


var reEmptyStringLeading=/\b__p \+= '';/g,
reEmptyStringMiddle=/\b(__p \+=) '' \+/g,
reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;


var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,
reUnescapedHtml=/[&<>"'`]/g,
reHasEscapedHtml=RegExp(reEscapedHtml.source),
reHasUnescapedHtml=RegExp(reUnescapedHtml.source);


var reEscape=/<%-([\s\S]+?)%>/g,
reEvaluate=/<%([\s\S]+?)%>/g,
reInterpolate=/<%=([\s\S]+?)%>/g;


var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,
reIsPlainProp=/^\w*$/,
rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;





var reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,
reHasRegExpChars=RegExp(reRegExpChars.source);


var reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g;


var reEscapeChar=/\\(\\)?/g;


var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;


var reFlags=/\w*$/;


var reHasHexPrefix=/^0[xX]/;


var reIsHostCtor=/^\[object .+?Constructor\]$/;


var reIsUint=/^\d+$/;


var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;


var reNoMatch=/($^)/;


var reUnescapedString=/['\n\r\u2028\u2029\\]/g;


var reWords=(function(){
var upper='[A-Z\\xc0-\\xd6\\xd8-\\xde]',
lower='[a-z\\xdf-\\xf6\\xf8-\\xff]+';

return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+','g');})();



var contextProps=[
'Array','ArrayBuffer','Date','Error','Float32Array','Float64Array',
'Function','Int8Array','Int16Array','Int32Array','Math','Number',
'Object','RegExp','Set','String','_','clearTimeout','isFinite',
'parseFloat','parseInt','setTimeout','TypeError','Uint8Array',
'Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap'];



var templateCounter=-1;


var typedArrayTags={};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = 
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = 
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = 
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = 
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] = 
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = 
typedArrayTags[dateTag] = typedArrayTags[errorTag] = 
typedArrayTags[funcTag] = typedArrayTags[mapTag] = 
typedArrayTags[numberTag] = typedArrayTags[objectTag] = 
typedArrayTags[regexpTag] = typedArrayTags[setTag] = 
typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;


var cloneableTags={};
cloneableTags[argsTag] = cloneableTags[arrayTag] = 
cloneableTags[arrayBufferTag] = cloneableTags[boolTag] = 
cloneableTags[dateTag] = cloneableTags[float32Tag] = 
cloneableTags[float64Tag] = cloneableTags[int8Tag] = 
cloneableTags[int16Tag] = cloneableTags[int32Tag] = 
cloneableTags[numberTag] = cloneableTags[objectTag] = 
cloneableTags[regexpTag] = cloneableTags[stringTag] = 
cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = 
cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
cloneableTags[errorTag] = cloneableTags[funcTag] = 
cloneableTags[mapTag] = cloneableTags[setTag] = 
cloneableTags[weakMapTag] = false;


var deburredLetters={
'\xc0':'A','\xc1':'A','\xc2':'A','\xc3':'A','\xc4':'A','\xc5':'A',
'\xe0':'a','\xe1':'a','\xe2':'a','\xe3':'a','\xe4':'a','\xe5':'a',
'\xc7':'C','\xe7':'c',
'\xd0':'D','\xf0':'d',
'\xc8':'E','\xc9':'E','\xca':'E','\xcb':'E',
'\xe8':'e','\xe9':'e','\xea':'e','\xeb':'e',
'\xcC':'I','\xcd':'I','\xce':'I','\xcf':'I',
'\xeC':'i','\xed':'i','\xee':'i','\xef':'i',
'\xd1':'N','\xf1':'n',
'\xd2':'O','\xd3':'O','\xd4':'O','\xd5':'O','\xd6':'O','\xd8':'O',
'\xf2':'o','\xf3':'o','\xf4':'o','\xf5':'o','\xf6':'o','\xf8':'o',
'\xd9':'U','\xda':'U','\xdb':'U','\xdc':'U',
'\xf9':'u','\xfa':'u','\xfb':'u','\xfc':'u',
'\xdd':'Y','\xfd':'y','\xff':'y',
'\xc6':'Ae','\xe6':'ae',
'\xde':'Th','\xfe':'th',
'\xdf':'ss'};



var htmlEscapes={
'&':'&amp;',
'<':'&lt;',
'>':'&gt;',
'"':'&quot;',
"'":'&#39;',
'`':'&#96;'};



var htmlUnescapes={
'&amp;':'&',
'&lt;':'<',
'&gt;':'>',
'&quot;':'"',
'&#39;':"'",
'&#96;':'`'};



var objectTypes={
'function':true,
'object':true};



var regexpEscapes={
'0':'x30','1':'x31','2':'x32','3':'x33','4':'x34',
'5':'x35','6':'x36','7':'x37','8':'x38','9':'x39',
'A':'x41','B':'x42','C':'x43','D':'x44','E':'x45','F':'x46',
'a':'x61','b':'x62','c':'x63','d':'x64','e':'x65','f':'x66',
'n':'x6e','r':'x72','t':'x74','u':'x75','v':'x76','x':'x78'};



var stringEscapes={
'\\':'\\',
"'":"'",
'\n':'n',
'\r':'r',
'\u2028':'u2028',
'\u2029':'u2029'};



var freeExports=objectTypes[typeof exports] && exports && !exports.nodeType && exports;


var freeModule=objectTypes[typeof module] && module && !module.nodeType && module;


var freeGlobal=freeExports && freeModule && typeof global == 'object' && global && global.Object && global;


var freeSelf=objectTypes[typeof self] && self && self.Object && self;


var freeWindow=objectTypes[typeof window] && window && window.Object && window;


var moduleExports=freeModule && freeModule.exports === freeExports && freeExports;







var root=freeGlobal || freeWindow !== (this && this.window) && freeWindow || freeSelf || this;












function baseCompareAscending(value,other){
if(value !== other){
var valIsNull=value === null,
valIsUndef=value === undefined,
valIsReflexive=value === value;

var othIsNull=other === null,
othIsUndef=other === undefined,
othIsReflexive=other === other;

if(value > other && !othIsNull || !valIsReflexive || 
valIsNull && !othIsUndef && othIsReflexive || 
valIsUndef && othIsReflexive){
return 1;}

if(value < other && !valIsNull || !othIsReflexive || 
othIsNull && !valIsUndef && valIsReflexive || 
othIsUndef && valIsReflexive){
return -1;}}


return 0;}












function baseFindIndex(array,predicate,fromRight){
var length=array.length,
index=fromRight?length:-1;

while(fromRight?index--:++index < length) {
if(predicate(array[index],index,array)){
return index;}}


return -1;}











function baseIndexOf(array,value,fromIndex){
if(value !== value){
return indexOfNaN(array,fromIndex);}

var index=fromIndex - 1,
length=array.length;

while(++index < length) {
if(array[index] === value){
return index;}}


return -1;}










function baseIsFunction(value){


return typeof value == 'function' || false;}










function baseToString(value){
return value == null?'':value + '';}











function charsLeftIndex(string,chars){
var index=-1,
length=string.length;

while(++index < length && chars.indexOf(string.charAt(index)) > -1) {}
return index;}











function charsRightIndex(string,chars){
var index=string.length;

while(index-- && chars.indexOf(string.charAt(index)) > -1) {}
return index;}











function compareAscending(object,other){
return baseCompareAscending(object.criteria,other.criteria) || object.index - other.index;}
















function compareMultiple(object,other,orders){
var index=-1,
objCriteria=object.criteria,
othCriteria=other.criteria,
length=objCriteria.length,
ordersLength=orders.length;

while(++index < length) {
var result=baseCompareAscending(objCriteria[index],othCriteria[index]);
if(result){
if(index >= ordersLength){
return result;}

var order=orders[index];
return result * (order === 'asc' || order === true?1:-1);}}









return object.index - other.index;}









function deburrLetter(letter){
return deburredLetters[letter];}









function escapeHtmlChar(chr){
return htmlEscapes[chr];}











function escapeRegExpChar(chr,leadingChar,whitespaceChar){
if(leadingChar){
chr = regexpEscapes[chr];}else 
if(whitespaceChar){
chr = stringEscapes[chr];}

return '\\' + chr;}









function escapeStringChar(chr){
return '\\' + stringEscapes[chr];}











function indexOfNaN(array,fromIndex,fromRight){
var length=array.length,
index=fromIndex + (fromRight?0:-1);

while(fromRight?index--:++index < length) {
var other=array[index];
if(other !== other){
return index;}}


return -1;}









function isObjectLike(value){
return !!value && typeof value == 'object';}










function isSpace(charCode){
return charCode <= 160 && charCode >= 9 && charCode <= 13 || charCode == 32 || charCode == 160 || charCode == 5760 || charCode == 6158 || 
charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279);}











function replaceHolders(array,placeholder){
var index=-1,
length=array.length,
resIndex=-1,
result=[];

while(++index < length) {
if(array[index] === placeholder){
array[index] = PLACEHOLDER;
result[++resIndex] = index;}}


return result;}











function sortedUniq(array,iteratee){
var seen,
index=-1,
length=array.length,
resIndex=-1,
result=[];

while(++index < length) {
var value=array[index],
computed=iteratee?iteratee(value,index,array):value;

if(!index || seen !== computed){
seen = computed;
result[++resIndex] = value;}}


return result;}










function trimmedLeftIndex(string){
var index=-1,
length=string.length;

while(++index < length && isSpace(string.charCodeAt(index))) {}
return index;}










function trimmedRightIndex(string){
var index=string.length;

while(index-- && isSpace(string.charCodeAt(index))) {}
return index;}









function unescapeHtmlChar(chr){
return htmlUnescapes[chr];}







































function runInContext(context){




context = context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;


var Array=context.Array,
Date=context.Date,
Error=context.Error,
Function=context.Function,
Math=context.Math,
Number=context.Number,
Object=context.Object,
RegExp=context.RegExp,
String=context.String,
TypeError=context.TypeError;


var arrayProto=Array.prototype,
objectProto=Object.prototype,
stringProto=String.prototype;


var fnToString=Function.prototype.toString;


var hasOwnProperty=objectProto.hasOwnProperty;


var idCounter=0;





var objToString=objectProto.toString;


var oldDash=root._;


var reIsNative=RegExp('^' + 
fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').
replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?') + '$');



var ArrayBuffer=context.ArrayBuffer,
clearTimeout=context.clearTimeout,
parseFloat=context.parseFloat,
pow=Math.pow,
propertyIsEnumerable=objectProto.propertyIsEnumerable,
Set=getNative(context,'Set'),
setTimeout=context.setTimeout,
splice=arrayProto.splice,
Uint8Array=context.Uint8Array,
WeakMap=getNative(context,'WeakMap');


var nativeCeil=Math.ceil,
nativeCreate=getNative(Object,'create'),
nativeFloor=Math.floor,
nativeIsArray=getNative(Array,'isArray'),
nativeIsFinite=context.isFinite,
nativeKeys=getNative(Object,'keys'),
nativeMax=Math.max,
nativeMin=Math.min,
nativeNow=getNative(Date,'now'),
nativeParseInt=context.parseInt,
nativeRandom=Math.random;


var NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,
POSITIVE_INFINITY=Number.POSITIVE_INFINITY;


var MAX_ARRAY_LENGTH=4294967295,
MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH - 1,
HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH >>> 1;





var MAX_SAFE_INTEGER=9007199254740991;


var metaMap=WeakMap && new WeakMap();


var realNames={};



































































































function lodash(value){
if(isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)){
if(value instanceof LodashWrapper){
return value;}

if(hasOwnProperty.call(value,'__chain__') && hasOwnProperty.call(value,'__wrapped__')){
return wrapperClone(value);}}


return new LodashWrapper(value);}







function baseLodash(){}











function LodashWrapper(value,chainAll,actions){
this.__wrapped__ = value;
this.__actions__ = actions || [];
this.__chain__ = !!chainAll;}









var support=lodash.support = {};










lodash.templateSettings = {







'escape':reEscape,







'evaluate':reEvaluate,







'interpolate':reInterpolate,







'variable':'',







'imports':{







'_':lodash}};











function LazyWrapper(value){
this.__wrapped__ = value;
this.__actions__ = [];
this.__dir__ = 1;
this.__filtered__ = false;
this.__iteratees__ = [];
this.__takeCount__ = POSITIVE_INFINITY;
this.__views__ = [];}










function lazyClone(){
var result=new LazyWrapper(this.__wrapped__);
result.__actions__ = arrayCopy(this.__actions__);
result.__dir__ = this.__dir__;
result.__filtered__ = this.__filtered__;
result.__iteratees__ = arrayCopy(this.__iteratees__);
result.__takeCount__ = this.__takeCount__;
result.__views__ = arrayCopy(this.__views__);
return result;}










function lazyReverse(){
if(this.__filtered__){
var result=new LazyWrapper(this);
result.__dir__ = -1;
result.__filtered__ = true;}else 
{
result = this.clone();
result.__dir__ *= -1;}

return result;}










function lazyValue(){
var array=this.__wrapped__.value(),
dir=this.__dir__,
isArr=isArray(array),
isRight=dir < 0,
arrLength=isArr?array.length:0,
view=getView(0,arrLength,this.__views__),
start=view.start,
end=view.end,
length=end - start,
index=isRight?end:start - 1,
iteratees=this.__iteratees__,
iterLength=iteratees.length,
resIndex=0,
takeCount=nativeMin(length,this.__takeCount__);

if(!isArr || arrLength < LARGE_ARRAY_SIZE || arrLength == length && takeCount == length){
return baseWrapperValue(isRight && isArr?array.reverse():array,this.__actions__);}

var result=[];

outer: 
while(length-- && resIndex < takeCount) {
index += dir;

var iterIndex=-1,
value=array[index];

while(++iterIndex < iterLength) {
var data=iteratees[iterIndex],
iteratee=data.iteratee,
type=data.type,
computed=iteratee(value);

if(type == LAZY_MAP_FLAG){
value = computed;}else 
if(!computed){
if(type == LAZY_FILTER_FLAG){
continue outer;}else 
{
break outer;}}}



result[resIndex++] = value;}

return result;}












function MapCache(){
this.__data__ = {};}











function mapDelete(key){
return this.has(key) && delete this.__data__[key];}











function mapGet(key){
return key == '__proto__'?undefined:this.__data__[key];}











function mapHas(key){
return key != '__proto__' && hasOwnProperty.call(this.__data__,key);}












function mapSet(key,value){
if(key != '__proto__'){
this.__data__[key] = value;}

return this;}











function SetCache(values){
var length=values?values.length:0;

this.data = {'hash':nativeCreate(null),'set':new Set()};
while(length--) {
this.push(values[length]);}}












function cacheIndexOf(cache,value){
var data=cache.data,
result=typeof value == 'string' || isObject(value)?data.set.has(value):data.hash[value];

return result?0:-1;}










function cachePush(value){
var data=this.data;
if(typeof value == 'string' || isObject(value)){
data.set.add(value);}else 
{
data.hash[value] = true;}}













function arrayConcat(array,other){
var index=-1,
length=array.length,
othIndex=-1,
othLength=other.length,
result=Array(length + othLength);

while(++index < length) {
result[index] = array[index];}

while(++othIndex < othLength) {
result[index++] = other[othIndex];}

return result;}










function arrayCopy(source,array){
var index=-1,
length=source.length;

array || (array = Array(length));
while(++index < length) {
array[index] = source[index];}

return array;}











function arrayEach(array,iteratee){
var index=-1,
length=array.length;

while(++index < length) {
if(iteratee(array[index],index,array) === false){
break;}}


return array;}











function arrayEachRight(array,iteratee){
var length=array.length;

while(length--) {
if(iteratee(array[length],length,array) === false){
break;}}


return array;}












function arrayEvery(array,predicate){
var index=-1,
length=array.length;

while(++index < length) {
if(!predicate(array[index],index,array)){
return false;}}


return true;}













function arrayExtremum(array,iteratee,comparator,exValue){
var index=-1,
length=array.length,
computed=exValue,
result=computed;

while(++index < length) {
var value=array[index],
current=+iteratee(value);

if(comparator(current,computed)){
computed = current;
result = value;}}


return result;}











function arrayFilter(array,predicate){
var index=-1,
length=array.length,
resIndex=-1,
result=[];

while(++index < length) {
var value=array[index];
if(predicate(value,index,array)){
result[++resIndex] = value;}}


return result;}











function arrayMap(array,iteratee){
var index=-1,
length=array.length,
result=Array(length);

while(++index < length) {
result[index] = iteratee(array[index],index,array);}

return result;}










function arrayPush(array,values){
var index=-1,
length=values.length,
offset=array.length;

while(++index < length) {
array[offset + index] = values[index];}

return array;}














function arrayReduce(array,iteratee,accumulator,initFromArray){
var index=-1,
length=array.length;

if(initFromArray && length){
accumulator = array[++index];}

while(++index < length) {
accumulator = iteratee(accumulator,array[index],index,array);}

return accumulator;}














function arrayReduceRight(array,iteratee,accumulator,initFromArray){
var length=array.length;
if(initFromArray && length){
accumulator = array[--length];}

while(length--) {
accumulator = iteratee(accumulator,array[length],length,array);}

return accumulator;}












function arraySome(array,predicate){
var index=-1,
length=array.length;

while(++index < length) {
if(predicate(array[index],index,array)){
return true;}}


return false;}











function arraySum(array,iteratee){
var length=array.length,
result=0;

while(length--) {
result += +iteratee(array[length]) || 0;}

return result;}










function assignDefaults(objectValue,sourceValue){
return objectValue === undefined?sourceValue:objectValue;}















function assignOwnDefaults(objectValue,sourceValue,key,object){
return objectValue === undefined || !hasOwnProperty.call(object,key)?
sourceValue:
objectValue;}













function assignWith(object,source,customizer){
var index=-1,
props=keys(source),
length=props.length;

while(++index < length) {
var key=props[index],
value=object[key],
result=customizer(value,source[key],key,object,source);

if((result === result?result !== value:value === value) || 
value === undefined && !(key in object)){
object[key] = result;}}


return object;}











function baseAssign(object,source){
return source == null?
object:
baseCopy(source,keys(source),object);}











function baseAt(collection,props){
var index=-1,
isNil=collection == null,
isArr=!isNil && isArrayLike(collection),
length=isArr?collection.length:0,
propsLength=props.length,
result=Array(propsLength);

while(++index < propsLength) {
var key=props[index];
if(isArr){
result[index] = isIndex(key,length)?collection[key]:undefined;}else 
{
result[index] = isNil?undefined:collection[key];}}


return result;}











function baseCopy(source,props,object){
object || (object = {});

var index=-1,
length=props.length;

while(++index < length) {
var key=props[index];
object[key] = source[key];}

return object;}












function baseCallback(func,thisArg,argCount){
var type=typeof func;
if(type == 'function'){
return thisArg === undefined?
func:
bindCallback(func,thisArg,argCount);}

if(func == null){
return identity;}

if(type == 'object'){
return baseMatches(func);}

return thisArg === undefined?
property(func):
baseMatchesProperty(func,thisArg);}
















function baseClone(value,isDeep,customizer,key,object,stackA,stackB){
var result;
if(customizer){
result = object?customizer(value,key,object):customizer(value);}

if(result !== undefined){
return result;}

if(!isObject(value)){
return value;}

var isArr=isArray(value);
if(isArr){
result = initCloneArray(value);
if(!isDeep){
return arrayCopy(value,result);}}else 

{
var tag=objToString.call(value),
isFunc=tag == funcTag;

if(tag == objectTag || tag == argsTag || isFunc && !object){
result = initCloneObject(isFunc?{}:value);
if(!isDeep){
return baseAssign(result,value);}}else 

{
return cloneableTags[tag]?
initCloneByTag(value,tag,isDeep):
object?value:{};}}



stackA || (stackA = []);
stackB || (stackB = []);

var length=stackA.length;
while(length--) {
if(stackA[length] == value){
return stackB[length];}}



stackA.push(value);
stackB.push(result);


(isArr?arrayEach:baseForOwn)(value,function(subValue,key){
result[key] = baseClone(subValue,isDeep,customizer,key,value,stackA,stackB);});

return result;}










var baseCreate=(function(){
function object(){}
return function(prototype){
if(isObject(prototype)){
object.prototype = prototype;
var result=new object();
object.prototype = undefined;}

return result || {};};})();













function baseDelay(func,wait,args){
if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

return setTimeout(function(){func.apply(undefined,args);},wait);}











function baseDifference(array,values){
var length=array?array.length:0,
result=[];

if(!length){
return result;}

var index=-1,
indexOf=getIndexOf(),
isCommon=indexOf == baseIndexOf,
cache=isCommon && values.length >= LARGE_ARRAY_SIZE?createCache(values):null,
valuesLength=values.length;

if(cache){
indexOf = cacheIndexOf;
isCommon = false;
values = cache;}

outer: 
while(++index < length) {
var value=array[index];

if(isCommon && value === value){
var valuesIndex=valuesLength;
while(valuesIndex--) {
if(values[valuesIndex] === value){
continue outer;}}


result.push(value);}else 

if(indexOf(values,value,0) < 0){
result.push(value);}}


return result;}











var baseEach=createBaseEach(baseForOwn);










var baseEachRight=createBaseEach(baseForOwnRight,true);











function baseEvery(collection,predicate){
var result=true;
baseEach(collection,function(value,index,collection){
result = !!predicate(value,index,collection);
return result;});

return result;}














function baseExtremum(collection,iteratee,comparator,exValue){
var computed=exValue,
result=computed;

baseEach(collection,function(value,index,collection){
var current=+iteratee(value,index,collection);
if(comparator(current,computed) || current === exValue && current === result){
computed = current;
result = value;}});


return result;}












function baseFill(array,value,start,end){
var length=array.length;

start = start == null?0:+start || 0;
if(start < 0){
start = -start > length?0:length + start;}

end = end === undefined || end > length?length:+end || 0;
if(end < 0){
end += length;}

length = start > end?0:end >>> 0;
start >>>= 0;

while(start < length) {
array[start++] = value;}

return array;}











function baseFilter(collection,predicate){
var result=[];
baseEach(collection,function(value,index,collection){
if(predicate(value,index,collection)){
result.push(value);}});


return result;}















function baseFind(collection,predicate,eachFunc,retKey){
var result;
eachFunc(collection,function(value,key,collection){
if(predicate(value,key,collection)){
result = retKey?key:value;
return false;}});


return result;}













function baseFlatten(array,isDeep,isStrict,result){
result || (result = []);

var index=-1,
length=array.length;

while(++index < length) {
var value=array[index];
if(isObjectLike(value) && isArrayLike(value) && (
isStrict || isArray(value) || isArguments(value))){
if(isDeep){

baseFlatten(value,isDeep,isStrict,result);}else 
{
arrayPush(result,value);}}else 

if(!isStrict){
result[result.length] = value;}}


return result;}














var baseFor=createBaseFor();











var baseForRight=createBaseFor(true);










function baseForIn(object,iteratee){
return baseFor(object,iteratee,keysIn);}











function baseForOwn(object,iteratee){
return baseFor(object,iteratee,keys);}











function baseForOwnRight(object,iteratee){
return baseForRight(object,iteratee,keys);}











function baseFunctions(object,props){
var index=-1,
length=props.length,
resIndex=-1,
result=[];

while(++index < length) {
var key=props[index];
if(isFunction(object[key])){
result[++resIndex] = key;}}


return result;}












function baseGet(object,path,pathKey){
if(object == null){
return;}

if(pathKey !== undefined && pathKey in toObject(object)){
path = [pathKey];}

var index=0,
length=path.length;

while(object != null && index < length) {
object = object[path[index++]];}

return index && index == length?object:undefined;}















function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){
if(value === other){
return true;}

if(value == null || other == null || !isObject(value) && !isObjectLike(other)){
return value !== value && other !== other;}

return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB);}

















function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){
var objIsArr=isArray(object),
othIsArr=isArray(other),
objTag=arrayTag,
othTag=arrayTag;

if(!objIsArr){
objTag = objToString.call(object);
if(objTag == argsTag){
objTag = objectTag;}else 
if(objTag != objectTag){
objIsArr = isTypedArray(object);}}


if(!othIsArr){
othTag = objToString.call(other);
if(othTag == argsTag){
othTag = objectTag;}else 
if(othTag != objectTag){
othIsArr = isTypedArray(other);}}


var objIsObj=objTag == objectTag,
othIsObj=othTag == objectTag,
isSameTag=objTag == othTag;

if(isSameTag && !(objIsArr || objIsObj)){
return equalByTag(object,other,objTag);}

if(!isLoose){
var objIsWrapped=objIsObj && hasOwnProperty.call(object,'__wrapped__'),
othIsWrapped=othIsObj && hasOwnProperty.call(other,'__wrapped__');

if(objIsWrapped || othIsWrapped){
return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB);}}


if(!isSameTag){
return false;}



stackA || (stackA = []);
stackB || (stackB = []);

var length=stackA.length;
while(length--) {
if(stackA[length] == object){
return stackB[length] == other;}}



stackA.push(object);
stackB.push(other);

var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);

stackA.pop();
stackB.pop();

return result;}












function baseIsMatch(object,matchData,customizer){
var index=matchData.length,
length=index,
noCustomizer=!customizer;

if(object == null){
return !length;}

object = toObject(object);
while(index--) {
var data=matchData[index];
if(noCustomizer && data[2]?
data[1] !== object[data[0]]:
!(data[0] in object))
{
return false;}}


while(++index < length) {
data = matchData[index];
var key=data[0],
objValue=object[key],
srcValue=data[1];

if(noCustomizer && data[2]){
if(objValue === undefined && !(key in object)){
return false;}}else 

{
var result=customizer?customizer(objValue,srcValue,key):undefined;
if(!(result === undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){
return false;}}}



return true;}











function baseMap(collection,iteratee){
var index=-1,
result=isArrayLike(collection)?Array(collection.length):[];

baseEach(collection,function(value,key,collection){
result[++index] = iteratee(value,key,collection);});

return result;}









function baseMatches(source){
var matchData=getMatchData(source);
if(matchData.length == 1 && matchData[0][2]){
var key=matchData[0][0],
value=matchData[0][1];

return function(object){
if(object == null){
return false;}

return object[key] === value && (value !== undefined || key in toObject(object));};}


return function(object){
return baseIsMatch(object,matchData);};}











function baseMatchesProperty(path,srcValue){
var isArr=isArray(path),
isCommon=isKey(path) && isStrictComparable(srcValue),
pathKey=path + '';

path = toPath(path);
return function(object){
if(object == null){
return false;}

var key=pathKey;
object = toObject(object);
if((isArr || !isCommon) && !(key in object)){
object = path.length == 1?object:baseGet(object,baseSlice(path,0,-1));
if(object == null){
return false;}

key = last(path);
object = toObject(object);}

return object[key] === srcValue?
srcValue !== undefined || key in object:
baseIsEqual(srcValue,object[key],undefined,true);};}















function baseMerge(object,source,customizer,stackA,stackB){
if(!isObject(object)){
return object;}

var isSrcArr=isArrayLike(source) && (isArray(source) || isTypedArray(source)),
props=isSrcArr?undefined:keys(source);

arrayEach(props || source,function(srcValue,key){
if(props){
key = srcValue;
srcValue = source[key];}

if(isObjectLike(srcValue)){
stackA || (stackA = []);
stackB || (stackB = []);
baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);}else 

{
var value=object[key],
result=customizer?customizer(value,srcValue,key,object,source):undefined,
isCommon=result === undefined;

if(isCommon){
result = srcValue;}

if((result !== undefined || isSrcArr && !(key in object)) && (
isCommon || (result === result?result !== value:value === value))){
object[key] = result;}}});



return object;}

















function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){
var length=stackA.length,
srcValue=source[key];

while(length--) {
if(stackA[length] == srcValue){
object[key] = stackB[length];
return;}}


var value=object[key],
result=customizer?customizer(value,srcValue,key,object,source):undefined,
isCommon=result === undefined;

if(isCommon){
result = srcValue;
if(isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))){
result = isArray(value)?
value:
isArrayLike(value)?arrayCopy(value):[];}else 

if(isPlainObject(srcValue) || isArguments(srcValue)){
result = isArguments(value)?
toPlainObject(value):
isPlainObject(value)?value:{};}else 

{
isCommon = false;}}




stackA.push(srcValue);
stackB.push(result);

if(isCommon){

object[key] = mergeFunc(result,srcValue,customizer,stackA,stackB);}else 
if(result === result?result !== value:value === value){
object[key] = result;}}










function baseProperty(key){
return function(object){
return object == null?undefined:object[key];};}










function basePropertyDeep(path){
var pathKey=path + '';
path = toPath(path);
return function(object){
return baseGet(object,path,pathKey);};}












function basePullAt(array,indexes){
var length=array?indexes.length:0;
while(length--) {
var index=indexes[length];
if(index != previous && isIndex(index)){
var previous=index;
splice.call(array,index,1);}}


return array;}











function baseRandom(min,max){
return min + nativeFloor(nativeRandom() * (max - min + 1));}
















function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){
eachFunc(collection,function(value,index,collection){
accumulator = initFromCollection?(
initFromCollection = false,value):
iteratee(accumulator,value,index,collection);});

return accumulator;}










var baseSetData=!metaMap?identity:function(func,data){
metaMap.set(func,data);
return func;};











function baseSlice(array,start,end){
var index=-1,
length=array.length;

start = start == null?0:+start || 0;
if(start < 0){
start = -start > length?0:length + start;}

end = end === undefined || end > length?length:+end || 0;
if(end < 0){
end += length;}

length = start > end?0:end - start >>> 0;
start >>>= 0;

var result=Array(length);
while(++index < length) {
result[index] = array[index + start];}

return result;}












function baseSome(collection,predicate){
var result;

baseEach(collection,function(value,index,collection){
result = predicate(value,index,collection);
return !result;});

return !!result;}












function baseSortBy(array,comparer){
var length=array.length;

array.sort(comparer);
while(length--) {
array[length] = array[length].value;}

return array;}











function baseSortByOrder(collection,iteratees,orders){
var callback=getCallback(),
index=-1;

iteratees = arrayMap(iteratees,function(iteratee){return callback(iteratee);});

var result=baseMap(collection,function(value){
var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value);});
return {'criteria':criteria,'index':++index,'value':value};});


return baseSortBy(result,function(object,other){
return compareMultiple(object,other,orders);});}












function baseSum(collection,iteratee){
var result=0;
baseEach(collection,function(value,index,collection){
result += +iteratee(value,index,collection) || 0;});

return result;}











function baseUniq(array,iteratee){
var index=-1,
indexOf=getIndexOf(),
length=array.length,
isCommon=indexOf == baseIndexOf,
isLarge=isCommon && length >= LARGE_ARRAY_SIZE,
seen=isLarge?createCache():null,
result=[];

if(seen){
indexOf = cacheIndexOf;
isCommon = false;}else 
{
isLarge = false;
seen = iteratee?[]:result;}

outer: 
while(++index < length) {
var value=array[index],
computed=iteratee?iteratee(value,index,array):value;

if(isCommon && value === value){
var seenIndex=seen.length;
while(seenIndex--) {
if(seen[seenIndex] === computed){
continue outer;}}


if(iteratee){
seen.push(computed);}

result.push(value);}else 

if(indexOf(seen,computed,0) < 0){
if(iteratee || isLarge){
seen.push(computed);}

result.push(value);}}


return result;}












function baseValues(object,props){
var index=-1,
length=props.length,
result=Array(length);

while(++index < length) {
result[index] = object[props[index]];}

return result;}













function baseWhile(array,predicate,isDrop,fromRight){
var length=array.length,
index=fromRight?length:-1;

while((fromRight?index--:++index < length) && predicate(array[index],index,array)) {}
return isDrop?
baseSlice(array,fromRight?0:index,fromRight?index + 1:length):
baseSlice(array,fromRight?index + 1:0,fromRight?length:index);}












function baseWrapperValue(value,actions){
var result=value;
if(result instanceof LazyWrapper){
result = result.value();}

var index=-1,
length=actions.length;

while(++index < length) {
var action=actions[index];
result = action.func.apply(action.thisArg,arrayPush([result],action.args));}

return result;}













function binaryIndex(array,value,retHighest){
var low=0,
high=array?array.length:low;

if(typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH){
while(low < high) {
var mid=low + high >>> 1,
computed=array[mid];

if((retHighest?computed <= value:computed < value) && computed !== null){
low = mid + 1;}else 
{
high = mid;}}


return high;}

return binaryIndexBy(array,value,identity,retHighest);}















function binaryIndexBy(array,value,iteratee,retHighest){
value = iteratee(value);

var low=0,
high=array?array.length:0,
valIsNaN=value !== value,
valIsNull=value === null,
valIsUndef=value === undefined;

while(low < high) {
var mid=nativeFloor((low + high) / 2),
computed=iteratee(array[mid]),
isDef=computed !== undefined,
isReflexive=computed === computed;

if(valIsNaN){
var setLow=isReflexive || retHighest;}else 
if(valIsNull){
setLow = isReflexive && isDef && (retHighest || computed != null);}else 
if(valIsUndef){
setLow = isReflexive && (retHighest || isDef);}else 
if(computed == null){
setLow = false;}else 
{
setLow = retHighest?computed <= value:computed < value;}

if(setLow){
low = mid + 1;}else 
{
high = mid;}}


return nativeMin(high,MAX_ARRAY_INDEX);}












function bindCallback(func,thisArg,argCount){
if(typeof func != 'function'){
return identity;}

if(thisArg === undefined){
return func;}

switch(argCount){
case 1:return function(value){
return func.call(thisArg,value);};

case 3:return function(value,index,collection){
return func.call(thisArg,value,index,collection);};

case 4:return function(accumulator,value,index,collection){
return func.call(thisArg,accumulator,value,index,collection);};

case 5:return function(value,other,key,object,source){
return func.call(thisArg,value,other,key,object,source);};}


return function(){
return func.apply(thisArg,arguments);};}










function bufferClone(buffer){
var result=new ArrayBuffer(buffer.byteLength),
view=new Uint8Array(result);

view.set(new Uint8Array(buffer));
return result;}












function composeArgs(args,partials,holders){
var holdersLength=holders.length,
argsIndex=-1,
argsLength=nativeMax(args.length - holdersLength,0),
leftIndex=-1,
leftLength=partials.length,
result=Array(leftLength + argsLength);

while(++leftIndex < leftLength) {
result[leftIndex] = partials[leftIndex];}

while(++argsIndex < holdersLength) {
result[holders[argsIndex]] = args[argsIndex];}

while(argsLength--) {
result[leftIndex++] = args[argsIndex++];}

return result;}












function composeArgsRight(args,partials,holders){
var holdersIndex=-1,
holdersLength=holders.length,
argsIndex=-1,
argsLength=nativeMax(args.length - holdersLength,0),
rightIndex=-1,
rightLength=partials.length,
result=Array(argsLength + rightLength);

while(++argsIndex < argsLength) {
result[argsIndex] = args[argsIndex];}

var offset=argsIndex;
while(++rightIndex < rightLength) {
result[offset + rightIndex] = partials[rightIndex];}

while(++holdersIndex < holdersLength) {
result[offset + holders[holdersIndex]] = args[argsIndex++];}

return result;}










function createAggregator(setter,initializer){
return function(collection,iteratee,thisArg){
var result=initializer?initializer():{};
iteratee = getCallback(iteratee,thisArg,3);

if(isArray(collection)){
var index=-1,
length=collection.length;

while(++index < length) {
var value=collection[index];
setter(result,value,iteratee(value,index,collection),collection);}}else 

{
baseEach(collection,function(value,key,collection){
setter(result,value,iteratee(value,key,collection),collection);});}


return result;};}










function createAssigner(assigner){
return restParam(function(object,sources){
var index=-1,
length=object == null?0:sources.length,
customizer=length > 2?sources[length - 2]:undefined,
guard=length > 2?sources[2]:undefined,
thisArg=length > 1?sources[length - 1]:undefined;

if(typeof customizer == 'function'){
customizer = bindCallback(customizer,thisArg,5);
length -= 2;}else 
{
customizer = typeof thisArg == 'function'?thisArg:undefined;
length -= customizer?1:0;}

if(guard && isIterateeCall(sources[0],sources[1],guard)){
customizer = length < 3?undefined:customizer;
length = 1;}

while(++index < length) {
var source=sources[index];
if(source){
assigner(object,source,customizer);}}


return object;});}











function createBaseEach(eachFunc,fromRight){
return function(collection,iteratee){
var length=collection?getLength(collection):0;
if(!isLength(length)){
return eachFunc(collection,iteratee);}

var index=fromRight?length:-1,
iterable=toObject(collection);

while(fromRight?index--:++index < length) {
if(iteratee(iterable[index],index,iterable) === false){
break;}}


return collection;};}










function createBaseFor(fromRight){
return function(object,iteratee,keysFunc){
var iterable=toObject(object),
props=keysFunc(object),
length=props.length,
index=fromRight?length:-1;

while(fromRight?index--:++index < length) {
var key=props[index];
if(iteratee(iterable[key],key,iterable) === false){
break;}}


return object;};}












function createBindWrapper(func,thisArg){
var Ctor=createCtorWrapper(func);

function wrapper(){
var fn=this && this !== root && this instanceof wrapper?Ctor:func;
return fn.apply(thisArg,arguments);}

return wrapper;}









function createCache(values){
return nativeCreate && Set?new SetCache(values):null;}










function createCompounder(callback){
return function(string){
var index=-1,
array=words(deburr(string)),
length=array.length,
result='';

while(++index < length) {
result = callback(result,array[index],index);}

return result;};}











function createCtorWrapper(Ctor){
return function(){



var args=arguments;
switch(args.length){
case 0:return new Ctor();
case 1:return new Ctor(args[0]);
case 2:return new Ctor(args[0],args[1]);
case 3:return new Ctor(args[0],args[1],args[2]);
case 4:return new Ctor(args[0],args[1],args[2],args[3]);
case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);
case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);
case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);}

var thisBinding=baseCreate(Ctor.prototype),
result=Ctor.apply(thisBinding,args);



return isObject(result)?result:thisBinding;};}










function createCurry(flag){
function curryFunc(func,arity,guard){
if(guard && isIterateeCall(func,arity,guard)){
arity = undefined;}

var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);
result.placeholder = curryFunc.placeholder;
return result;}

return curryFunc;}










function createDefaults(assigner,customizer){
return restParam(function(args){
var object=args[0];
if(object == null){
return object;}

args.push(customizer);
return assigner.apply(undefined,args);});}











function createExtremum(comparator,exValue){
return function(collection,iteratee,thisArg){
if(thisArg && isIterateeCall(collection,iteratee,thisArg)){
iteratee = undefined;}

iteratee = getCallback(iteratee,thisArg,3);
if(iteratee.length == 1){
collection = isArray(collection)?collection:toIterable(collection);
var result=arrayExtremum(collection,iteratee,comparator,exValue);
if(!(collection.length && result === exValue)){
return result;}}


return baseExtremum(collection,iteratee,comparator,exValue);};}











function createFind(eachFunc,fromRight){
return function(collection,predicate,thisArg){
predicate = getCallback(predicate,thisArg,3);
if(isArray(collection)){
var index=baseFindIndex(collection,predicate,fromRight);
return index > -1?collection[index]:undefined;}

return baseFind(collection,predicate,eachFunc);};}










function createFindIndex(fromRight){
return function(array,predicate,thisArg){
if(!(array && array.length)){
return -1;}

predicate = getCallback(predicate,thisArg,3);
return baseFindIndex(array,predicate,fromRight);};}










function createFindKey(objectFunc){
return function(object,predicate,thisArg){
predicate = getCallback(predicate,thisArg,3);
return baseFind(object,predicate,objectFunc,true);};}










function createFlow(fromRight){
return function(){
var wrapper,
length=arguments.length,
index=fromRight?length:-1,
leftIndex=0,
funcs=Array(length);

while(fromRight?index--:++index < length) {
var func=funcs[leftIndex++] = arguments[index];
if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

if(!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper'){
wrapper = new LodashWrapper([],true);}}


index = wrapper?-1:length;
while(++index < length) {
func = funcs[index];

var funcName=getFuncName(func),
data=funcName == 'wrapper'?getData(func):undefined;

if(data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1){
wrapper = wrapper[getFuncName(data[0])].apply(wrapper,data[3]);}else 
{
wrapper = func.length == 1 && isLaziable(func)?wrapper[funcName]():wrapper.thru(func);}}


return function(){
var args=arguments,
value=args[0];

if(wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE){
return wrapper.plant(value).value();}

var index=0,
result=length?funcs[index].apply(this,args):value;

while(++index < length) {
result = funcs[index].call(this,result);}

return result;};};}












function createForEach(arrayFunc,eachFunc){
return function(collection,iteratee,thisArg){
return typeof iteratee == 'function' && thisArg === undefined && isArray(collection)?
arrayFunc(collection,iteratee):
eachFunc(collection,bindCallback(iteratee,thisArg,3));};}










function createForIn(objectFunc){
return function(object,iteratee,thisArg){
if(typeof iteratee != 'function' || thisArg !== undefined){
iteratee = bindCallback(iteratee,thisArg,3);}

return objectFunc(object,iteratee,keysIn);};}










function createForOwn(objectFunc){
return function(object,iteratee,thisArg){
if(typeof iteratee != 'function' || thisArg !== undefined){
iteratee = bindCallback(iteratee,thisArg,3);}

return objectFunc(object,iteratee);};}










function createObjectMapper(isMapKeys){
return function(object,iteratee,thisArg){
var result={};
iteratee = getCallback(iteratee,thisArg,3);

baseForOwn(object,function(value,key,object){
var mapped=iteratee(value,key,object);
key = isMapKeys?mapped:key;
value = isMapKeys?value:mapped;
result[key] = value;});

return result;};}










function createPadDir(fromRight){
return function(string,length,chars){
string = baseToString(string);
return (fromRight?string:'') + createPadding(string,length,chars) + (fromRight?'':string);};}










function createPartial(flag){
var partialFunc=restParam(function(func,partials){
var holders=replaceHolders(partials,partialFunc.placeholder);
return createWrapper(func,flag,undefined,partials,holders);});

return partialFunc;}










function createReduce(arrayFunc,eachFunc){
return function(collection,iteratee,accumulator,thisArg){
var initFromArray=arguments.length < 3;
return typeof iteratee == 'function' && thisArg === undefined && isArray(collection)?
arrayFunc(collection,iteratee,accumulator,initFromArray):
baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc);};}




















function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){
var isAry=bitmask & ARY_FLAG,
isBind=bitmask & BIND_FLAG,
isBindKey=bitmask & BIND_KEY_FLAG,
isCurry=bitmask & CURRY_FLAG,
isCurryBound=bitmask & CURRY_BOUND_FLAG,
isCurryRight=bitmask & CURRY_RIGHT_FLAG,
Ctor=isBindKey?undefined:createCtorWrapper(func);

function wrapper(){


var length=arguments.length,
index=length,
args=Array(length);

while(index--) {
args[index] = arguments[index];}

if(partials){
args = composeArgs(args,partials,holders);}

if(partialsRight){
args = composeArgsRight(args,partialsRight,holdersRight);}

if(isCurry || isCurryRight){
var placeholder=wrapper.placeholder,
argsHolders=replaceHolders(args,placeholder);

length -= argsHolders.length;
if(length < arity){
var newArgPos=argPos?arrayCopy(argPos):undefined,
newArity=nativeMax(arity - length,0),
newsHolders=isCurry?argsHolders:undefined,
newHoldersRight=isCurry?undefined:argsHolders,
newPartials=isCurry?args:undefined,
newPartialsRight=isCurry?undefined:args;

bitmask |= isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;
bitmask &= ~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);

if(!isCurryBound){
bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);}

var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],
result=createHybridWrapper.apply(undefined,newData);

if(isLaziable(func)){
setData(result,newData);}

result.placeholder = placeholder;
return result;}}


var thisBinding=isBind?thisArg:this,
fn=isBindKey?thisBinding[func]:func;

if(argPos){
args = reorder(args,argPos);}

if(isAry && ary < args.length){
args.length = ary;}

if(this && this !== root && this instanceof wrapper){
fn = Ctor || createCtorWrapper(func);}

return fn.apply(thisBinding,args);}

return wrapper;}












function createPadding(string,length,chars){
var strLength=string.length;
length = +length;

if(strLength >= length || !nativeIsFinite(length)){
return '';}

var padLength=length - strLength;
chars = chars == null?' ':chars + '';
return repeat(chars,nativeCeil(padLength / chars.length)).slice(0,padLength);}














function createPartialWrapper(func,bitmask,thisArg,partials){
var isBind=bitmask & BIND_FLAG,
Ctor=createCtorWrapper(func);

function wrapper(){


var argsIndex=-1,
argsLength=arguments.length,
leftIndex=-1,
leftLength=partials.length,
args=Array(leftLength + argsLength);

while(++leftIndex < leftLength) {
args[leftIndex] = partials[leftIndex];}

while(argsLength--) {
args[leftIndex++] = arguments[++argsIndex];}

var fn=this && this !== root && this instanceof wrapper?Ctor:func;
return fn.apply(isBind?thisArg:this,args);}

return wrapper;}









function createRound(methodName){
var func=Math[methodName];
return function(number,precision){
precision = precision === undefined?0:+precision || 0;
if(precision){
precision = pow(10,precision);
return func(number * precision) / precision;}

return func(number);};}










function createSortedIndex(retHighest){
return function(array,value,iteratee,thisArg){
var callback=getCallback(iteratee);
return iteratee == null && callback === baseCallback?
binaryIndex(array,value,retHighest):
binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest);};}




























function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){
var isBindKey=bitmask & BIND_KEY_FLAG;
if(!isBindKey && typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

var length=partials?partials.length:0;
if(!length){
bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);
partials = holders = undefined;}

length -= holders?holders.length:0;
if(bitmask & PARTIAL_RIGHT_FLAG){
var partialsRight=partials,
holdersRight=holders;

partials = holders = undefined;}

var data=isBindKey?undefined:getData(func),
newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];

if(data){
mergeData(newData,data);
bitmask = newData[1];
arity = newData[9];}

newData[9] = arity == null?
isBindKey?0:func.length:
nativeMax(arity - length,0) || 0;

if(bitmask == BIND_FLAG){
var result=createBindWrapper(newData[0],newData[2]);}else 
if((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length){
result = createPartialWrapper.apply(undefined,newData);}else 
{
result = createHybridWrapper.apply(undefined,newData);}

var setter=data?baseSetData:setData;
return setter(result,newData);}
















function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){
var index=-1,
arrLength=array.length,
othLength=other.length;

if(arrLength != othLength && !(isLoose && othLength > arrLength)){
return false;}


while(++index < arrLength) {
var arrValue=array[index],
othValue=other[index],
result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;

if(result !== undefined){
if(result){
continue;}

return false;}


if(isLoose){
if(!arraySome(other,function(othValue){
return arrValue === othValue || equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB);}))
{
return false;}}else 

if(!(arrValue === othValue || equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){
return false;}}


return true;}















function equalByTag(object,other,tag){
switch(tag){
case boolTag:
case dateTag:


return +object == +other;

case errorTag:
return object.name == other.name && object.message == other.message;

case numberTag:

return object != +object?
other != +other:
object == +other;

case regexpTag:
case stringTag:


return object == other + '';}

return false;}
















function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){
var objProps=keys(object),
objLength=objProps.length,
othProps=keys(other),
othLength=othProps.length;

if(objLength != othLength && !isLoose){
return false;}

var index=objLength;
while(index--) {
var key=objProps[index];
if(!(isLoose?key in other:hasOwnProperty.call(other,key))){
return false;}}


var skipCtor=isLoose;
while(++index < objLength) {
key = objProps[index];
var objValue=object[key],
othValue=other[key],
result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;


if(!(result === undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){
return false;}

skipCtor || (skipCtor = key == 'constructor');}

if(!skipCtor){
var objCtor=object.constructor,
othCtor=other.constructor;


if(objCtor != othCtor && 
'constructor' in object && 'constructor' in other && 
!(typeof objCtor == 'function' && objCtor instanceof objCtor && 
typeof othCtor == 'function' && othCtor instanceof othCtor)){
return false;}}


return true;}











function getCallback(func,thisArg,argCount){
var result=lodash.callback || callback;
result = result === callback?baseCallback:result;
return argCount?result(func,thisArg,argCount):result;}









var getData=!metaMap?noop:function(func){
return metaMap.get(func);};









function getFuncName(func){
var result=func.name,
array=realNames[result],
length=array?array.length:0;

while(length--) {
var data=array[length],
otherFunc=data.func;
if(otherFunc == null || otherFunc == func){
return data.name;}}


return result;}











function getIndexOf(collection,target,fromIndex){
var result=lodash.indexOf || indexOf;
result = result === indexOf?baseIndexOf:result;
return collection?result(collection,target,fromIndex):result;}












var getLength=baseProperty('length');








function getMatchData(object){
var result=pairs(object),
length=result.length;

while(length--) {
result[length][2] = isStrictComparable(result[length][1]);}

return result;}










function getNative(object,key){
var value=object == null?undefined:object[key];
return isNative(value)?value:undefined;}












function getView(start,end,transforms){
var index=-1,
length=transforms.length;

while(++index < length) {
var data=transforms[index],
size=data.size;

switch(data.type){
case 'drop':start += size;break;
case 'dropRight':end -= size;break;
case 'take':end = nativeMin(end,start + size);break;
case 'takeRight':start = nativeMax(start,end - size);break;}}


return {'start':start,'end':end};}









function initCloneArray(array){
var length=array.length,
result=new array.constructor(length);


if(length && typeof array[0] == 'string' && hasOwnProperty.call(array,'index')){
result.index = array.index;
result.input = array.input;}

return result;}









function initCloneObject(object){
var Ctor=object.constructor;
if(!(typeof Ctor == 'function' && Ctor instanceof Ctor)){
Ctor = Object;}

return new Ctor();}














function initCloneByTag(object,tag,isDeep){
var Ctor=object.constructor;
switch(tag){
case arrayBufferTag:
return bufferClone(object);

case boolTag:
case dateTag:
return new Ctor(+object);

case float32Tag:case float64Tag:
case int8Tag:case int16Tag:case int32Tag:
case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:
var buffer=object.buffer;
return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);

case numberTag:
case stringTag:
return new Ctor(object);

case regexpTag:
var result=new Ctor(object.source,reFlags.exec(object));
result.lastIndex = object.lastIndex;}

return result;}











function invokePath(object,path,args){
if(object != null && !isKey(path,object)){
path = toPath(path);
object = path.length == 1?object:baseGet(object,baseSlice(path,0,-1));
path = last(path);}

var func=object == null?object:object[path];
return func == null?undefined:func.apply(object,args);}









function isArrayLike(value){
return value != null && isLength(getLength(value));}










function isIndex(value,length){
value = typeof value == 'number' || reIsUint.test(value)?+value:-1;
length = length == null?MAX_SAFE_INTEGER:length;
return value > -1 && value % 1 == 0 && value < length;}











function isIterateeCall(value,index,object){
if(!isObject(object)){
return false;}

var type=typeof index;
if(type == 'number'?
isArrayLike(object) && isIndex(index,object.length):
type == 'string' && index in object){
var other=object[index];
return value === value?value === other:other !== other;}

return false;}










function isKey(value,object){
var type=typeof value;
if(type == 'string' && reIsPlainProp.test(value) || type == 'number'){
return true;}

if(isArray(value)){
return false;}

var result=!reIsDeepProp.test(value);
return result || object != null && value in toObject(object);}









function isLaziable(func){
var funcName=getFuncName(func);
if(!(funcName in LazyWrapper.prototype)){
return false;}

var other=lodash[funcName];
if(func === other){
return true;}

var data=getData(other);
return !!data && func === data[0];}











function isLength(value){
return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;}










function isStrictComparable(value){
return value === value && !isObject(value);}

















function mergeData(data,source){
var bitmask=data[1],
srcBitmask=source[1],
newBitmask=bitmask | srcBitmask,
isCommon=newBitmask < ARY_FLAG;

var isCombo=
srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG || 
srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8] || 
srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG;


if(!(isCommon || isCombo)){
return data;}


if(srcBitmask & BIND_FLAG){
data[2] = source[2];

newBitmask |= bitmask & BIND_FLAG?0:CURRY_BOUND_FLAG;}


var value=source[3];
if(value){
var partials=data[3];
data[3] = partials?composeArgs(partials,value,source[4]):arrayCopy(value);
data[4] = partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4]);}


value = source[5];
if(value){
partials = data[5];
data[5] = partials?composeArgsRight(partials,value,source[6]):arrayCopy(value);
data[6] = partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6]);}


value = source[7];
if(value){
data[7] = arrayCopy(value);}


if(srcBitmask & ARY_FLAG){
data[8] = data[8] == null?source[8]:nativeMin(data[8],source[8]);}


if(data[9] == null){
data[9] = source[9];}


data[0] = source[0];
data[1] = newBitmask;

return data;}










function mergeDefaults(objectValue,sourceValue){
return objectValue === undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults);}











function pickByArray(object,props){
object = toObject(object);

var index=-1,
length=props.length,
result={};

while(++index < length) {
var key=props[index];
if(key in object){
result[key] = object[key];}}


return result;}











function pickByCallback(object,predicate){
var result={};
baseForIn(object,function(value,key,object){
if(predicate(value,key,object)){
result[key] = value;}});


return result;}












function reorder(array,indexes){
var arrLength=array.length,
length=nativeMin(indexes.length,arrLength),
oldArray=arrayCopy(array);

while(length--) {
var index=indexes[length];
array[length] = isIndex(index,arrLength)?oldArray[index]:undefined;}

return array;}















var setData=(function(){
var count=0,
lastCalled=0;

return function(key,value){
var stamp=now(),
remaining=HOT_SPAN - (stamp - lastCalled);

lastCalled = stamp;
if(remaining > 0){
if(++count >= HOT_COUNT){
return key;}}else 

{
count = 0;}

return baseSetData(key,value);};})();











function shimKeys(object){
var props=keysIn(object),
propsLength=props.length,
length=propsLength && object.length;

var allowIndexes=!!length && isLength(length) && (
isArray(object) || isArguments(object));

var index=-1,
result=[];

while(++index < propsLength) {
var key=props[index];
if(allowIndexes && isIndex(key,length) || hasOwnProperty.call(object,key)){
result.push(key);}}


return result;}









function toIterable(value){
if(value == null){
return [];}

if(!isArrayLike(value)){
return values(value);}

return isObject(value)?value:Object(value);}









function toObject(value){
return isObject(value)?value:Object(value);}









function toPath(value){
if(isArray(value)){
return value;}

var result=[];
baseToString(value).replace(rePropName,function(match,number,quote,string){
result.push(quote?string.replace(reEscapeChar,'$1'):number || match);});

return result;}









function wrapperClone(wrapper){
return wrapper instanceof LazyWrapper?
wrapper.clone():
new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__));}
























function chunk(array,size,guard){
if(guard?isIterateeCall(array,size,guard):size == null){
size = 1;}else 
{
size = nativeMax(nativeFloor(size) || 1,1);}

var index=0,
length=array?array.length:0,
resIndex=-1,
result=Array(nativeCeil(length / size));

while(index < length) {
result[++resIndex] = baseSlice(array,index,index += size);}

return result;}
















function compact(array){
var index=-1,
length=array?array.length:0,
resIndex=-1,
result=[];

while(++index < length) {
var value=array[index];
if(value){
result[++resIndex] = value;}}


return result;}


















var difference=restParam(function(array,values){
return isObjectLike(array) && isArrayLike(array)?
baseDifference(array,baseFlatten(values,false,true)):
[];});


























function drop(array,n,guard){
var length=array?array.length:0;
if(!length){
return [];}

if(guard?isIterateeCall(array,n,guard):n == null){
n = 1;}

return baseSlice(array,n < 0?0:n);}


























function dropRight(array,n,guard){
var length=array?array.length:0;
if(!length){
return [];}

if(guard?isIterateeCall(array,n,guard):n == null){
n = 1;}

n = length - (+n || 0);
return baseSlice(array,0,n < 0?0:n);}



















































function dropRightWhile(array,predicate,thisArg){
return array && array.length?
baseWhile(array,getCallback(predicate,thisArg,3),true,true):
[];}



















































function dropWhile(array,predicate,thisArg){
return array && array.length?
baseWhile(array,getCallback(predicate,thisArg,3),true):
[];}






























function fill(array,value,start,end){
var length=array?array.length:0;
if(!length){
return [];}

if(start && typeof start != 'number' && isIterateeCall(array,value,start)){
start = 0;
end = length;}

return baseFill(array,value,start,end);}


















































var findIndex=createFindIndex();

















































var findLastIndex=createFindIndex(true);


















function first(array){
return array?array[0]:undefined;}






















function flatten(array,isDeep,guard){
var length=array?array.length:0;
if(guard && isIterateeCall(array,isDeep,guard)){
isDeep = false;}

return length?baseFlatten(array,isDeep):[];}















function flattenDeep(array){
var length=array?array.length:0;
return length?baseFlatten(array,true):[];}






























function indexOf(array,value,fromIndex){
var length=array?array.length:0;
if(!length){
return -1;}

if(typeof fromIndex == 'number'){
fromIndex = fromIndex < 0?nativeMax(length + fromIndex,0):fromIndex;}else 
if(fromIndex){
var index=binaryIndex(array,value);
if(index < length && (
value === value?value === array[index]:array[index] !== array[index])){
return index;}

return -1;}

return baseIndexOf(array,value,fromIndex || 0);}















function initial(array){
return dropRight(array,1);}
















var intersection=restParam(function(arrays){
var othLength=arrays.length,
othIndex=othLength,
caches=Array(length),
indexOf=getIndexOf(),
isCommon=indexOf == baseIndexOf,
result=[];

while(othIndex--) {
var value=arrays[othIndex] = isArrayLike(value = arrays[othIndex])?value:[];
caches[othIndex] = isCommon && value.length >= 120?createCache(othIndex && value):null;}

var array=arrays[0],
index=-1,
length=array?array.length:0,
seen=caches[0];

outer: 
while(++index < length) {
value = array[index];
if((seen?cacheIndexOf(seen,value):indexOf(result,value,0)) < 0){
var othIndex=othLength;
while(--othIndex) {
var cache=caches[othIndex];
if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0)) < 0){
continue outer;}}


if(seen){
seen.push(value);}

result.push(value);}}


return result;});















function last(array){
var length=array?array.length:0;
return length?array[length - 1]:undefined;}



























function lastIndexOf(array,value,fromIndex){
var length=array?array.length:0;
if(!length){
return -1;}

var index=length;
if(typeof fromIndex == 'number'){
index = (fromIndex < 0?nativeMax(length + fromIndex,0):nativeMin(fromIndex || 0,length - 1)) + 1;}else 
if(fromIndex){
index = binaryIndex(array,value,true) - 1;
var other=array[index];
if(value === value?value === other:other !== other){
return index;}

return -1;}

if(value !== value){
return indexOfNaN(array,index,true);}

while(index--) {
if(array[index] === value){
return index;}}


return -1;}























function pull(){
var args=arguments,
array=args[0];

if(!(array && array.length)){
return array;}

var index=0,
indexOf=getIndexOf(),
length=args.length;

while(++index < length) {
var fromIndex=0,
value=args[index];

while((fromIndex = indexOf(array,value,fromIndex)) > -1) {
splice.call(array,fromIndex,1);}}


return array;}



























var pullAt=restParam(function(array,indexes){
indexes = baseFlatten(indexes);

var result=baseAt(array,indexes);
basePullAt(array,indexes.sort(baseCompareAscending));
return result;});









































function remove(array,predicate,thisArg){
var result=[];
if(!(array && array.length)){
return result;}

var index=-1,
indexes=[],
length=array.length;

predicate = getCallback(predicate,thisArg,3);
while(++index < length) {
var value=array[index];
if(predicate(value,index,array)){
result.push(value);
indexes.push(index);}}


basePullAt(array,indexes);
return result;}
















function rest(array){
return drop(array,1);}
















function slice(array,start,end){
var length=array?array.length:0;
if(!length){
return [];}

if(end && typeof end != 'number' && isIterateeCall(array,start,end)){
start = 0;
end = length;}

return baseSlice(array,start,end);}


















































var sortedIndex=createSortedIndex();





















var sortedLastIndex=createSortedIndex(true);

























function take(array,n,guard){
var length=array?array.length:0;
if(!length){
return [];}

if(guard?isIterateeCall(array,n,guard):n == null){
n = 1;}

return baseSlice(array,0,n < 0?0:n);}


























function takeRight(array,n,guard){
var length=array?array.length:0;
if(!length){
return [];}

if(guard?isIterateeCall(array,n,guard):n == null){
n = 1;}

n = length - (+n || 0);
return baseSlice(array,n < 0?0:n);}



















































function takeRightWhile(array,predicate,thisArg){
return array && array.length?
baseWhile(array,getCallback(predicate,thisArg,3),false,true):
[];}



















































function takeWhile(array,predicate,thisArg){
return array && array.length?
baseWhile(array,getCallback(predicate,thisArg,3)):
[];}

















var union=restParam(function(arrays){
return baseUniq(baseFlatten(arrays,false,true));});



















































function uniq(array,isSorted,iteratee,thisArg){
var length=array?array.length:0;
if(!length){
return [];}

if(isSorted != null && typeof isSorted != 'boolean'){
thisArg = iteratee;
iteratee = isIterateeCall(array,isSorted,thisArg)?undefined:isSorted;
isSorted = false;}

var callback=getCallback();
if(!(iteratee == null && callback === baseCallback)){
iteratee = callback(iteratee,thisArg,3);}

return isSorted && getIndexOf() == baseIndexOf?
sortedUniq(array,iteratee):
baseUniq(array,iteratee);}




















function unzip(array){
if(!(array && array.length)){
return [];}

var index=-1,
length=0;

array = arrayFilter(array,function(group){
if(isArrayLike(group)){
length = nativeMax(group.length,length);
return true;}});


var result=Array(length);
while(++index < length) {
result[index] = arrayMap(array,baseProperty(index));}

return result;}






















function unzipWith(array,iteratee,thisArg){
var length=array?array.length:0;
if(!length){
return [];}

var result=unzip(array);
if(iteratee == null){
return result;}

iteratee = bindCallback(iteratee,thisArg,4);
return arrayMap(result,function(group){
return arrayReduce(group,iteratee,undefined,true);});}



















var without=restParam(function(array,values){
return isArrayLike(array)?
baseDifference(array,values):
[];});
















function xor(){
var index=-1,
length=arguments.length;

while(++index < length) {
var array=arguments[index];
if(isArrayLike(array)){
var result=result?
arrayPush(baseDifference(result,array),baseDifference(array,result)):
array;}}


return result?baseUniq(result):[];}

















var zip=restParam(unzip);






















function zipObject(props,values){
var index=-1,
length=props?props.length:0,
result={};

if(length && !values && !isArray(props[0])){
values = [];}

while(++index < length) {
var key=props[index];
if(values){
result[key] = values[index];}else 
if(key){
result[key[0]] = key[1];}}


return result;}



















var zipWith=restParam(function(arrays){
var length=arrays.length,
iteratee=length > 2?arrays[length - 2]:undefined,
thisArg=length > 1?arrays[length - 1]:undefined;

if(length > 2 && typeof iteratee == 'function'){
length -= 2;}else 
{
iteratee = length > 1 && typeof thisArg == 'function'?(--length,thisArg):undefined;
thisArg = undefined;}

arrays.length = length;
return unzipWith(arrays,iteratee,thisArg);});






























function chain(value){
var result=lodash(value);
result.__chain__ = true;
return result;}

























function tap(value,interceptor,thisArg){
interceptor.call(thisArg,value);
return value;}























function thru(value,interceptor,thisArg){
return interceptor.call(thisArg,value);}



























function wrapperChain(){
return chain(this);}



























function wrapperCommit(){
return new LodashWrapper(this.value(),this.__chain__);}






















var wrapperConcat=restParam(function(values){
values = baseFlatten(values);
return this.thru(function(array){
return arrayConcat(isArray(array)?array:[toObject(array)],values);});});


























function wrapperPlant(value){
var result,
parent=this;

while(parent instanceof baseLodash) {
var clone=wrapperClone(parent);
if(result){
previous.__wrapped__ = clone;}else 
{
result = clone;}

var previous=clone;
parent = parent.__wrapped__;}

previous.__wrapped__ = value;
return result;}






















function wrapperReverse(){
var value=this.__wrapped__;

var interceptor=function(value){
return wrapped && wrapped.__dir__ < 0?value:value.reverse();};

if(value instanceof LazyWrapper){
var wrapped=value;
if(this.__actions__.length){
wrapped = new LazyWrapper(this);}

wrapped = wrapped.reverse();
wrapped.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});
return new LodashWrapper(wrapped,this.__chain__);}

return this.thru(interceptor);}














function wrapperToString(){
return this.value() + '';}















function wrapperValue(){
return baseWrapperValue(this.__wrapped__,this.__actions__);}
























var at=restParam(function(collection,props){
return baseAt(collection,baseFlatten(props));});











































var countBy=createAggregator(function(result,value,key){
hasOwnProperty.call(result,key)?++result[key]:result[key] = 1;});


















































function every(collection,predicate,thisArg){
var func=isArray(collection)?arrayEvery:baseEvery;
if(thisArg && isIterateeCall(collection,predicate,thisArg)){
predicate = undefined;}

if(typeof predicate != 'function' || thisArg !== undefined){
predicate = getCallback(predicate,thisArg,3);}

return func(collection,predicate);}



















































function filter(collection,predicate,thisArg){
var func=isArray(collection)?arrayFilter:baseFilter;
predicate = getCallback(predicate,thisArg,3);
return func(collection,predicate);}




















































var find=createFind(baseEach);




















var findLast=createFind(baseEachRight,true);






























function findWhere(collection,source){
return find(collection,baseMatches(source));}
































var forEach=createForEach(arrayEach,baseEach);




















var forEachRight=createForEach(arrayEachRight,baseEachRight);











































var groupBy=createAggregator(function(result,value,key){
if(hasOwnProperty.call(result,key)){
result[key].push(value);}else 
{
result[key] = [value];}});
































function includes(collection,target,fromIndex,guard){
var length=collection?getLength(collection):0;
if(!isLength(length)){
collection = values(collection);
length = collection.length;}

if(typeof fromIndex != 'number' || guard && isIterateeCall(target,fromIndex,guard)){
fromIndex = 0;}else 
{
fromIndex = fromIndex < 0?nativeMax(length + fromIndex,0):fromIndex || 0;}

return typeof collection == 'string' || !isArray(collection) && isString(collection)?
fromIndex <= length && collection.indexOf(target,fromIndex) > -1:
!!length && getIndexOf(collection,target,fromIndex) > -1;}
















































var indexBy=createAggregator(function(result,value,key){
result[key] = value;});
























var invoke=restParam(function(collection,path,args){
var index=-1,
isFunc=typeof path == 'function',
isProp=isKey(path),
result=isArrayLike(collection)?Array(collection.length):[];

baseEach(collection,function(value){
var func=isFunc?path:isProp && value != null?value[path]:undefined;
result[++index] = func?func.apply(value,args):invokePath(value,path,args);});

return result;});


























































function map(collection,iteratee,thisArg){
var func=isArray(collection)?arrayMap:baseMap;
iteratee = getCallback(iteratee,thisArg,3);
return func(collection,iteratee);}





























































var partition=createAggregator(function(result,value,key){
result[key?0:1].push(value);},
function(){return [[],[]];});
























function pluck(collection,path){
return map(collection,property(path));}







































var reduce=createReduce(arrayReduce,baseEach);























var reduceRight=createReduce(arrayReduceRight,baseEachRight);





































function reject(collection,predicate,thisArg){
var func=isArray(collection)?arrayFilter:baseFilter;
predicate = getCallback(predicate,thisArg,3);
return func(collection,function(value,index,collection){
return !predicate(value,index,collection);});}





















function sample(collection,n,guard){
if(guard?isIterateeCall(collection,n,guard):n == null){
collection = toIterable(collection);
var length=collection.length;
return length > 0?collection[baseRandom(0,length - 1)]:undefined;}

var index=-1,
result=toArray(collection),
length=result.length,
lastIndex=length - 1;

n = nativeMin(n < 0?0:+n || 0,length);
while(++index < n) {
var rand=baseRandom(index,lastIndex),
value=result[rand];

result[rand] = result[index];
result[index] = value;}

result.length = n;
return result;}
















function shuffle(collection){
return sample(collection,POSITIVE_INFINITY);}






















function size(collection){
var length=collection?getLength(collection):0;
return isLength(length)?length:keys(collection).length;}



















































function some(collection,predicate,thisArg){
var func=isArray(collection)?arraySome:baseSome;
if(thisArg && isIterateeCall(collection,predicate,thisArg)){
predicate = undefined;}

if(typeof predicate != 'function' || thisArg !== undefined){
predicate = getCallback(predicate,thisArg,3);}

return func(collection,predicate);}


















































function sortBy(collection,iteratee,thisArg){
if(collection == null){
return [];}

if(thisArg && isIterateeCall(collection,iteratee,thisArg)){
iteratee = undefined;}

var index=-1;
iteratee = getCallback(iteratee,thisArg,3);

var result=baseMap(collection,function(value,key,collection){
return {'criteria':iteratee(value,key,collection),'index':++index,'value':value};});

return baseSortBy(result,compareAscending);}





































var sortByAll=restParam(function(collection,iteratees){
if(collection == null){
return [];}

var guard=iteratees[2];
if(guard && isIterateeCall(iteratees[0],iteratees[1],guard)){
iteratees.length = 1;}

return baseSortByOrder(collection,baseFlatten(iteratees),[]);});




































function sortByOrder(collection,iteratees,orders,guard){
if(collection == null){
return [];}

if(guard && isIterateeCall(iteratees,orders,guard)){
orders = undefined;}

if(!isArray(iteratees)){
iteratees = iteratees == null?[]:[iteratees];}

if(!isArray(orders)){
orders = orders == null?[]:[orders];}

return baseSortByOrder(collection,iteratees,orders);}































function where(collection,source){
return filter(collection,baseMatches(source));}


















var now=nativeNow || function(){
return new Date().getTime();};



























function after(n,func){
if(typeof func != 'function'){
if(typeof n == 'function'){
var temp=n;
n = func;
func = temp;}else 
{
throw new TypeError(FUNC_ERROR_TEXT);}}


n = nativeIsFinite(n = +n)?n:0;
return function(){
if(--n < 1){
return func.apply(this,arguments);}};}




















function ary(func,n,guard){
if(guard && isIterateeCall(func,n,guard)){
n = undefined;}

n = func && n == null?func.length:nativeMax(+n || 0,0);
return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n);}


















function before(n,func){
var result;
if(typeof func != 'function'){
if(typeof n == 'function'){
var temp=n;
n = func;
func = temp;}else 
{
throw new TypeError(FUNC_ERROR_TEXT);}}


return function(){
if(--n > 0){
result = func.apply(this,arguments);}

if(n <= 1){
func = undefined;}

return result;};}






































var bind=restParam(function(func,thisArg,partials){
var bitmask=BIND_FLAG;
if(partials.length){
var holders=replaceHolders(partials,bind.placeholder);
bitmask |= PARTIAL_FLAG;}

return createWrapper(func,bitmask,thisArg,partials,holders);});






























var bindAll=restParam(function(object,methodNames){
methodNames = methodNames.length?baseFlatten(methodNames):functions(object);

var index=-1,
length=methodNames.length;

while(++index < length) {
var key=methodNames[index];
object[key] = createWrapper(object[key],BIND_FLAG,object);}

return object;});














































var bindKey=restParam(function(object,key,partials){
var bitmask=BIND_FLAG | BIND_KEY_FLAG;
if(partials.length){
var holders=replaceHolders(partials,bindKey.placeholder);
bitmask |= PARTIAL_FLAG;}

return createWrapper(key,bitmask,object,partials,holders);});










































var curry=createCurry(CURRY_FLAG);






































var curryRight=createCurry(CURRY_RIGHT_FLAG);
































































function debounce(func,wait,options){
var args,
maxTimeoutId,
result,
stamp,
thisArg,
timeoutId,
trailingCall,
lastCalled=0,
maxWait=false,
trailing=true;

if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

wait = wait < 0?0:+wait || 0;
if(options === true){
var leading=true;
trailing = false;}else 
if(isObject(options)){
leading = !!options.leading;
maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0,wait);
trailing = 'trailing' in options?!!options.trailing:trailing;}


function cancel(){
if(timeoutId){
clearTimeout(timeoutId);}

if(maxTimeoutId){
clearTimeout(maxTimeoutId);}

lastCalled = 0;
maxTimeoutId = timeoutId = trailingCall = undefined;}


function complete(isCalled,id){
if(id){
clearTimeout(id);}

maxTimeoutId = timeoutId = trailingCall = undefined;
if(isCalled){
lastCalled = now();
result = func.apply(thisArg,args);
if(!timeoutId && !maxTimeoutId){
args = thisArg = undefined;}}}




function delayed(){
var remaining=wait - (now() - stamp);
if(remaining <= 0 || remaining > wait){
complete(trailingCall,maxTimeoutId);}else 
{
timeoutId = setTimeout(delayed,remaining);}}



function maxDelayed(){
complete(trailing,timeoutId);}


function debounced(){
args = arguments;
stamp = now();
thisArg = this;
trailingCall = trailing && (timeoutId || !leading);

if(maxWait === false){
var leadingCall=leading && !timeoutId;}else 
{
if(!maxTimeoutId && !leading){
lastCalled = stamp;}

var remaining=maxWait - (stamp - lastCalled),
isCalled=remaining <= 0 || remaining > maxWait;

if(isCalled){
if(maxTimeoutId){
maxTimeoutId = clearTimeout(maxTimeoutId);}

lastCalled = stamp;
result = func.apply(thisArg,args);}else 

if(!maxTimeoutId){
maxTimeoutId = setTimeout(maxDelayed,remaining);}}


if(isCalled && timeoutId){
timeoutId = clearTimeout(timeoutId);}else 

if(!timeoutId && wait !== maxWait){
timeoutId = setTimeout(delayed,wait);}

if(leadingCall){
isCalled = true;
result = func.apply(thisArg,args);}

if(isCalled && !timeoutId && !maxTimeoutId){
args = thisArg = undefined;}

return result;}

debounced.cancel = cancel;
return debounced;}



















var defer=restParam(function(func,args){
return baseDelay(func,1,args);});




















var delay=restParam(function(func,wait,args){
return baseDelay(func,wait,args);});






















var flow=createFlow();





















var flowRight=createFlow(true);




















































function memoize(func,resolver){
if(typeof func != 'function' || resolver && typeof resolver != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

var memoized=function(){
var args=arguments,
key=resolver?resolver.apply(this,args):args[0],
cache=memoized.cache;

if(cache.has(key)){
return cache.get(key);}

var result=func.apply(this,args);
memoized.cache = cache.set(key,result);
return result;};

memoized.cache = new memoize.Cache();
return memoized;}

































var modArgs=restParam(function(func,transforms){
transforms = baseFlatten(transforms);
if(typeof func != 'function' || !arrayEvery(transforms,baseIsFunction)){
throw new TypeError(FUNC_ERROR_TEXT);}

var length=transforms.length;
return restParam(function(args){
var index=nativeMin(args.length,length);
while(index--) {
args[index] = transforms[index](args[index]);}

return func.apply(this,args);});});






















function negate(predicate){
if(typeof predicate != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

return function(){
return !predicate.apply(this,arguments);};}




















function once(func){
return before(2,func);}


































var partial=createPartial(PARTIAL_FLAG);
































var partialRight=createPartial(PARTIAL_RIGHT_FLAG);





























var rearg=restParam(function(func,indexes){
return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes));});
























function restParam(func,start){
if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

start = nativeMax(start === undefined?func.length - 1:+start || 0,0);
return function(){
var args=arguments,
index=-1,
length=nativeMax(args.length - start,0),
rest=Array(length);

while(++index < length) {
rest[index] = args[start + index];}

switch(start){
case 0:return func.call(this,rest);
case 1:return func.call(this,args[0],rest);
case 2:return func.call(this,args[0],args[1],rest);}

var otherArgs=Array(start + 1);
index = -1;
while(++index < start) {
otherArgs[index] = args[index];}

otherArgs[start] = rest;
return func.apply(this,otherArgs);};}


































function spread(func){
if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

return function(array){
return func.apply(this,array);};}










































function throttle(func,wait,options){
var leading=true,
trailing=true;

if(typeof func != 'function'){
throw new TypeError(FUNC_ERROR_TEXT);}

if(options === false){
leading = false;}else 
if(isObject(options)){
leading = 'leading' in options?!!options.leading:leading;
trailing = 'trailing' in options?!!options.trailing:trailing;}

return debounce(func,wait,{'leading':leading,'maxWait':+wait,'trailing':trailing});}























function wrap(value,wrapper){
wrapper = wrapper == null?identity:wrapper;
return createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[]);}























































function clone(value,isDeep,customizer,thisArg){
if(isDeep && typeof isDeep != 'boolean' && isIterateeCall(value,isDeep,customizer)){
isDeep = false;}else 

if(typeof isDeep == 'function'){
thisArg = customizer;
customizer = isDeep;
isDeep = false;}

return typeof customizer == 'function'?
baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):
baseClone(value,isDeep);}















































function cloneDeep(value,customizer,thisArg){
return typeof customizer == 'function'?
baseClone(value,true,bindCallback(customizer,thisArg,1)):
baseClone(value,true);}






















function gt(value,other){
return value > other;}






















function gte(value,other){
return value >= other;}


















function isArguments(value){
return isObjectLike(value) && isArrayLike(value) && 
hasOwnProperty.call(value,'callee') && !propertyIsEnumerable.call(value,'callee');}


















var isArray=nativeIsArray || function(value){
return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;};


















function isBoolean(value){
return value === true || value === false || isObjectLike(value) && objToString.call(value) == boolTag;}


















function isDate(value){
return isObjectLike(value) && objToString.call(value) == dateTag;}


















function isElement(value){
return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);}





























function isEmpty(value){
if(value == null){
return true;}

if(isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) || 
isObjectLike(value) && isFunction(value.splice))){
return !value.length;}

return !keys(value).length;}














































function isEqual(value,other,customizer,thisArg){
customizer = typeof customizer == 'function'?bindCallback(customizer,thisArg,3):undefined;
var result=customizer?customizer(value,other):undefined;
return result === undefined?baseIsEqual(value,other,customizer):!!result;}



















function isError(value){
return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;}





























function isFinite(value){
return typeof value == 'number' && nativeIsFinite(value);}


















function isFunction(value){



return isObject(value) && objToString.call(value) == funcTag;}






















function isObject(value){


var type=typeof value;
return !!value && (type == 'object' || type == 'function');}









































function isMatch(object,source,customizer,thisArg){
customizer = typeof customizer == 'function'?bindCallback(customizer,thisArg,3):undefined;
return baseIsMatch(object,getMatchData(source),customizer);}



























function isNaN(value){


return isNumber(value) && value != +value;}


















function isNative(value){
if(value == null){
return false;}

if(isFunction(value)){
return reIsNative.test(fnToString.call(value));}

return isObjectLike(value) && reIsHostCtor.test(value);}


















function isNull(value){
return value === null;}
























function isNumber(value){
return typeof value == 'number' || isObjectLike(value) && objToString.call(value) == numberTag;}
































function isPlainObject(value){
var Ctor;


if(!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) || 
!hasOwnProperty.call(value,'constructor') && (Ctor = value.constructor,typeof Ctor == 'function' && !(Ctor instanceof Ctor))){
return false;}




var result;



baseForIn(value,function(subValue,key){
result = key;});

return result === undefined || hasOwnProperty.call(value,result);}


















function isRegExp(value){
return isObject(value) && objToString.call(value) == regexpTag;}


















function isString(value){
return typeof value == 'string' || isObjectLike(value) && objToString.call(value) == stringTag;}


















function isTypedArray(value){
return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];}


















function isUndefined(value){
return value === undefined;}






















function lt(value,other){
return value < other;}






















function lte(value,other){
return value <= other;}

















function toArray(value){
var length=value?getLength(value):0;
if(!isLength(length)){
return values(value);}

if(!length){
return [];}

return arrayCopy(value);}

























function toPlainObject(value){
return baseCopy(value,keysIn(value));}




















































var merge=createAssigner(baseMerge);

































var assign=createAssigner(function(object,source,customizer){
return customizer?
assignWith(object,source,customizer):
baseAssign(object,source);});




































function create(prototype,properties,guard){
var result=baseCreate(prototype);
if(guard && isIterateeCall(prototype,properties,guard)){
properties = undefined;}

return properties?baseAssign(result,properties):result;}




















var defaults=createDefaults(assign,assignDefaults);



















var defaultsDeep=createDefaults(merge,mergeDefaults);

















































var findKey=createFindKey(baseForOwn);

















































var findLastKey=createFindKey(baseForOwnRight);




























var forIn=createForIn(baseFor);


























var forInRight=createForIn(baseForRight);




























var forOwn=createForOwn(baseForOwn);


























var forOwnRight=createForOwn(baseForOwnRight);
















function functions(object){
return baseFunctions(object,keysIn(object));}


























function get(object,path,defaultValue){
var result=object == null?undefined:baseGet(object,toPath(path),path + '');
return result === undefined?defaultValue:result;}
























function has(object,path){
if(object == null){
return false;}

var result=hasOwnProperty.call(object,path);
if(!result && !isKey(path)){
path = toPath(path);
object = path.length == 1?object:baseGet(object,baseSlice(path,0,-1));
if(object == null){
return false;}

path = last(path);
result = hasOwnProperty.call(object,path);}

return result || isLength(object.length) && isIndex(path,object.length) && (
isArray(object) || isArguments(object));}

























function invert(object,multiValue,guard){
if(guard && isIterateeCall(object,multiValue,guard)){
multiValue = undefined;}

var index=-1,
props=keys(object),
length=props.length,
result={};

while(++index < length) {
var key=props[index],
value=object[key];

if(multiValue){
if(hasOwnProperty.call(result,value)){
result[value].push(key);}else 
{
result[value] = [key];}}else 


{
result[value] = key;}}


return result;}





























var keys=!nativeKeys?shimKeys:function(object){
var Ctor=object == null?undefined:object.constructor;
if(typeof Ctor == 'function' && Ctor.prototype === object || 
typeof object != 'function' && isArrayLike(object)){
return shimKeys(object);}

return isObject(object)?nativeKeys(object):[];};
























function keysIn(object){
if(object == null){
return [];}

if(!isObject(object)){
object = Object(object);}

var length=object.length;
length = length && isLength(length) && (
isArray(object) || isArguments(object)) && length || 0;

var Ctor=object.constructor,
index=-1,
isProto=typeof Ctor == 'function' && Ctor.prototype === object,
result=Array(length),
skipIndexes=length > 0;

while(++index < length) {
result[index] = index + '';}

for(var key in object) {
if(!(skipIndexes && isIndex(key,length)) && 
!(key == 'constructor' && (isProto || !hasOwnProperty.call(object,key)))){
result.push(key);}}


return result;}






















var mapKeys=createObjectMapper(true);










































var mapValues=createObjectMapper();
























var omit=restParam(function(object,props){
if(object == null){
return {};}

if(typeof props[0] != 'function'){
var props=arrayMap(baseFlatten(props),String);
return pickByArray(object,baseDifference(keysIn(object),props));}

var predicate=bindCallback(props[0],props[1],3);
return pickByCallback(object,function(value,key,object){
return !predicate(value,key,object);});});

















function pairs(object){
object = toObject(object);

var index=-1,
props=keys(object),
length=props.length,
result=Array(length);

while(++index < length) {
var key=props[index];
result[index] = [key,object[key]];}

return result;}




























var pick=restParam(function(object,props){
if(object == null){
return {};}

return typeof props[0] == 'function'?
pickByCallback(object,bindCallback(props[0],props[1],3)):
pickByArray(object,baseFlatten(props));});






























function result(object,path,defaultValue){
var result=object == null?undefined:object[path];
if(result === undefined){
if(object != null && !isKey(path,object)){
path = toPath(path);
object = path.length == 1?object:baseGet(object,baseSlice(path,0,-1));
result = object == null?undefined:object[last(path)];}

result = result === undefined?defaultValue:result;}

return isFunction(result)?result.call(object):result;}

























function set(object,path,value){
if(object == null){
return object;}

var pathKey=path + '';
path = object[pathKey] != null || isKey(path,object)?[pathKey]:toPath(path);

var index=-1,
length=path.length,
lastIndex=length - 1,
nested=object;

while(nested != null && ++index < length) {
var key=path[index];
if(isObject(nested)){
if(index == lastIndex){
nested[key] = value;}else 
if(nested[key] == null){
nested[key] = isIndex(path[index + 1])?[]:{};}}


nested = nested[key];}

return object;}































function transform(object,iteratee,accumulator,thisArg){
var isArr=isArray(object) || isTypedArray(object);
iteratee = getCallback(iteratee,thisArg,4);

if(accumulator == null){
if(isArr || isObject(object)){
var Ctor=object.constructor;
if(isArr){
accumulator = isArray(object)?new Ctor():[];}else 
{
accumulator = baseCreate(isFunction(Ctor)?Ctor.prototype:undefined);}}else 

{
accumulator = {};}}


(isArr?arrayEach:baseForOwn)(object,function(value,index,object){
return iteratee(accumulator,value,index,object);});

return accumulator;}



























function values(object){
return baseValues(object,keys(object));}

























function valuesIn(object){
return baseValues(object,keysIn(object));}



































function inRange(value,start,end){
start = +start || 0;
if(end === undefined){
end = start;
start = 0;}else 
{
end = +end || 0;}

return value >= nativeMin(start,end) && value < nativeMax(start,end);}





























function random(min,max,floating){
if(floating && isIterateeCall(min,max,floating)){
max = floating = undefined;}

var noMin=min == null,
noMax=max == null;

if(floating == null){
if(noMax && typeof min == 'boolean'){
floating = min;
min = 1;}else 

if(typeof max == 'boolean'){
floating = max;
noMax = true;}}


if(noMin && noMax){
max = 1;
noMax = false;}

min = +min || 0;
if(noMax){
max = min;
min = 0;}else 
{
max = +max || 0;}

if(floating || min % 1 || max % 1){
var rand=nativeRandom();
return nativeMin(min + rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1))),max);}

return baseRandom(min,max);}























var camelCase=createCompounder(function(result,word,index){
word = word.toLowerCase();
return result + (index?word.charAt(0).toUpperCase() + word.slice(1):word);});















function capitalize(string){
string = baseToString(string);
return string && string.charAt(0).toUpperCase() + string.slice(1);}
















function deburr(string){
string = baseToString(string);
return string && string.replace(reLatin1,deburrLetter).replace(reComboMark,'');}























function endsWith(string,target,position){
string = baseToString(string);
target = target + '';

var length=string.length;
position = position === undefined?
length:
nativeMin(position < 0?0:+position || 0,length);

position -= target.length;
return position >= 0 && string.indexOf(target,position) == position;}


































function escape(string){

string = baseToString(string);
return string && reHasUnescapedHtml.test(string)?
string.replace(reUnescapedHtml,escapeHtmlChar):
string;}
















function escapeRegExp(string){
string = baseToString(string);
return string && reHasRegExpChars.test(string)?
string.replace(reRegExpChars,escapeRegExpChar):
string || '(?:)';}





















var kebabCase=createCompounder(function(result,word,index){
return result + (index?'-':'') + word.toLowerCase();});
























function pad(string,length,chars){
string = baseToString(string);
length = +length;

var strLength=string.length;
if(strLength >= length || !nativeIsFinite(length)){
return string;}

var mid=(length - strLength) / 2,
leftLength=nativeFloor(mid),
rightLength=nativeCeil(mid);

chars = createPadding('',rightLength,chars);
return chars.slice(0,leftLength) + string + chars;}
























var padLeft=createPadDir();























var padRight=createPadDir(true);
























function parseInt(string,radix,guard){



if(guard?isIterateeCall(string,radix,guard):radix == null){
radix = 0;}else 
if(radix){
radix = +radix;}

string = trim(string);
return nativeParseInt(string,radix || (reHasHexPrefix.test(string)?16:10));}






















function repeat(string,n){
var result='';
string = baseToString(string);
n = +n;
if(n < 1 || !string || !nativeIsFinite(n)){
return result;}



do {
if(n % 2){
result += string;}

n = nativeFloor(n / 2);
string += string;}while(
n);

return result;}





















var snakeCase=createCompounder(function(result,word,index){
return result + (index?'_':'') + word.toLowerCase();});





















var startCase=createCompounder(function(result,word,index){
return result + (index?' ':'') + (word.charAt(0).toUpperCase() + word.slice(1));});























function startsWith(string,target,position){
string = baseToString(string);
position = position == null?
0:
nativeMin(position < 0?0:+position || 0,string.length);

return string.lastIndexOf(target,position) == position;}


































































































function template(string,options,otherOptions){


var settings=lodash.templateSettings;

if(otherOptions && isIterateeCall(string,options,otherOptions)){
options = otherOptions = undefined;}

string = baseToString(string);
options = assignWith(baseAssign({},otherOptions || options),settings,assignOwnDefaults);

var imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),
importsKeys=keys(imports),
importsValues=baseValues(imports,importsKeys);

var isEscaping,
isEvaluating,
index=0,
interpolate=options.interpolate || reNoMatch,
source="__p += '";


var reDelimiters=RegExp(
(options.escape || reNoMatch).source + '|' + 
interpolate.source + '|' + 
(interpolate === reInterpolate?reEsTemplate:reNoMatch).source + '|' + 
(options.evaluate || reNoMatch).source + '|$',
'g');


var sourceURL='//# sourceURL=' + (
'sourceURL' in options?
options.sourceURL:
'lodash.templateSources[' + ++templateCounter + ']') + 
'\n';

string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){
interpolateValue || (interpolateValue = esTemplateValue);


source += string.slice(index,offset).replace(reUnescapedString,escapeStringChar);


if(escapeValue){
isEscaping = true;
source += "' +\n__e(" + escapeValue + ") +\n'";}

if(evaluateValue){
isEvaluating = true;
source += "';\n" + evaluateValue + ";\n__p += '";}

if(interpolateValue){
source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";}

index = offset + match.length;



return match;});


source += "';\n";



var variable=options.variable;
if(!variable){
source = 'with (obj) {\n' + source + '\n}\n';}


source = (isEvaluating?source.replace(reEmptyStringLeading,''):source).
replace(reEmptyStringMiddle,'$1').
replace(reEmptyStringTrailing,'$1;');


source = 'function(' + (variable || 'obj') + ') {\n' + (
variable?
'':
'obj || (obj = {});\n') + 

"var __t, __p = ''" + (
isEscaping?
', __e = _.escape':
'') + (

isEvaluating?
', __j = Array.prototype.join;\n' + 
"function print() { __p += __j.call(arguments, '') }\n":
';\n') + 

source + 
'return __p\n}';

var result=attempt(function(){
return Function(importsKeys,sourceURL + 'return ' + source).apply(undefined,importsValues);});




result.source = source;
if(isError(result)){
throw result;}

return result;}























function trim(string,chars,guard){
var value=string;
string = baseToString(string);
if(!string){
return string;}

if(guard?isIterateeCall(value,chars,guard):chars == null){
return string.slice(trimmedLeftIndex(string),trimmedRightIndex(string) + 1);}

chars = chars + '';
return string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars) + 1);}




















function trimLeft(string,chars,guard){
var value=string;
string = baseToString(string);
if(!string){
return string;}

if(guard?isIterateeCall(value,chars,guard):chars == null){
return string.slice(trimmedLeftIndex(string));}

return string.slice(charsLeftIndex(string,chars + ''));}




















function trimRight(string,chars,guard){
var value=string;
string = baseToString(string);
if(!string){
return string;}

if(guard?isIterateeCall(value,chars,guard):chars == null){
return string.slice(0,trimmedRightIndex(string) + 1);}

return string.slice(0,charsRightIndex(string,chars + '') + 1);}










































function trunc(string,options,guard){
if(guard && isIterateeCall(string,options,guard)){
options = undefined;}

var length=DEFAULT_TRUNC_LENGTH,
omission=DEFAULT_TRUNC_OMISSION;

if(options != null){
if(isObject(options)){
var separator='separator' in options?options.separator:separator;
length = 'length' in options?+options.length || 0:length;
omission = 'omission' in options?baseToString(options.omission):omission;}else 
{
length = +options || 0;}}


string = baseToString(string);
if(length >= string.length){
return string;}

var end=length - omission.length;
if(end < 1){
return omission;}

var result=string.slice(0,end);
if(separator == null){
return result + omission;}

if(isRegExp(separator)){
if(string.slice(end).search(separator)){
var match,
newEnd,
substring=string.slice(0,end);

if(!separator.global){
separator = RegExp(separator.source,(reFlags.exec(separator) || '') + 'g');}

separator.lastIndex = 0;
while(match = separator.exec(substring)) {
newEnd = match.index;}

result = result.slice(0,newEnd == null?end:newEnd);}}else 

if(string.indexOf(separator,end) != end){
var index=result.lastIndexOf(separator);
if(index > -1){
result = result.slice(0,index);}}


return result + omission;}




















function unescape(string){
string = baseToString(string);
return string && reHasEscapedHtml.test(string)?
string.replace(reEscapedHtml,unescapeHtmlChar):
string;}




















function words(string,pattern,guard){
if(guard && isIterateeCall(string,pattern,guard)){
pattern = undefined;}

string = baseToString(string);
return string.match(pattern || reWords) || [];}
























var attempt=restParam(function(func,args){
try{
return func.apply(undefined,args);}
catch(e) {
return isError(e)?e:new Error(e);}});









































function callback(func,thisArg,guard){
if(guard && isIterateeCall(func,thisArg,guard)){
thisArg = undefined;}

return isObjectLike(func)?
matches(func):
baseCallback(func,thisArg);}


















function constant(value){
return function(){
return value;};}


















function identity(value){
return value;}



























function matches(source){
return baseMatches(baseClone(source,true));}


























function matchesProperty(path,srcValue){
return baseMatchesProperty(path,baseClone(srcValue,true));}

























var method=restParam(function(path,args){
return function(object){
return invokePath(object,path,args);};});

























var methodOf=restParam(function(object,args){
return function(path){
return invokePath(object,path,args);};});







































function mixin(object,source,options){
if(options == null){
var isObj=isObject(source),
props=isObj?keys(source):undefined,
methodNames=props && props.length?baseFunctions(source,props):undefined;

if(!(methodNames?methodNames.length:isObj)){
methodNames = false;
options = source;
source = object;
object = this;}}


if(!methodNames){
methodNames = baseFunctions(source,keys(source));}

var chain=true,
index=-1,
isFunc=isFunction(object),
length=methodNames.length;

if(options === false){
chain = false;}else 
if(isObject(options) && 'chain' in options){
chain = options.chain;}

while(++index < length) {
var methodName=methodNames[index],
func=source[methodName];

object[methodName] = func;
if(isFunc){
object.prototype[methodName] = (function(func){
return function(){
var chainAll=this.__chain__;
if(chain || chainAll){
var result=object(this.__wrapped__),
actions=result.__actions__ = arrayCopy(this.__actions__);

actions.push({'func':func,'args':arguments,'thisArg':object});
result.__chain__ = chainAll;
return result;}

return func.apply(object,arrayPush([this.value()],arguments));};})(

func);}}


return object;}














function noConflict(){
root._ = oldDash;
return this;}
















function noop(){}

























function property(path){
return isKey(path)?baseProperty(path):basePropertyDeep(path);}






















function propertyOf(object){
return function(path){
return baseGet(object,toPath(path),path + '');};}




































function range(start,end,step){
if(step && isIterateeCall(start,end,step)){
end = step = undefined;}

start = +start || 0;
step = step == null?1:+step || 0;

if(end == null){
end = start;
start = 0;}else 
{
end = +end || 0;}



var index=-1,
length=nativeMax(nativeCeil((end - start) / (step || 1)),0),
result=Array(length);

while(++index < length) {
result[index] = start;
start += step;}

return result;}





























function times(n,iteratee,thisArg){
n = nativeFloor(n);



if(n < 1 || !nativeIsFinite(n)){
return [];}

var index=-1,
result=Array(nativeMin(n,MAX_ARRAY_LENGTH));

iteratee = bindCallback(iteratee,thisArg,1);
while(++index < n) {
if(index < MAX_ARRAY_LENGTH){
result[index] = iteratee(index);}else 
{
iteratee(index);}}


return result;}


















function uniqueId(prefix){
var id=++idCounter;
return baseToString(prefix) + id;}


















function add(augend,addend){
return (+augend || 0) + (+addend || 0);}






















var ceil=createRound('ceil');





















var floor=createRound('floor');
















































var max=createExtremum(gt,NEGATIVE_INFINITY);
















































var min=createExtremum(lt,POSITIVE_INFINITY);





















var round=createRound('round');

































function sum(collection,iteratee,thisArg){
if(thisArg && isIterateeCall(collection,iteratee,thisArg)){
iteratee = undefined;}

iteratee = getCallback(iteratee,thisArg,3);
return iteratee.length == 1?
arraySum(isArray(collection)?collection:toIterable(collection),iteratee):
baseSum(collection,iteratee);}





lodash.prototype = baseLodash.prototype;

LodashWrapper.prototype = baseCreate(baseLodash.prototype);
LodashWrapper.prototype.constructor = LodashWrapper;

LazyWrapper.prototype = baseCreate(baseLodash.prototype);
LazyWrapper.prototype.constructor = LazyWrapper;


MapCache.prototype['delete'] = mapDelete;
MapCache.prototype.get = mapGet;
MapCache.prototype.has = mapHas;
MapCache.prototype.set = mapSet;


SetCache.prototype.push = cachePush;


memoize.Cache = MapCache;


lodash.after = after;
lodash.ary = ary;
lodash.assign = assign;
lodash.at = at;
lodash.before = before;
lodash.bind = bind;
lodash.bindAll = bindAll;
lodash.bindKey = bindKey;
lodash.callback = callback;
lodash.chain = chain;
lodash.chunk = chunk;
lodash.compact = compact;
lodash.constant = constant;
lodash.countBy = countBy;
lodash.create = create;
lodash.curry = curry;
lodash.curryRight = curryRight;
lodash.debounce = debounce;
lodash.defaults = defaults;
lodash.defaultsDeep = defaultsDeep;
lodash.defer = defer;
lodash.delay = delay;
lodash.difference = difference;
lodash.drop = drop;
lodash.dropRight = dropRight;
lodash.dropRightWhile = dropRightWhile;
lodash.dropWhile = dropWhile;
lodash.fill = fill;
lodash.filter = filter;
lodash.flatten = flatten;
lodash.flattenDeep = flattenDeep;
lodash.flow = flow;
lodash.flowRight = flowRight;
lodash.forEach = forEach;
lodash.forEachRight = forEachRight;
lodash.forIn = forIn;
lodash.forInRight = forInRight;
lodash.forOwn = forOwn;
lodash.forOwnRight = forOwnRight;
lodash.functions = functions;
lodash.groupBy = groupBy;
lodash.indexBy = indexBy;
lodash.initial = initial;
lodash.intersection = intersection;
lodash.invert = invert;
lodash.invoke = invoke;
lodash.keys = keys;
lodash.keysIn = keysIn;
lodash.map = map;
lodash.mapKeys = mapKeys;
lodash.mapValues = mapValues;
lodash.matches = matches;
lodash.matchesProperty = matchesProperty;
lodash.memoize = memoize;
lodash.merge = merge;
lodash.method = method;
lodash.methodOf = methodOf;
lodash.mixin = mixin;
lodash.modArgs = modArgs;
lodash.negate = negate;
lodash.omit = omit;
lodash.once = once;
lodash.pairs = pairs;
lodash.partial = partial;
lodash.partialRight = partialRight;
lodash.partition = partition;
lodash.pick = pick;
lodash.pluck = pluck;
lodash.property = property;
lodash.propertyOf = propertyOf;
lodash.pull = pull;
lodash.pullAt = pullAt;
lodash.range = range;
lodash.rearg = rearg;
lodash.reject = reject;
lodash.remove = remove;
lodash.rest = rest;
lodash.restParam = restParam;
lodash.set = set;
lodash.shuffle = shuffle;
lodash.slice = slice;
lodash.sortBy = sortBy;
lodash.sortByAll = sortByAll;
lodash.sortByOrder = sortByOrder;
lodash.spread = spread;
lodash.take = take;
lodash.takeRight = takeRight;
lodash.takeRightWhile = takeRightWhile;
lodash.takeWhile = takeWhile;
lodash.tap = tap;
lodash.throttle = throttle;
lodash.thru = thru;
lodash.times = times;
lodash.toArray = toArray;
lodash.toPlainObject = toPlainObject;
lodash.transform = transform;
lodash.union = union;
lodash.uniq = uniq;
lodash.unzip = unzip;
lodash.unzipWith = unzipWith;
lodash.values = values;
lodash.valuesIn = valuesIn;
lodash.where = where;
lodash.without = without;
lodash.wrap = wrap;
lodash.xor = xor;
lodash.zip = zip;
lodash.zipObject = zipObject;
lodash.zipWith = zipWith;


lodash.backflow = flowRight;
lodash.collect = map;
lodash.compose = flowRight;
lodash.each = forEach;
lodash.eachRight = forEachRight;
lodash.extend = assign;
lodash.iteratee = callback;
lodash.methods = functions;
lodash.object = zipObject;
lodash.select = filter;
lodash.tail = rest;
lodash.unique = uniq;


mixin(lodash,lodash);




lodash.add = add;
lodash.attempt = attempt;
lodash.camelCase = camelCase;
lodash.capitalize = capitalize;
lodash.ceil = ceil;
lodash.clone = clone;
lodash.cloneDeep = cloneDeep;
lodash.deburr = deburr;
lodash.endsWith = endsWith;
lodash.escape = escape;
lodash.escapeRegExp = escapeRegExp;
lodash.every = every;
lodash.find = find;
lodash.findIndex = findIndex;
lodash.findKey = findKey;
lodash.findLast = findLast;
lodash.findLastIndex = findLastIndex;
lodash.findLastKey = findLastKey;
lodash.findWhere = findWhere;
lodash.first = first;
lodash.floor = floor;
lodash.get = get;
lodash.gt = gt;
lodash.gte = gte;
lodash.has = has;
lodash.identity = identity;
lodash.includes = includes;
lodash.indexOf = indexOf;
lodash.inRange = inRange;
lodash.isArguments = isArguments;
lodash.isArray = isArray;
lodash.isBoolean = isBoolean;
lodash.isDate = isDate;
lodash.isElement = isElement;
lodash.isEmpty = isEmpty;
lodash.isEqual = isEqual;
lodash.isError = isError;
lodash.isFinite = isFinite;
lodash.isFunction = isFunction;
lodash.isMatch = isMatch;
lodash.isNaN = isNaN;
lodash.isNative = isNative;
lodash.isNull = isNull;
lodash.isNumber = isNumber;
lodash.isObject = isObject;
lodash.isPlainObject = isPlainObject;
lodash.isRegExp = isRegExp;
lodash.isString = isString;
lodash.isTypedArray = isTypedArray;
lodash.isUndefined = isUndefined;
lodash.kebabCase = kebabCase;
lodash.last = last;
lodash.lastIndexOf = lastIndexOf;
lodash.lt = lt;
lodash.lte = lte;
lodash.max = max;
lodash.min = min;
lodash.noConflict = noConflict;
lodash.noop = noop;
lodash.now = now;
lodash.pad = pad;
lodash.padLeft = padLeft;
lodash.padRight = padRight;
lodash.parseInt = parseInt;
lodash.random = random;
lodash.reduce = reduce;
lodash.reduceRight = reduceRight;
lodash.repeat = repeat;
lodash.result = result;
lodash.round = round;
lodash.runInContext = runInContext;
lodash.size = size;
lodash.snakeCase = snakeCase;
lodash.some = some;
lodash.sortedIndex = sortedIndex;
lodash.sortedLastIndex = sortedLastIndex;
lodash.startCase = startCase;
lodash.startsWith = startsWith;
lodash.sum = sum;
lodash.template = template;
lodash.trim = trim;
lodash.trimLeft = trimLeft;
lodash.trimRight = trimRight;
lodash.trunc = trunc;
lodash.unescape = unescape;
lodash.uniqueId = uniqueId;
lodash.words = words;


lodash.all = every;
lodash.any = some;
lodash.contains = includes;
lodash.eq = isEqual;
lodash.detect = find;
lodash.foldl = reduce;
lodash.foldr = reduceRight;
lodash.head = first;
lodash.include = includes;
lodash.inject = reduce;

mixin(lodash,(function(){
var source={};
baseForOwn(lodash,function(func,methodName){
if(!lodash.prototype[methodName]){
source[methodName] = func;}});


return source;})(),
false);




lodash.sample = sample;

lodash.prototype.sample = function(n){
if(!this.__chain__ && n == null){
return sample(this.value());}

return this.thru(function(value){
return sample(value,n);});};












lodash.VERSION = VERSION;


arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){
lodash[methodName].placeholder = lodash;});



arrayEach(['drop','take'],function(methodName,index){
LazyWrapper.prototype[methodName] = function(n){
var filtered=this.__filtered__;
if(filtered && !index){
return new LazyWrapper(this);}

n = n == null?1:nativeMax(nativeFloor(n) || 0,0);

var result=this.clone();
if(filtered){
result.__takeCount__ = nativeMin(result.__takeCount__,n);}else 
{
result.__views__.push({'size':n,'type':methodName + (result.__dir__ < 0?'Right':'')});}

return result;};


LazyWrapper.prototype[methodName + 'Right'] = function(n){
return this.reverse()[methodName](n).reverse();};});




arrayEach(['filter','map','takeWhile'],function(methodName,index){
var type=index + 1,
isFilter=type != LAZY_MAP_FLAG;

LazyWrapper.prototype[methodName] = function(iteratee,thisArg){
var result=this.clone();
result.__iteratees__.push({'iteratee':getCallback(iteratee,thisArg,1),'type':type});
result.__filtered__ = result.__filtered__ || isFilter;
return result;};});




arrayEach(['first','last'],function(methodName,index){
var takeName='take' + (index?'Right':'');

LazyWrapper.prototype[methodName] = function(){
return this[takeName](1).value()[0];};});




arrayEach(['initial','rest'],function(methodName,index){
var dropName='drop' + (index?'':'Right');

LazyWrapper.prototype[methodName] = function(){
return this.__filtered__?new LazyWrapper(this):this[dropName](1);};});




arrayEach(['pluck','where'],function(methodName,index){
var operationName=index?'filter':'map',
createCallback=index?baseMatches:property;

LazyWrapper.prototype[methodName] = function(value){
return this[operationName](createCallback(value));};});



LazyWrapper.prototype.compact = function(){
return this.filter(identity);};


LazyWrapper.prototype.reject = function(predicate,thisArg){
predicate = getCallback(predicate,thisArg,1);
return this.filter(function(value){
return !predicate(value);});};



LazyWrapper.prototype.slice = function(start,end){
start = start == null?0:+start || 0;

var result=this;
if(result.__filtered__ && (start > 0 || end < 0)){
return new LazyWrapper(result);}

if(start < 0){
result = result.takeRight(-start);}else 
if(start){
result = result.drop(start);}

if(end !== undefined){
end = +end || 0;
result = end < 0?result.dropRight(-end):result.take(end - start);}

return result;};


LazyWrapper.prototype.takeRightWhile = function(predicate,thisArg){
return this.reverse().takeWhile(predicate,thisArg).reverse();};


LazyWrapper.prototype.toArray = function(){
return this.take(POSITIVE_INFINITY);};



baseForOwn(LazyWrapper.prototype,function(func,methodName){
var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),
retUnwrapped=/^(?:first|last)$/.test(methodName),
lodashFunc=lodash[retUnwrapped?'take' + (methodName == 'last'?'Right':''):methodName];

if(!lodashFunc){
return;}

lodash.prototype[methodName] = function(){
var args=retUnwrapped?[1]:arguments,
chainAll=this.__chain__,
value=this.__wrapped__,
isHybrid=!!this.__actions__.length,
isLazy=value instanceof LazyWrapper,
iteratee=args[0],
useLazy=isLazy || isArray(value);

if(useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1){

isLazy = useLazy = false;}

var interceptor=function(value){
return retUnwrapped && chainAll?
lodashFunc(value,1)[0]:
lodashFunc.apply(undefined,arrayPush([value],args));};


var action={'func':thru,'args':[interceptor],'thisArg':undefined},
onlyLazy=isLazy && !isHybrid;

if(retUnwrapped && !chainAll){
if(onlyLazy){
value = value.clone();
value.__actions__.push(action);
return func.call(value);}

return lodashFunc.call(undefined,this.value())[0];}

if(!retUnwrapped && useLazy){
value = onlyLazy?value:new LazyWrapper(this);
var result=func.apply(value,args);
result.__actions__.push(action);
return new LodashWrapper(result,chainAll);}

return this.thru(interceptor);};});




arrayEach(['join','pop','push','replace','shift','sort','splice','split','unshift'],function(methodName){
var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],
chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',
retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);

lodash.prototype[methodName] = function(){
var args=arguments;
if(retUnwrapped && !this.__chain__){
return func.apply(this.value(),args);}

return this[chainName](function(value){
return func.apply(value,args);});};});





baseForOwn(LazyWrapper.prototype,function(func,methodName){
var lodashFunc=lodash[methodName];
if(lodashFunc){
var key=lodashFunc.name,
names=realNames[key] || (realNames[key] = []);

names.push({'name':methodName,'func':lodashFunc});}});



realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name] = [{'name':'wrapper','func':undefined}];


LazyWrapper.prototype.clone = lazyClone;
LazyWrapper.prototype.reverse = lazyReverse;
LazyWrapper.prototype.value = lazyValue;


lodash.prototype.chain = wrapperChain;
lodash.prototype.commit = wrapperCommit;
lodash.prototype.concat = wrapperConcat;
lodash.prototype.plant = wrapperPlant;
lodash.prototype.reverse = wrapperReverse;
lodash.prototype.toString = wrapperToString;
lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;


lodash.prototype.collect = lodash.prototype.map;
lodash.prototype.head = lodash.prototype.first;
lodash.prototype.select = lodash.prototype.filter;
lodash.prototype.tail = lodash.prototype.rest;

return lodash;}





var _=runInContext();


if(typeof define == 'function' && typeof define.amd == 'object' && define.amd){




root._ = _;



define(function(){
return _;});}else 



if(freeExports && freeModule){

if(moduleExports){
(freeModule.exports = _)._ = _;}else 


{
freeExports._ = _;}}else 


{

root._ = _;}}).

call(this);
});
__d('TypefaceTextView',function(global, require, module, exports) {  'use strict';var _require=









require('react-native/Libraries/react-native/react-native.js');var PropTypes=_require.PropTypes;var requireNativeComponent=_require.requireNativeComponent;

var iface={
name:'TypefaceTextView',
propTypes:{
fontFile:PropTypes.string,
numberOfLines:PropTypes.number}};



module.exports = requireNativeComponent('RNTypefaceTextView',iface);
});
__d('AwesomeProject/src/Navbars.js',function(global, require, module, exports) {  
});
__d('AwesomeProject/src/Activity.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var debug=require('AwesomeProject/src/debug.js');
var log=debug('ActivityTab:log');
var warn=debug('ActivityTab:warn');
var error=debug('ActivityTab:error');

var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


ActivityIndicatorIOS=







React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var TouchableHighlight=React.TouchableHighlight;var ListView=React.ListView;

var Subscribable=require('Subscribable');var _require=



require('react-native-blur/index.js');var BlurView=_require.BlurView;
var RefreshableListView=require('react-native-refreshable-listview/index.js');
var su=require('AwesomeProject/src/styleUtils.js');
var Navbars=require('AwesomeProject/src/Navbars.js');
var ActivityDetail=require('AwesomeProject/src/ActivityDetail.js');

var AV=require('avoscloud-sdk/lib/av.js');var _require2=



require('AwesomeProject/src/api/index.js');var activity=_require2.activity;var regions=_require2.regions;

var initialRegion=regions()[0];var _require3=




require('AwesomeProject/src/widgets/index.js');var ActivitySchedule=_require3.ActivitySchedule;var BaseText=_require3.BaseText;
var Text=BaseText;
var ActivityTags=require('AwesomeProject/src/ActivityTags.js');
var ActivityView=require('AwesomeProject/src/activity/ActivityView.js');

var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

ActivityListRoute=(function(_BaseRouteMapper){_inherits(ActivityListRoute,_BaseRouteMapper);

function ActivityListRoute(navigator){_classCallCheck(this,ActivityListRoute);
_get(Object.getPrototypeOf(ActivityListRoute.prototype),'constructor',this).call(this);

this._emitter = new EventEmitter();
this._navigator = navigator;
this._filterEnabled = false;
this._region = initialRegion;}_createClass(ActivityListRoute,[{key:'on',value:


function on(){
this._emitter.addListener.apply(this._emitter,arguments);}},{key:'setRegion',value:






function setRegion(region){
this._region = region;
this._filterEnabled = false;
this._navigator.forceUpdate();}},{key:'_hideRegions',value:


function _hideRegions(){
this._filterEnabled = false;
this._navigator.forceUpdate();}},{key:'_toggleRegions',value:


function _toggleRegions(){
if(this._filterEnabled){
this._emitter.emit('regions-cancel');
this._filterEnabled = false;}else 
{
this._emitter.emit('regions-show');
this._filterEnabled = true;}


this._navigator.forceUpdate();}},{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
var styles=this.styles;
var filterIcon=_extends({},
su.size(15,20),{
marginRight:5});


return (
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
style:[styles.wrap,styles.left],
onPress:this._toggleRegions.bind(this)},
React.createElement(Image,{style:filterIcon,source:require('AwesomeProject/img/icon-annotation.png')}),
React.createElement(Text,{style:styles.navBarText},
this._filterEnabled?'取消':this._region.name)));}},{key:'title',get:function(){return '活动';}}]);return ActivityListRoute;})(BaseRouteMapper);







var ActivityList=React.createClass({displayName:'ActivityList',

mixins:[Subscribable.Mixin],

getInitialState:function(){
this.route = new ActivityListRoute(this.props.navigator);
this.activitiesObjects = {};

return {
activities:[],
filterShown:false,
region:initialRegion,
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
this.addListenerOn(this.route._emitter,'regions-show',function(){
this.setState({
filterShown:true});},

this);;

this.addListenerOn(this.route._emitter,'regions-cancel',function(){
this.setState({
filterShown:false});},

this);

this.refs.list.handleRefresh();},


_hideRegions:function(){
this.route._hideRegions();
this.setState({
filterShown:false});},



_renderSeparator:function(sectionID,rowID,adjacentRowHighlighted){
if(rowID == this.state.dataSource.getRowCount() - 1){
return null;}else 
{
return React.createElement(View,{style:{height:20,backgroundColor:'transparent'}});}},



_loadMore:function(){
if(this.state.loadingMore){
return error('Invalid operation, loading now');}


var region=this.state.region;
var lastActivity=this.state.activities[this.state.activities.length - 1];
if(!lastActivity){
return warn('no existed activity');}



log('load more data');
this.setState({
loadingMore:true});

return activity.fetch({
region:region?region.tag:null,
latestDate:lastActivity.getCreatedAt()}).
then((function(_activities){
if(_activities.length === 0){
return error('No more activities');}


var activities=this.state.activities.concat(_activities);
log('activities: ',activities.map(function(item){return item.id;}).join(','));
var dataSource=this.state.dataSource.cloneWithRows(activities);
this.setState({
dataSource:dataSource,
activities:activities});}).

bind(this),function(e){
console.trace(e);
error(e);}).
finally((function(){
this.setState({
loadingMore:false});}).

bind(this));},


_onRegionSelect:function(region){
this.route.setRegion(region);
this.state.region = region;
this._hideRegions();
this.refs.list.handleRefresh();},


_renderRegionCell:function(item){
return (
React.createElement(TouchableOpacity,{style:regionsStyle.cell,
activeOpacity:0.8,
onPress:this._onRegionSelect.bind(this,item),key:item.tag},
React.createElement(View,{style:regionsStyle.region},
React.createElement(Image,{style:regionsStyle.image,source:item.icon}),
React.createElement(Text,{style:regionsStyle.regionName},item.name))));},





_renderFooter:function(){
if(!this.state.loadingMore){
return null;}


return (
React.createElement(View,{style:indicatorStyles.wrap},
React.createElement(Text,{style:indicatorStyles.loading},'加载活动'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




_renderHeaderWrapper:function(refreshingIndicator){
if(refreshingIndicator == null){
return null;}


return (
React.createElement(View,{style:indicatorStyles.wrap},
React.createElement(Text,{style:indicatorStyles.loading},'刷新更多'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




render:function(){
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(RefreshableListView,{
style:{flex:1},
scrollEventThrottle:16,
ref:'list',
renderHeaderWrapper:this._renderHeaderWrapper,
renderSeparator:this._renderSeparator,
dataSource:this.state.dataSource,
renderFooter:this._renderFooter,
onEndReached:this._loadMore,
renderRow:this._renderRow,
loadData:this._refresh}),

this.state.filterShown && 
React.createElement(TouchableOpacity,{activeOpacity:1,style:regionsStyle.popup,onPress:this._hideRegions},
React.createElement(BlurView,{style:{flex:1},blurType:'light'},
React.createElement(View,{style:regionsStyle.grid},
React.createElement(View,{style:regionsStyle.row},
regions().slice(0,3).map(this._renderRegionCell)),

React.createElement(View,{style:regionsStyle.row},
regions().slice(3).map(this._renderRegionCell)))))));},








_refresh:function(){
return activity.fetch({
region:this.state.region}).
then((function(activities){
log('activities:',activities.map(function(item){return item.attributes;}));
var dataSource=this.state.dataSource.cloneWithRows(activities);
this.setState({
dataSource:dataSource,
activities:activities});}).

bind(this));},


refreshDetail:function(id){
this.activitiesObjects[id].forceUpdate();},


_toDetail:function(activity){
this.props.navigator.push(new ActivityDetail({
activity:activity},
this.props.navigator,this.refreshDetail));},


_renderRow:function(_activity){var _this=this;
return (
React.createElement(ActivityView,{key:'activity-' + _activity.id,
activity:_activity,
ref:function(component){return _this.activitiesObjects[_activity.id] = component;},
onPress:function(){return _this._toDetail(_activity);}}));}});




var indicatorStyles=StyleSheet.create({
wrap:{
flex:1,
paddingVertical:15,
alignItems:'center',
justifyContent:'center'},


loading:{
fontSize:9,
marginBottom:5,
color:'#777'}});



var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#f3f5f6'},


icon:_extends({},
su.size(11)),


baseText:{
color:'#303030',
fontWeight:'200'},


toolbar:{
backgroundColor:'#F5FCFF',
height:50},


listView:{
flex:1,
marginTop:44,
backgroundColor:'#f3f5f6'}});



var regionsStyle=StyleSheet.create({
popup:{
position:'absolute',
backgroundColor:'transparent',
top:0,
left:0,
right:0,
bottom:0},


grid:{
backgroundColor:'#0087fa',
padding:20,
paddingBottom:10},


row:{
flexDirection:'row',
paddingBottom:25},


cell:{
flex:1},


region:{
alignItems:'center'},


image:_extends({},
su.size(60),{
borderWidth:1,
borderColor:'#fff',
borderRadius:30,
marginBottom:10}),


regionName:{
color:'white'}});



module.exports = ActivityList;
});
__d('react-native-blur/index.js',function(global, require, module, exports) {  var BlurView=require('react-native-blur/src/BlurView.js');
var VibrancyView=require('react-native-blur/src/VibrancyView.js');

module.exports = {
BlurView:BlurView,
VibrancyView:VibrancyView};
});
__d('react-native-blur/src/BlurView.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

requireNativeComponent=

React.requireNativeComponent;var Component=React.Component;var 

BlurView=(function(_Component){_inherits(BlurView,_Component);function BlurView(){_classCallCheck(this,BlurView);_get(Object.getPrototypeOf(BlurView.prototype),'constructor',this).apply(this,arguments);}_createClass(BlurView,[{key:'render',value:
function render(){
return React.createElement(NativeBlurView,this.props);}}]);return BlurView;})(Component);



BlurView.propTypes = {
blurType:React.PropTypes.string};


var NativeBlurView=requireNativeComponent('BlurView',BlurView);

module.exports = BlurView;
});
__d('react-native-blur/src/VibrancyView.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

requireNativeComponent=

React.requireNativeComponent;var Component=React.Component;var 

VibrancyView=(function(_Component){_inherits(VibrancyView,_Component);function VibrancyView(){_classCallCheck(this,VibrancyView);_get(Object.getPrototypeOf(VibrancyView.prototype),'constructor',this).apply(this,arguments);}_createClass(VibrancyView,[{key:'render',value:
function render(){
return React.createElement(NativeVibrancyView,this.props);}}]);return VibrancyView;})(Component);



VibrancyView.propTypes = {
blurType:React.PropTypes.string};


var NativeVibrancyView=requireNativeComponent('VibrancyView',VibrancyView);

module.exports = VibrancyView;
});
__d('react-native-refreshable-listview/index.js',function(global, require, module, exports) {  module.exports = require('react-native-refreshable-listview/lib/RefreshableListView.js');
});
__d('react-native-refreshable-listview/lib/RefreshableListView.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 

PropTypes=
React.PropTypes;
var isPromise=require('is-promise/index.js');
var delay=require('react-native-refreshable-listview/lib/delay.js');
var ListView=require('react-native-refreshable-listview/lib/ListView.js');
var RefreshingIndicator=require('react-native-refreshable-listview/lib/RefreshingIndicator.js');
var ControlledRefreshableListView=require('react-native-refreshable-listview/lib/ControlledRefreshableListView.js');

var LISTVIEW_REF='listview';

var RefreshableListView=React.createClass({displayName:'RefreshableListView',
propTypes:{
loadData:PropTypes.func.isRequired,
minDisplayTime:PropTypes.number,
minBetweenTime:PropTypes.number,

refreshDescription:PropTypes.oneOfType([PropTypes.string,PropTypes.element]),
refreshingIndictatorComponent:PropTypes.oneOfType([PropTypes.func,PropTypes.element]),
minPulldownDistance:PropTypes.number,
renderHeaderWrapper:PropTypes.func},

getDefaultProps:function(){
return {
minDisplayTime:300,
minBetweenTime:300,
minPulldownDistance:40,
refreshingIndictatorComponent:RefreshingIndicator};},


getInitialState:function(){
return {
isRefreshing:false};},


handleRefresh:function(){var _this=this;
if(this.willRefresh)return;

this.willRefresh = true;

var loadingDataPromise=new Promise(function(resolve){
var loadDataReturnValue=_this.props.loadData(resolve);

if(isPromise(loadDataReturnValue)){
loadingDataPromise = loadDataReturnValue;}


Promise.all([
loadingDataPromise,
new Promise(function(resolve){return _this.setState({isRefreshing:true},resolve);}),
delay(_this.props.minDisplayTime)]).

then(function(){return delay(_this.props.minBetweenTime);}).
then(function(){
_this.willRefresh = false;
_this.setState({isRefreshing:false});});});},



getScrollResponder:function(){
return this.refs[LISTVIEW_REF].getScrollResponder();},

setNativeProps:function(props){
this.refs[LISTVIEW_REF].setNativeProps(props);},

render:function(){
return (
React.createElement(ControlledRefreshableListView,_extends({},
this.props,{
ref:LISTVIEW_REF,
onRefresh:this.handleRefresh,
isRefreshing:this.state.isRefreshing})));}});





RefreshableListView.DataSource = ListView.DataSource;
RefreshableListView.RefreshingIndicator = RefreshingIndicator;

module.exports = RefreshableListView;
});
__d('is-promise/index.js',function(global, require, module, exports) {  module.exports = isPromise;

function isPromise(obj){
return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';}
});
__d('react-native-refreshable-listview/lib/delay.js',function(global, require, module, exports) {  function delay(time){
return new Promise(function(resolve){return setTimeout(resolve,time);});}


module.exports = delay;
});
__d('react-native-refreshable-listview/lib/ListView.js',function(global, require, module, exports) {  var _require=require('react-native/Libraries/react-native/react-native.js');var ListView=_require.ListView;

module.exports = ListView;
});
__d('react-native-refreshable-listview/lib/RefreshingIndicator.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 

View=






React.View;var Text=React.Text;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var PropTypes=React.PropTypes;var StyleSheet=React.StyleSheet;var isValidElement=React.isValidElement;var createElement=React.createElement;

var RefreshingIndicator=React.createClass({displayName:'RefreshingIndicator',
propTypes:{
activityIndicatorComponent:PropTypes.oneOfType([PropTypes.func,PropTypes.element]),
stylesheet:PropTypes.object,
description:PropTypes.oneOfType([PropTypes.string,PropTypes.element])},

getDefaultProps:function(){
return {
activityIndicatorComponent:ActivityIndicatorIOS};},


renderActivityIndicator:function(style){
var activityIndicator=this.props.activityIndicatorComponent;

if(isValidElement(activityIndicator)){
return activityIndicator;}else 
{
return createElement(activityIndicator,{style:style});}},


render:function(){
var styles=Object.assign({},stylesheet,this.props.stylesheet);

return (
React.createElement(View,{style:[styles.container,styles.wrapper]},
React.createElement(View,{style:[styles.container,styles.loading,styles.content]},
React.createElement(Text,{style:styles.description},
this.props.description),

this.renderActivityIndicator(styles.activityIndicator))));}});






var stylesheet=StyleSheet.create({
container:{
flex:1,
justifyContent:'space-around',
alignItems:'center'},

wrapper:{
height:60,
marginTop:10},

content:{
marginTop:10,
height:60}});



module.exports = RefreshingIndicator;
});
__d('react-native-refreshable-listview/lib/ControlledRefreshableListView.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 

PropTypes=
React.PropTypes;
var ListView=require('react-native-refreshable-listview/lib/ListView.js');
var createElementFrom=require('react-native-refreshable-listview/lib/createElementFrom.js');
var RefreshingIndicator=require('react-native-refreshable-listview/lib/RefreshingIndicator.js');

var SCROLL_EVENT_THROTTLE=32;
var MIN_PULLDOWN_DISTANCE=40;

var LISTVIEW_REF='listview';

var ControlledRefreshableListView=React.createClass({displayName:'ControlledRefreshableListView',
propTypes:{
onRefresh:PropTypes.func.isRequired,
isRefreshing:PropTypes.bool.isRequired,
refreshDescription:PropTypes.oneOfType([PropTypes.string,PropTypes.element]),
refreshingIndictatorComponent:PropTypes.oneOfType([PropTypes.func,PropTypes.element]),
minPulldownDistance:PropTypes.number,
ignoreInertialScroll:PropTypes.bool,
scrollEventThrottle:PropTypes.number,
onScroll:PropTypes.func,
renderHeader:PropTypes.func,
renderHeaderWrapper:PropTypes.func,
onResponderGrant:PropTypes.func,
onResponderRelease:PropTypes.func},

getDefaultProps:function(){
return {
minPulldownDistance:MIN_PULLDOWN_DISTANCE,
scrollEventThrottle:SCROLL_EVENT_THROTTLE,
ignoreInertialScroll:true,
refreshingIndictatorComponent:RefreshingIndicator};},


handleScroll:function(e){
var scrollY=e.nativeEvent.contentInset.top + e.nativeEvent.contentOffset.y;

if(this.isTouching || !this.isTouching && !this.props.ignoreInertialScroll){
if(scrollY < -this.props.minPulldownDistance){
if(!this.props.isRefreshing){
if(this.props.onRefresh){
this.props.onRefresh();}}}}





this.props.onScroll && this.props.onScroll(e);},

handleResponderGrant:function(){
this.isTouching = true;
if(this.props.onResponderGrant){
this.props.onResponderGrant.apply(null,arguments);}},


handleResponderRelease:function(){
this.isTouching = false;
if(this.props.onResponderRelease){
this.props.onResponderRelease.apply(null,arguments);}},


getScrollResponder:function(){
return this.refs[LISTVIEW_REF].getScrollResponder();},

setNativeProps:function(props){
this.refs[LISTVIEW_REF].setNativeProps(props);},

renderHeader:function(){
var description=this.props.refreshDescription;

var refreshingIndictator;
if(this.props.isRefreshing){
refreshingIndictator = createElementFrom(this.props.refreshingIndictatorComponent,{description:description});}else 
{
refreshingIndictator = null;}


if(this.props.renderHeaderWrapper){
return this.props.renderHeaderWrapper(refreshingIndictator);}else 
if(this.props.renderHeader){
console.warn('renderHeader is deprecated. Use renderHeaderWrapper instead.');
return this.props.renderHeader(refreshingIndictator);}else 
{
return refreshingIndictator;}},


render:function(){
return (
React.createElement(ListView,_extends({},
this.props,{
ref:LISTVIEW_REF,
onScroll:this.handleScroll,
renderHeader:this.renderHeader,
scrollEventThrottle:this.props.scrollEventThrottle,
onResponderGrant:this.handleResponderGrant,
onResponderRelease:this.handleResponderRelease})));}});





ControlledRefreshableListView.DataSource = ListView.DataSource;
ControlledRefreshableListView.RefreshingIndicator = RefreshingIndicator;

module.exports = ControlledRefreshableListView;
});
__d('react-native-refreshable-listview/lib/createElementFrom.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 

cloneElement=


React.cloneElement;var createElement=React.createElement;var isValidElement=React.isValidElement;

function createElementFrom(elementOrClass,props){
if(isValidElement(elementOrClass)){
return cloneElement(elementOrClass,props);}else 
{
return createElement(elementOrClass,props);}}



module.exports = createElementFrom;
});
__d('AwesomeProject/src/ActivityDetail.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var AV=require('avoscloud-sdk/lib/av.js');
var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


Animated=










React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Text=React.Text;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var TouchableHighlight=React.TouchableHighlight;

var deviceWidth=Dimensions.get('window').width;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var userApi=require('AwesomeProject/src/api/index.js').user;
var ActivityMoreDetail=require('AwesomeProject/src/ActivityMoreDetail.js');
var ActivityTags=require('AwesomeProject/src/ActivityTags.js');
var ActivityDetailMixin=require('AwesomeProject/src/ActivityDetailMixin.js');
var CommentList=require('AwesomeProject/src/CommentList.js');
var ActivityApplyInfo=require('AwesomeProject/src/ActivityApplyInfo.js');
var ActivityManage=require('AwesomeProject/src/ActivityManage.js');var _require=






require('AwesomeProject/src/widgets/index.js');var Tag=_require.Tag;var UserInfo=_require.UserInfo;var ActivityRoute=_require.ActivityRoute;var ActivityPublishDate=_require.ActivityPublishDate;

var debug=require('debug/browser.js');
var log=debug('ActivityDetail:log');
var error=debug('ActivityDetail:error');

var ActivityEntries=React.createClass({displayName:'ActivityEntries',
renderCountdown:function(){
var _activity=this.props.activity;
if(_activity.getState() === activityApi.TRAVELLING){
return (
React.createElement(View,{style:styles.row},
React.createElement(Image,{style:styles.countdown,source:icons.countdown}),
React.createElement(Text,{style:styles.countdownText},'报名已结束')));}else 


{
return (
React.createElement(View,{style:styles.row},
React.createElement(Image,{style:styles.countdown,source:icons.countdown}),
React.createElement(Text,{style:styles.countdownText},'报名倒计时：',
_activity.daysLeftForApply(),'天'),

React.createElement(Text,{style:[styles.countdownText,styles.gray]},'（截止报名时间：',
moment(_activity.get('entryDeadline')).format('YYYY-MM-DD'),'）')));}},






renderSupplies:function(){
var _activity=this.props.activity;
var data={};

return (
React.createElement(View,{style:[styles.row,styles.spaceNone]},
React.createElement(View,{style:styles.numberLabel},

React.createElement(Text,{style:[styles.number,{color:stylesVar('blue-light')}]},data.haveCar || 0),
React.createElement(Text,{style:styles.smallGray},'已报名车辆')),

React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.numberLabel},

React.createElement(Text,{style:[styles.number,{color:stylesVar('orange')}]},data.needCar || 0),
React.createElement(Text,{style:styles.smallGray},'剩余车辆名额')),

React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.numberLabel},

React.createElement(Text,{style:[styles.number,{color:stylesVar('green-light')}]},data.remainSeat || 0),
React.createElement(Text,{style:styles.smallGray},'剩余座位'))));},





renderUserEntries:function(){
var _activity=this.props.activity;
var data={};

if(_activity.getState() === activityApi.PREPARING){
return (
React.createElement(View,{style:[styles.row,styles.spaceNone]},
React.createElement(View,{style:styles.note},
React.createElement(Image,{source:icons.photos,style:styles.icon}),
React.createElement(Text,{style:styles.baseText},'相册'),
React.createElement(Text,{style:styles.gray},'(',data.photos || 0,')')),

React.createElement(View,{style:[styles.separator,{height:45}]}),
React.createElement(View,{style:styles.note},
React.createElement(Image,{source:icons.journey,style:styles.icon}),
React.createElement(Text,{style:styles.baseText},'游记'),
React.createElement(Text,{style:styles.gray},'(',data.journeys || 0,')')),

React.createElement(View,{style:[styles.separator,{height:45}]}),
React.createElement(View,{style:styles.note},
React.createElement(Image,{source:icons.annotations,style:styles.icon}),
React.createElement(Text,{style:styles.baseText},'轨迹'),
React.createElement(Text,{style:styles.gray},'(',data.annotations || 0,')'))));}else 



if(_activity.getState() === activityApi.TRAVELLING){
return (
React.createElement(View,{style:[styles.row,styles.spaceNone]},
React.createElement(View,{style:styles.stopCell},
React.createElement(Image,{source:icons.photoGreen,
style:styles.iconPhotoGreen}),
React.createElement(Text,{style:styles.baseText},'相册',
React.createElement(Text,{style:styles.gray},'(',data.photos || 0,')'))),


React.createElement(View,{style:[styles.separator,{height:90}]}),
React.createElement(View,{style:styles.stopCell},
React.createElement(Image,{source:icons.journeyRed,
style:styles.iconJourneyRed}),
React.createElement(Text,{style:styles.baseText},'游记',
React.createElement(Text,{style:styles.gray},'(',data.journeys || 0,')'))),


React.createElement(View,{style:[styles.separator,{height:90}]}),
React.createElement(View,{style:styles.stopCell},
React.createElement(Image,{source:icons.annotationYellow,
style:styles.iconAnnotationYello}),
React.createElement(Text,{style:styles.baseText},'轨迹',
React.createElement(Text,{style:styles.gray},'(',data.annotations || 0,')')))));}},







render:function(){
return (
React.createElement(View,{style:styles.section},
this.renderCountdown(),
this.props.activity.getState() === activityApi.PREPARING && 
this.renderSupplies(),
this.renderUserEntries()));}});





var ActivityDetail=React.createClass({displayName:'ActivityDetail',
mixins:[ActivityDetailMixin],

getInitialState:function(){
return {
activity:this.props.activity,
data:{},
user:null,
translateY:0};},



applyHandle:function(){
var activity=this.state.activity;
this.props.navigator.push(new ActivityApply({
activity:activity}));},



applyInfoHandle:function(){
this.props.navigator.push(new ActivityApplyInfo({
id:this.props.id}));},



manageHandle:function(){
this.props.navigator.push(new ActivityManage({activity:this.state.activity}));},


editHandle:function(){},



componentWillUnmount:function(){
this._navSub.remove();},


componentDidMount:function(){
this.scrollHandleCopy = this.scrollHandle;

var navigator=this.props.navigator;
var self=this;
this._navSub = navigator.navigationContext.addListener('didfocus',function(e){
if(self.props.route !== e.data.route){
return;}


self._refresh();});


this._refresh();},


_refresh:function(){
var activity=this.state.activity;
var user,isEnter;
AV.User.currentAsync().then(function(_user){
user = _user;
return activity.isUserApplied(user);}).
then((function(applied){
isEnter = applied;
this.setState({
isEnter:isEnter,
user:user});}).

bind(this)).catch(function(e){
console.trace(e);});},



scrollHandle:function(e){
e = e.nativeEvent;
log(e.contentOffset,e.contentSize,e.layoutMeasurement);
var height=e.contentOffset.y + e.layoutMeasurement.height;
var contentHeight=e.contentSize.height;
log(height,contentHeight);
this.state.navigateToMoreDetail = height >= contentHeight;},


_onScrollRelease:function(e){
if(!this.state.navigateToMoreDetail){
return;}


this.state.navigateToMoreDetail = false;
log('push more detail');
this.refs.scroll.scrollTo(0,0);

this.props.navigator.push(new ActivityMoreDetail({
activity:this.state.activity,
refreshStar:this.props.refreshStar}));},



resetScrollHandle:function(){
this.refs.scroll.scrollTo();
this.scrollHandle = this.scrollHandleCopy;},


render:function(){
if(!this.state.user){
return null;}


var data=this.state.data;
var _activity=this.state.activity;
var creator=_activity.get('createBy');

var creatorAvatar=icons.avatarPlaceholder;

var isSponsor=this.state.user.id === creator.id;

return (
React.createElement(View,{style:styles.container},
React.createElement(Animated.View,{style:[styles.partContainer,{transform:[{translateY:this.state.translateY}]}]},
React.createElement(ScrollView,{style:styles.scrollContainer,
ref:'scroll',
onScroll:this.scrollHandle,
scrollEventThrottle:16,
onResponderRelease:this._onScrollRelease,
onScrollAnimationEnd:this.scrollEndHandle},

React.createElement(Image,{source:{uri:_activity.getCover()},
style:[styles.banner,this.state.bannerStyle]},
React.createElement(UserInfo,{
style:styles.info,
username:creator.get('username'),
publishDate:_activity.getCreatedAt(),
avatar:creatorAvatar}),
isSponsor && 
React.createElement(View,{style:styles.manageInfo},
React.createElement(TouchableOpacity,{
onPress:this.editHandle,
style:styles.manageView},

React.createElement(Image,{source:icons.editWhite,
style:styles.iconEditWhite}),
React.createElement(Text,{style:[styles.manageText,styles.editText]},'编辑')),

React.createElement(TouchableOpacity,{
onPress:this.manageHandle,
style:styles.manageView},
React.createElement(Image,{source:icons.manageWhite,
style:styles.iconManageWhite}),
React.createElement(Text,{style:styles.manageText},'管理')))),





React.createElement(View,{style:[styles.section,styles.detail]},
React.createElement(View,{style:[styles.row,{paddingVertical:12}]},
React.createElement(Text,{style:styles.title},_activity.get('title'))),

React.createElement(View,{style:styles.row},
React.createElement(ActivityRoute,{route:_activity.get('route')})),

React.createElement(View,{style:styles.row},
React.createElement(ActivityPublishDate,{data:_activity})),

React.createElement(ActivityTags,{style:styles.tags,data:_activity,
tagStyle:styles.tag,showState:false})),


React.createElement(ActivityEntries,{activity:this.state.activity}),

React.createElement(View,{style:styles.moreRow},
React.createElement(Image,{source:icons.moreDownGray,
style:styles.moreDownGray})),

React.createElement(View,{style:styles.moreRow},
React.createElement(View,{style:styles.moreLine}),
React.createElement(View,{style:styles.moreTextView},
React.createElement(Text,{style:styles.moreText},'继续拖动，查看详情')),

React.createElement(View,{style:styles.moreLine})))),




this.renderBottom()));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#f3f5f6'},


partContainer:{
flex:1,
backgroundColor:'#f3f5f6'},


scrollContainer:{
position:'absolute',
bottom:60,
left:0,
right:0,
top:0},


tag:{
borderColor:stylesVar('green'),
color:stylesVar('green')},


baseText:{
color:stylesVar('dark'),
fontWeight:'200',
fontSize:15},


countdownText:{
color:stylesVar('dark'),
fontWeight:'200',
fontSize:12},


navbar:{
position:'absolute',
backgroundColor:'transparent',
top:20,
left:0,
right:0,
height:44},


navbarText:{
fontSize:10,
color:stylesVar('white'),
marginRight:20,
marginLeft:5},


navbarLeft:{
position:'absolute',
left:0,
height:44,
flexDirection:'row',
alignItems:'center'},


navBarLeftButton:_extends({},
su.size(17,15),{
marginLeft:10}),


banner:{
height:180,
width:deviceWidth},


info:{
position:'absolute',
left:15,
bottom:15},


manageInfo:{
position:'absolute',
right:15,
bottom:15,
backgroundColor:'transparent',
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
height:30},


manageView:{
flexDirection:'row',
justifyContent:'center',
alignItems:'center'},


manageText:{
color:stylesVar('white'),
fontSize:14},


iconEditWhite:_extends({},
su.size(14),{
marginRight:5}),


iconManageWhite:_extends({},
su.size(17),{
marginRight:5}),


editText:{
marginRight:15},


section:{
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
backgroundColor:stylesVar('white'),
marginBottom:20},


detail:{
borderTopWidth:0,
paddingLeft:8},


row:{
flexDirection:'row',
alignItems:'center',
paddingVertical:8,
paddingLeft:8,
borderBottomWidth:1 / PixelRatio.get(),
borderBottomColor:'#f3f5f6'},


spaceNone:{
paddingLeft:0,
paddingVertical:0},


title:{
color:'#030303',
fontSize:20},


tags:{
marginLeft:8,
marginVertical:8},


countdown:_extends({
marginLeft:8,
marginRight:10},
su.size(9,12),{
resizeMode:'contain'}),


gray:{
color:stylesVar('dark-mid')},


numberLabel:{
flex:1,
alignItems:'center'},


separator:{
width:1 / PixelRatio.get(),
backgroundColor:'#f3f5f6',
height:90},


number:{
fontSize:40,
marginBottom:8},


smallGray:{
fontSize:10,
color:stylesVar('dark-light-slight')},


note:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


stopCell:{
flex:1,
height:90,
alignItems:'center',
justifyContent:'center',
paddingTop:17},


iconPhotoGreen:_extends({},
su.size(27,30),{
marginBottom:12}),


iconJourneyRed:_extends({},
su.size(22,30),{
marginBottom:12}),


iconAnnotationYello:_extends({},
su.size(23,30),{
marginBottom:12}),


icon:_extends({},
su.size(24),{
marginRight:5}),


moreRow:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
paddingLeft:15,
paddingRight:15,
marginBottom:8},


moreDownGray:_extends({
marginTop:25},
su.size(14)),


moreTextView:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


moreText:{
fontSize:10,
color:stylesVar('dark-mid')},


moreLine:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityDetailRoute=(function(_BaseRouteMapper){_inherits(ActivityDetailRoute,_BaseRouteMapper);
function ActivityDetailRoute(data,navigator,refreshDetail){_classCallCheck(this,ActivityDetailRoute);
_get(Object.getPrototypeOf(ActivityDetailRoute.prototype),'constructor',this).call(this);

this.navigator = navigator;
this.refreshDetail = refreshDetail;

this.activity = data.activity;
this.stars = this.activity.getStars();
this.starred = this.activity.getStarred();}_createClass(ActivityDetailRoute,[{key:'_toggleStar',value:


function _toggleStar(){
if(!this.starred){
userApi.starActivity(this.activity).then((function(){
this.stars++;
this.activity.setStars(this.stars);
this.starred = true;
this.activity.setStarred(true);
this.navigator.forceUpdate();}).
bind(this),function(e){
console.trace(e);});}else 

{
userApi.unstarActivity(this.activity).then((function(){
this.stars--;
this.activity.setStars(this.stars);
this.starred = false;
this.activity.setStarred(false);
this.navigator.forceUpdate();}).
bind(this),function(e){
console.trace(e);});}}},{key:'refreshStar',value:




function refreshStar(navigator){
this.stars = this.activity.getStars();
this.starred = this.activity.getStarred();
navigator.forceUpdate();}},{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
function callback(){
this.refreshDetail && this.refreshDetail(this.activity.id);
navigator.pop();}

return this._renderBackButton(route,navigator,index,navState,callback.bind(this));}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _styles=



this.styles;var wrap=_styles.wrap;var navBarRightButton=_styles.navBarRightButton;

var styles=StyleSheet.create({
iconComments:_extends({},
su.size(17)),


iconStars:_extends({},
su.size(18,17)),


iconShare:_extends({},
su.size(14,20)),


navbarRight:{
height:44,
marginRight:5,
flexDirection:'row',
justifyContent:'flex-end',
alignItems:'center'},


navbarText:{
fontSize:10,
color:stylesVar('white'),
marginRight:15,
marginLeft:5}});



var starIcon=this.starred?icons.star:icons.starsOpposite;

return (
React.createElement(View,{style:[wrap,navBarRightButton]},
React.createElement(View,{style:styles.navbarRight},
React.createElement(TouchableOpacity,{activeOpacity:0.8,
onPress:this.commentHandle.bind(this,navigator)},
React.createElement(Image,{style:styles.iconComments,
source:icons.comments})),

React.createElement(Text,{style:styles.navbarText},'127'),

React.createElement(TouchableOpacity,{activeOpacity:0.8,
onPress:this._toggleStar.bind(this)},
React.createElement(Image,{style:styles.iconStars,source:starIcon})),

React.createElement(Text,{style:styles.navbarText},this.stars),

React.createElement(Image,{style:styles.iconShare,source:icons.share}))));}},{key:'commentHandle',value:





function commentHandle(navigator){
navigator.push(new CommentList({
id:this.activity.id,
count:127}));}},{key:'renderScene',value:







function renderScene(navigator){
return React.createElement(ActivityDetail,{activity:this.activity,
refreshStar:this.refreshStar.bind(this,navigator),
route:this});}},{key:'style',get:function(){return this.styles.navBarTransparent;}}]);return ActivityDetailRoute;})(BaseRouteMapper);



module.exports = ActivityDetailRoute;
});
__d('AwesomeProject/src/stylesVar.js',function(global, require, module, exports) {  var config={
'brand-primary':'#0087fa',

'bg-gray':'#f4f5f6',
'bg-primary':'#0087fa',

'dark':'#303030',
'dark-light-little':'#737373',
'dark-light-slight':'#9c9b97',
'dark-mid':'#96969b',
'dark-mid-light':'#d9d9d9',
'dark-light':'#dbe0e3',
'dark-lighter':'#e7eaeb',

'white':'#ffffff',
'green':'#34be9a',
'green-light':'#92c056',
'blue':'#0087fa',
'blue-light':'#61a9da',
'red':'#ee5a2f',
'orange':'#f2b658'};


module.exports = function(key){
return config[key];};
});
__d('AwesomeProject/src/ActivityMoreDetail.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var AV=require('avoscloud-sdk/lib/av.js');
var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


Animated=










React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Text=React.Text;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var TouchableHighlight=React.TouchableHighlight;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var fetchMoreDetail=require('AwesomeProject/src/api/index.js').activity.fetchMoreDetail;
var Tab=require('AwesomeProject/src/widgets/Tab.js');
var userApi=require('AwesomeProject/src/api/index.js').user;
var CommentList=require('AwesomeProject/src/CommentList.js');var _require=





require('AwesomeProject/src/widgets/index.js');var UserInfo=_require.UserInfo;var ActivityRoute=_require.ActivityRoute;var ActivityPublishDate=_require.ActivityPublishDate;

var ActivityDetailMixin=require('AwesomeProject/src/ActivityDetailMixin.js');

var ActivityMoreDetail=React.createClass({displayName:'ActivityMoreDetail',

mixins:[ActivityDetailMixin],

getInitialState:function(){
return {
activity:this.props.activity,
datas:{},
translateY:0,
tab:0};},



componentWillUnmount:function(){
this._navSub.remove();},


componentDidMount:function(){
this.scrollHandleCopy = this.scrollHandle;

var navigator=this.props.navigator;
var self=this;
this._navSub = navigator.navigationContext.addListener('didfocus',function(e){
if(self.props.route !== e.data.route){
return;}


self._refresh();});


this._refresh();},


_refresh:function(){
var activity=this.state.activity;
var user,isEnter;
AV.User.currentAsync().then(function(_user){
user = _user;
return activity.isUserApplied(user);}).
then((function(applied){
isEnter = applied;
this.setState({
isEnter:isEnter,
user:user});}).

bind(this)).catch(function(e){
console.trace(e);});},



scrollHandle:function(e){
e = e.nativeEvent;
var height=e.contentOffset.y + e.layoutMeasurement.height;
var contentHeight=e.contentSize.height;
console.log(height);
if(height >= contentHeight){
this.setState({
translateY:-contentHeight});

console.log('scroll to bottom');}},



renderContent:function(){
var _activity=this.props.activity;
var datas=this.state.datas;
var tab=this.state.tab;

if(tab === 0){

return (
React.createElement(View,null,
React.createElement(Image,{source:icons.activityCoverPlaceholder,
style:styles.banner}),
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.text},_activity.get('route')))));}else 



if(tab === 1){
return (
React.createElement(View,null,
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.text},_activity.get('routeDesc')))));}else 



if(tab === 3){
return (
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.text},_activity.get('riskPrompt'))));}else 


if(tab === 2){
return (
React.createElement(View,null,
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.titleText},'参与者要求'),
React.createElement(Text,{style:styles.text},_activity.get('partnerRequirements'))),

React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.titleText},'装备要求'),
React.createElement(Text,{style:styles.text},_activity.get('equipmentRequirements'))),

React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.contentRow},
React.createElement(Text,{style:styles.titleText},'费用说明'),
React.createElement(Text,{style:styles.text},_activity.get('costDesc')))));}},






render:function(){
if(!this.state.user){
return null;}


var isSponsor=this.props.isSponsor;
var data=this.state.data;

var callbacks=_.range(4).map(function(tab){var _this=this;
return function(){return _this.setState({tab:tab});};},
this);

return (
React.createElement(View,{style:styles.container},
React.createElement(Animated.View,{style:[styles.partContainer,{transform:[{translateY:this.state.translateY}]}]},
React.createElement(ScrollView,{style:styles.scrollContainer},
React.createElement(Tab,{datas:['路线说明','详细行程','注意事项','风险提示'],
callbacks:callbacks,
activeTab:this.state.tab}),
this.renderContent())),


this.renderBottom()));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#f3f5f6',
paddingTop:64},


partContainer:{
flex:1,
backgroundColor:'#f3f5f6'},


scrollContainer:{
position:'absolute',
bottom:60,
left:0,
right:0,
top:0},


navbar:{
position:'absolute',
backgroundColor:'transparent',
top:20,
left:0,
right:0,
height:44},


navbarText:{
fontSize:10,
color:stylesVar('white'),
marginRight:20,
marginLeft:5},


navbarLeft:{
position:'absolute',
left:0,
height:44,
flexDirection:'row',
alignItems:'center'},


navBarLeftButton:_extends({},
su.size(17,15),{
marginLeft:10}),


banner:{
height:180,
flex:1,
width:deviceWidth},


bottomBar:{
position:'absolute',
left:0,
right:0,
bottom:0,
flexDirection:'row',
backgroundColor:'transparent'},


information:{
flex:1,
height:60,
alignItems:'center',
justifyContent:'center',
backgroundColor:stylesVar('green')},


iconInformation:{
width:22,
height:22,
marginBottom:5},


informationText:{
color:stylesVar('white'),
fontSize:10},


blueLight:{
backgroundColor:stylesVar('blue-light')},


iconActivityCircle:{
width:22,
height:22,
marginBottom:5},


green:{
backgroundColor:stylesVar('green')},


iconPictureTrans:_extends({},
su.size(22,16),{
marginBottom:5}),


red:{
backgroundColor:stylesVar('red')},


iconJourneyTrans:_extends({},
su.size(16,18),{
marginBottom:5}),


orange:{
backgroundColor:stylesVar('orange')},


iconAnnotationTrans:_extends({},
su.size(15,20),{
marginBottom:5}),


apply:{
flex:3,
height:60,
alignItems:'center',
justifyContent:'center',
backgroundColor:stylesVar('blue')},


applyText:{
fontSize:20,
color:stylesVar('white')},


contentRow:{
flex:1,
paddingHorizontal:15,
justifyContent:'center',
marginBottom:10},


text:{
color:stylesVar('dark-light-little'),
lineHeight:25,
fontSize:13,
fontWeight:'100'},


titleText:{
color:stylesVar('dark'),
lineHeight:30,
fontSize:16,
fontWeight:'300'},


separator:{
flex:1,
width:deviceWidth,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityMoreDetailRoute=(function(_BaseRouteMapper){_inherits(ActivityMoreDetailRoute,_BaseRouteMapper);
function ActivityMoreDetailRoute(data){_classCallCheck(this,ActivityMoreDetailRoute);
_get(Object.getPrototypeOf(ActivityMoreDetailRoute.prototype),'constructor',this).call(this);

this.activity = data.activity;
this.stars = this.activity.getStars();
this.starred = this.activity.getStarred();
this.refreshStar = data.refreshStar;}_createClass(ActivityMoreDetailRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState,(function(){
this.refreshStar && this.refreshStar();
navigator.pop();}).
bind(this));}},{key:'_toggleStar',value:


function _toggleStar(navigator){
if(!this.starred){
userApi.starActivity(this.activity).then((function(){
this.stars++;
this.activity.setStars(this.stars);
this.starred = true;
this.activity.setStarred(true);
navigator.forceUpdate();}).
bind(this),function(e){
console.trace(e);});}else 

{
userApi.unstarActivity(this.activity).then((function(){
this.stars--;
this.activity.setStars(this.stars);
this.starred = false;
this.activity.setStarred(false);
navigator.forceUpdate();}).
bind(this),function(e){
console.trace(e);});}}},{key:'renderRightButton',value:




function renderRightButton(route,navigator,index,navState){
var navBarRightButton=this.styles.navBarRightButton;
var styles=StyleSheet.create({
iconComments:_extends({},
su.size(17)),


iconStars:_extends({},
su.size(18,17)),


iconShare:_extends({},
su.size(14,20)),


navbarRight:{
height:44,
marginRight:5,
flexDirection:'row',
justifyContent:'flex-end',
alignItems:'center'},


navbarText:{
fontSize:10,
color:stylesVar('white'),
marginRight:15,
marginLeft:5}});


var starIcon=this.starred?icons.star:icons.starsOpposite;

return (
React.createElement(View,{style:navBarRightButton},
React.createElement(View,{style:styles.navbarRight},
React.createElement(TouchableOpacity,{activeOpacity:1,onPress:this.commentHandle.bind(this,navigator)},
React.createElement(Image,{style:styles.iconComments,source:icons.comments})),

React.createElement(Text,{style:styles.navbarText},'127'),

React.createElement(TouchableOpacity,{activeOpacity:0.8,onPress:this._toggleStar.bind(this,navigator)},
React.createElement(Image,{style:styles.iconStars,source:starIcon})),

React.createElement(Text,{style:styles.navbarText},this.stars),

React.createElement(Image,{style:styles.iconShare,source:icons.share}))));}},{key:'commentHandle',value:





function commentHandle(navigator){
navigator.push(new CommentList({
id:this.id,
count:127}));}},{key:'renderScene',value:



function renderScene(){
return React.createElement(ActivityMoreDetail,{activity:this.activity,route:this});}}]);return ActivityMoreDetailRoute;})(BaseRouteMapper);



module.exports = ActivityMoreDetailRoute;
});
__d('AwesomeProject/src/widgets/Tab.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


View=




React.View;var Text=React.Text;var TouchableOpacity=React.TouchableOpacity;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var Tab=React.createClass({displayName:'Tab',
getInitialState:function(){
return {
activeTab:this.props.activeTab || 0};},



pressHandle:function(index){
if(this.state.activeTab === index){
return false;}


this.setState({
activeTab:index},
(function(){
var func=this.props.callbacks && this.props.callbacks[index];
if(typeof func === 'function'){
func(index);}}).

bind(this));},


componentWillReceiveProps:function(props){
if(props.activeTab !== this.state.activeTab){
this.setState({
activeTab:props.activeTab});}},




render:function(){
var activeTab=parseInt(this.state.activeTab);

return (
React.createElement(View,{style:[styles.tabRow,this.props.styles && this.props.styles.tabView]},
this.props.datas && this.props.datas.map((function(item,index){
if(activeTab === index){
return (
React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:this.pressHandle.bind(this,index),
style:[styles.tabView,styles.tabViewActive]},
React.createElement(Text,{style:[styles.tabText,this.props.styles && this.props.styles.tabTextFont,styles.tabTextActive]},item)));}else 


{
return (
React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:this.pressHandle.bind(this,index),
style:styles.tabView},
React.createElement(Text,{style:[styles.tabText,this.props.styles && this.props.styles.tabTextFont]},item)));}}).



bind(this))));}});





var styles=StyleSheet.create({
tabRow:{
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
paddingHorizontal:15,
borderBottomWidth:1 / PixelRatio.get(),
borderBottomColor:stylesVar('dark-light'),
backgroundColor:'#fff'},


tabView:{
flex:1,
alignItems:'center',
justifyContent:'center',
height:44},


tabText:{
color:stylesVar('dark-light-little'),
fontSize:10},


tabViewActive:{
borderBottomWidth:2,
borderBottomColor:stylesVar('blue'),
marginBottom:-1 / PixelRatio.get()},


tabTextActive:{
color:stylesVar('blue')}});



module.exports = Tab;
});
__d('AwesomeProject/src/CommentList.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=








React.View;var Text=React.Text;var Image=React.Image;var ListView=React.ListView;var TouchableOpacity=React.TouchableOpacity;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;

var su=require('AwesomeProject/src/styleUtils.js');
var RefreshableListView=require('react-native-refreshable-listview/index.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var LightBox=require('AwesomeProject/src/LightBox.js');
var AddComment=require('AwesomeProject/src/AddComment.js');
var icons=require('AwesomeProject/src/icons.js');

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var iconImageSize=(deviceWidth - 110) / 3;

var CommentList=React.createClass({displayName:'CommentList',
getInitialState:function(){
return {
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
activityApi.fetchComments({
id:this.props.id}).
then((function(datas){
datas = this.state.dataSource.cloneWithRows(datas);

this.setState({
dataSource:datas});}).

bind(this),function(e){
console.log(e);});},



_renderHeaderWrapper:function(refreshingIndicator){
if(refreshingIndicator == null){
return null;}


var styles={
wrap:{
flex:1,
paddingVertical:15,
alignItems:'center',
justifyContent:'center'},


loading:{
fontSize:9,
marginBottom:5,
color:'#777'}};



return (
React.createElement(View,{style:styles.wrap},
React.createElement(Text,{style:styles.loading},'刷新活动'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




_renderSeparator:function(sectionID,rowID,adjacentRowHighlighted){
var styles={
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light'),
marginLeft:50};

if(rowID == this.state.dataSource.getRowCount() - 1){
return null;}else 
{
return React.createElement(View,{style:styles});}},



_loadMore:function(){},



_renderRow:function(data){
return (
React.createElement(CommentItem,{data:data,navigator:this.props.navigator,fresh:this._onRefresh}));},



_onRefresh:function(){},



addComment:function(){
this.props.navigator.push(new AddComment({
id:this.props.id}));},



render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(RefreshableListView,{
renderHeaderWrapper:this._renderHeaderWrapper,
renderSeparator:this._renderSeparator,
dataSource:this.state.dataSource,
onEndReached:this._loadMore,
renderRow:this._renderRow,
loadData:this._onRefresh}),

React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,{onPress:this.addComment},
React.createElement(Text,{style:styles.bottomText},'发表评论')))));}});







var CommentItem=React.createClass({displayName:'CommentItem',
starHandle:function(){

this.props.fresh();},


renderLikeImage:function(){
var data=this.props.data;
if(data.isLike === '1'){
return React.createElement(Image,{style:styles.starIcon,source:icons.likeRed});}else 
{
return (
React.createElement(TouchableOpacity,{onPress:this.starHandle},
React.createElement(Image,{style:styles.starIcon,source:icons.likeGray})));}},





render:function(){
var data=this.props.data;

return (
React.createElement(View,{style:styles.row},
React.createElement(View,{style:styles.user},
React.createElement(Image,{source:data.user && data.user.avatar?{uri:data.user.avatar}:icons.avatarPlaceholder,
style:styles.avatar}),
React.createElement(View,{style:styles.username},
React.createElement(Text,{style:styles.usernameText},data.user && data.user.username)),

React.createElement(Text,{style:styles.starText},data.star),
this.renderLikeImage()),

React.createElement(Text,{style:styles.info},data.info),
React.createElement(LightBox,{imagesArray:data.images,navigator:this.props.navigator}),
data.images.length !== 0 && React.createElement(View,{style:styles.separator}),
React.createElement(Text,{style:styles.publishDate},data.publishDate)));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('white'),
marginTop:64},


separator:{
flex:1,
height:11},


row:{
flex:1,
marginHorizontal:15,
marginVertical:15,
flexDirection:'column'},


user:{
flex:1,
flexDirection:'row',
justifyContent:'center',
alignItems:'center',
height:25},


avatar:_extends({},
su.size(25,25),{
borderRadius:12.5}),


username:{
flex:1,
marginLeft:10,
height:25,
justifyContent:'center'},


usernameText:{
color:stylesVar('blue'),
fontSize:15,
fontWeight:'100'},


starText:{
fontWeight:'100',
fontSize:11,
color:stylesVar('dark-mid'),
marginRight:5},


starIcon:_extends({},
su.size(12)),


navBarLeftButton:_extends({},
su.size(17,15),{
marginLeft:10}),


info:{
flex:1,
flexDirection:'column',
marginLeft:35,
marginBottom:11,
color:stylesVar('dark'),
fontSize:15,
lineHeight:18},


publishDate:{
flex:1,
flexDirection:'column',
marginLeft:35,
justifyContent:'center',
color:stylesVar('dark-mid-light'),
fontWeight:'100',
fontSize:11},


bottomBar:{
position:'absolute',
bottom:0,
right:0,
left:0,
height:50,
backgroundColor:stylesVar('white'),
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
flex:1,
flexDirection:'row',
justifyContent:'center',
alignItems:'center'},


bottomText:{
color:stylesVar('blue'),
fontSize:16,
fontWeight:'100'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

CommentListRoute=(function(_BaseRouteMapper){_inherits(CommentListRoute,_BaseRouteMapper);
function CommentListRoute(data){_classCallCheck(this,CommentListRoute);
_get(Object.getPrototypeOf(CommentListRoute.prototype),'constructor',this).call(this);

this.id = data.id;
this.count = data.count;}_createClass(CommentListRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:










function renderScene(navigator){
return React.createElement(CommentList,{id:this.id,navigator:navigator});}},{key:'style',get:function(){return this.styles.navBar;}},{key:'title',get:function(){return '评论(' + this.count + ')';}}]);return CommentListRoute;})(BaseRouteMapper);



module.exports = CommentListRoute;
});
__d('AwesomeProject/src/LightBox.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


Text=






React.Text;var Image=React.Image;var View=React.View;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var TouchableOpacity=React.TouchableOpacity;var Animated=React.Animated;

var su=require('AwesomeProject/src/styleUtils.js');
var LightBoxOverlay=require('AwesomeProject/src/LightBoxOverlay.js');

var deviceWidth=Dimensions.get('window').width;
var iconImageSize=(deviceWidth - 110) / 3;

var LightBox=React.createClass({displayName:'LightBox',
getOverlayProps:function(index){
return {
imagesArray:this.props.imagesArray,
onClose:this.onClose,
index:index};},



open:function(index){var _this=this;
this.setState({
isAnimating:true},
function(){
_this.props.navigator.push(new LightBoxOverlay(_extends({},_this.getOverlayProps(index))));});},



onClose:function(){
this.props.navigator.pop();},


render:function(){
var imagesArray=this.props.imagesArray;
return (
React.createElement(Animated.View,{style:styles.images},
imagesArray && imagesArray.length !== 0 && imagesArray.map((function(item,index){
return (
React.createElement(TouchableOpacity,{activeOpacity:1,style:styles.iconImage,onPress:this.open.bind(this,index)},
React.createElement(Image,{style:styles.iconImage,source:{uri:item},resizeMode:'cover'})));}).


bind(this))));}});





var styles=StyleSheet.create({
images:{
flex:1,
flexDirection:'row',
marginLeft:35},


iconImage:_extends({},
su.size(iconImageSize),{
marginRight:5,
overflow:'hidden'})});



module.exports = LightBox;
});
__d('AwesomeProject/src/LightBoxOverlay.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var Swiper=require('react-native-swiper/dist/index.js');var 


Image=




React.Image;var View=React.View;var Dimensions=React.Dimensions;var StatusBarIOS=React.StatusBarIOS;var StyleSheet=React.StyleSheet;

var WINDOW_WIDTH=Dimensions.get('window').width;
var WINDOW_HEIGHT=Dimensions.get('window').height;

var LightBoxOverlay=React.createClass({displayName:'LightBoxOverlay',
close:function(){
this.props.onClose();},


render:function(){var _props=



this.props;var imagesArray=_props.imagesArray;var index=_props.index;

return (
React.createElement(Swiper,{style:styles.wrapper,
dot:React.createElement(View,{style:{backgroundColor:'rgba(255,255,255,.3)',width:13,height:13,borderRadius:7,marginLeft:7,marginRight:7}}),
activeDot:React.createElement(View,{style:{backgroundColor:'#fff',width:13,height:13,borderRadius:7,marginLeft:7,marginRight:7}}),
paginationStyle:{bottom:70},
index:index,
loop:false},
imagesArray && imagesArray.length !== 0 && imagesArray.map((function(item){
return React.createElement(View,{style:styles.slide},React.createElement(Image,{style:styles.images,source:{uri:item},resizeMode:'contain'}));}).
bind(this))));}});





var styles=StyleSheet.create({
wrapper:{},



images:{
flex:1},


slide:{
flex:1,
backgroundColor:'#000'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

LightBoxOverlayRoute=(function(_BaseRouteMapper){_inherits(LightBoxOverlayRoute,_BaseRouteMapper);
function LightBoxOverlayRoute(data){_classCallCheck(this,LightBoxOverlayRoute);
_get(Object.getPrototypeOf(LightBoxOverlayRoute.prototype),'constructor',this).call(this);
this.data = data;}_createClass(LightBoxOverlayRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:






function renderScene(){
return React.createElement(LightBoxOverlay,this.data);}},{key:'style',get:function(){return this.styles.navBarTransparent;}}]);return LightBoxOverlayRoute;})(BaseRouteMapper);



module.exports = LightBoxOverlayRoute;
});
__d('react-native-swiper/dist/index.js',function(global, require, module, exports) {  'use strict';





Object.defineProperty(exports,'__esModule',{
value:true});


var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _reactNative=require('react-native/Libraries/react-native/react-native.js');

var _reactNative2=_interopRequireDefault(_reactNative);







var _reactTimerMixin=require('react-timer-mixin/TimerMixin.js');

var _reactTimerMixin2=_interopRequireDefault(_reactTimerMixin);

var _Dimensions$get=_reactNative.Dimensions.get('window');

var width=_Dimensions$get.width;
var height=_Dimensions$get.height;





var styles=_reactNative.StyleSheet.create({
container:{
backgroundColor:'transparent',
position:'relative'},


wrapper:{
backgroundColor:'transparent'},


slide:{
backgroundColor:'transparent'},


pagination_x:{
position:'absolute',
bottom:25,
left:0,
right:0,
flexDirection:'row',
flex:1,
justifyContent:'center',
alignItems:'center',
backgroundColor:'transparent'},


pagination_y:{
position:'absolute',
right:15,
top:0,
bottom:0,
flexDirection:'column',
flex:1,
justifyContent:'center',
alignItems:'center',
backgroundColor:'transparent'},


title:{
height:30,
justifyContent:'center',
position:'absolute',
paddingLeft:10,
bottom:-30,
left:0,
flexWrap:'nowrap',
width:250,
backgroundColor:'transparent'},


buttonWrapper:{
backgroundColor:'transparent',
flexDirection:'row',
position:'absolute',
top:0,
left:0,
flex:1,
paddingHorizontal:10,
paddingVertical:10,
justifyContent:'space-between',
alignItems:'center'},


buttonText:{
fontSize:50,
color:'#007aff',
fontFamily:'Arial'}});



exports['default'] = _reactNative2['default'].createClass({
displayName:'index',





propTypes:{
horizontal:_reactNative2['default'].PropTypes.bool,
children:_reactNative2['default'].PropTypes.node.isRequired,
style:_reactNative.View.propTypes.style,
pagingEnabled:_reactNative2['default'].PropTypes.bool,
showsHorizontalScrollIndicator:_reactNative2['default'].PropTypes.bool,
showsVerticalScrollIndicator:_reactNative2['default'].PropTypes.bool,
bounces:_reactNative2['default'].PropTypes.bool,
scrollsToTop:_reactNative2['default'].PropTypes.bool,
removeClippedSubviews:_reactNative2['default'].PropTypes.bool,
automaticallyAdjustContentInsets:_reactNative2['default'].PropTypes.bool,
showsPagination:_reactNative2['default'].PropTypes.bool,
showsButtons:_reactNative2['default'].PropTypes.bool,
loop:_reactNative2['default'].PropTypes.bool,
autoplay:_reactNative2['default'].PropTypes.bool,
autoplayTimeout:_reactNative2['default'].PropTypes.number,
autoplayDirection:_reactNative2['default'].PropTypes.bool,
index:_reactNative2['default'].PropTypes.number,
renderPagination:_reactNative2['default'].PropTypes.func},


mixins:[_reactTimerMixin2['default']],






getDefaultProps:function getDefaultProps(){
return {
horizontal:true,
pagingEnabled:true,
showsHorizontalScrollIndicator:false,
showsVerticalScrollIndicator:false,
bounces:false,
scrollsToTop:false,
removeClippedSubviews:true,
automaticallyAdjustContentInsets:false,
showsPagination:true,
showsButtons:false,
loop:true,
autoplay:false,
autoplayTimeout:2.5,
autoplayDirection:true,
index:0};},







getInitialState:function getInitialState(){
var props=this.props;

var initState={
isScrolling:false,
autoplayEnd:false};



initState.dir = props.horizontal == false?'y':'x';
initState.width = props.width || width;
initState.height = props.height || height;
initState.offset = {};

initState.total = props.children?
props.children.length || 1:
0;

initState.index = initState.total > 1?
Math.min(this.props.index,initState.total - 1):
0;

if(initState.total > 1){
var setup=this.props.loop?1:initState.index;
initState.offset[initState.dir] = initState.dir == 'y'?
initState.height * setup:
initState.width * setup;}


return initState;},






autoplayTimer:null,

componentWillMount:function componentWillMount(){
this.props = this.injectState(this.props);},


componentWillReceiveProps:function componentWillReceiveProps(newProps){
var newState={};

newState.total = newProps.children?newProps.children.length || 1:0;

newState.index = newState.total > 1?Math.min(this.props.index,newState.total - 1):0;

newState.offset = {};

if(newState.total > 1){
var setup=this.props.loop?1:newState.index;
newState.offset[this.state.dir] = this.state.dir == 'y'?this.state.height * setup:this.state.width * setup;}


this.setState(newState);},


componentDidMount:function componentDidMount(){
this.autoplay();},





autoplay:function autoplay(){
var _this=this;

if(!this.props.autoplay || this.state.isScrolling || this.state.autoplayEnd)return;

clearTimeout(this.autoplayTimer);

this.autoplayTimer = this.setTimeout(function(){
if(!_this.props.loop && (_this.props.autoplayDirection?_this.state.index == _this.state.total - 1:_this.state.index == 0))return _this.setState({
autoplayEnd:true});

_this.scrollTo(_this.props.autoplayDirection?1:-1);},
this.props.autoplayTimeout * 1000);},






onScrollBegin:function onScrollBegin(e){
var _this2=this;


this.setState({
isScrolling:true});


this.setTimeout(function(){
_this2.props.onScrollBeginDrag && _this2.props.onScrollBeginDrag(e,_this2.state,_this2);});},







onScrollEnd:function onScrollEnd(e){
var _this3=this;


this.setState({
isScrolling:false});


this.updateIndex(e.nativeEvent.contentOffset,this.state.dir);



this.setTimeout(function(){
_this3.autoplay();


_this3.props.onMomentumScrollEnd && _this3.props.onMomentumScrollEnd(e,_this3.state,_this3);});},








updateIndex:function updateIndex(offset,dir){

var state=this.state;
var index=state.index;
var diff=offset[dir] - state.offset[dir];
var step=dir == 'x'?state.width:state.height;


if(!diff)return;



index = index + diff / step;

if(this.props.loop){
if(index <= -1){
index = state.total - 1;
offset[dir] = step * state.total;}else 
if(index >= state.total){
index = 0;
offset[dir] = step;}}



this.setState({
index:index,
offset:offset});},







scrollTo:function scrollTo(index){
if(this.state.isScrolling)return;
var state=this.state;
var diff=(this.props.loop?1:0) + index + this.state.index;
var x=0;
var y=0;
if(state.dir == 'x')x = diff * state.width;
if(state.dir == 'y')y = diff * state.height;
this.refs.scrollView && this.refs.scrollView.scrollTo(y,x);


this.setState({
isScrolling:true,
autoplayEnd:false});},







renderPagination:function renderPagination(){


if(this.state.total <= 1)return null;

var dots=[];
for(var i=0;i < this.state.total;i++) {
dots.push(i === this.state.index?this.props.activeDot || _reactNative2['default'].createElement(_reactNative.View,{style:{
backgroundColor:'#007aff',
width:8,
height:8,
borderRadius:4,
marginLeft:3,
marginRight:3,
marginTop:3,
marginBottom:3}}):
this.props.dot || _reactNative2['default'].createElement(_reactNative.View,{style:{
backgroundColor:'rgba(0,0,0,.2)',
width:8,
height:8,
borderRadius:4,
marginLeft:3,
marginRight:3,
marginTop:3,
marginBottom:3}}));}



return _reactNative2['default'].createElement(
_reactNative.View,
{pointerEvents:'none',style:[styles['pagination_' + this.state.dir],this.props.paginationStyle]},
dots);},



renderTitle:function renderTitle(){
var child=this.props.children[this.state.index];
var title=child && child.props.title;
return title?_reactNative2['default'].createElement(
_reactNative.View,
{style:styles.title},
this.props.children[this.state.index].props.title):
null;},


renderNextButton:function renderNextButton(){
var _this4=this;

var button=undefined;

if(this.props.loop || this.state.index != this.state.total - 1){
button = this.props.nextButton || _reactNative2['default'].createElement(
_reactNative.Text,
{style:styles.buttonText},
'›');}



return _reactNative2['default'].createElement(
_reactNative.TouchableOpacity,
{onPress:function(){
return button !== null && _this4.scrollTo.call(_this4,1);}},

_reactNative2['default'].createElement(
_reactNative.View,
null,
button));},




renderPrevButton:function renderPrevButton(){
var _this5=this;

var button=null;

if(this.props.loop || this.state.index != 0){
button = this.props.prevButton || _reactNative2['default'].createElement(
_reactNative.Text,
{style:styles.buttonText},
'‹');}



return _reactNative2['default'].createElement(
_reactNative.TouchableOpacity,
{onPress:function(){
return button !== null && _this5.scrollTo.call(_this5,-1);}},

_reactNative2['default'].createElement(
_reactNative.View,
null,
button));},




renderButtons:function renderButtons(){
return _reactNative2['default'].createElement(
_reactNative.View,
{pointerEvents:'box-none',style:[styles.buttonWrapper,{width:this.state.width,height:this.state.height},this.props.buttonWrapperStyle]},
this.renderPrevButton(),
this.renderNextButton());},








injectState:function injectState(props){
var _this6=this;









for(var prop in props) {

if(typeof props[prop] === 'function' && prop !== 'onMomentumScrollEnd' && prop !== 'renderPagination' && prop !== 'onScrollBeginDrag'){
(function(){
var originResponder=props[prop];
props[prop] = function(e){
return originResponder(e,_this6.state,_this6);};})();}}





return props;},






render:function render(){
var state=this.state;
var props=this.props;
var children=props.children;
var index=state.index;
var total=state.total;
var loop=props.loop;
var dir=state.dir;
var key=0;

var pages=[];
var pageStyle=[{width:state.width,height:state.height},styles.slide];


if(total > 1){


pages = Object.keys(children);
if(loop){
pages.unshift(total - 1);
pages.push(0);}


pages = pages.map(function(page,i){
return _reactNative2['default'].createElement(
_reactNative.View,
{style:pageStyle,key:i},
children[page]);});}else 


pages = _reactNative2['default'].createElement(
_reactNative.View,
{style:pageStyle},
children);


return _reactNative2['default'].createElement(
_reactNative.View,
{style:[styles.container,{
width:state.width,
height:state.height}]},

_reactNative2['default'].createElement(
_reactNative.ScrollView,
_extends({ref:'scrollView'},
props,{
contentContainerStyle:[styles.wrapper,props.style],
contentOffset:state.offset,
onScrollBeginDrag:this.onScrollBegin,
onMomentumScrollEnd:this.onScrollEnd}),
pages),

props.showsPagination && (props.renderPagination?this.props.renderPagination(state.index,state.total,this):this.renderPagination()),
this.renderTitle(),
this.props.showsButtons && this.renderButtons());}});



module.exports = exports['default'];
});
__d('AwesomeProject/src/BaseRouteMapper.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}var React=require('react-native/Libraries/react-native/react-native.js');var 

Image=



React.Image;var StyleSheet=React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;var View=React.View;

var icons=require('AwesomeProject/src/icons.js');
var BaseText=require('AwesomeProject/src/widgets/index.js').BaseText;
var stylesVar=require('AwesomeProject/src/stylesVar.js');var 

BaseRouteMapper=(function(){function BaseRouteMapper(){_classCallCheck(this,BaseRouteMapper);}_createClass(BaseRouteMapper,[{key:'renderRightButton',value:

function renderRightButton(){
return null;}},{key:'renderLeftButton',value:






function renderLeftButton(){
return null;}},{key:'renderTitle',value:


function renderTitle(route,navigator,index,navState){
var styles=this.styles;
return (
React.createElement(View,{style:styles.wrap},
React.createElement(BaseText,{style:[styles.navBarText]},
route.title)));}},{key:'_renderBackButton',value:





function _renderBackButton(route,navigator,index,navState,callback){
var styles=this.styles;
return (
React.createElement(View,{style:styles.wrap},
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:function(){return callback?callback():navigator.pop();}},
React.createElement(Image,{style:styles.navBarLeftButton,
source:icons.back}))));}},{key:'_renderRightButton',value:





function _renderRightButton(text){
var styles=this.styles;
return (
React.createElement(TouchableOpacity,{
style:[styles.wrap,styles.navBarRightButton],
activeOpacity:0.8},
React.createElement(BaseText,{style:styles.navBarText},text)));}},{key:'renderScene',value:




function renderScene(){
return null;}},{key:'style',get:function(){return this.styles.navBar;}},{key:'styles',get:


function(){
return styles;}}]);return BaseRouteMapper;})();



var styles=StyleSheet.create({
wrap:{
flex:1,
alignItems:'center',
flexDirection:'row'},


left:{
marginLeft:10},


right:{
marginRight:10},


navBarTransparent:{
backgroundColor:'transparent'},

navBar:{
backgroundColor:stylesVar('bg-primary')},


navBarEmpty:{
opacity:0},


navBarText:{
fontSize:16,
color:'white'},


navBarLeftButton:{
marginLeft:10,
width:18,
height:16},


navBarRightButton:{
marginRight:10}});



module.exports = BaseRouteMapper;
});
__d('AwesomeProject/src/widgets/index.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var Button=require('AwesomeProject/src/widgets/Button.js');
var UserInfo=require('AwesomeProject/src/widgets/UserInfo.js');
var ActivitySchedule=require('AwesomeProject/src/widgets/ActivitySchedule.js');
var ActivityRoute=require('AwesomeProject/src/widgets/ActivityRoute.js');
var ActivityPublishDate=require('AwesomeProject/src/widgets/ActivityPublishDate.js');
var Tag=require('AwesomeProject/src/widgets/Tag.js');
var Tab=require('AwesomeProject/src/widgets/Tab.js');
var icons=require('AwesomeProject/src/widgets/icons.js');
var baseComponents=require('AwesomeProject/src/widgets/baseComponents.js');
var ItemInfo=require('AwesomeProject/src/widgets/ItemInfo.js');
var Line=require('AwesomeProject/src/widgets/Line.js');
var LettersView=require('AwesomeProject/src/widgets/LettersView.js');

module.exports = _extends({
Button:Button,
Tag:Tag,
Tab:Tab,
UserInfo:UserInfo,
ActivitySchedule:ActivitySchedule,
ActivityRoute:ActivityRoute,
ActivityPublishDate:ActivityPublishDate,
ItemInfo:ItemInfo,
Line:Line,
LettersView:LettersView},
icons,
baseComponents);
});
__d('AwesomeProject/src/widgets/Button.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=



React.StyleSheet;var Text=React.Text;var View=React.View;var TouchableHighlight=React.TouchableHighlight;

var su=require('AwesomeProject/src/styleUtils.js');

var Button=React.createClass({displayName:'Button',
propTypes:function(){
style: View.propTypes.styles;},


render:function(){
return (
React.createElement(TouchableHighlight,{onPress:this.props.onPress},
React.createElement(Text,{style:[styles.base,this.props.style]},this.props.children)));}});





var styles=StyleSheet.create({

base:_extends({},
su.padding(10,24),{
color:'#fff',
fontSize:20})});



module.exports = Button;
});
__d('AwesomeProject/src/widgets/UserInfo.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


View=




React.View;var Image=React.Image;var Text=React.Text;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;

var su=require('AwesomeProject/src/styleUtils.js');

var UserInfo=React.createClass({displayName:'UserInfo',
render:function(){
var avatar=this.props.avatar;
var username=this.props.username;
var publishDate=this.props.publishDate;
var usernameText=this.props.usernameText;
var publishDateText=this.props.publishDateText;

return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(Image,{source:avatar,style:styles.avatar}),
React.createElement(View,null,
React.createElement(Text,{style:usernameText?[styles.username,usernameText]:styles.username},username),
React.createElement(Text,{style:publishDateText?[styles.publishDate,publishDateText]:styles.publishDate},
moment(publishDate).format('YYYY-MM-DD HH:mm')))));}});







var AVATAR_SIZE=30;

var styles=StyleSheet.create({
container:{
flexDirection:'row',
alignItems:'center',
backgroundColor:'transparent'},


avatar:_extends({},
su.size(AVATAR_SIZE),{
borderWidth:1 / PixelRatio.get(),
borderColor:'#fff',
borderRadius:AVATAR_SIZE / 2,
marginRight:10}),


username:{
color:'#fff',
fontSize:12,
lineHeight:12,
marginBottom:3},


publishDate:{
color:'#fff',
fontSize:9,
lineHeight:9,
marginRight:10}});



module.exports = UserInfo;
});
__d('AwesomeProject/src/widgets/ActivitySchedule.js',function(global, require, module, exports) {  var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


View=



React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;

var su=require('AwesomeProject/src/styleUtils.js');
var ActivityRoute=require('AwesomeProject/src/widgets/ActivityRoute.js');
var ActivityPublishDate=require('AwesomeProject/src/widgets/ActivityPublishDate.js');

var ActivitySchedule=React.createClass({displayName:'ActivitySchedule',

render:function(){
var _activity=this.props.data;
return (
React.createElement(View,{style:[{marginBottom:10},this.props.style]},
React.createElement(ActivityRoute,{style:{marginBottom:10},route:_activity.get('route')}),
React.createElement(ActivityPublishDate,{data:this.props.data})));}});





module.exports = ActivitySchedule;
});
__d('AwesomeProject/src/widgets/ActivityRoute.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


View=



React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;

var su=require('AwesomeProject/src/styleUtils.js');
var icons=require('AwesomeProject/src/icons.js');

var ActivityRoute=React.createClass({displayName:'ActivityRoute',
render:function(){
return (
React.createElement(View,{style:[styles.route,this.props.style]},
React.createElement(Image,{
style:[styles.icon,{marginRight:10}],
source:icons.mark}),
React.createElement(Text,{style:styles.baseText},this.props.route)));}});





var styles=StyleSheet.create({
container:{},

icon:_extends({},
su.size(11)),


baseText:{
fontWeight:'200',
color:'#030303'},


route:{
flexDirection:'row',
alignItems:'center'}});



module.exports = ActivityRoute;
});
__d('AwesomeProject/src/widgets/ActivityPublishDate.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


View=



React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');

var ActivityPublishDate=React.createClass({displayName:'ActivityPublishDate',
_formatDate:function(date){
date = moment(date);
if(date.year() === moment().year()){
return date.format('MM-DD');}else 
{
return date.format('YYYY-MM-DD');}},



render:function(){
var _activity=this.props.data;
var startDate=new Date(_activity.get('startDate'));
var endDate=new Date(_activity.get('endDate'));

var days=Math.floor((endDate.getTime() - startDate.getTime()) / (3600 * 1000 * 24)) + 1;
if(days > 1){
var duration="（" + days + "天" + (days - 1) + "晚）";}else 
{
var duration="（" + days + "天）";}


return (
React.createElement(View,{style:[styles.date,this.props.style]},
React.createElement(Image,{style:[styles.icon,{marginRight:10}],
source:icons.calendar}),
React.createElement(Text,{style:styles.baseText},
this._formatDate(startDate),' ~ ',this._formatDate(endDate)),

React.createElement(Text,{style:[styles.baseText,styles.duration]},duration)));}});





var styles=StyleSheet.create({
icon:_extends({},
su.size(11)),


baseText:{
fontWeight:'200',
color:'#030303'},


date:{
flexDirection:'row',
alignItems:'center'},


duration:{
color:'#96969b'}});



module.exports = ActivityPublishDate;
});
__d('AwesomeProject/src/widgets/Tag.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 

View=



React.View;var Text=React.Text;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;

var su=require('AwesomeProject/src/styleUtils.js');

var Tag=React.createClass({displayName:'Tag',
render:function(){
return (
React.createElement(Text,{key:this.props.key,
style:[styles.tag,this.props.style]},
this.props.children));}});





var styles=StyleSheet.create({
tag:_extends({
fontSize:10,
color:'#fff',
borderRadius:3,
borderWidth:1 / PixelRatio.get(),
borderColor:'#fff',
overflow:'hidden',

lineHeight:12},
su.padding(2,4))});



module.exports = Tag;
});
__d('AwesomeProject/src/widgets/icons.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


Image=

React.Image;var StyleSheet=React.StyleSheet;

var su=require('AwesomeProject/src/styleUtils.js');
var icons=require('AwesomeProject/src/icons.js');

var ArrowIcon=React.createClass({displayName:'ArrowIcon',
render:function(){
return (
React.createElement(Image,{style:[styles.arrow,this.props.style],
source:icons.arrow}));}});




var PenIcon=React.createClass({displayName:'PenIcon',
render:function(){
return (
React.createElement(Image,{style:[styles.pen,this.props.style],
source:icons.edit}));}});




var styles=StyleSheet.create({
arrow:_extends({},
su.size(9,15),{
resizeMode:'contain'}),


pen:_extends({},
su.size(32),{
backgroundColor:'transparent'})});



module.exports = {
ArrowIcon:ArrowIcon,
PenIcon:PenIcon};
});
__d('AwesomeProject/src/widgets/baseComponents.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


Text=



React.Text;var TextInput=React.TextInput;var TouchableOpacity=React.TouchableOpacity;var StyleSheet=React.StyleSheet;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var BaseText=React.createClass({displayName:'BaseText',
render:function(){
return (
React.createElement(Text,_extends({},this.props,{style:[styles.text,this.props.style]}),
this.props.children));}});





var BaseTextInput=React.createClass({displayName:'BaseTextInput',
render:function(){
return (
React.createElement(TextInput,_extends({},
this.props,{
style:[styles.textInput,this.props.style]})));}});




var BaseTouchableOpacity=React.createClass({

displayName:'BaseTouchableOpacity',

render:function(){
return (
React.createElement(TouchableOpacity,_extends({},
this.props,{
activeOpacity:this.props.activeOpacity || 0.8})));}});




var styles=StyleSheet.create({
text:{
fontSize:14,
color:stylesVar('dark'),
fontWeight:'300'},


textInput:{
fontSize:14,
color:stylesVar('dark'),
fontWeight:'300'}});



module.exports = {
BaseText:BaseText,
BaseTouchableOpacity:BaseTouchableOpacity,
BaseTextInput:BaseTextInput};
});
__d('AwesomeProject/src/widgets/ItemInfo.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


View=



React.View;var Text=React.Text;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var ItemInfo=React.createClass({displayName:'ItemInfo',
render:function(){
var detailView=this.props.detailView;
var style=detailView?[styles.detailView,detailView]:styles.detailView;
return (
React.createElement(View,{style:style},
this.props.datas.map(function(item){
return (
React.createElement(View,{style:styles.itemView},
React.createElement(Text,{style:styles.itemLeft},item.title),
React.createElement(Text,{style:styles.itemRight},item.content)));})));}});








var styles=StyleSheet.create({
detailView:{
flex:1,
flexDirection:'column',
paddingTop:10,
paddingBottom:40,
borderColor:'#f3f5f6',
borderRightWidth:1 / PixelRatio.get(),
borderLeftWidth:1 / PixelRatio.get(),
borderLeftWidth:1 / PixelRatio.get()},


itemView:{
flex:1,
flexDirection:'row'},


itemLeft:{
flex:2,
textAlign:'right',
fontSize:13,
color:stylesVar('dark-mid'),
lineHeight:30,
fontWeight:'300'},


itemRight:{
flex:3,
textAlign:'left',
paddingLeft:22,
lineHeight:30,
fontWeight:'300',
fontSize:13,
color:stylesVar('dark')}});



module.exports = ItemInfo;
});
__d('AwesomeProject/src/widgets/Line.js',function(global, require, module, exports) {  var stylesVar=require('AwesomeProject/src/stylesVar.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


PixelRatio=


React.PixelRatio;var View=React.View;var StyleSheet=React.StyleSheet;

var Line=React.createClass({displayName:'Line',
statics:{
HEIGHT:1 / PixelRatio.get()},


render:function(){
return React.createElement(View,{style:styles.line});}});



var styles=StyleSheet.create({
line:{
height:Line.HEIGHT,
backgroundColor:stylesVar('dark-light')}});



module.exports = Line;
});
__d('AwesomeProject/src/widgets/LettersView.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=

React.StyleSheet;var View=React.View;var _require=




require('AwesomeProject/src/widgets/baseComponents.js');var BaseText=_require.BaseText;var BaseTouchableOpacity=_require.BaseTouchableOpacity;


var Text=BaseText;
var TouchableOpacity=BaseTouchableOpacity;

var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var LETTERS=[
'A','B','C','D','E','F',
'G','H','I','J','K','L','M',
'N','O','P','Q','R','S','T',
'U','V','W','X','Y','Z','#'];


var LettersView=React.createClass({displayName:'LettersView',

getDefaultProps:function(){
return {
letters:LETTERS};},



statics:{
LETTERS:LETTERS},


render:function(){var _this=this;
return (
React.createElement(View,{style:[styles.letters,this.props.style]},
this.props.letters.map(function(letter){
return (
React.createElement(TouchableOpacity,{
onPress:function(){return _this.props.onLetterPress(letter);}},
React.createElement(Text,{style:styles.letter},letter)));})));}});








var styles=StyleSheet.create({
letters:{},

letter:{
fontFamily:'Arial',
color:stylesVar('blue'),
fontSize:9,
textAlign:'center',
width:12}});



module.exports = LettersView;
});
__d('AwesomeProject/src/AddComment.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=










React.View;var Text=React.Text;var Image=React.Image;var ListView=React.ListView;var TextInput=React.TextInput;var TouchableOpacity=React.TouchableOpacity;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;var ScrollView=React.ScrollView;var Dimensions=React.Dimensions;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var LocalSeveralPhotoPicker=require('AwesomeProject/src/LocalSeveralPhotoPicker.js');

var AddComment=React.createClass({displayName:'AddComment',
getInitialState:function(){
return {
text:this.props.state || '',
dataBlob:[],
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
var dataBlob=['http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg'];

this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



submitHandle:function(){

var datas={
text:this.state.text,
images:[]};

this.props.navigator.pop();},


_onChooseResult:function(result){
console.log(result);},


_choosePhoto:function(){
this.props.navigator.push(new PhotoRoute(this._onChooseResult));},


pressPreviewCell:function(rowID){
var dataBlob=_.clone(this.state.dataBlob);
dataBlob.splice(rowID,1);

this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



_renderCell:function(data,sectionID,rowID){
return (
React.createElement(PreviewCell,{source:data,onPress:this.pressPreviewCell.bind(this,rowID)}));},



_renderSeparator:function(sectionID,rowID){
if(rowID == this.state.dataBlob.length - 1){
return null;}


return React.createElement(View,{style:styles.separator});},


render:function(){var _this=this;
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{style:styles.scrollView},
React.createElement(View,{style:styles.textInputView},
React.createElement(TextInput,{style:styles.textInput,
multiline:true,
onChangeText:function(text){return _this.setState({text:text});},
value:this.state.text})),

React.createElement(View,{style:styles.list},
React.createElement(ListView,{horizontal:true,
style:styles.listView,
dataSource:this.state.dataSource,
renderRow:this._renderCell,
renderSeparator:this._renderSeparator}),
this.state.dataBlob.length !== 0 && React.createElement(Text,{style:styles.imageNumber},this.state.dataBlob.length))),


React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,null,
React.createElement(Image,{style:styles.faceIcon,
source:icons.face})),

React.createElement(TouchableOpacity,{onPress:this._choosePhoto},
React.createElement(Image,{style:styles.pictureIcon,
source:icons.pictureGray})))));}});







var PreviewCell=React.createClass({displayName:'PreviewCell',
getInitialState:function(){
return {};},


_onLayout:function(e){
var layout=e.nativeEvent.layout;
this.setState({layout:layout});},


render:function(){
return (
React.createElement(View,null,
React.createElement(TouchableOpacity,{
style:styles.previewCell,
activeOpacity:1,
onLayout:this._onLayout},
this.state.layout && 
React.createElement(Image,{source:{uri:this.props.source},resizeMode:'cover',style:[{
width:this.state.layout.width,
height:this.state.layout.height},
styles.imageContainer]})),


React.createElement(TouchableOpacity,{onPress:this.props.onPress},
React.createElement(Image,{source:icons.dismissBg,
style:styles.iconDismiss}))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


imageNumber:{
paddingLeft:10,
paddingRight:15,
fontSize:11,
color:stylesVar('dark-mid')},


separator:{
width:11},


scrollView:{
flex:1,
flexDirection:'column'},


list:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


listView:{
flex:1,
flexDirection:'row',
marginLeft:15,
paddingVertical:20},


imageContainer:{
alignItems:'flex-end'},


iconDismiss:{
width:18,
height:18,
borderRadius:11,
backgroundColor:'transparent',
marginLeft:77,
marginTop:-95},


previewCell:{
width:86,
height:86},


textInputView:{
flex:1,
height:150,
flexDirection:'row',
backgroundColor:'#fff',
paddingVertical:15,
paddingHorizontal:15},


textInput:{
flex:1,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:16,
lineHeight:20,
height:120},


bottomBar:{
position:'absolute',
bottom:0,
right:0,
left:0,
height:45,
paddingHorizontal:15,
backgroundColor:stylesVar('white'),
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
flex:1,
flexDirection:'row',
justifyContent:'flex-start',
alignItems:'center'},


faceIcon:{
width:28,
height:28,
marginRight:15},


pictureIcon:{
width:28,
height:21},


submitText:{
fontSize:14,
fontWeight:'300',
color:'#fff',
marginTop:15},


rightButton:{
marginRight:15}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

AddCommentRoute=(function(_BaseRouteMapper){_inherits(AddCommentRoute,_BaseRouteMapper);
function AddCommentRoute(data){_classCallCheck(this,AddCommentRoute);
_get(Object.getPrototypeOf(AddCommentRoute.prototype),'constructor',this).call(this);

this.id = data.id;}_createClass(AddCommentRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _this2=this;
return (
React.createElement(TouchableOpacity,{onPress:function(){return _this2._root.submitHandle();},style:styles.rightButton},
React.createElement(Text,{style:styles.submitText},'发表')));}},{key:'renderScene',value:












function renderScene(navigator){var _this3=this;
return React.createElement(AddComment,{id:this.id,
ref:function(component){return _this3._root = component;}});}},{key:'style',get:function(){return this.styles.navBar;}},{key:'title',get:function(){return '发表评论';}}]);return AddCommentRoute;})(BaseRouteMapper);var 



PhotoRoute=(function(_BaseRouteMapper2){_inherits(PhotoRoute,_BaseRouteMapper2);
function PhotoRoute(updateFun){_classCallCheck(this,PhotoRoute);
_get(Object.getPrototypeOf(PhotoRoute.prototype),'constructor',this).call(this);

this.updateFun = updateFun;}_createClass(PhotoRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton.apply(this,arguments);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return (
React.createElement(TouchableOpacity,{
style:styles.rightButton,
onPress:this._upload.bind(this)},
React.createElement(Text,{style:styles.submitText},'上传')));}},{key:'_upload',value:








function _upload(){
var datas=this._root.getCheckedDatas();
this.updateFun && this.updateFun(datas);}},{key:'renderScene',value:



function renderScene(){var _this4=this;
return (
React.createElement(LocalSeveralPhotoPicker,{ref:function(component){return _this4._root = component;}}));}},{key:'title',get:function(){return '相册';}}]);return PhotoRoute;})(BaseRouteMapper);




module.exports = AddCommentRoute;
});
__d('AwesomeProject/src/LocalSeveralPhotoPicker.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=







React.View;var ListView=React.ListView;var Image=React.Image;var Text=React.Text;var CameraRoll=React.CameraRoll;var TouchableOpacity=React.TouchableOpacity;var Dimensions=React.Dimensions;var StyleSheet=React.StyleSheet;

var deviceWidth=Dimensions.get('window').width;
var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var thumbMargin=5;
var thumbCols=4;
var thumbSize=(deviceWidth - (thumbCols + 1) * thumbMargin) / thumbCols;

var CameraRollScene=React.createClass({displayName:'CameraRollScene',
getInitialState:function(){
var ds=new ListView.DataSource({rowHasChanged:function(r1,r2){return r1 !== r2;}});
return {
dataBlob:[],
dataSource:ds.cloneWithRows([]),
checkedDataBlob:[],
checkedDataSource:ds.cloneWithRows([])};},



componentDidMount:function(){
CameraRoll.getPhotos({
first:65535},
(function(data){
var photos=data.edges.map(function(item){
return {
photo:item.node,
checked:false};});



this.setState({
dataSource:this.state.dataSource.cloneWithRows(photos),
dataBlob:photos});}).

bind(this),function(e){
console.trace(e);});},



pressCellRow:function(rowID){
var dataBlob=_.clone(this.state.dataBlob);
var checkedDataBlob=_.clone(this.state.checkedDataBlob);
var photo=_.clone(dataBlob[rowID]);
var checked=photo.checked;
photo.checked = !photo.checked;
dataBlob[rowID] = photo;

var index=_.findIndex(checkedDataBlob,function(item){
return item.photo === photo.photo;});


if(checked && index !== -1){
checkedDataBlob.splice(index,1);}else 
if(!checked && index === -1){
checkedDataBlob.push({
photo:photo.photo,
rowID:rowID});}



this.setState({
dataBlob:dataBlob,
checkedDataBlob:checkedDataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob),
checkedDataSource:this.state.checkedDataSource.cloneWithRows(checkedDataBlob)});},



_renderRow:function(photo,sectionID,rowID,highlightRow){
return (
React.createElement(Cell,{data:photo,
onPress:this.pressCellRow.bind(this,rowID)}));},



pressPreviewCell:function(photo){
var dataBlob=_.clone(this.state.dataBlob);
var checkedDataBlob=_.clone(this.state.checkedDataBlob);
var rowID=photo.rowID;
var photo_copy=_.clone(dataBlob[rowID]);
photo_copy.checked = false;
dataBlob[rowID] = photo_copy;
var index=_.findIndex(checkedDataBlob,function(item){
return item === photo;});


if(index !== -1){
checkedDataBlob.splice(index,1);}


this.setState({
dataBlob:dataBlob,
checkedDataBlob:checkedDataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob),
checkedDataSource:this.state.checkedDataSource.cloneWithRows(checkedDataBlob)});},



renderPreviewCell:function(photo){
return (
React.createElement(PreviewCell,{data:photo,
onPress:this.pressPreviewCell.bind(this,photo)}));},



getCheckedDatas:function(){
return this.state.checkedDataBlob;},


nextStep:function(){
var checked=this.state.checkedDataBlob;
this.props.nextStep && this.props.nextStep(checked,this.props.navigator);},


_renderSeparator:function(sectionID,rowID){
if(rowID == this.state.checkedDataBlob.length - 1){
return null;}


return (
React.createElement(View,{style:styles.previewSeparator}));},



render:function(){
if(!this.state.dataSource){
return null;}


return (
React.createElement(View,{style:styles.background},
React.createElement(ListView,{style:[styles.container,this.props.style],
contentContainerStyle:styles.content,
dataSource:this.state.dataSource,
renderRow:this._renderRow}),
React.createElement(View,{style:styles.bottomView},
React.createElement(View,{style:styles.displayView},
React.createElement(ListView,{horizontal:true,
dataSource:this.state.checkedDataSource,
renderRow:this.renderPreviewCell,
renderSeparator:this._renderSeparator})),

React.createElement(View,{style:styles.nextStepView},
React.createElement(View,{style:styles.numberView},
React.createElement(Text,{style:styles.numberText},this.state.checkedDataBlob.length)),

this.props.nextText && React.createElement(TouchableOpacity,{onPress:this.nextStep},
React.createElement(Text,{style:styles.nextText},this.props.nextText))))));}});









var Cell=React.createClass({displayName:'Cell',
getInitialState:function(){
return {
checked:this.props.data.checked};},



_onLayout:function(e){
var layout=e.nativeEvent.layout;
this.setState({layout:layout});},


componentWillReceiveProps:function(nextProps){
this.setState({
checked:nextProps.data.checked});},



render:function(){var _this=this;
var imageUrl=this.state.checked?icons.checkedGreen:icons.checkedTrans;

return (
React.createElement(TouchableOpacity,{
style:styles.cell,
onPress:function(){return _this.props.onPress();},
onLayout:this._onLayout,
activeOpacity:1},
this.state.layout && 
React.createElement(Image,{source:{uri:this.props.data.photo.image.uri},resizeMode:'cover',style:[{
width:this.state.layout.width,
height:this.state.layout.height},
styles.imageContainer]},
React.createElement(Image,{source:imageUrl,
style:styles.checkedIcon}))));}});







var PreviewCell=React.createClass({displayName:'PreviewCell',
getInitialState:function(){
return {};},


_onLayout:function(e){
var layout=e.nativeEvent.layout;
this.setState({layout:layout});},


render:function(){
return (
React.createElement(View,null,
React.createElement(TouchableOpacity,{
style:styles.previewCell,
activeOpacity:1,
onLayout:this._onLayout},
this.state.layout && 
React.createElement(Image,{source:{uri:this.props.data.photo.image.uri},resizeMode:'cover',style:[{
width:this.state.layout.width,
height:this.state.layout.height},
styles.imageContainer]})),


React.createElement(TouchableOpacity,{onPress:this.props.onPress},
React.createElement(Image,{source:icons.dismissBg,
style:styles.iconDismiss}))));}});






var styles=StyleSheet.create({
background:{
position:'absolute',
top:0,
left:0,
bottom:0,
right:0,
backgroundColor:'#f3f5f6'},


container:{
flex:1,
backgroundColor:'#f3f5f6'},


previewSeparator:{
width:8},


content:{
alignItems:'flex-start',
flexDirection:'row',
flexWrap:'wrap',
margin:thumbMargin / 2},


cell:_extends({
backgroundColor:stylesVar('dark-lighter')},
su.size(thumbSize),{
margin:thumbMargin / 2}),


imageContainer:{
alignItems:'flex-end'},


checkedIcon:_extends({},
su.size(24,24),{
backgroundColor:'transparent',
borderRadius:12,
marginRight:thumbMargin,
marginTop:thumbMargin}),


bottomView:{
position:'absolute',
bottom:0,
left:0,
right:0,
height:64,
flex:1,
flexDirection:'row',
backgroundColor:'#fff'},



displayView:{
flex:1,
flexDirection:'row',
height:64,
paddingHorizontal:15,
paddingBottom:12},


previewCell:{
paddingTop:12,
width:40,
height:40},


iconDismiss:{
width:22,
height:22,
borderRadius:11,
backgroundColor:'transparent',
marginLeft:26,
marginTop:-38},


nextStepView:{
flexDirection:'row',
height:64,
alignItems:'center',
justifyContent:'center'},


numberView:{
width:25,
height:19,
marginRight:5,
backgroundColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'center'},


numberText:{
color:stylesVar('dark-light-little'),
fontSize:11},


nextText:{
color:stylesVar('blue'),
fontSize:13,
marginRight:5}});



module.exports = CameraRollScene;
});
__d('AwesomeProject/src/ActivityDetailMixin.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


Animated=










React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Text=React.Text;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var TouchableHighlight=React.TouchableHighlight;

var ActivityApply=require('AwesomeProject/src/ActivityApply.js');
var ActivityApplyInfo=require('AwesomeProject/src/ActivityApplyInfo.js');

var activityApi=require('AwesomeProject/src/api/index.js').activity;
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var su=require('AwesomeProject/src/styleUtils.js');
var icons=require('AwesomeProject/src/icons.js');var _require=



require('AwesomeProject/src/widgets/index.js');var BaseTouchableOpacity=_require.BaseTouchableOpacity;

var Conversation=require('AwesomeProject/src/friends/ConversationScene.js');


var TouchableOpacity=BaseTouchableOpacity;
var RecordJourneyChoosePhoto=require('AwesomeProject/src/RecordJourneyChoosePhoto.js');

var Mixin={
_apply:function(){
var activity=this.state.activity;
this.props.navigator.push(new ActivityApply({
activity:activity}));},



_viewApplyInfo:function(){
this.props.navigator.push(new ActivityApplyInfo(this.props.navigator,this.state.activity));},


_contactCreator:function(){
this.props.navigator.push(new Conversation(this.state.activity.getCreator()));},


_recordActivity:function(){
this.props.navigator.push(new RecordJourneyChoosePhoto());},


renderBottom:function(){
try{
var _activity=this.state.activity;
var state=_activity.getState();
var isSponsor=this.state.user.id === _activity.getCreator().id;

var isEnter=this.state.isEnter;

if(state === activityApi.PREPARING){
if(!isEnter){
return (
React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,{
onPress:this._contactCreator,
style:styles.information},
React.createElement(Image,{source:icons.information,
style:styles.iconInformation}),
React.createElement(Text,{style:styles.informationText},'咨询楼主')),

React.createElement(TouchableOpacity,{
style:styles.apply,
onPress:this._apply},
React.createElement(Text,{style:styles.applyText},'我要报名'))));}else 



{
return (
React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,{
style:[styles.information,styles.activityCircle]},
React.createElement(Image,{source:icons.activityCircleTrans,
style:styles.iconActivityCircle}),
React.createElement(Text,{style:styles.informationText},'活动圈子')),

React.createElement(TouchableOpacity,{
onPress:this._viewApplyInfo,
style:styles.apply},
React.createElement(Text,{style:styles.applyText},'我的报名信息'))));}}else 




if(state === activityApi.TRAVELLING){
if(!isEnter){
return (
React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,{
onPress:this._contactCreator,
style:styles.information},
React.createElement(Image,{source:icons.information,
style:styles.iconInformation}),
React.createElement(Text,{style:styles.informationText},'咨询楼主'))));}else 



{
return (
React.createElement(View,{style:styles.bottomBar},
React.createElement(TouchableOpacity,{style:[styles.information,styles.blueLight]},
React.createElement(Image,{source:icons.activityCircleTrans,
style:styles.iconActivityCircle}),
React.createElement(Text,{style:styles.informationText},'活动圈子')),

React.createElement(TouchableOpacity,{style:[styles.information,styles.green]},
React.createElement(Image,{source:icons.pictureTrans,
style:styles.iconPictureTrans}),
React.createElement(Text,{style:styles.informationText},'分享照片')),


React.createElement(TouchableOpacity,{style:[styles.information,styles.red],activeOpacity:0.8,
onPress:this._recordActivity},
React.createElement(Image,{source:icons.journeyTrans,style:styles.iconJourneyTrans}),
React.createElement(Text,{style:styles.informationText},'写游记')),

React.createElement(TouchableOpacity,{style:[styles.information,styles.orange]},
React.createElement(Image,{source:icons.annotationTrans,
style:styles.iconAnnotationTrans}),
React.createElement(Text,{style:styles.informationText},'上传轨迹'))));}}}





catch(e) {
console.trace(e);}}};




var styles=StyleSheet.create({
bottomBar:{
position:'absolute',
left:0,
right:0,
bottom:0,
flexDirection:'row',
backgroundColor:'transparent'},


information:{
flex:1,
height:60,
alignItems:'center',
justifyContent:'center',
backgroundColor:stylesVar('green')},


iconInformation:{
width:22,
height:22,
marginBottom:5},


informationText:{
color:stylesVar('white'),
fontSize:10},


blueLight:{
backgroundColor:stylesVar('blue-light')},


iconActivityCircle:{
width:22,
height:22,
marginBottom:5},


green:{
backgroundColor:stylesVar('green')},


iconPictureTrans:_extends({},
su.size(22,16),{
marginBottom:5}),


red:{
backgroundColor:stylesVar('red')},


iconJourneyTrans:_extends({},
su.size(16,18),{
marginBottom:5}),


orange:{
backgroundColor:stylesVar('orange')},


iconAnnotationTrans:_extends({},
su.size(15,20),{
marginBottom:5}),


apply:{
flex:3,
height:60,
alignItems:'center',
justifyContent:'center',
backgroundColor:stylesVar('blue')},


applyText:{
fontSize:20,
color:stylesVar('white')}});



module.exports = Mixin;
});
__d('AwesomeProject/src/ActivityApply.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _slicedToArray=(function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n = (_s = _i.next()).done);_n = true) {_arr.push(_s.value);if(i && _arr.length === i)break;}}catch(err) {_d = true;_e = err;}finally {try{if(!_n && _i['return'])_i['return']();}finally {if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else {throw new TypeError('Invalid attempt to destructure non-iterable instance');}};})();var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else {obj[key] = value;}return obj;}var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


AlertIOS=









React.AlertIOS;var View=React.View;var Text=React.Text;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;var TextInput=React.TextInput;var SwitchIOS=React.SwitchIOS;var ScrollView=React.ScrollView;

var icons=require('AwesomeProject/src/icons.js');
var Tab=require('AwesomeProject/src/widgets/Tab.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var ActivityApplySuccess=require('AwesomeProject/src/ActivityApplySuccess.js');
var ActivityChooseCar=require('AwesomeProject/src/ActivityChooseCar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var AV=require('AwesomeProject/src/api/index.js').AV;

var labels={
carType:'车辆信息',
carNumber:'车辆信息',
phone:'手机号码',
peopleNum:'成人数量'};


var ActivityApply=React.createClass({displayName:'ActivityApply',
getInitialState:function(){
var origin=this.props.partner;
var mode=origin?'edit':'create';
var state={
mode:mode,
activity:this.props.activity,
origin:origin,

applyType:origin?origin.get('type'):'selfRide',
common:origin?{
phone:origin.get('phone'),
peopleNum:origin.get('peopleNum'),
childNum:origin.get('childNum')}:
{},

selfRideDatas:origin && origin.get('type') === 'selfRide'?{
carType:origin.get('car').model,
carNumber:origin.get('car').number,
leftSeats:origin.get('leftSeats'),
share:origin.get('share')}:
{},

freeRideDatas:origin && origin.get('type') === 'freeRide'?{
canDrive:origin.get('canDrive')}:
{}};


if(state.selfRideDatas.share === undefined){
state.selfRideDatas.share = true;}


if(state.freeRideDatas.canDrive === undefined){
state.freeRideDatas.canDrive = true;}


return state;},


componentDidMount:function(){
Promise.all([
AV.User.currentAsync(),
this.state.activity.getLeftSeats()]).
then((function(values){
if(!this.isMounted()){
return;}var _values=_slicedToArray(


values,2);var user=_values[0];var leftSeats=_values[1];
var phone=user.get('mobilePhoneNumber');
var common=Object.assign({},this.state.common,{
phone:phone});


this.setState({
user:user,common:common,leftSeats:leftSeats});}).

bind(this)).catch(console.trace.bind(console));},













selfRideHandle:function(){
this.setState({
applyType:'selfRide'});},



freeRideHandle:function(){
this.setState({
applyType:'freeRide'});},



_validate:function(datas){
if(this.state.applyType === 'selfRide'){
var key=_.find(['carType','carNumber','phone','peopleNum'],function(key){
return !datas[key];});


if(key){
throw new Error(labels[key] + '没有填写');}}else 

{
var key=_.find(['phone','peopleNum'],function(key){
return !datas[key];});

if(key){
throw new Error(labels[key] + '没有填写');}}



if(datas.peopleNum == 0){
throw new Error('成人数量不能为0');}},



_edit:function(){
var origin=this.state.origin;

if(this.state.applyType === 'selfRide'){
var datas=Object.assign({},this.state.selfRideDatas,this.state.common);}else 
{
var datas=Object.assign({},this.state.freeRideDatas,this.state.common);}


try{
this._validate(datas);}
catch(e) {
AlertIOS.alert(e.message);
return;}var _state=





this.state;var user=_state.user;var applyType=_state.applyType;

activityApi.editApply(user,this.props.activity,origin,applyType,datas).then((function(){
this.props.navigator.push(new ActivityApplySuccess());}).
bind(this),function(e){
console.trace(e);
AlertIOS.alert(e.message);});},



_save:function(){
if(this.state.applyType === 'selfRide'){
var datas=Object.assign({},this.state.selfRideDatas,this.state.common);}else 
{
var datas=Object.assign({},this.state.freeRideDatas,this.state.common);}


try{
this._validate(datas);}
catch(e) {
AlertIOS.alert(e.message);
return;}var _state2=





this.state;var user=_state2.user;var applyType=_state2.applyType;

activityApi.apply(user,this.props.activity,applyType,datas).then((function(){
this.props.navigator.push(new ActivityApplySuccess());}).
bind(this),function(e){
console.trace(e);
AlertIOS.alert(e.message);});},



submitHandle:function(){
if(this.state.mode === 'edit'){
this._edit();}else 
{
this._save();}},



_calLeftSeats:function(){
var peopleNum=this.state.common.peopleNum || 0;
var childNum=this.state.common.childNum || 0;
var leftSeats=this.state.leftSeats - peopleNum - childNum;
return leftSeats;},


_renderLeftSeats:function(){
if(this.state.applyType === 'freeRide'){
return (
React.createElement(Text,{style:[styles.titleText,styles.titleExtra]},'目前空余座位：',
this._calLeftSeats()));}else 


{
return null;}},



_changeCommon:function(key){var _this=this;
return function(value){
_this.setState({
common:Object.assign({},_this.state.common,_defineProperty({},
key,value))});};},





renderCommon:function(){
return (
React.createElement(View,null,
React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'手机号码'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:this._changeCommon('phone'),
value:this.state.common.phone,
keyboardType:'numeric'}))),


React.createElement(View,{style:styles.titleView},
React.createElement(Text,{style:styles.titleText},'出行人数'),
this._renderLeftSeats()),

React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'成人'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:this._changeCommon('peopleNum'),
value:String(this.state.common.peopleNum || ''),
keyboardType:'numeric'})),

React.createElement(View,{style:styles.lineSeparator}),
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'小孩'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:this._changeCommon('childNum'),
value:String(this.state.common.childNum || ''),
keyboardType:'numeric'})))));},






addCarHandle:function(){
this.props.navigator.push(new ActivityChooseCar({
getCarHandle:this.getCarHandle,
car:this.state.selfRideDatas}));},



getCarHandle:function(data){
this.setState({
selfRideDatas:data});},



renderContent:function(){var _this2=this;
var type=this.state.applyType;
if(type === 'selfRide'){
var datas=this.state.selfRideDatas;}else 
{
var datas=this.state.freeRideDatas;}


if(type === 'selfRide'){
return (
React.createElement(ScrollView,{style:styles.scrollView},
React.createElement(View,{style:styles.titleView},
React.createElement(Text,{style:styles.titleText},'车辆信息')),


React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'出行车辆'),
React.createElement(TouchableOpacity,{style:styles.subItemContentView,
onPress:this.addCarHandle},
React.createElement(Text,{style:styles.carTypeText},datas.carType),
React.createElement(View,{style:styles.imageView},
React.createElement(Image,{source:icons.arrow,
style:styles.iconArrow})))),



React.createElement(View,{style:styles.lineSeparator}),
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'车辆牌照'),
React.createElement(Text,{style:styles.subItemNoEdit},datas.carNumber))),



this.renderCommon(),

React.createElement(View,{style:styles.separator}),

React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'空余座位'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:function(leftSeats){
datas.leftSeats = leftSeats;
_this2.setState({selfRideDatas:datas});},

value:datas.leftSeats,
keyboardType:'numeric'})),

React.createElement(View,{style:styles.lineSeparator}),
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'是否愿意搭人'),
React.createElement(SwitchIOS,{style:styles.share,
onValueChange:function(share){
_this2.setState({
selfRideDatas:Object.assign({},datas,{share:share})});},


value:!!this.state.selfRideDatas.share})))));}else 




{
return (
React.createElement(ScrollView,{style:styles.scrollView},
this.renderCommon(),

React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'能否驾驶车辆'),
React.createElement(SwitchIOS,{style:styles.share,
onValueChange:function(canDrive){
_this2.setState({
freeRideDatas:Object.assign({},datas,{canDrive:canDrive})});},


value:!!this.state.freeRideDatas.canDrive})))));}},







render:function(){
if(!this.state.user){
return null;}


return (
React.createElement(View,{style:styles.container},
React.createElement(Tab,{datas:['自己开车','搭顺风车'],
callbacks:[this.selfRideHandle,this.freeRideHandle],
styles:{tabTextFont:{fontSize:14}},
activeTab:this.state.applyType === 'selfRide'?0:1}),
this.renderContent()));}});





var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


titleView:{
flex:1,
flexDirection:'row',
paddingHorizontal:15,
height:45},


scrollView:{
flex:1,
flexDirection:'column'},


titleText:{
flex:1,
color:stylesVar('dark-mid'),
fontSize:11,
fontWeight:'300',
marginTop:22},


titleExtra:{
textAlign:'right'},


itemView:{
flex:1,
flexDirection:'column',
justifyContent:'flex-start',
borderColor:stylesVar('dark-light'),
borderWidth:1 / PixelRatio.get(),
paddingLeft:10,
backgroundColor:'#fff'},


subItemView:{
flex:1,
flexDirection:'row',
height:45,
paddingRight:10,
paddingLeft:5,
alignItems:'center',
justifyContent:'center'},


subItemText:{
flex:2,
color:stylesVar('dark-mid'),
fontWeight:'300',
fontSize:13},


subItemContentView:{
flex:5,
flexDirection:'row'},


subItemContentText:{
flex:5,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11},


carTypeText:{
flex:4,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11},


imageView:{
flex:1,
alignItems:'flex-end'},


iconArrow:{
width:9,
height:15},


subItemEdit:{
flex:5,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11},


subItemNoEdit:{
flex:5,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11,
paddingTop:17},


share:{
height:30,
marginRight:5},


lineSeparator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


separator:{
flex:1,
height:20},


submitText:{
fontSize:14,
fontWeight:'300',
color:'#fff',
marginTop:15},


rightButton:{
marginRight:15}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityApplyRoute=(function(_BaseRouteMapper){_inherits(ActivityApplyRoute,_BaseRouteMapper);
function ActivityApplyRoute(datas){_classCallCheck(this,ActivityApplyRoute);
_get(Object.getPrototypeOf(ActivityApplyRoute.prototype),'constructor',this).call(this);

this.datas = datas;}_createClass(ActivityApplyRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _this3=this;
return (
React.createElement(TouchableOpacity,{onPress:function(){return _this3._root.submitHandle();},style:styles.rightButton},
React.createElement(Text,{style:styles.submitText},'提交')));}},{key:'renderScene',value:








function renderScene(navigator){var _this4=this;
return React.createElement(ActivityApply,_extends({ref:function(component){return _this4._root = component;}},
this.datas));}},{key:'title',get:function(){return '我要报名';}}]);return ActivityApplyRoute;})(BaseRouteMapper);



module.exports = ActivityApplyRoute;
});
__d('AwesomeProject/src/ActivityApplySuccess.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


View=





React.View;var Text=React.Text;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var ActivityApplySuccess=React.createClass({displayName:'ActivityApplySuccess',
sendHandle:function(){},



render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(View,{style:styles.view},
React.createElement(View,{style:styles.iconView},
React.createElement(Image,{style:styles.iconImage,
source:icons.okGreen})),

React.createElement(Text,{style:styles.text1},'报名提交成功！'),
React.createElement(Text,{style:styles.text2},'请耐心等待审核！')),

React.createElement(View,{style:styles.finalView},
React.createElement(Text,{style:styles.text3},'或者，立即给发起人')),

React.createElement(TouchableOpacity,{onPress:this.sendHandle,
style:styles.bottomView},
React.createElement(Text,{style:styles.bottomText},'发消息'))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#fff'},


view:{
marginTop:75,
alignItems:'center',
justifyContent:'center'},


iconView:{
flex:1,
height:61,
marginBottom:40,
justifyContent:'center'},


iconImage:{
width:61,
height:61},


text1:{
flex:1,
textAlign:'center',
marginBottom:20,
fontWeight:'300',
fontSize:22,
height:22,
color:stylesVar('dark')},


text2:{
flex:1,
textAlign:'center',
fontWeight:'300',
fontSize:13,
height:13,
color:stylesVar('dark-light-little')},


text3:{
flex:1,
textAlign:'center',
fontWeight:'300',
fontSize:11,
color:stylesVar('dark-light-little')},


finalView:{
position:'absolute',
bottom:50,
left:0,
right:0,
paddingBottom:20},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
height:50,
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'center'},


bottomText:{
textAlign:'center',
fontWeight:'300',
fontSize:16,
color:stylesVar('blue')},


closeText:{
fontSize:14,
fontWeight:'300',
color:'#fff'},


rightButton:{
marginRight:15,
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityApplySuccessRoute=(function(_BaseRouteMapper){_inherits(ActivityApplySuccessRoute,_BaseRouteMapper);function ActivityApplySuccessRoute(){_classCallCheck(this,ActivityApplySuccessRoute);_get(Object.getPrototypeOf(ActivityApplySuccessRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(ActivityApplySuccessRoute,[{key:'renderRightButton',value:

function renderRightButton(route,navigator,index,navState){
function _close(){
var routes=navigator.getCurrentRoutes();
var route=routes[routes.length - 3];
navigator.popToRoute(route);}


return (
React.createElement(TouchableOpacity,{
onPress:_close,
style:styles.rightButton},
React.createElement(Text,{style:styles.closeText},'关闭')));}},{key:'renderScene',value:








function renderScene(navigator){
return React.createElement(ActivityApplySuccess,null);}},{key:'title',get:function(){return '报名成功';}}]);return ActivityApplySuccessRoute;})(BaseRouteMapper);



module.exports = ActivityApplySuccessRoute;
});
__d('AwesomeProject/src/ActivityChooseCar.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=






React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;var ScrollView=React.ScrollView;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var AddOrEditCar=require('AwesomeProject/src/AddOrEditCar.js');

var ActivityChooseCar=React.createClass({displayName:'ActivityChooseCar',
getInitialState:function(){
var carArray=[{
carType:'牧马人／2014款',
carNumber:'京PN8S88'},
{
carType:'牧马人／2015款',
carNumber:'京PN8S88'},
{
carType:'牧马人／2016款',
carNumber:'京PN8S88'}];

var chooseIndex=0;
var car=this.props.car;
if(car){
chooseIndex = (function(){
var length=carArray.length;
for(var i=0;i < length;i++) {
if(car.carType == carArray[i].carType && car.carNumber == carArray[i].carNumber){
return i;}}



return 0;})(
this);}

return {
carArray:carArray,
chooseIndex:chooseIndex};},



changeChooseState:function(index){
this.setState({
chooseIndex:index});},



getChooseCar:function(){
return this.state.carArray[this.state.chooseIndex];},


editHandle:function(){
this.props.navigator.push(new AddOrEditCar({
car:this.state.carArray[this.state.chooseIndex],
addCar:this.editCar}));},



editCar:function(car){
var carArray=_.clone(this.state.carArray);
carArray[this.state.chooseIndex] = car;

this.setState({
carArray:carArray});},



addCar:function(car){
var carArray=_.clone(this.state.carArray);
carArray.push(car);

this.setState({
carArray:carArray});},



addHandle:function(){
this.props.navigator.push(new AddOrEditCar({addCar:this.addCar}));},


render:function(){
var lastIndex=this.state.carArray.length - 1;
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{contentContainerStyle:styles.content},
React.createElement(View,{style:styles.contentView},
this.state.carArray.map((function(item,index){
var itemStyle=lastIndex === index?styles.itemLast:styles.item;
return (
React.createElement(TouchableOpacity,{style:itemStyle,activeOpacity:1,
onPress:this.changeChooseState.bind(this,index)},
React.createElement(Text,{style:styles.text},item.carType + ' （' + item.carNumber + '）'),
index === this.state.chooseIndex && React.createElement(Image,{style:styles.okImage,source:icons.ready})));}).


bind(this)))),


React.createElement(TouchableOpacity,{onPress:this.addHandle,style:styles.bottomView},
React.createElement(Text,{style:styles.bottomText},'添加车辆'))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


content:{
marginTop:20,
backgroundColor:'#f3f5f6',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


contentView:{
backgroundColor:'#fff'},


item:{
flex:1,
flexDirection:'row',
height:45,
marginLeft:10,
paddingLeft:5,
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'center'},


itemLast:{
flex:1,
flexDirection:'row',
height:45,
marginLeft:15,
alignItems:'center',
justifyContent:'center'},


text:{
flex:1,
textAlign:'left',
fontWeight:'300',
fontSize:15},


okImage:{
width:18,
height:12,
marginRight:15},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
height:50,
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'center'},


bottomText:{
fontWeight:'300',
fontSize:16,
color:stylesVar('blue')},


closeText:{
fontSize:14,
fontWeight:'300',
color:'#fff',
marginTop:15},


rightButton:{
flex:1,
marginRight:15,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


editText:{
fontSize:14,
fontWeight:'300',
color:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityChooseCarRoute=(function(_BaseRouteMapper){_inherits(ActivityChooseCarRoute,_BaseRouteMapper);
function ActivityChooseCarRoute(data){_classCallCheck(this,ActivityChooseCarRoute);
_get(Object.getPrototypeOf(ActivityChooseCarRoute.prototype),'constructor',this).call(this);

this.getCarHandle = data.getCarHandle;
this.car = data.car;}_createClass(ActivityChooseCarRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
var callback=(function(){
var data=this._root.getChooseCar();
this.getCarHandle(data);
navigator.pop();}).
bind(this);

return this._renderBackButton(route,navigator,index,navState,callback);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _this=this;
return (
React.createElement(TouchableOpacity,{onPress:function(){return _this._root.editHandle();},style:styles.rightButton},
React.createElement(Text,{style:styles.editText},'编辑')));}},{key:'renderScene',value:








function renderScene(navigator){var _this2=this;
return React.createElement(ActivityChooseCar,{ref:function(component){return _this2._root = component;},car:this.car});}},{key:'title',get:function(){return '选择出行车辆';}}]);return ActivityChooseCarRoute;})(BaseRouteMapper);



module.exports = ActivityChooseCarRoute;
});
__d('AwesomeProject/src/AddOrEditCar.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=






React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var TextInput=React.TextInput;var TouchableOpacity=React.TouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var ChooseCarType=require('AwesomeProject/src/ChooseCarType.js');

var AddOrEditCar=React.createClass({displayName:'AddOrEditCar',
getInitialState:function(){
return {
car:this.props.car || {}};},



chooseCarType:function(){
this.props.navigator.push(new ChooseCarType(this.setCarType));},


getCar:function(){
return this.state.car;},


setCarType:function(carType){
var car=_.clone(this.state.car);
car.carType = carType;
this.setState({car:car});},


setCarNumber:function(carNumber){
var car=_.clone(this.state.car);
car.carNumber = carNumber;
this.setState({car:car});},


render:function(){
var car=this.state.car;

return (
React.createElement(View,{style:styles.container},
React.createElement(View,null,
React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'出行车辆'),
React.createElement(TouchableOpacity,{style:styles.subItemContentView,
onPress:this.chooseCarType},
React.createElement(Text,{style:styles.carTypeText},car.carType),
React.createElement(Image,{source:icons.arrow,style:styles.iconArrow}))),


React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'车辆牌照'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:this.setCarNumber,
value:car.carNumber})))),



React.createElement(TouchableOpacity,{style:styles.bottomView},
React.createElement(Text,{style:styles.bottomText},'删除'))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


itemView:{
flex:1,
flexDirection:'column',
justifyContent:'flex-start',
borderColor:stylesVar('dark-light'),
borderWidth:1 / PixelRatio.get(),
paddingLeft:10,
backgroundColor:'#fff',
marginTop:20},


subItemView:{
flex:1,
flexDirection:'row',
paddingLeft:5,
height:45,
paddingRight:10,
alignItems:'center',
justifyContent:'center'},


separator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


subItemContentView:{
flex:5,
flexDirection:'row'},


subItemText:{
flex:2,
color:stylesVar('dark-mid'),
fontWeight:'300',
fontSize:13},


carTypeText:{
flex:4,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11},


iconArrow:{
width:9,
height:15},


subItemEdit:{
flex:5,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:11},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
height:50,
backgroundColor:'#fff',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'center'},


bottomText:{
fontWeight:'300',
fontSize:16,
color:stylesVar('red')},


editText:{
fontSize:14,
fontWeight:'300',
color:'#fff'},


rightButton:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
marginRight:15}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

AddOrEditCarRoute=(function(_BaseRouteMapper){_inherits(AddOrEditCarRoute,_BaseRouteMapper);
function AddOrEditCarRoute(data){_classCallCheck(this,AddOrEditCarRoute);
_get(Object.getPrototypeOf(AddOrEditCarRoute.prototype),'constructor',this).call(this);

this.car = data && data.car;
this.addCar = data && data.addCar;}_createClass(AddOrEditCarRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return (
React.createElement(TouchableOpacity,{style:styles.rightButton,
onPress:this.saveHandle.bind(this,navigator)},
React.createElement(Text,{style:styles.editText},'保存')));}},{key:'saveHandle',value:




function saveHandle(navigator){
var car=this._root.getCar();
this.addCar(car);
navigator.pop();}},{key:'renderScene',value:






function renderScene(navigator){var _this=this;
return React.createElement(AddOrEditCar,{ref:function(component){return _this._root = component;},car:this.car});}},{key:'title',get:function(){return '添加/编辑车辆';}}]);return AddOrEditCarRoute;})(BaseRouteMapper);



module.exports = AddOrEditCarRoute;
});
__d('AwesomeProject/src/ChooseCarType.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=








React.View;var Text=React.Text;var Image=React.Image;var StyleSheet=React.StyleSheet;var ListView=React.ListView;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;var Dimensions=React.Dimensions;var Animated=React.Animated;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var deviceWidth=Dimensions.get('window').width;
var TRANSLATEX=deviceWidth * 2 / 3;var _require=



require('AwesomeProject/src/widgets/index.js');var LettersView=_require.LettersView;

var ChooseCarType=React.createClass({displayName:'ChooseCarType',
getInitialState:function(){
this.refsObject = {};
return {
dataSource:new ListView.DataSource({
rowHasChanged:function(r1,r2){return r1.name !== r2.name || r1.active !== r2.active;},
sectionHeaderHasChanged:function(s1,s2){return s1 !== s2;}}),

dataSourceCover:new ListView.DataSource({
rowHasChanged:function(r1,r2){return r1 !== r2;},
sectionHeaderHasChanged:function(s1,s2){return s1 !== s2;}}),

dataBlob:{},
dataBlobCover:{},
translateX:new Animated.Value(0)};},



componentDidMount:function(){
activityApi.fetchAllCarType().then((function(dataBlob){
this.setState({
dataSource:this.state.dataSource.cloneWithRowsAndSections(dataBlob),
dataBlob:dataBlob,
dataSourceCover:this.state.dataSourceCover.cloneWithRowsAndSections({})});}).

bind(this),function(e){
console.error(e);});},



pressRow:function(sectionID,rowID){
var activeSectionID=this.state.activeSectionID;
var activeRowID=this.state.activeRowID;
var dataBlob=_.extend({},this.state.dataBlob);
var d=dataBlob[sectionID];
dataBlob[sectionID] = d.slice();
var a=d[rowID];
dataBlob[sectionID][rowID] = _.extend({},a,{active:true});

if(activeSectionID && activeRowID){
d = dataBlob[activeSectionID];
dataBlob[activeSectionID] = d.slice();
a = d[activeRowID];
dataBlob[activeSectionID][activeRowID] = _.extend({},a,{active:false});}


this.setState({
dataSource:this.state.dataSource.cloneWithRowsAndSections(dataBlob),
dataBlob:dataBlob,
activeSectionID:sectionID,
activeRowID:rowID},
(function(){
activityApi.fetchSubitemCarType(dataBlob[sectionID][rowID].name).then((function(dataBlobCover){
this.setState({
dataBlobCover:dataBlobCover,
dataSourceCover:this.state.dataSourceCover.cloneWithRowsAndSections(dataBlobCover)});

Animated.timing(
this.state.translateX,
{toValue:1}).
start();}).
bind(this),function(e){
console.error(e);});}).

bind(this));},


renderCell:function(rowData,sectionID,rowID,highlightRow){
var rowIDstyle=styles.subitemText;
if(this.state.activeSectionID === sectionID && this.state.activeRowID === rowID){
rowIDstyle = [styles.subitemText,styles.activeSubitemText];}

return (
React.createElement(TouchableOpacity,{style:styles.subitemView,activeOpacity:0.9,
onPress:this.pressRow.bind(this,sectionID,rowID)},
React.createElement(Text,{style:rowIDstyle},rowData)));},




selectedCarType:function(sectionID,rowID){
var carType=this.state.dataBlobCover[sectionID][rowID];
this.props.setCarType(carType);
this.props.navigator.pop();},


renderCoverCell:function(rowData,sectionID,rowID,highlightRow){
return (
React.createElement(TouchableOpacity,{style:styles.subitemView,activeOpacity:0.9,
onPress:this.selectedCarType.bind(this,sectionID,rowID)},
React.createElement(Text,{style:styles.subitemText},rowData)));},




renderSectionHeader:function(sectionData,sectionID){var _this=this;
return (
React.createElement(View,{style:styles.titleView,ref:function(component){return _this.refsObject[sectionID] = component;}},
React.createElement(Text,{style:styles.titleText},sectionID)));},




renderSeparator:function(){
return (
React.createElement(View,{style:styles.separator}));},



measureHandle:function(fx,fy,width,height,px,py){
this._root.refs.listviewscroll.scrollTo(fy);},


onLetterPress:function(letter){
this.refsObject[letter] && this.refsObject[letter].measure(this.measureHandle);},


render:function(){var _this2=this;
var coverStyles={
transform:[{
translateX:this.state.translateX.interpolate({
inputRange:[0,1],
outputRange:[TRANSLATEX,0]})}]};



return (
React.createElement(View,{style:styles.container},
React.createElement(View,{style:styles.containerView},
React.createElement(ListView,{
dataSource:this.state.dataSource,
renderRow:this.renderCell,
renderSectionHeader:this.renderSectionHeader,
style:styles.contentView,
renderSeparator:this.renderSeparator,
ref:function(component){return _this2._root = component;}}),
React.createElement(View,{style:styles.lettersView},
React.createElement(LettersView,{style:styles.letters,
onLetterPress:this.onLetterPress}))),


React.createElement(Animated.View,{style:[styles.coverContainer,coverStyles]},
React.createElement(ListView,{
dataSource:this.state.dataSourceCover,
renderRow:this.renderCoverCell,
renderSectionHeader:this.renderSectionHeader,
style:styles.contentView,
renderSeparator:this.renderSeparator,
ref:function(component){return _this2._root = component;}}))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


coverContainer:{
position:'absolute',
top:0,
width:TRANSLATEX,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


containerView:{
flex:1,
flexDirection:'row'},


contentView:{
flex:1,
flexDirection:'column',
borderLeftWidth:1 / PixelRatio.get(),
borderRightWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


contentCoverView:{
position:'absolute',
top:0,
right:0,
bottom:0},


lettersView:{
width:15,
paddingHorizontal:2,
alignItems:'center',
backgroundColor:'#fff'},


letters:{
flex:1,
flexDirection:'column',
alignItems:'center',
justifyContent:'center'},


titleView:{
flex:1,
paddingLeft:15,
height:30,
paddingTop:10,
borderBottomWidth:1 / PixelRatio.get(),
borderTopWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
backgroundColor:'#f3f5f6'},


titleText:{
fontSize:10,
fontWeight:'300',
color:stylesVar('dark')},


subitemView:{
flex:1,
flexDirection:'column',
paddingLeft:15,
paddingTop:16,
height:45,
backgroundColor:'#fff'},


subitemText:{
fontSize:13,
color:stylesVar('dark'),
fontWeight:'300'},


activeSubitemText:{
color:stylesVar('blue')},


separator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light'),
borderLeftWidth:10,
borderColor:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ChooseCarTypeRoute=(function(_BaseRouteMapper){_inherits(ChooseCarTypeRoute,_BaseRouteMapper);
function ChooseCarTypeRoute(setCarType){_classCallCheck(this,ChooseCarTypeRoute);
_get(Object.getPrototypeOf(ChooseCarTypeRoute.prototype),'constructor',this).call(this);

this.setCarType = setCarType;}_createClass(ChooseCarTypeRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:






function renderScene(navigator){var _this3=this;
return React.createElement(ChooseCarType,{ref:function(component){return _this3._root = component;},
setCarType:this.setCarType});}},{key:'title',get:function(){return '选择车辆品牌';}}]);return ChooseCarTypeRoute;})(BaseRouteMapper);



module.exports = ChooseCarTypeRoute;
});
__d('AwesomeProject/src/ActivityApplyInfo.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else {obj[key] = value;}return obj;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=






React.View;var Image=React.Image;var Text=React.Text;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;var ScrollView=React.ScrollView;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var ActivityApply=require('AwesomeProject/src/ActivityApply.js');
var api=require('AwesomeProject/src/api/index.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;var _require=




require('AwesomeProject/src/widgets/index.js');var Tag=_require.Tag;var ItemInfo=_require.ItemInfo;

var AV=api.AV;
var Partner=api.Partner;

var ActivityApplyInfo=React.createClass({displayName:'ActivityApplyInfo',
getInitialState:function(){
return {
type:0};},



componentDidMount:function(){
var user;
AV.User.currentAsync().then((function(_user){
user = _user;
return activityApi.fetchApplyInfo(user,this.props.activity);}).
bind(this)).then((function(partner){
this.setState({
user:user,
partner:partner});


this.props.route.setEditable(!partner.isFailed());}).
bind(this)).catch(console.trace.bind(console));

this._editSub = this.props.route.emitter.addListener('edit',(function(){
this.props.navigator.push(new ActivityApply({
partner:this.state.partner,
activity:this.props.activity}));}).

bind(this));},


componnetWillUnmount:function(){
this._editSub.remove();},


renderContent:function(){
var partner=this.state.partner;

if(partner.get('type') === Partner.SELF_RIDE){
var datas=[{
title:'出行车辆：',
content:partner.get('car').model},
{
title:'牌照：',
content:partner.get('car').number},
{
title:'手机号码：',
content:partner.get('phone')},
{
title:'出行人数：',
content:'成人' + partner.get('peopleNum') + '／儿童' + partner.get('childNum')},
{
title:'空余座位：',
content:partner.get('leftSeats')},
{
title:'是否愿意搭人：',
content:partner.get('share')?'是':'否'}];

return (
React.createElement(ItemInfo,{datas:datas}));}else 

{
var datas=[{
title:'手机号码：',
content:partner.get('phone')},
{
title:'出行人数：',
content:'成人' + partner.get('peopleNum') + '／儿童' + partner.get('childNum')},
{
title:'是否能驾驶车辆：',
content:partner.get('canDrive')?'是':'否'}];

return (
React.createElement(ItemInfo,{datas:datas}));}},




render:function(){var _Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state;
if(!this.state.user){
return null;}


var state=this.state.partner.get('status');
var stateTag=(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state = {},_defineProperty(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state,
Partner.STATUS_IN_REVIEW,'审核中'),_defineProperty(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state,Partner.STATUS_REFUSED,'审核失败'),_defineProperty(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state,Partner.STATUS_APPROVAL,'通过审核'),_defineProperty(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state,Partner.STATUS_CANCELLED,'取消资格'),_defineProperty(_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state,Partner.STATUS_CONFIRMED,'通过审核'),_Partner$STATUS_IN_REVIEW$Partner$STATUS_REFUSED$Partner$STATUS_APPROVAL$Partner$STATUS_CANCELLED$Partner$STATUS_CONFIRMED$state)[
state];

var tagStyle=this.state.partner.isFailed()?styles.tagFail:styles.tag;

return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{contentContainerStyle:styles.contentView},
React.createElement(View,{style:styles.titleView},
React.createElement(Text,{style:styles.title},this.props.activity.get('title')),
React.createElement(View,{style:styles.tagView},
React.createElement(Tag,{style:tagStyle},stateTag))),



this.renderContent()),


!this.state.partner.isFailed() && 
React.createElement(TouchableOpacity,{style:styles.bottomView},
React.createElement(Text,{style:styles.bottomText},'取消报名'))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


contentView:{
backgroundColor:'#fff'},


titleView:{
flex:1,
flexDirection:'column',
paddingTop:25,
paddingBottom:20,
borderColor:'#f3f5f6',
borderBottomWidth:1 / PixelRatio.get()},


title:{
flex:1,
fontWeight:'300',
textAlign:'center',
fontSize:16,
color:stylesVar('dark')},


tagView:{
flex:1,
paddingTop:10,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


tagFail:{
color:stylesVar('red'),
borderColor:stylesVar('red')},


tag:{
color:stylesVar('green'),
borderColor:stylesVar('green')},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
height:50,
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
backgroundColor:'#fff',
alignItems:'center',
justifyContent:'center'},


bottomText:{
textAlign:'center',
fontWeight:'300',
fontSize:16,
color:stylesVar('red')},


rightButton:{
flex:1,
flexDirection:'row',
marginRight:15,
alignItems:'center',
justifyContent:'center'},


modifyText:{
fontSize:14,
fontWeight:'300',
color:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

ActivityApplyInfoRoute=(function(_BaseRouteMapper){_inherits(ActivityApplyInfoRoute,_BaseRouteMapper);

function ActivityApplyInfoRoute(navigator,activity){_classCallCheck(this,ActivityApplyInfoRoute);
_get(Object.getPrototypeOf(ActivityApplyInfoRoute.prototype),'constructor',this).call(this);

this.navigator = navigator;
this.activity = activity;

this.emitter = new EventEmitter();}_createClass(ActivityApplyInfoRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _this=this;
if(this.editable === undefined){
return null;}


if(!this.editable){
return null;}


return (
React.createElement(TouchableOpacity,{onPress:function(){return _this.emitter.emit('edit');},
style:styles.rightButton},
React.createElement(Text,{style:styles.modifyText},'修改')));}},{key:'setEditable',value:




function setEditable(editable){
this.editable = editable;
this.navigator.forceUpdate();}},{key:'renderScene',value:






function renderScene(navigator){
return React.createElement(ActivityApplyInfo,{navigator:navigator,activity:this.activity,route:this});}},{key:'title',get:function(){return '报名信息';}}]);return ActivityApplyInfoRoute;})(BaseRouteMapper);



module.exports = ActivityApplyInfoRoute;
});
__d('AwesomeProject/src/friends/ConversationScene.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else {obj[key] = value;}return obj;}var React=require('react-native/Libraries/react-native/react-native.js');var 

Animated=









React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var ListView=React.ListView;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var TouchableHighlight=React.TouchableHighlight;var Image=React.Image;var View=React.View;var _require=



require('AwesomeProject/src/utils.js');var humanDate=_require.humanDate;

var api=require('AwesomeProject/src/api/index.js');var 

AV=
api.AV;
var RNFS=require('react-native-fs/FS.ios.js');

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var shortid=require('shortid/index.js');var _require2=



require('react-native-audio/Audio.ios.js');var AudioRecorder=_require2.AudioRecorder;var AudioPlayer=_require2.AudioPlayer;

var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var userApi=require('AwesomeProject/src/api/index.js').user;var _require3=






require('AwesomeProject/src/widgets/index.js');var Line=_require3.Line;var LettersView=_require3.LettersView;var BaseText=_require3.BaseText;var BaseTextInput=_require3.BaseTextInput;var BaseTouchableOpacity=_require3.BaseTouchableOpacity;


var Text=BaseText;
var TextInput=BaseTextInput;
var TouchableOpacity=BaseTouchableOpacity;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('Contact:log');
var warn=debug('Contact:warn');
var error=debug('Contact:error');

var DateLabel=require('AwesomeProject/src/friends/DateLabel.js');
var ContactItem=require('AwesomeProject/src/friends/ContactItem.js');
var MessageView=require('AwesomeProject/src/friends/MessageView.js');
var WebSocketImpl=require('AwesomeProject/src/friends/WebSocketImpl.js');
var AudioButton=require('AwesomeProject/src/friends/AudioButton.js');
var BottomBar=require('AwesomeProject/src/friends/BottomBar.js');

var ConversationScene=React.createClass({displayName:'ConversationScene',

getInitialState:function(){
var dateSection=this._getDateSection();
this.messages = _defineProperty({},
dateSection,[]);

var dataSource=new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;},
sectionHeaderHasChanged:function(section1,section2){return section1 !== section2;}});


dataSource = dataSource.cloneWithRowsAndSections(
this.messages,Object.keys(this.messages));

return {
dataSource:dataSource,
disabled:true};},



componentDidMount:function(){
var realtime=require('leancloud-realtime/lib/realtime.js');

realtime.config({
WebSocket:WebSocketImpl});


var rt=realtime({
appId:'5jqgy6q659ljyldiik70cev6d8n7t1ixolt6rd7k6p1n964d',
clientId:'yangchen'});


var self=this;

rt.on('open',function(){
log('realtime open');

rt.conv('5649cfb360b2ed36205025e0',function(room){
self.room = room;
self._onRootCreated();});});



rt.on('message',function(data){

if(!self.room){
return warn('room not fetched!');}


if(data.cid !== self.room.id){
return;}


self._handleMessage(data);});


rt.on('receipt',function(data){
log('message receipt',data);});


rt.on('close',function(){
log('realtime close');});


rt.on('create',function(data){
log('create',data);});},



_handleMessage:function(data){
var message={
id:data.id,
uid:data.fromPeerId,
type:data.msg.type,
content:data.msg,
timestamp:data.timestamp};

log('new message',message);
this._appendMessage(message);},


_getDateSection:function(){
if(!this.messages || Object.keys(this.messages).length === 0){
return String(Date.now());}


var lastDate=Number(Object.keys(this.messages).slice(-1)[0]);
var now=Date.now();
if(now - lastDate <= 1000 * 3600 * 3){
return String(lastDate);}else 
{
return String(Date.now());}},



_onRootCreated:function(){
log('room created');
this.setState({
disabled:false});},



_onFocus:function(){var _this=this;
setImmediate(function(){
var scrollResponder=_this.refs.scrollView.getScrollResponder();
scrollResponder.scrollResponderScrollNativeHandleToKeyboard(
React.findNodeHandle(_this.refs.bottomBar),
60,
true);});},




_onBlur:function(){
log('on blur');
this.refs.scrollView.scrollTo(0);},


_onSubmit:function(){
log('on text submit');
this.refs.scrollView.scrollTo(0);
var textMsg=this.refs.bottomBar.getTextMessage();
this.room.send({
text:textMsg},
{
type:'text'},
(function(data){
log('message result',data);
var message={
uid:'yangchen',
type:'text',
content:{
text:textMsg},

timestamp:data.t,
id:data.uid};

this._appendMessage(message);}).
bind(this));
this.refs.bottomBar.clearTextMessage();},


_appendMessage:function(message){
var section=this._getDateSection();
var messages=this.messages[section] || [];
messages = messages.concat([message]);
this.messages[section] = messages;

var dataSource=this.state.dataSource.cloneWithRowsAndSections(
this.messages,Object.keys(this.messages));

this.setState({
dataSource:dataSource});},



_onAudioRecorded:function(audio){
var file=new AV.File(audio.name,{
blob:audio},
audio.type);

file.metaData('size',audio.size);
file.metaData('format',audio.type);
file.metaData('duration',audio.duration);

var self=this;
file.save().then(function(){
log('send audio message');
var data=file.toJSON();
var messageContent={
url:file.url(),
objectId:file.id,
metaData:file.metaData()};

self.room.send(messageContent,{
type:'audio'},
(function(data){
log('audio message result',data);
var message={
uid:'yangchen',
type:'audio',
content:_extends({},
messageContent),

id:data.uid,
timestamp:data.t};

this._appendMessage(message);}).
bind(self));}).
catch(function(e){return error(e);});},


_renderMessage:function(message){

return (
React.createElement(MessageView,{
message:message,
key:'message-' + message.id,
self:message.uid === 'yangchen'}));},



_renderSectionHeader:function(sectionData,sectionID){
var date=new Date(Number(sectionID));
return React.createElement(DateLabel,{style:{marginVertical:5},text:humanDate(date)});},


render:function(){
return (
React.createElement(ScrollView,{ref:'scrollView',
scrollEnabled:false,
contentContainerStyle:[styles.container],
style:[styles.container,this.props.style]},
React.createElement(ListView,{
renderScrollComponent:function(props){
props.stickyHeaderIndices = [];
return React.createElement(ScrollView,props);},

renderRow:this._renderMessage,
renderSectionHeader:this._renderSectionHeader,
dataSource:this.state.dataSource,
style:styles.content}),
React.createElement(BottomBar,{
disabled:this.state.disabled,
onAudioRecorded:this._onAudioRecorded,
ref:'bottomBar',
style:styles.bottomBar,
onSubmitEditing:this._onSubmit,
onFocus:this._onFocus,onBlur:this._onBlur})));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


row:{
flexDirection:'row'},


content:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


bottomBar:{
borderTopWidth:1 / PixelRatio.get(),
borderTopColor:'#b9bbbc'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);

function Route(creator){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);
this.creator = creator;}_createClass(Route,[{key:'renderLeftButton',value:






function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:


function renderScene(){
return (
React.createElement(ConversationScene,{creator:this.creator}));}},{key:'title',get:function(){return this.creator.get('nickname') || this.creator.get('username');}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/utils.js',function(global, require, module, exports) {  var moment=require('moment/moment.js');
require('moment/locale/zh-cn.js');
moment.locale('zh-cn');

var DAY_MILLS=3600 * 24 * 1000;



function today(){
var now=Date.now();
return now - now % DAY_MILLS;}


function yesterday(){
var now=Date.now();
return now - now % DAY_MILLS - DAY_MILLS;}


function day(d){
return d.getTime() - d.getTime() % DAY_MILLS;}


function isToday(d){
return today() === day(d);}


function isYesterday(d){
return yesterday() === day(d);}


function humanDate(d){
if(isToday(d)){
return moment(d).format('Ah:mm');}


if(isYesterday(d)){
return '昨天 ' + moment(d).format('Ah:mm');}


if(day(d) >= today() - 6 * DAY_MILLS){
return moment(date).format('dddd Ah:mm');}


return moment(d).format('YYYY-MM-DD Ah:mm');}


module.exports = {
isToday:isToday,
isYesterday:isYesterday,
humanDate:humanDate};
});
__d('moment/locale/zh-cn.js',function(global, require, module, exports) {  (




function(global,factory){
typeof exports === 'object' && typeof module !== 'undefined'?factory(require('moment/moment.js')):
typeof define === 'function' && define.amd?define(['moment'],factory):
factory(global.moment);})(
this,function(moment){'use strict';


var zh_cn=moment.defineLocale('zh-cn',{
months:'一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
monthsShort:'1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
weekdays:'星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
weekdaysShort:'周日_周一_周二_周三_周四_周五_周六'.split('_'),
weekdaysMin:'日_一_二_三_四_五_六'.split('_'),
longDateFormat:{
LT:'Ah点mm分',
LTS:'Ah点m分s秒',
L:'YYYY-MM-DD',
LL:'YYYY年MMMD日',
LLL:'YYYY年MMMD日Ah点mm分',
LLLL:'YYYY年MMMD日ddddAh点mm分',
l:'YYYY-MM-DD',
ll:'YYYY年MMMD日',
lll:'YYYY年MMMD日Ah点mm分',
llll:'YYYY年MMMD日ddddAh点mm分'},

meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,
meridiemHour:function(hour,meridiem){
if(hour === 12){
hour = 0;}

if(meridiem === '凌晨' || meridiem === '早上' || 
meridiem === '上午'){
return hour;}else 
if(meridiem === '下午' || meridiem === '晚上'){
return hour + 12;}else 
{

return hour >= 11?hour:hour + 12;}},


meridiem:function(hour,minute,isLower){
var hm=hour * 100 + minute;
if(hm < 600){
return '凌晨';}else 
if(hm < 900){
return '早上';}else 
if(hm < 1130){
return '上午';}else 
if(hm < 1230){
return '中午';}else 
if(hm < 1800){
return '下午';}else 
{
return '晚上';}},


calendar:{
sameDay:function(){
return this.minutes() === 0?'[今天]Ah[点整]':'[今天]LT';},

nextDay:function(){
return this.minutes() === 0?'[明天]Ah[点整]':'[明天]LT';},

lastDay:function(){
return this.minutes() === 0?'[昨天]Ah[点整]':'[昨天]LT';},

nextWeek:function(){
var startOfWeek,prefix;
startOfWeek = moment().startOf('week');
prefix = this.unix() - startOfWeek.unix() >= 7 * 24 * 3600?'[下]':'[本]';
return this.minutes() === 0?prefix + 'dddAh点整':prefix + 'dddAh点mm';},

lastWeek:function(){
var startOfWeek,prefix;
startOfWeek = moment().startOf('week');
prefix = this.unix() < startOfWeek.unix()?'[上]':'[本]';
return this.minutes() === 0?prefix + 'dddAh点整':prefix + 'dddAh点mm';},

sameElse:'LL'},

ordinalParse:/\d{1,2}(日|月|周)/,
ordinal:function(number,period){
switch(period){
case 'd':
case 'D':
case 'DDD':
return number + '日';
case 'M':
return number + '月';
case 'w':
case 'W':
return number + '周';
default:
return number;}},


relativeTime:{
future:'%s内',
past:'%s前',
s:'几秒',
m:'1 分钟',
mm:'%d 分钟',
h:'1 小时',
hh:'%d 小时',
d:'1 天',
dd:'%d 天',
M:'1 个月',
MM:'%d 个月',
y:'1 年',
yy:'%d 年'},

week:{

dow:1,
doy:4}});



return zh_cn;});
});
__d('react-native-audio/Audio.ios.js',function(global, require, module, exports) {  'use strict';






var React;var _require=require('react-native/Libraries/react-native/react-native.js');var NativeModules=_require.NativeModules;var NativeAppEventEmitter=_require.NativeAppEventEmitter;

var AudioPlayerManager=NativeModules.AudioPlayerManager;
var AudioRecorderManager=NativeModules.AudioRecorderManager;

var AudioPlayer={
play:function(path){
AudioPlayerManager.play(path);},

playWithUrl:function(url){
AudioPlayerManager.playWithUrl(url);},

pause:function(){
AudioPlayerManager.pause();},

stop:function(){
AudioPlayerManager.stop();
if(this.subscription){
this.subscription.remove();}}};




var AudioRecorder={
prepareRecordingAtPath:function(path){var _this=this;
AudioRecorderManager.prepareRecordingAtPath(path);
var progressSubscription=NativeAppEventEmitter.addListener('recordingProgress',
function(data){
console.log(data);
if(_this.onProgress){
_this.onProgress(data);}});




var finishedSubscription=NativeAppEventEmitter.addListener('recordingFinished',
function(data){
if(_this.onFinished){
_this.onFinished(data);}

_this._removeSubscriptions();});



var errorSubscription=NativeAppEventEmitter.addListener('recordingError',
function(data){
if(_this.onError){
_this.onError(data);}

_this._removeSubscriptions();});



this.subscriptions = [
progressSubscription,
finishedSubscription,
errorSubscription];},



_removeSubscriptions:function(){
this.subscriptions.forEach(function(sub){return sub.remove();});
this.subscriptions = null;},


startRecording:function(){
AudioRecorderManager.startRecording();},

pauseRecording:function(){
AudioRecorderManager.pauseRecording();},

stopRecording:function(){
AudioRecorderManager.stopRecording();},

deleteRecording:function(){
AudioRecorderManager.deleteRecording();},

playRecording:function(){
AudioRecorderManager.playRecording();},

stopPlaying:function(){
AudioRecorderManager.stopPlaying();}};



module.exports = {AudioPlayer:AudioPlayer,AudioRecorder:AudioRecorder};
});
__d('AwesomeProject/src/friends/DateLabel.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


View=


React.View;var Text=React.Text;var StyleSheet=React.StyleSheet;

var stylesVar=require('AwesomeProject/src/stylesVar.js');var _require=


require('AwesomeProject/src/widgets/index.js');var BaseText=_require.BaseText;

var Label=React.createClass({displayName:'Label',
render:function(){
return (
React.createElement(View,{style:[styles.wrap,this.props.style]},
React.createElement(View,{style:styles.label},
React.createElement(Text,{style:styles.text},
this.props.text))));}});







var styles=StyleSheet.create({
wrap:{
justifyContent:'center',
alignItems:'center'},


label:{
backgroundColor:'#ccc',
overflow:'hidden',
paddingVertical:3,
paddingHorizontal:8,
borderRadius:5},


text:{
fontSize:12,
fontWeight:'400',
color:'white'}});



module.exports = Label;
});
__d('AwesomeProject/src/friends/ContactItem.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


View=


React.View;var Image=React.Image;var StyleSheet=React.StyleSheet;var _require=







require('AwesomeProject/src/widgets/index.js');var Line=_require.Line;var LettersView=_require.LettersView;var BaseText=_require.BaseText;var BaseTextInput=_require.BaseTextInput;var BaseTouchableOpacity=_require.BaseTouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');


var Text=BaseText;
var TextInput=BaseTextInput;
var TouchableOpacity=BaseTouchableOpacity;

var su=require('AwesomeProject/src/styleUtils.js');

var ContactItem=React.createClass({displayName:'ContactItem',

render:function(){
var item=this.props.item;

return (
React.createElement(TouchableOpacity,{
style:styles.item,
onPress:this.props.onPress},
React.createElement(Image,{style:styles.avatar,
source:item.avatar || icons.avatarPlaceholder}),
React.createElement(Text,{style:styles.name},item.name)));}});





var styles=StyleSheet.create({
avatar:_extends({
borderRadius:12.5},
su.size(25)),


name:{
marginLeft:5},


item:{
backgroundColor:'white',
flexDirection:'row',
alignItems:'center',
paddingLeft:16,
height:45}});



module.exports = ContactItem;
});
__d('AwesomeProject/src/friends/MessageView.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


Image=




React.Image;var PixelRatio=React.PixelRatio;var View=React.View;var NativeModules=React.NativeModules;var StyleSheet=React.StyleSheet;

var TextMeasurer=NativeModules.TextMeasurer;
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');var _require=




require('AwesomeProject/src/widgets/index.js');var BaseText=_require.BaseText;var BaseTouchableOpacity=_require.BaseTouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');

var Text=BaseText;
var TouchableOpacity=BaseTouchableOpacity;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('MessageView:log');
var error=debug('MessageView:error');
var warn=debug('MessageView:warn');

var MSG_FONT_FAMILY='Helvetica';
var MSG_FONT_SIZE=14;
var MSG_PADDING=8;
var MSG_BORDER_WIDTH=1 / PixelRatio.get();

var AutosizingText=React.createClass({
displayName:'AutosizingText',

getInitialState:function(){
return {
width:null,
ready:false};},



_onLayout:function(e){var _this=this;
var layout=e.nativeEvent.layout;
var self=this;
var fontSize=MSG_FONT_SIZE;
TextMeasurer.get(this.props.text.trim(),MSG_FONT_FAMILY,fontSize,function(len){
var _width=len + MSG_PADDING * 2 + MSG_BORDER_WIDTH * 2 + 8;
_this.setState({
width:Math.min(_width,layout.width),
multiline:_width > layout.width,
ready:true});});},




render:function(){
var style={
width:this.state.width,
backgroundColor:'transparent'};



var lines=this.state.multiline?65535:1;

return (
React.createElement(View,{ref:'view',style:this.props.style,onLayout:this._onLayout},
React.createElement(View,{style:style},
this.state.ready && 
React.createElement(Text,{numberOfLines:lines,
style:this.props.textStyle,ref:'text'},
this.props.text.trim()))));}});







var barStyles={
bar:{
overflow:'hidden',
padding:MSG_PADDING,
borderWidth:MSG_BORDER_WIDTH,
borderColor:stylesVar('dark-light'),
borderRadius:5,
backgroundColor:'white'},


barSelf:{
backgroundColor:stylesVar('brand-primary')}};



var AudioBar=React.createClass({displayName:'AudioBar',

getInitialState:function(){
return {
width:0,
ready:false};},



getDefaultProps:function(){
return {
self:false};},



_duration:function(){
var audio=this.props.audio;
return Math.min(60,Math.round(audio.metaData.duration));},


_onLayout:function(e){
if(this.state.ready){
return;}


var layout=e.nativeEvent.layout;
var duration=this._duration();
var width=layout.width / 4;

if(duration <= 10){
width += layout.width / 2 * duration / 10;}else 
if(duration > 10){
width += layout.width / 2;
width += layout.width / 4 * (duration - 10) / 50;}


log('duration',duration,'width',width);

this.setState({
width:width,
ready:true});},



render:function(){
var styles={
row:{
flexDirection:'row',
alignItems:'center',
width:this.state.width},

container:{
flex:1,
alignItems:this.props.self?'flex-end':'flex-start'},

secs:{
fontSize:12,
fontWeight:"400",
color:stylesVar('dark-mid'),
marginHorizontal:5},


bar:{
flex:1,
height:34}};



log('audioBar styles',styles);

if(!this.state.ready){
return (
React.createElement(View,{ref:'view',
style:[styles.container,this.props.style],
onLayout:this._onLayout}));}




if(this.props.self){
return (
React.createElement(View,{ref:'view',
style:[styles.container,this.props.style],
onLayout:this._onLayout},
React.createElement(View,{style:styles.row},
React.createElement(Text,{style:styles.secs},this._duration() + "\""),
React.createElement(TouchableOpacity,{style:[barStyles.bar,barStyles.barSelf,styles.bar]}))));}else 



{
return (
React.createElement(View,{ref:'view',
style:[styles.container,this.props.style],
onLayout:this._onLayout},
React.createElement(View,{style:styles.row},
React.createElement(TouchableOpacity,{style:[barStyles.bar,styles.bar]}),
React.createElement(Text,{style:styles.secs},this._duration() + "\""))));}}});







var MessageView=React.createClass({displayName:'MessageView',
getDefaultProps:function(){
return {
self:false};},



_renderAudioMessage:function(){
var message=this.props.message;
if(this.props.self){
return (
React.createElement(View,{style:[styles.msg,styles.self,this.props.style]},
React.createElement(View,{style:styles.space}),
React.createElement(AudioBar,{audio:message.content,self:true,style:{marginHorizontal:8}}),
React.createElement(Image,{style:styles.avatar,
source:icons.avatarPlaceholder})));}else 


{
return (
React.createElement(View,{style:[styles.msg,this.props.style]},
React.createElement(Image,{style:styles.avatar,
source:icons.avatarPlaceholder}),
React.createElement(AudioBar,{audio:message.content,style:{marginHorizontal:8}}),
React.createElement(View,{style:styles.space})));}},





_renderTextMessage:function(){
var message=this.props.message;
if(this.props.self){
return (
React.createElement(View,{style:[styles.msg,styles.self,this.props.style]},
React.createElement(View,{style:styles.space}),
React.createElement(AutosizingText,{
style:[styles.textBox,styles.textBoxSelf],
textStyle:[styles.text,styles.textSelf],
text:this.props.message.content.text}),
React.createElement(Image,{style:styles.avatar,
source:icons.avatarPlaceholder})));}else 


{
return (
React.createElement(View,{style:[styles.msg,this.props.style]},
React.createElement(Image,{style:styles.avatar,
source:icons.avatarPlaceholder}),
React.createElement(AutosizingText,{
style:styles.textBox,
textStyle:styles.text,
text:this.props.message.content.text}),
React.createElement(View,{style:styles.space})));}},





render:function(){
var message=this.props.message;
if(message.type === 'audio'){
return this._renderAudioMessage();}else 
{
return this._renderTextMessage();}}});




var styles=StyleSheet.create({
msg:{
flex:1,
marginVertical:10,
flexDirection:'row',
alignItems:'flex-start',
marginHorizontal:8},


self:{
justifyContent:'flex-end'},


avatar:_extends({},
su.size(36)),


textBox:{
flex:1,
marginHorizontal:8,
backgroundColor:'transparent'},


textBoxSelf:{
alignItems:'flex-end'},


text:_extends({},
barStyles.bar,{
fontFamily:MSG_FONT_FAMILY,
fontSize:MSG_FONT_SIZE}),


textSelf:_extends({},
barStyles.barSelf,{
color:'white'}),


space:{
width:60}});



module.exports = MessageView;
});
__d('AwesomeProject/src/friends/WebSocketImpl.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var EventEmitter=require('EventEmitter');var 

WebSocketImpl=(function(_WebSocket){_inherits(WebSocketImpl,_WebSocket);

function WebSocketImpl(url,protocols){_classCallCheck(this,WebSocketImpl);
_get(Object.getPrototypeOf(WebSocketImpl.prototype),'constructor',this).call(this,url,protocols);
this._emitter = new EventEmitter();}_createClass(WebSocketImpl,[{key:'addEventListener',value:


function addEventListener(eventType,listener){
return this._emitter.addListener(eventType,listener);}},{key:'onopen',value:


function onopen(){
this._emitter.emit('open',{});}},{key:'onmessage',value:


function onmessage(event){
this._emitter.emit('message',event);}},{key:'onclose',value:


function onclose(event){
this._emitter.emit('close',event);}},{key:'onerror',value:


function onerror(error){
this._emitter.emit('error',error);}}]);return WebSocketImpl;})(WebSocket);



module.exports = WebSocketImpl;
});
__d('AwesomeProject/src/friends/AudioButton.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 

StyleSheet=



React.StyleSheet;var PixelRatio=React.PixelRatio;var Text=React.Text;var View=React.View;

var keyMirror=require('keyMirror');

var debug=require('AwesomeProject/src/debug.js');
var log=debug('AudioButton:log');
var warn=debug('AudioButton:warn');
var error=debug('AudioButton:error');

var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var THREHOLD=40;

var States=keyMirror({
INITIALIZED:null,
TOUCH_IN:null,
TOUCH_OUT:null,
RELEASE:null});


var AudioButton=React.createClass({displayName:'AudioButton',

getInitialState:function(){
return {
touchState:States.INITIALIZED,
size:null};},



getDefaultProps:function(){
return {
disabled:false};},



_performTransition:function(curTouchState,nextTouchState){
log(curTouchState,nextTouchState);
if(curTouchState === nextTouchState){
return;}


if(nextTouchState === States.TOUCH_OUT){
this.props.handleTouchOut && this.props.handleTouchOut();}


if(nextTouchState === States.TOUCH_IN){
this.props.handleTouchIn && this.props.handleTouchIn();}


if(nextTouchState === States.RELEASE){
if(curTouchState === States.TOUCH_IN){
this.props.handleTouchEnd && 
this.props.handleTouchEnd();}else 
if(curTouchState === States.TOUCH_OUT){
this.props.handleTouchCancelled && 
this.props.handleTouchCancelled();}}},




_responderGrant:function(e){
this._performTransition(this.state.touchState,States.TOUCH_IN);
this.setState({
touchState:States.TOUCH_IN});},



_responderMove:function(e){var _this=this;
this.refs.view.measure(function(fx,fy,width,height){
_this.state.size = {
width:width,
height:height};});



if(!this.state.size){
return;}


var locationX=e.nativeEvent.locationX;
var locationY=e.nativeEvent.locationY;

var touchIsIn=locationX >= 0 && 
locationX <= this.state.size.width && 
locationY >= -THREHOLD && 
locationY <= this.state.size.height;

var nextTouchState=touchIsIn?
States.TOUCH_IN:
States.TOUCH_OUT;

var curTouchState=this.state.touchState;
this._performTransition(curTouchState,nextTouchState);
this.setState({
touchState:nextTouchState});},



_responderEnd:function(e){
var nextTouchState=States.RELEASE;
var curTouchState=this.state.touchState;
this._performTransition(curTouchState,nextTouchState);
this.setState({
touchState:nextTouchState});},



_isRecording:function(){
return this.state.touchState === States.TOUCH_IN || 
this.state.touchState === States.TOUCH_OUT;},


render:function(){var _this2=this;
var wrapStyle=[styles.wrap];
if(this._isRecording()){
wrapStyle.push(styles.highlight);}

wrapStyle.push(this.props.style);

var buttonText=this._isRecording()?'松开 结束':'按住 说话';

return (
React.createElement(View,{
ref:'view',
onStartShouldSetResponder:function(){return !_this2.props.disabled;},
onResponderTimernationRequest:function(){return true;},
onResponderGrant:this._responderGrant,
onResponderMove:this._responderMove,
onResponderRelease:this._responderEnd,
onResponderTerminate:this._responderEnd,
style:wrapStyle},
React.createElement(Text,{style:[styles.input,styles.audioText]},
buttonText)));}});






var styles=StyleSheet.create({
wrap:{
flex:1,
height:32,
justifyContent:'center',
alignItems:'center',
backgroundColor:stylesVar('bg-gray'),
borderWidth:1 / PixelRatio.get(),
borderColor:'#c8c8cd',
borderRadius:5},


highlight:{
backgroundColor:stylesVar('dark-mid'),
borderColor:stylesVar('dark-mid')}});



module.exports = AudioButton;
});
__d('AwesomeProject/src/friends/BottomBar.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 

Animated=





React.Animated;var ListView=React.ListView;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var Image=React.Image;var View=React.View;

var RNFS=require('react-native-fs/FS.ios.js');

var shortid=require('shortid/index.js');var _require=



require('react-native-audio/Audio.ios.js');var AudioRecorder=_require.AudioRecorder;var AudioPlayer=_require.AudioPlayer;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');var _require2=





require('AwesomeProject/src/widgets/index.js');var BaseText=_require2.BaseText;var BaseTextInput=_require2.BaseTextInput;var BaseTouchableOpacity=_require2.BaseTouchableOpacity;


var Text=BaseText;
var TextInput=BaseTextInput;
var TouchableOpacity=BaseTouchableOpacity;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('Friends/BottomBar:log');
var warn=debug('Friends/BottomBar:warn');
var error=debug('Friends/BottomBar:error');

var AudioButton=require('AwesomeProject/src/friends/AudioButton.js');
var EmojiGrid=require('AwesomeProject/src/friends/EmojiGrid.js');

var styles=StyleSheet.create({
row:{
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
height:40},


bar:{
backgroundColor:stylesVar('bg-gray')},


icon:_extends({},
su.size(24),{
resizeMode:'contain',
marginHorizontal:5}),


inputWrap:{
flex:1,
justifyContent:'center',
marginRight:5},


textInput:{
height:32,
paddingHorizontal:6,
backgroundColor:'white',
borderWidth:1 / PixelRatio.get(),
borderColor:'#c8c8cd',
borderRadius:5}});



var BottomBar=React.createClass({displayName:'BottomBar',

getInitialState:function(){
return {
mode:'text',
textMsg:''};},



_toggleMode:function(){
this.setState({
mode:this.state.mode === 'audio'?'text':'audio'});},



_handleTouchIn:function(){var _this=this;
log('touch in');
if(this.state.status === 'recording'){
return;}


if(this.state.status === 'playing'){
AudioPlayer.stop();}


this.state.status = 'recording';
this.state.audioPath = 'audio-' + shortid.generate() + '.aac';
AudioRecorder.prepareRecordingAtPath('/' + this.state.audioPath);
AudioRecorder.startRecording();
AudioRecorder.onProgress = function(data){
log('recording',data.currentTime);};


AudioRecorder.onFinished = function(data){
log('Finished recording',data);
if(_this.state.status === 'pre-cancelled'){
warn('Audio message is cancelled');
return AudioRecorder.deleteRecording();}


if(data.status !== 'OK'){
_this.state.status = 'error';
return warn('fail to record');}


_this.state.status = 'end';
var audioPath=_this.state.audioPath;
var url='file://' + RNFS.DocumentDirectoryPath + '/' + audioPath;
log('audio url',url);

_this.props.onAudioRecorded && _this.props.onAudioRecorded(_extends({},
data,{
name:audioPath,
type:'audio/aac',
uri:url}));};



AudioRecorder.onError = function(data){
error('recording error',data);};},



_handleTouchOut:function(){
log('touch out');},


_handleTouchEnd:function(){
AudioRecorder.stopRecording();
this.state.status = 'pre-end';},


_handleTouchCancelled:function(){
AudioRecorder.stopRecording();
this.state.status = 'pre-cancelled';},


getTextMessage:function(){
return this.state.textMsg;},


clearTextMessage:function(){
this.setState({
textMsg:''});},



_showExpressions:function(){},



_insertEmoji:function(emoji,name){
log('insert emoji',emoji,name);
var textMsg=this.state.textMsg + ('[' + name + ']');
this.setState({
textMsg:textMsg});},



render:function(){var _this2=this;
var icon=this.state.mode === 'text'?
icons.audio:icons.keyboard;

return (
React.createElement(Animated.View,{style:this.props.style},
React.createElement(View,{style:[styles.row,styles.bar]},
React.createElement(TouchableOpacity,{
onPress:this._toggleMode},
React.createElement(Image,{style:styles.icon,source:icon})),


this.state.mode === 'text' && 
React.createElement(View,{style:styles.inputWrap},
React.createElement(TextInput,{
onSubmitEditing:this.props.onSubmitEditing,
onBlur:this.props.onBlur,
onFocus:this.props.onFocus,
value:this.state.textMsg,
onChangeText:function(textMsg){return _this2.setState({textMsg:textMsg});},
style:styles.textInput})),


this.state.mode === 'audio' && 
React.createElement(AudioButton,{
disabled:this.props.disabled,
handleTouchIn:this._handleTouchIn,
handleTouchOut:this._handleTouchOut,
handleTouchEnd:this._handleTouchEnd,
handleTouchCancelled:this._handleTouchCancelled}),

React.createElement(TouchableOpacity,null,
React.createElement(Image,{style:styles.icon,
onPress:this._showExpressions,
source:icons.expression})),

React.createElement(TouchableOpacity,null,
React.createElement(Image,{style:styles.icon,
source:icons.sendMedia}))),



React.createElement(EmojiGrid,{onPress:this._insertEmoji})));}});





module.exports = BottomBar;
});
__d('AwesomeProject/src/friends/EmojiGrid.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


View=




React.View;var ListView=React.ListView;var StyleSheet=React.StyleSheet;var Text=React.Text;var Dimensions=React.Dimensions;

var deviceWidth=Dimensions.get('window').width;

var ViewPager=require('react-native-viewpager/ViewPager.js');
var Emoji=require('react-native-emoji/index.js');var _require=




require('AwesomeProject/src/widgets/index.js');var BaseText=_require.BaseText;var BaseTouchableOpacity=_require.BaseTouchableOpacity;

var Text=BaseText;
var TouchableOpacity=BaseTouchableOpacity;

var su=require('AwesomeProject/src/styleUtils.js');

var EmojiPageIndicator=require('AwesomeProject/src/friends/EmojiPageIndicator.js');

var PADDING_HORIZONTAL=8;
var EMOJI_SIZE=(deviceWidth - PADDING_HORIZONTAL * 2) / 8;

var EMOJIS={
'smile':'微笑',
'heart_eyes':'色',
'no_mouth':'发呆',
'sunglasses':'得意',
'sob':'流泪',
'sleeping':'睡',
'disappointed_relieved':'大哭',
'rage':'发怒',
'stuck_out_tongue':'调皮',
'laughing':'大笑',
'astonished':'惊讶',
'frowning':'难过',
'sweat':'汗',
'confounded':'抓狂',
'yum':'愉快',
'kissing':'亲亲',
'broken_heart':'心碎',
'ok_hand':'OK',
'+1':'强',
'-1':'弱'};


var EmojiGridPage=React.createClass({displayName:'EmojiGridPage',
_handlePress:function(emoji){
var name=EMOJIS[emoji];
this.props.onPress(emoji,name);},


render:function(){var _this=this;
return (
React.createElement(View,{style:styles.page,key:'page-' + (this.props.page + 1)},
Object.keys(EMOJIS).map(function(emoji){
return (
React.createElement(TouchableOpacity,{style:styles.cell,
onPress:_this._handlePress.bind(_this,emoji)},
React.createElement(Text,{style:{fontSize:Math.min(16,EMOJI_SIZE / 2)}},
React.createElement(Emoji,{name:emoji}))));})));}});









var PageIndicator=React.createClass({displayName:'PageIndicator',
render:function(){
return (
React.createElement(View,{style:styles.indicators},
React.createElement(EmojiPageIndicator,this.props)));}});





var EmojiGrid=React.createClass({displayName:'EmojiGrid',
_renderPage:function(emojiCollection){var _this2=this;
return (
React.createElement(EmojiGridPage,{
onPress:function(emoji,name){return _this2.props.onPress(emoji,name);},
emojiCollection:emojiCollection}));},



_renderPageIndicator:function(){
return React.createElement(PageIndicator,null);},


render:function(){
var dataSource=new ViewPager.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}});


dataSource = dataSource.cloneWithPages([0]);

return (
React.createElement(ViewPager,{autoPlay:false,
renderPageIndicator:this._renderPageIndicator,
renderPage:this._renderPage,
dataSource:dataSource}));}});





var styles=StyleSheet.create({
page:{
flex:1,
flexDirection:'row',
flexWrap:'wrap',
paddingHorizontal:PADDING_HORIZONTAL},


cell:_extends({
alignItems:'center',
justifyContent:'center'},
su.size(EMOJI_SIZE)),


indicators:{
height:20,
justifyContent:'center',
alignItems:'center'}});



module.exports = EmojiGrid;
});
__d('react-native-viewpager/ViewPager.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

var React=require('react-native/Libraries/react-native/react-native.js');var 

Dimensions=







React.Dimensions;var Text=React.Text;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var PanResponder=React.PanResponder;var Animated=React.Animated;var PropTypes=React.PropTypes;var StyleSheet=React.StyleSheet;

var StaticRenderer=require('StaticRenderer');
var TimerMixin=require('react-timer-mixin/TimerMixin.js');

var DefaultViewPageIndicator=require('react-native-viewpager/DefaultViewPageIndicator.js');
var deviceWidth=Dimensions.get('window').width;
var ViewPagerDataSource=require('react-native-viewpager/ViewPagerDataSource.js');

var ViewPager=React.createClass({displayName:'ViewPager',
mixins:[TimerMixin],

statics:{
DataSource:ViewPagerDataSource},


propTypes:_extends({},
View.propTypes,{
dataSource:PropTypes.instanceOf(ViewPagerDataSource).isRequired,
renderPage:PropTypes.func.isRequired,
onChangePage:PropTypes.func,
renderPageIndicator:React.PropTypes.oneOfType([
PropTypes.func,
PropTypes.bool]),

isLoop:PropTypes.bool,
locked:PropTypes.bool,
autoPlay:PropTypes.bool}),


getDefaultProps:function(){
return {
isLoop:false,
locked:false};},



getInitialState:function(){
return {
currentPage:0,
viewWidth:0,
childIndex:0,
scrollValue:new Animated.Value(0)};},



componentWillMount:function(){var _this=this;
var release=function(e,gestureState){
var relativeGestureDistance=gestureState.dx / deviceWidth,

vx=gestureState.vx;

var step=0;
if(relativeGestureDistance < -0.5 || relativeGestureDistance < 0 && vx <= 0.5){
step = 1;}else 
if(relativeGestureDistance > 0.5 || relativeGestureDistance > 0 && vx >= 0.5){
step = -1;}


_this.props.hasTouch && _this.props.hasTouch(false);

_this.movePage(step);};


this._panResponder = PanResponder.create({

onMoveShouldSetPanResponder:function(e,gestureState){
if(Math.abs(gestureState.dx) > Math.abs(gestureState.dy)){
if(

_this.props.locked !== true && !_this.state.fling){
_this.props.hasTouch && _this.props.hasTouch(true);
return true;}}},





onPanResponderRelease:release,
onPanResponderTerminate:release,


onPanResponderMove:function(e,gestureState){
var dx=gestureState.dx;
var offsetX=-dx / _this.state.viewWidth + _this.state.childIndex;
_this.state.scrollValue.setValue(offsetX);}});



if(this.props.isLoop){
this.state.childIndex = 1;
this.state.scrollValue.setValue(1);}},



componentDidMount:function(){
if(this.props.autoPlay){
this._startAutoPlay();}},



componentWillReceiveProps:function(nextProps){
if(nextProps.autoPlay){
this._startAutoPlay();}else 
{
if(this._autoPlayer){
this.clearInterval(this._autoPlayer);
this._autoPlayer = null;}}},




_startAutoPlay:function(){var _this2=this;
if(!this._autoPlayer){
this._autoPlayer = this.setInterval(
function(){_this2.movePage(1);},
5000);}},




goToPage:function(pageNumber){

var pageCount=this.props.dataSource.getPageCount();
if(pageNumber < 0 || pageNumber >= pageCount){
console.error('Invalid page number: ',pageNumber);
return;}


var step=pageNumber - this.state.currentPage;
this.movePage(step);},


movePage:function(step){var _this3=this;
var pageCount=this.props.dataSource.getPageCount();
var pageNumber=this.state.currentPage + step;

if(this.props.isLoop){
pageNumber = (pageNumber + pageCount) % pageCount;}else 
{
pageNumber = Math.min(Math.max(0,pageNumber),pageCount - 1);}


var moved=pageNumber !== this.state.currentPage;
var scrollStep=(moved?step:0) + this.state.childIndex;

moved && this.props.onChangePage && this.props.onChangePage(pageNumber);

this.state.fling = true;

var nextChildIdx=0;
if(pageNumber > 0 || this.props.isLoop){
nextChildIdx = 1;}


Animated.spring(this.state.scrollValue,{toValue:scrollStep,friction:10,tension:50}).
start(function(event){
if(event.finished){
_this3.state.fling = false;
_this3.state.childIndex = nextChildIdx;
_this3.state.scrollValue.setValue(nextChildIdx);
_this3.setState({
currentPage:pageNumber});}});},





renderPageIndicator:function(props){
if(this.props.renderPageIndicator === false){
return null;}else 
if(this.props.renderPageIndicator){
return React.cloneElement(this.props.renderPageIndicator(),props);}else 
{
return (
React.createElement(View,{style:styles.indicators},
React.createElement(DefaultViewPageIndicator,props)));}},





_getPage:function(pageIdx){
var dataSource=this.props.dataSource;
var pageID=dataSource.pageIdentities[pageIdx];
return (
React.createElement(StaticRenderer,{
key:'p_' + pageID,
shouldUpdate:true,
render:this.props.renderPage.bind(
null,
dataSource.getPageData(pageIdx),
pageID)}));},





render:function(){var _this4=this;
var dataSource=this.props.dataSource;
var pageIDs=dataSource.pageIdentities;

var bodyComponents=[];

var pagesNum=0;
var hasLeft=false;
var viewWidth=this.state.viewWidth;

if(pageIDs.length > 0 && viewWidth > 0){

if(this.state.currentPage > 0){
bodyComponents.push(this._getPage(this.state.currentPage - 1));
pagesNum++;
hasLeft = true;}else 
if(this.state.currentPage == 0 && this.props.isLoop){
bodyComponents.push(this._getPage(pageIDs.length - 1));
pagesNum++;
hasLeft = true;}



bodyComponents.push(this._getPage(this.state.currentPage));
pagesNum++;


if(this.state.currentPage < pageIDs.length - 1){
bodyComponents.push(this._getPage(this.state.currentPage + 1));
pagesNum++;}else 
if(this.state.currentPage == pageIDs.length - 1 && this.props.isLoop){
bodyComponents.push(this._getPage(0));
pagesNum++;}}



var sceneContainerStyle={
width:viewWidth * pagesNum,
flex:1,
flexDirection:'row'};




var translateX=this.state.scrollValue.interpolate({
inputRange:[0,1],outputRange:[0,-viewWidth]});


return (
React.createElement(View,{style:{flex:1},
onLayout:function(event){

var viewWidth=event.nativeEvent.layout.width;
if(!viewWidth || _this4.state.viewWidth === viewWidth){
return;}

_this4.setState({
currentPage:_this4.state.currentPage,
viewWidth:viewWidth});}},




React.createElement(Animated.View,_extends({style:[sceneContainerStyle,{transform:[{translateX:translateX}]}]},
this._panResponder.panHandlers),
bodyComponents),


this.renderPageIndicator({goToPage:this.goToPage,
pageCount:pageIDs.length,
activePage:this.state.currentPage,
scrollValue:this.state.scrollValue,
scrollOffset:this.state.childIndex})));}});






var styles=StyleSheet.create({
indicators:{
flex:1,
alignItems:'center',
position:'absolute',
bottom:10,
left:0,
right:0,
backgroundColor:'transparent'}});



module.exports = ViewPager;
});
__d('react-timer-mixin/TimerMixin.js',function(global, require, module, exports) {  'use strict';










var GLOBAL=typeof window === 'undefined'?global:window;

var setter=function(_setter,_clearer,array){
return function(callback,delta){
var id=_setter((function(){
_clearer.call(this,id);
callback.apply(this,arguments);}).
bind(this),delta);

if(!this[array]){
this[array] = [id];}else 
{
this[array].push(id);}

return id;};};



var clearer=function(_clearer,array){
return function(id){
if(this[array]){
var index=this[array].indexOf(id);
if(index !== -1){
this[array].splice(index,1);}}


_clearer(id);};};



var _timeouts='TimerMixin_timeouts';
var _clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts);
var _setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts);

var _intervals='TimerMixin_intervals';
var _clearInterval=clearer(GLOBAL.clearInterval,_intervals);
var _setInterval=setter(GLOBAL.setInterval,function(){},_intervals);

var _immediates='TimerMixin_immediates';
var _clearImmediate=clearer(GLOBAL.clearImmediate,_immediates);
var _setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates);

var _rafs='TimerMixin_rafs';
var _cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs);
var _requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs);

var TimerMixin={
componentWillUnmount:function(){
this[_timeouts] && this[_timeouts].forEach(function(id){
GLOBAL.clearTimeout(id);});

this[_timeouts] = null;
this[_intervals] && this[_intervals].forEach(function(id){
GLOBAL.clearInterval(id);});

this[_intervals] = null;
this[_immediates] && this[_immediates].forEach(function(id){
GLOBAL.clearImmediate(id);});

this[_immediates] = null;
this[_rafs] && this[_rafs].forEach(function(id){
GLOBAL.cancelAnimationFrame(id);});

this[_rafs] = null;},


setTimeout:_setTimeout,
clearTimeout:_clearTimeout,

setInterval:_setInterval,
clearInterval:_clearInterval,

setImmediate:_setImmediate,
clearImmediate:_clearImmediate,

requestAnimationFrame:_requestAnimationFrame,
cancelAnimationFrame:_cancelAnimationFrame};


module.exports = TimerMixin;
});
__d('react-native-viewpager/DefaultViewPageIndicator.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');var 

Dimensions=





React.Dimensions;var StyleSheet=React.StyleSheet;var Text=React.Text;var TouchableOpacity=React.TouchableOpacity;var View=React.View;var Animated=React.Animated;

var deviceWidth=Dimensions.get('window').width;
var DOT_SIZE=6;
var DOT_SAPCE=3;

var styles=StyleSheet.create({
tab:{
alignItems:'center'},


tabs:{
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


dot:{
width:DOT_SIZE,
height:DOT_SIZE,
borderRadius:DOT_SIZE / 2,
backgroundColor:'rgba(100,100,100,0.5)',
marginLeft:DOT_SAPCE,
marginRight:DOT_SAPCE},


curDot:{
position:'absolute',
width:DOT_SIZE,
height:DOT_SIZE,
borderRadius:DOT_SIZE / 2,
backgroundColor:'rgba(250,250,250,0.8)',
margin:DOT_SAPCE,
bottom:0}});



var DefaultViewPageIndicator=React.createClass({displayName:'DefaultViewPageIndicator',
propTypes:{
goToPage:React.PropTypes.func,
activePage:React.PropTypes.number,
pageCount:React.PropTypes.number},


getInitialState:function(){
return {
viewWidth:0};},



renderIndicator:function(page){var _this=this;

return (
React.createElement(TouchableOpacity,{style:styles.tab,key:'idc_' + page,onPress:function(){return _this.props.goToPage(page);}},
React.createElement(View,{style:styles.dot})));},




render:function(){var _this2=this;
var pageCount=this.props.pageCount;
var itemWidth=DOT_SIZE + DOT_SAPCE * 2;
var offset=(this.state.viewWidth - itemWidth * pageCount) / 2 + itemWidth * this.props.activePage;


var offsetX=itemWidth * (this.props.activePage - this.props.scrollOffset);
var left=this.props.scrollValue.interpolate({
inputRange:[0,1],outputRange:[offsetX,offsetX + itemWidth]});


var indicators=[];
for(var i=0;i < pageCount;i++) {
indicators.push(this.renderIndicator(i));}


return (
React.createElement(View,{style:styles.tabs,
onLayout:function(event){
var viewWidth=event.nativeEvent.layout.width;
if(!viewWidth || _this2.state.viewWidth === viewWidth){
return;}

_this2.setState({
viewWidth:viewWidth});}},


indicators,
React.createElement(Animated.View,{style:[styles.curDot,{left:left}]})));}});





module.exports = DefaultViewPageIndicator;
});
__d('react-native-viewpager/ViewPagerDataSource.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}

var warning=require('warning/browser.js');

function defaultGetPageData(
dataBlob,
pageID)
{
return dataBlob[pageID];}var 









ViewPagerDataSource=(function(){

function ViewPagerDataSource(params){_classCallCheck(this,ViewPagerDataSource);
this._getPageData = params.getPageData || defaultGetPageData;
this._pageHasChanged = params.pageHasChanged;

this.pageIdentities = [];}_createClass(ViewPagerDataSource,[{key:'cloneWithPages',value:


function cloneWithPages(
dataBlob,
pageIdentities)
{

var newSource=new ViewPagerDataSource({
getPageData:this._getPageData,
pageHasChanged:this._pageHasChanged});


newSource._dataBlob = dataBlob;

if(pageIdentities){
newSource.pageIdentities = pageIdentities;}else 
{
newSource.pageIdentities = Object.keys(dataBlob);}


newSource._cachedPageCount = newSource.pageIdentities.length;
newSource._calculateDirtyPages(
this._dataBlob,
this.pageIdentities);

return newSource;}},{key:'getPageCount',value:


function getPageCount(){
return this._cachedPageCount;}},{key:'pageShouldUpdate',value:





function pageShouldUpdate(pageIndex){
var needsUpdate=this._dirtyPages[pageIndex];
warning(needsUpdate !== undefined,
'missing dirtyBit for section, page: ' + pageIndex);
return needsUpdate;}},{key:'getPageData',value:





function getPageData(pageIndex){
if(!this.getPageData){
return null;}

var pageID=this.pageIdentities[pageIndex];
warning(pageID !== undefined,
'renderPage called on invalid section: ' + pageID);
return this._dataBlob[pageID];}},{key:'_calculateDirtyPages',value:















function _calculateDirtyPages(
prevDataBlob,
prevPageIDs)
{

var prevPagesHash=keyedDictionaryFromArray(prevPageIDs);
this._dirtyPages = [];

var dirty;
for(var sIndex=0;sIndex < this.pageIdentities.length;sIndex++) {
var pageID=this.pageIdentities[sIndex];
dirty = !prevPagesHash[pageID];
var pageHasChanged=this._pageHasChanged;
if(!dirty && pageHasChanged){
dirty = pageHasChanged(
this._getPageData(prevDataBlob,pageID),
this._getPageData(this._dataBlob,pageID));}


this._dirtyPages.push(!!dirty);}}}]);return ViewPagerDataSource;})();





function keyedDictionaryFromArray(arr){
if(arr.length === 0){
return {};}

var result={};
for(var ii=0;ii < arr.length;ii++) {
var key=arr[ii];
warning(!result[key],'Value appears more than once in array: ' + key);
result[key] = true;}

return result;}


module.exports = ViewPagerDataSource;
});
__d('warning/browser.js',function(global, require, module, exports) {  'use strict';

















var warning=function(){};

if(process.env.NODE_ENV !== 'production'){
warning = function(condition,format,args){
var len=arguments.length;
args = new Array(len > 2?len - 2:0);
for(var key=2;key < len;key++) {
args[key - 2] = arguments[key];}

if(format === undefined){
throw new Error(
'`warning(condition, format, ...args)` requires a warning ' + 
'message argument');}



if(format.length < 10 || /^[s\W]*$/.test(format)){
throw new Error(
'The warning format should be able to uniquely identify this ' + 
'warning. Please, use a more descriptive format than: ' + format);}



if(!condition){
var argIndex=0;
var message='Warning: ' + 
format.replace(/%s/g,function(){
return args[argIndex++];});

if(typeof console !== 'undefined'){
console.error(message);}

try{


throw new Error(message);}
catch(x) {}}};}




module.exports = warning;
});
__d('react-native-emoji/index.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var nodeEmoji=require('node-emoji/index.js');var 

Emoji=(function(_React$Component){_inherits(Emoji,_React$Component);function Emoji(){_classCallCheck(this,Emoji);_get(Object.getPrototypeOf(Emoji.prototype),'constructor',this).apply(this,arguments);}_createClass(Emoji,[{key:'render',value:
function render(){
var emoji=nodeEmoji.get(this.props.name);
return React.createElement(React.Text,null,emoji);}}]);return Emoji;})(React.Component);



Emoji.propTypes = {

name:React.PropTypes.string.isRequired};


module.exports = Emoji;
});
__d('node-emoji/index.js',function(global, require, module, exports) {  module.exports = require('node-emoji/lib/emoji.js');
});
__d('node-emoji/lib/emoji.js',function(global, require, module, exports) {  "use strict";





function Emoji(){
try{
this.emoji = require('node-emoji/lib/emoji.json');}
catch(err) {
throw new Error('emoji.json invalid or not readable.');}}



module.exports = new Emoji();




Emoji.parser = /:([a-zA-Z0-9_\-\+]+):/g;






Emoji.prototype._get = function _get(emoji){
if(this.emoji.hasOwnProperty(emoji)){
return this.emoji[emoji];}};








Emoji.prototype.get = function get(emoji){
if(emoji.indexOf(':') > -1){

emoji = emoji.substr(1,emoji.length - 2);}


return this._get(emoji);};







Emoji.prototype.which = function which(emoji_code){
for(var prop in this.emoji) {
if(this.emoji.hasOwnProperty(prop)){
if(this.emoji[prop] === emoji_code){
return prop;}}}};










Emoji.prototype.emojify = function emojify(str){
var emoji=this;
return str.split(Emoji.parser).
map(function parseEmoji(s,i){
return i % 2 === 0?s:emoji._get(s);}).

join('');};
});
__d('node-emoji/lib/emoji.json',function(global, require, module, exports) {  module.exports = {"100":"💯","1234":"🔢","interrobang":"⁉️","tm":"™","information_source":"ℹ️","left_right_arrow":"↔️","arrow_up_down":"↕️","arrow_upper_left":"↖️","arrow_upper_right":"↗️","arrow_lower_right":"↘️","arrow_lower_left":"↙️","sunny":"☀️","cloud":"☁️","ballot_box_with_check":"☑️","umbrella":"☔️","coffee":"☕️","aries":"♈️","taurus":"♉️","sagittarius":"♐️","capricorn":"♑️","aquarius":"♒️","pisces":"♓️","spades":"♠️","clubs":"♣️","hearts":"♥️","diamonds":"♦️","hotsprings":"♨️","anchor":"⚓️","scissors":"✂️","white_check_mark":"✅","airplane":"✈️","email":"✉️","black_nib":"✒️","heavy_check_mark":"✔️","heavy_multiplication_x":"✖️","sparkles":"✨","eight_spoked_asterisk":"✳️","eight_pointed_black_star":"✴️","snowflake":"❄️","sparkle":"❇️","question":"❓","grey_question":"❔","grey_exclamation":"❕","exclamation":"❗️","heart":"❤️","heavy_plus_sign":"➕","heavy_minus_sign":"➖","heavy_division_sign":"➗","arrow_heading_up":"⤴️","arrow_heading_down":"⤵️","wavy_dash":"〰","congratulations":"㊗️","secret":"㊙️","copyright":"©","registered":"®","bangbang":"‼️","leftwards_arrow_with_hook":"↩️","arrow_right_hook":"↪️","watch":"⌚️","hourglass":"⌛️","fast_forward":"⏩","rewind":"⏪","arrow_double_up":"⏫","arrow_double_down":"⏬","alarm_clock":"⏰","hourglass_flowing_sand":"⏳","m":"Ⓜ️","black_small_square":"▪️","white_small_square":"▫️","arrow_forward":"▶️","arrow_backward":"◀️","white_medium_square":"◻️","black_medium_square":"◼️","white_medium_small_square":"◽️","black_medium_small_square":"◾️","phone":"☎️","point_up":"☝️","relaxed":"☺️","gemini":"♊️","cancer":"♋️","leo":"♌️","virgo":"♍️","libra":"♎️","scorpius":"♏️","recycle":"♻️","wheelchair":"♿️","warning":"⚠️","zap":"⚡️","white_circle":"⚪️","black_circle":"⚫️","soccer":"⚽️","baseball":"⚾️","snowman":"⛄️","partly_sunny":"⛅️","ophiuchus":"⛎","no_entry":"⛔️","church":"⛪️","fountain":"⛲️","golf":"⛳️","boat":"⛵️","tent":"⛺️","fuelpump":"⛽️","fist":"✊","hand":"✋","v":"✌️","pencil2":"✏️","x":"❌","negative_squared_cross_mark":"❎","arrow_right":"➡️","curly_loop":"➰","loop":"➿","arrow_left":"⬅️","arrow_up":"⬆️","arrow_down":"⬇️","black_large_square":"⬛️","white_large_square":"⬜️","star":"⭐️","o":"⭕️","part_alternation_mark":"〽️","mahjong":"🀄️","black_joker":"🃏","a":"🅰","b":"🅱","o2":"🅾","parking":"🅿️","ab":"🆎","cl":"🆑","cool":"🆒","free":"🆓","id":"🆔","new":"🆕","ng":"🆖","ok":"🆗","sos":"🆘","up":"🆙","vs":"🆚","koko":"🈁","sa":"🈂","u7121":"🈚️","u6307":"🈯️","u7981":"🈲","u7a7a":"🈳","u5408":"🈴","u6e80":"🈵","u6709":"🈶","u6708":"🈷","u7533":"🈸","u5272":"🈹","u55b6":"🈺","ideograph_advantage":"🉐","accept":"🉑","cyclone":"🌀","foggy":"🌁","closed_umbrella":"🌂","night_with_stars":"🌃","sunrise_over_mountains":"🌄","sunrise":"🌅","city_sunset":"🌆","city_sunrise":"🌇","rainbow":"🌈","bridge_at_night":"🌉","ocean":"🌊","volcano":"🌋","milky_way":"🌌","earth_africa":"🌍","earth_americas":"🌎","earth_asia":"🌏","globe_with_meridians":"🌐","new_moon":"🌑","waxing_crescent_moon":"🌒","first_quarter_moon":"🌓","moon":"🌔","full_moon":"🌕","waning_gibbous_moon":"🌖","last_quarter_moon":"🌗","waning_crescent_moon":"🌘","crescent_moon":"🌙","new_moon_with_face":"🌚","first_quarter_moon_with_face":"🌛","last_quarter_moon_with_face":"🌜","full_moon_with_face":"🌝","sun_with_face":"🌞","star2":"🌟","stars":"🌠","chestnut":"🌰","seedling":"🌱","evergreen_tree":"🌲","deciduous_tree":"🌳","palm_tree":"🌴","cactus":"🌵","tulip":"🌷","cherry_blossom":"🌸","rose":"🌹","hibiscus":"🌺","sunflower":"🌻","blossom":"🌼","corn":"🌽","ear_of_rice":"🌾","herb":"🌿","four_leaf_clover":"🍀","maple_leaf":"🍁","fallen_leaf":"🍂","leaves":"🍃","mushroom":"🍄","tomato":"🍅","eggplant":"🍆","grapes":"🍇","melon":"🍈","watermelon":"🍉","tangerine":"🍊","lemon":"🍋","banana":"🍌","pineapple":"🍍","apple":"🍎","green_apple":"🍏","pear":"🍐","peach":"🍑","cherries":"🍒","strawberry":"🍓","hamburger":"🍔","pizza":"🍕","meat_on_bone":"🍖","poultry_leg":"🍗","rice_cracker":"🍘","rice_ball":"🍙","rice":"🍚","curry":"🍛","ramen":"🍜","spaghetti":"🍝","bread":"🍞","fries":"🍟","sweet_potato":"🍠","dango":"🍡","oden":"🍢","sushi":"🍣","fried_shrimp":"🍤","fish_cake":"🍥","icecream":"🍦","shaved_ice":"🍧","ice_cream":"🍨","doughnut":"🍩","cookie":"🍪","chocolate_bar":"🍫","candy":"🍬","lollipop":"🍭","custard":"🍮","honey_pot":"🍯","cake":"🍰","bento":"🍱","stew":"🍲","egg":"🍳","fork_and_knife":"🍴","tea":"🍵","sake":"🍶","wine_glass":"🍷","cocktail":"🍸","tropical_drink":"🍹","beer":"🍺","beers":"🍻","baby_bottle":"🍼","ribbon":"🎀","gift":"🎁","birthday":"🎂","jack_o_lantern":"🎃","christmas_tree":"🎄","santa":"🎅","fireworks":"🎆","sparkler":"🎇","balloon":"🎈","tada":"🎉","confetti_ball":"🎊","tanabata_tree":"🎋","crossed_flags":"🎌","bamboo":"🎍","dolls":"🎎","flags":"🎏","wind_chime":"🎐","rice_scene":"🎑","school_satchel":"🎒","mortar_board":"🎓","carousel_horse":"🎠","ferris_wheel":"🎡","roller_coaster":"🎢","fishing_pole_and_fish":"🎣","microphone":"🎤","movie_camera":"🎥","cinema":"🎦","headphones":"🎧","art":"🎨","tophat":"🎩","circus_tent":"🎪","ticket":"🎫","clapper":"🎬","performing_arts":"🎭","video_game":"🎮","dart":"🎯","slot_machine":"🎰","8ball":"🎱","game_die":"🎲","bowling":"🎳","flower_playing_cards":"🎴","musical_note":"🎵","notes":"🎶","saxophone":"🎷","guitar":"🎸","musical_keyboard":"🎹","trumpet":"🎺","violin":"🎻","musical_score":"🎼","running_shirt_with_sash":"🎽","tennis":"🎾","ski":"🎿","basketball":"🏀","checkered_flag":"🏁","snowboarder":"🏂","runner":"🏃","surfer":"🏄","trophy":"🏆","horse_racing":"🏇","football":"🏈","rugby_football":"🏉","swimmer":"🏊","house":"🏠","house_with_garden":"🏡","office":"🏢","post_office":"🏣","european_post_office":"🏤","hospital":"🏥","bank":"🏦","atm":"🏧","hotel":"🏨","love_hotel":"🏩","convenience_store":"🏪","school":"🏫","department_store":"🏬","factory":"🏭","izakaya_lantern":"🏮","japanese_castle":"🏯","european_castle":"🏰","rat":"🐀","mouse2":"🐁","ox":"🐂","water_buffalo":"🐃","cow2":"🐄","tiger2":"🐅","leopard":"🐆","rabbit2":"🐇","cat2":"🐈","dragon":"🐉","crocodile":"🐊","whale2":"🐋","snail":"🐌","snake":"🐍","racehorse":"🐎","ram":"🐏","goat":"🐐","sheep":"🐑","monkey":"🐒","rooster":"🐓","chicken":"🐔","dog2":"🐕","pig2":"🐖","boar":"🐗","elephant":"🐘","octopus":"🐙","shell":"🐚","bug":"🐛","ant":"🐜","bee":"🐝","beetle":"🐞","fish":"🐟","tropical_fish":"🐠","blowfish":"🐡","turtle":"🐢","hatching_chick":"🐣","baby_chick":"🐤","hatched_chick":"🐥","bird":"🐦","penguin":"🐧","koala":"🐨","poodle":"🐩","dromedary_camel":"🐪","camel":"🐫","dolphin":"🐬","mouse":"🐭","cow":"🐮","tiger":"🐯","rabbit":"🐰","cat":"🐱","dragon_face":"🐲","whale":"🐳","horse":"🐴","monkey_face":"🐵","dog":"🐶","pig":"🐷","frog":"🐸","hamster":"🐹","wolf":"🐺","bear":"🐻","panda_face":"🐼","pig_nose":"🐽","feet":"🐾","eyes":"👀","ear":"👂","nose":"👃","lips":"👄","tongue":"👅","point_up_2":"👆","point_down":"👇","point_left":"👈","point_right":"👉","facepunch":"👊","wave":"👋","ok_hand":"👌","+1":"👍","-1":"👎","clap":"👏","open_hands":"👐","crown":"👑","womans_hat":"👒","eyeglasses":"👓","necktie":"👔","shirt":"👕","jeans":"👖","dress":"👗","kimono":"👘","bikini":"👙","womans_clothes":"👚","purse":"👛","handbag":"👜","pouch":"👝","mans_shoe":"👞","athletic_shoe":"👟","high_heel":"👠","sandal":"👡","boot":"👢","footprints":"👣","bust_in_silhouette":"👤","busts_in_silhouette":"👥","boy":"👦","girl":"👧","man":"👨","woman":"👩","family":"👪","couple":"👫","two_men_holding_hands":"👬","two_women_holding_hands":"👭","cop":"👮","dancers":"👯","bride_with_veil":"👰","person_with_blond_hair":"👱","man_with_gua_pi_mao":"👲","man_with_turban":"👳","older_man":"👴","older_woman":"👵","baby":"👶","construction_worker":"👷","princess":"👸","japanese_ogre":"👹","japanese_goblin":"👺","ghost":"👻","angel":"👼","alien":"👽","space_invader":"👾","imp":"👿","skull":"💀","information_desk_person":"💁","guardsman":"💂","dancer":"💃","lipstick":"💄","nail_care":"💅","massage":"💆","haircut":"💇","barber":"💈","syringe":"💉","pill":"💊","kiss":"💋","love_letter":"💌","ring":"💍","gem":"💎","couplekiss":"💏","bouquet":"💐","couple_with_heart":"💑","wedding":"💒","heartbeat":"💓","broken_heart":"💔","two_hearts":"💕","sparkling_heart":"💖","heartpulse":"💗","cupid":"💘","blue_heart":"💙","green_heart":"💚","yellow_heart":"💛","purple_heart":"💜","gift_heart":"💝","revolving_hearts":"💞","heart_decoration":"💟","diamond_shape_with_a_dot_inside":"💠","bulb":"💡","anger":"💢","bomb":"💣","zzz":"💤","boom":"💥","sweat_drops":"💦","droplet":"💧","dash":"💨","hankey":"💩","muscle":"💪","dizzy":"💫","speech_balloon":"💬","thought_balloon":"💭","white_flower":"💮","moneybag":"💰","currency_exchange":"💱","heavy_dollar_sign":"💲","credit_card":"💳","yen":"💴","dollar":"💵","euro":"💶","pound":"💷","money_with_wings":"💸","chart":"💹","seat":"💺","computer":"💻","briefcase":"💼","minidisc":"💽","floppy_disk":"💾","cd":"💿","dvd":"📀","file_folder":"📁","open_file_folder":"📂","page_with_curl":"📃","page_facing_up":"📄","date":"📅","calendar":"📆","card_index":"📇","chart_with_upwards_trend":"📈","chart_with_downwards_trend":"📉","bar_chart":"📊","clipboard":"📋","pushpin":"📌","round_pushpin":"📍","paperclip":"📎","straight_ruler":"📏","triangular_ruler":"📐","bookmark_tabs":"📑","ledger":"📒","notebook":"📓","notebook_with_decorative_cover":"📔","closed_book":"📕","book":"📖","green_book":"📗","blue_book":"📘","orange_book":"📙","books":"📚","name_badge":"📛","scroll":"📜","memo":"📝","telephone_receiver":"📞","pager":"📟","fax":"📠","satellite":"📡","loudspeaker":"📢","mega":"📣","outbox_tray":"📤","inbox_tray":"📥","package":"📦","e-mail":"📧","incoming_envelope":"📨","envelope_with_arrow":"📩","mailbox_closed":"📪","mailbox":"📫","mailbox_with_mail":"📬","mailbox_with_no_mail":"📭","postbox":"📮","postal_horn":"📯","newspaper":"📰","iphone":"📱","calling":"📲","vibration_mode":"📳","mobile_phone_off":"📴","no_mobile_phones":"📵","signal_strength":"📶","camera":"📷","video_camera":"📹","tv":"📺","radio":"📻","vhs":"📼","twisted_rightwards_arrows":"🔀","repeat":"🔁","repeat_one":"🔂","arrows_clockwise":"🔃","arrows_counterclockwise":"🔄","low_brightness":"🔅","high_brightness":"🔆","mute":"🔇","speaker":"🔈","sound":"🔉","loud_sound":"🔊","battery":"🔋","electric_plug":"🔌","mag":"🔍","mag_right":"🔎","lock_with_ink_pen":"🔏","closed_lock_with_key":"🔐","key":"🔑","lock":"🔒","unlock":"🔓","bell":"🔔","no_bell":"🔕","bookmark":"🔖","link":"🔗","radio_button":"🔘","back":"🔙","end":"🔚","on":"🔛","soon":"🔜","top":"🔝","underage":"🔞","keycap_ten":"🔟","capital_abcd":"🔠","abcd":"🔡","symbols":"🔣","abc":"🔤","fire":"🔥","flashlight":"🔦","wrench":"🔧","hammer":"🔨","nut_and_bolt":"🔩","hocho":"🔪","gun":"🔫","microscope":"🔬","telescope":"🔭","crystal_ball":"🔮","six_pointed_star":"🔯","beginner":"🔰","trident":"🔱","black_square_button":"🔲","white_square_button":"🔳","red_circle":"🔴","large_blue_circle":"🔵","large_orange_diamond":"🔶","large_blue_diamond":"🔷","small_orange_diamond":"🔸","small_blue_diamond":"🔹","small_red_triangle":"🔺","small_red_triangle_down":"🔻","arrow_up_small":"🔼","arrow_down_small":"🔽","clock1":"🕐","clock2":"🕑","clock3":"🕒","clock4":"🕓","clock5":"🕔","clock6":"🕕","clock7":"🕖","clock8":"🕗","clock9":"🕘","clock10":"🕙","clock11":"🕚","clock12":"🕛","clock130":"🕜","clock230":"🕝","clock330":"🕞","clock430":"🕟","clock530":"🕠","clock630":"🕡","clock730":"🕢","clock830":"🕣","clock930":"🕤","clock1030":"🕥","clock1130":"🕦","clock1230":"🕧","mount_fuji":"🗻","tokyo_tower":"🗼","statue_of_liberty":"🗽","japan":"🗾","moyai":"🗿","grinning":"😀","grin":"😁","joy":"😂","smiley":"😃","smile":"😄","sweat_smile":"😅","laughing":"😆","innocent":"😇","smiling_imp":"😈","wink":"😉","blush":"😊","yum":"😋","relieved":"😌","heart_eyes":"😍","sunglasses":"😎","smirk":"😏","neutral_face":"😐","expressionless":"😑","unamused":"😒","sweat":"😓","pensive":"😔","confused":"😕","confounded":"😖","kissing":"😗","kissing_heart":"😘","kissing_smiling_eyes":"😙","kissing_closed_eyes":"😚","stuck_out_tongue":"😛","stuck_out_tongue_winking_eye":"😜","stuck_out_tongue_closed_eyes":"😝","disappointed":"😞","worried":"😟","angry":"😠","rage":"😡","cry":"😢","persevere":"😣","triumph":"😤","disappointed_relieved":"😥","frowning":"😦","anguished":"😧","fearful":"😨","weary":"😩","sleepy":"😪","tired_face":"😫","grimacing":"😬","sob":"😭","open_mouth":"😮","hushed":"😯","cold_sweat":"😰","scream":"😱","astonished":"😲","flushed":"😳","sleeping":"😴","dizzy_face":"😵","no_mouth":"😶","mask":"😷","smile_cat":"😸","joy_cat":"😹","smiley_cat":"😺","heart_eyes_cat":"😻","smirk_cat":"😼","kissing_cat":"😽","pouting_cat":"😾","crying_cat_face":"😿","scream_cat":"🙀","no_good":"🙅","ok_woman":"🙆","bow":"🙇","see_no_evil":"🙈","hear_no_evil":"🙉","speak_no_evil":"🙊","raising_hand":"🙋","raised_hands":"🙌","person_frowning":"🙍","person_with_pouting_face":"🙎","pray":"🙏","rocket":"🚀","helicopter":"🚁","steam_locomotive":"🚂","railway_car":"🚃","bullettrain_side":"🚄","bullettrain_front":"🚅","train2":"🚆","metro":"🚇","light_rail":"🚈","station":"🚉","tram":"🚊","train":"🚋","bus":"🚌","oncoming_bus":"🚍","trolleybus":"🚎","busstop":"🚏","minibus":"🚐","ambulance":"🚑","fire_engine":"🚒","police_car":"🚓","oncoming_police_car":"🚔","taxi":"🚕","oncoming_taxi":"🚖","car":"🚗","oncoming_automobile":"🚘","blue_car":"🚙","truck":"🚚","articulated_lorry":"🚛","tractor":"🚜","monorail":"🚝","mountain_railway":"🚞","suspension_railway":"🚟","mountain_cableway":"🚠","aerial_tramway":"🚡","ship":"🚢","rowboat":"🚣","speedboat":"🚤","traffic_light":"🚥","vertical_traffic_light":"🚦","construction":"🚧","rotating_light":"🚨","triangular_flag_on_post":"🚩","door":"🚪","no_entry_sign":"🚫","smoking":"🚬","no_smoking":"🚭","put_litter_in_its_place":"🚮","do_not_litter":"🚯","potable_water":"🚰","non-potable_water":"🚱","bike":"🚲","no_bicycles":"🚳","bicyclist":"🚴","mountain_bicyclist":"🚵","walking":"🚶","no_pedestrians":"🚷","children_crossing":"🚸","mens":"🚹","womens":"🚺","restroom":"🚻","baby_symbol":"🚼","toilet":"🚽","wc":"🚾","shower":"🚿","bath":"🛀","bathtub":"🛁","passport_control":"🛂","customs":"🛃","baggage_claim":"🛄","left_luggage":"🛅","hash":"#️⃣","zero":"0️⃣","one":"1️⃣","two":"2️⃣","three":"3️⃣","four":"4️⃣","five":"5️⃣","six":"6️⃣","seven":"7️⃣","eight":"8️⃣","nine":"9️⃣","cn":"🇨🇳","de":"🇩🇪","es":"🇪🇸","fr":"🇫🇷","gb":"🇬🇧","it":"🇮🇹","jp":"🇯🇵","kr":"🇰🇷","ru":"🇷🇺","us":"🇺🇸"};
});
__d('AwesomeProject/src/friends/EmojiPageIndicator.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');var 

Dimensions=





React.Dimensions;var StyleSheet=React.StyleSheet;var Text=React.Text;var TouchableOpacity=React.TouchableOpacity;var View=React.View;var Animated=React.Animated;

var deviceWidth=Dimensions.get('window').width;
var DOT_SIZE=6;
var DOT_SAPCE=3;

var styles=StyleSheet.create({
tab:{
alignItems:'center'},


tabs:{
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


dot:{
width:DOT_SIZE,
height:DOT_SIZE,
borderRadius:DOT_SIZE / 2,
backgroundColor:'rgba(100,100,100,0.5)',
marginLeft:DOT_SAPCE,
marginRight:DOT_SAPCE},


curDot:{
position:'absolute',
width:DOT_SIZE,
height:DOT_SIZE,
borderRadius:DOT_SIZE / 2,
backgroundColor:'rgba(66,66,66,0.8)',
margin:DOT_SAPCE,
bottom:0}});



var PageIndicator=React.createClass({displayName:'PageIndicator',
propTypes:{
goToPage:React.PropTypes.func,
activePage:React.PropTypes.number,
pageCount:React.PropTypes.number},


getInitialState:function(){
return {
viewWidth:0};},



renderIndicator:function(page){var _this=this;

return (
React.createElement(TouchableOpacity,{style:styles.tab,key:'idc_' + page,onPress:function(){return _this.props.goToPage(page);}},
React.createElement(View,{style:styles.dot})));},




render:function(){var _this2=this;
var pageCount=this.props.pageCount;
var itemWidth=DOT_SIZE + DOT_SAPCE * 2;
var offset=(this.state.viewWidth - itemWidth * pageCount) / 2 + itemWidth * this.props.activePage;


var offsetX=itemWidth * (this.props.activePage - this.props.scrollOffset);
var left=this.props.scrollValue.interpolate({
inputRange:[0,1],outputRange:[offsetX,offsetX + itemWidth]});


var indicators=[];
for(var i=0;i < pageCount;i++) {
indicators.push(this.renderIndicator(i));}


return (
React.createElement(View,{style:styles.tabs,
onLayout:function(event){
var viewWidth=event.nativeEvent.layout.width;
if(!viewWidth || _this2.state.viewWidth === viewWidth){
return;}

_this2.setState({
viewWidth:viewWidth});}},


indicators,
React.createElement(Animated.View,{style:[styles.curDot,{left:left}]})));}});





module.exports = PageIndicator;
});
__d('leancloud-realtime/lib/realtime.js',function(global, require, module, exports) {  'use strict';









var tool=require('leancloud-realtime/lib/tool/index.js');
var ajax=tool.ajax;
var extend=tool.extend;


var VERSION='2.3.2';


var config={

heartbeatsTime:60 * 1000,

WebSocket:require('ws/lib/browser.js')};



var engine={};


var eNameIndex={

open:'open',

reuse:'reuse',

close:'close',

create:'create',


join:'join',


left:'left',

invited:'invited',

kicked:'kicked',

membersjoined:'membersjoined',

membersleft:'membersleft',

message:'message',

receipt:'receipt',

update:'update',

error:'error'};



var newConvObject=function newConvObject(cache){

var addOrRemove=function addOrRemove(cid,argument,callback,cmd){
var members=[];
var options;
var fun;
var eventName;


if(typeof argument === 'string'){
members.push(argument);}else 
{

members = argument;}

options = {
cid:cid,
members:members,
serialId:engine.getSerialId(cache)};

switch(cmd){
case 'add':
eventName = 'conv-added';
engine.convAdd(cache,options);
break;
case 'remove':
eventName = 'conv-removed';
engine.convRemove(cache,options);
break;}

fun = function(data){
if(data.i === options.serialId){
if(callback){
callback(data);}

cache.ec.off(eventName,fun);}};


cache.ec.on(eventName,fun);
return this;};


return {

id:'',

attr:{},
add:function add(argument,callback){
addOrRemove(this.id,argument,callback,'add');
return this;},

remove:function remove(argument,callback){
addOrRemove(this.id,argument,callback,'remove');
return this;},


join:function join(callback){
this.add(cache.options.peerId,callback);
return this;},


leave:function leave(callback){
this.remove(cache.options.peerId,callback);
return this;},

send:function send(data,argument1,argument2){
var callback;
var options={};
var me=this;
switch(arguments.length){

case 2:
callback = argument1;
break;

case 3:
options = argument1;
callback = argument2;
break;}

options.cid = me.id;
options.serialId = engine.getSerialId(cache);


if(options.type){
options.data = engine.setMediaMsg(cache,options.type,data);}else 
{
if(typeof data === 'string'){
options.data = data;}else 
{

options.data = JSON.stringify(data);}}




if(options.receipt){
options.receipt = 1;}



if(!options.transient){
var fun=function fun(data){
if(data.i === options.serialId){
if(callback){
callback(data);}

cache.ec.off('ack',fun);}};


cache.ec.on('ack',fun);}

engine.send(cache,options,callback);
return this;},

log:function log(argument,callback){
var options={};
switch(arguments.length){

case 1:
callback = argument;
break;
case 2:
options = argument;
break;}

options.cid = options.cid || this.id;
options.serialId = options.serialId || engine.getSerialId(cache);
var fun=function fun(data){
if(data.i === options.serialId){
if(callback){

for(var i=0,l=data.logs.length;i < l;i++) {
data.logs[i].data = engine.getMediaMsg(cache,data.logs[i].data);

data.logs[i].fromPeerId = data.logs[i].from;
data.logs[i].msg = data.logs[i].data;}

callback(data.logs);}

cache.ec.off('logs',fun);}};


cache.ec.on('logs',fun);


engine.convLog(cache,options);
return this;},

receive:function receive(callback){
var id=this.id;
cache.ec.on(eNameIndex.message,function(data){

if(id === data.cid){
callback(data);}});


return this;},


receipt:function receipt(callback){
var id=this.id;
cache.ec.on(eNameIndex.receipt,function(data){

if(id === data.cid){
callback(data);}});


return this;},

list:function list(callback){
var options={};
var id=this.id;
options.where = {
objectId:id};

options.serialId = engine.getSerialId(cache);
var fun=function fun(data){
if(data.i === options.serialId){
if(callback){
if(data.results.length){

callback(data.results[0].m);}else 
{
callback([]);}}


cache.ec.off('conv-results',fun);}};


cache.ec.on('conv-results',fun);
engine.convQuery(cache,options);
return this;},

count:function count(callback){
var id=this.id;
var options={
cid:id,
serialId:engine.getSerialId(cache)};

var fun=function fun(data){
if(data.i === options.serialId){
if(callback){
callback(data.count);}

cache.ec.off('conv-result',fun);}};


cache.ec.on('conv-result',fun);
engine.convCount(cache,options);
return this;},

update:function update(data,callback){
var id=this.id;
var options={
cid:id,
data:data,
serialId:engine.getSerialId(cache)};

var fun=function fun(data){
if(data.i === options.serialId){
if(callback){
callback(data);}

cache.ec.off('conv-updated',fun);}};


cache.ec.on('conv-updated',fun);
engine.convUpdate(cache,options);
return this;}};};





var newRealtimeObject=function newRealtimeObject(){


var cache={

options:undefined,

ws:undefined,

ec:undefined,

conv:{},

openFlag:false,

closeFlag:false,

reuseTimer:undefined,

reuseFlag:false,

serialId:2015};


return {
clientId:'',
cache:cache,
open:function open(callback){
var me=this;
var cache=this.cache;
cache.closeFlag = false;
engine.getServer(cache,cache.options,function(data){
if(data){
engine.connect(cache,{
server:cache.server});}});



if(callback){
cache.ec.once(eNameIndex.open,callback);}


cache.ec.once(eNameIndex.reuse,function(){
if(cache.reuseTimer){
clearTimeout(cache.reuseTimer);}

cache.reuseTimer = setTimeout(function(){
me.open();},
5000);});

return this;},


close:function close(){
var cache=this.cache;
if(!cache.openFlag){
throw new Error('Must call after open() has successed.');}

cache.closeFlag = true;
engine.closeSession(cache);
cache.ws.close();
return this;},

on:function on(eventName,callback){
this.cache.ec.on(eventName,callback);
return this;},

once:function once(eventName,callback){
this.cache.ec.once(eventName,callback);
return this;},

emit:function emit(eventName,data){
this.cache.ec.emit(eventName,data);
return this;},

off:function off(eventName,callback){
this.cache.ec.off(eventName,callback);
return this;},

room:function room(argument,callback){
var cache=this.cache;
if(!cache.openFlag){
throw new Error('Must call after open() has successed.');}


var convObject;


if(typeof argument === 'string'){
var convId=argument;


if(cache.conv[convId]){
convObject = cache.conv[convId];}else 
{
convObject = newConvObject(cache);}



this.query({
where:{
objectId:convId}},

function(data){


if(data.length){
convObject.id = convId;
convObject.name = data[0].name;

convObject.attr = data[0].attr;

cache.conv[convId] = convObject;}


if(callback){

if(data.length){
callback(convObject);}else 
{

callback(null);}}});}else 



{


if(!argument){
throw new Error('Createing room must have a callback function.');}


var options;


if(typeof argument === 'function'){
callback = argument;}else 
{

options = argument;}


options = {

name:options.name || '',

members:options.members || [],

attr:options.attr || {},
transient:options.transient || false,
unique:options.unique || false,
serialId:engine.getSerialId(cache)};


convObject = newConvObject(cache);

engine.startConv(cache,options,callback);


var fun=function fun(data){
if(data.i === options.serialId){
convObject.id = data.cid;
convObject.name = options.name;
convObject.attr = options.attr;

cache.conv[convObject.id] = convObject;
if(callback){
callback(convObject);}

cache.ec.emit(eNameIndex.create,data);
cache.ec.off('conv-started',fun);}};


cache.ec.on('conv-started',fun);}

return convObject;},


conv:function conv(){
return this.room.apply(this,arguments);},


query:function query(argument,callback){
var cache=this.cache;
if(!cache.openFlag){
throw new Error('Must call after open() has successed.');}

var options={};
switch(arguments.length){

case 1:
callback = argument;
break;
case 2:
options = argument;
break;}

options.serialId = engine.getSerialId(cache);
var fun=function fun(data){
if(data.i === options.serialId){
if(callback){
callback(data.results);}

cache.ec.off('conv-results',fun);}};


cache.ec.on('conv-results',fun);
engine.convQuery(cache,options);
return this;},


ping:function ping(argument,callback){
var cache=this.cache;
if(!cache.openFlag){
throw new Error('Must call after open() has successed.');}

if(!callback){
throw new Error('Ping must have callback.');}

var peerIdList=[];

if(typeof argument === 'string'){
peerIdList.push(argument);}else 
{

peerIdList = argument;}

var options={
serialId:engine.getSerialId(cache),
peerIdList:peerIdList};

var fun=function fun(data){
if(data.i === options.serialId){
callback(data.onlineSessionPeerIds);
cache.ec.off('session-query-result',fun);}};


cache.ec.on('session-query-result',fun);
engine.querySession(cache,options);
return this;}};};





var realtime=function realtime(options,callback){
if(typeof options !== 'object'){
throw new Error('realtime need a argument at least.');}else 
if(!options.appId){
throw new Error('Options must have appId.');}else 
if(!config.WebSocket){
console.error('Browser must support WebSocket, please read LeanCloud doc and use plugin.');}else 
{


var secure=config.WebSocket.loadFlashPolicyFile?false:true;

options = {

appId:options.appId,

peerId:options.clientId,

encodeHTML:options.encodeHTML || false,

auth:options.auth,

secure:typeof options.secure === 'undefined'?secure:options.secure,

region:options.region || 'cn'};


var realtimeObj=newRealtimeObject();
realtimeObj.clientId = options.clientId;
realtimeObj.cache.options = options;
realtimeObj.cache.ec = tool.eventCenter();
realtimeObj.cache.authFun = options.auth;
realtimeObj.open(callback);

return realtimeObj;}};




realtime.version = VERSION;


realtime._tool = tool;
realtime._engine = engine;

realtime.config = function(newConfig){
extend(config,newConfig);};



engine.wsOpen = function(cache){
engine.bindEvent(cache);
engine.openSession(cache,{
serialId:engine.getSerialId(cache)});


engine.heartbeats(cache);

engine.guard(cache);};



engine.wsClose = function(cache,event){

cache.ec.emit(eNameIndex.close,event);};



engine.wsMessage = function(cache,msg){
var data=JSON.parse(msg.data);


if(data.cmd){
var eventName=data.cmd;
if(data.op){
eventName += '-' + data.op;}

cache.ec.emit(eventName,data);}};



engine.wsError = function(cache,data){
cache.ec.emit(eNameIndex.error,data);
throw data;};



engine.wsSend = function(cache,data){
if(!cache.closeFlag){
if(!cache.ws){
throw new Error('The realtimeObject must opened first. Please listen to the "open" event.');}else 
{
data.peerId = cache.options.peerId;
cache.ws.send(JSON.stringify(data));}}};




engine.createSocket = function(cache,server){
if(cache.ws){
cache.ws.close();}

var ws=new config.WebSocket(server);
cache.ws = ws;
ws.addEventListener('open',function(){
engine.wsOpen(cache);});

ws.addEventListener('close',function(event){
engine.wsClose(cache,event);});

ws.addEventListener('message',function(msg){
engine.wsMessage(cache,msg);});

ws.addEventListener('error',function(data){
engine.wsError(cache,data);});};




engine.heartbeats = function(cache){


if(cache.openFlag){
return;}


var timer;
cache.ws.addEventListener('message',function(){
if(timer){
clearTimeout(timer);}

timer = setTimeout(function(){
cache.ws.send('{}');},
config.heartbeatsTime);});};




engine.guard = function(cache){


if(cache.openFlag){
return;}



var timeLength=3 * 60 * 1000;
var timer;


cache.ws.addEventListener('message',function(){
if(timer){
clearTimeout(timer);}

timer = setTimeout(function(){
if(!cache.closeFlag && !cache.reuseFlag){
cache.reuseFlag = true;

cache.ec.emit(eNameIndex.reuse);}},

timeLength);});



cache.ec.on(eNameIndex.close + ' ' + 'session-closed',function(){
if(!cache.closeFlag && !cache.reuseFlag){
cache.reuseFlag = true;
cache.ec.emit(eNameIndex.reuse);}});};




engine.connect = function(cache,options){
var server=options.server;

if(server && tool.now() <= server.expires){
engine.createSocket(cache,server.server);}else 
{
cache.ec.emit(eNameIndex.error);
throw new Error('WebSocket connet failed.');}};



engine.getServer = function(cache,options,callback){
var appId=options.appId;

var secure=options.secure;
var url='';
var protocol='http://';
if(global.location && global.location.protocol === 'https:' && secure){
protocol = 'https://';}

var node='';
switch(options.region){
case 'cn':
node = 'g0';
break;
case 'us':
node = 'a0';
break;
default:
throw new Error('There is no this region.');}

url = protocol + 'router-' + node + '-push.leancloud.cn/v1/route';
url += '?_t=' + tool.now() + '&appId=' + appId;
if(secure){
url += '&secure=1';}

ajax(url,function(error,data){
if(data){
data.expires = tool.now() + data.ttl * 1000;
cache.server = data;
callback(data);}else 
{
cache.ec.emit(eNameIndex.error);}});};





engine.openSession = function(cache,options){
var cmd={
cmd:'session',
op:'open',
appId:cache.options.appId,
ua:'js/' + VERSION,
i:options.serialId};

if(cache.authFun){
cache.authFun({
clientId:cache.options.peerId},
function(authResult){
if(authResult && authResult.signature){
cmd.n = authResult.nonce;
cmd.t = authResult.timestamp;
cmd.s = authResult.signature;
engine.wsSend(cache,cmd);}else 
{
throw new Error('Session open denied by application: ' + authResult);}});}else 


{
engine.wsSend(cache,cmd);}};



engine.closeSession = function(cache){
engine.wsSend(cache,cache,{
cmd:'session',
op:'close'});};



engine.startConv = function(cache,options){
var cmd={
cmd:'conv',
op:'start',

m:options.members,

attr:{
name:options.name || '',
attr:options.attr || {}},

i:options.serialId,
unique:options.unique || false,

transient:options.transient || false};

if(cache.authFun){
cache.authFun({
clientId:cache.options.peerId,
members:options.members},
function(authResult){
if(authResult && authResult.signature){
cmd.n = authResult.nonce;
cmd.t = authResult.timestamp;
cmd.s = authResult.signature;
engine.wsSend(cache,cmd);}else 
{
throw new Error('Conversation creation denied by application: ' + authResult);}});}else 


{
engine.wsSend(cache,cmd);}};



engine.convAdd = function(cache,options){
var cmd={
cmd:'conv',
op:'add',
cid:options.cid,
m:options.members,
i:options.serialId};

if(cache.authFun){
cache.authFun({
clientId:cache.options.peerId,
members:options.members,
convId:options.cid,
action:'invite'},
function(authResult){
if(authResult && authResult.signature){
cmd.n = authResult.nonce;
cmd.t = authResult.timestamp;
cmd.s = authResult.signature;
engine.wsSend(cache,cmd);}else 
{
throw new Error('Adding members to conversation denied by application: ' + authResult);}});}else 


{
engine.wsSend(cache,cmd);}};



engine.convRemove = function(cache,options){
var cmd={
cmd:'conv',
op:'remove',
cid:options.cid,
m:options.members,
i:options.serialId};

if(cache.authFun && (options.members.length > 1 || options.members[0] != cache.options.peerId)){
cache.authFun({
clientId:cache.options.peerId,
members:options.members,
convId:options.cid,
action:'kick'},
function(authResult){
if(authResult && authResult.signature){
cmd.n = authResult.nonce;
cmd.t = authResult.timestamp;
cmd.s = authResult.signature;
engine.wsSend(cache,cmd);}else 
{
throw new Error('Removing members from conversation denied by application: ' + authResult);}});}else 


{
engine.wsSend(cache,cmd);}};



engine.send = function(cache,options){
engine.wsSend(cache,{
cmd:'direct',
cid:options.cid,
msg:options.data,
i:options.serialId,

r:options.receipt || false,

transient:options.transient || false});};



engine.convQuery = function(cache,options){
options = options || {};
engine.wsSend(cache,{
cmd:'conv',
op:'query',

where:options.where || {
m:cache.options.peerId},




sort:options.sort || '-lm',

limit:options.limit || 10,

skip:options.skip || 0,

i:options.serialId});};




engine.querySession = function(cache,options){
engine.wsSend(cache,{
cmd:'session',
op:'query',
i:options.serialId,
sessionPeerIds:options.peerIdList});};




engine.convLog = function(cache,options){
engine.wsSend(cache,{
cmd:'logs',
cid:options.cid,

t:options.t || undefined,

mid:options.mid || undefined,
limit:options.limit || 20,

i:options.serialId});};



engine.convUpdate = function(cache,options){
engine.wsSend(cache,{
cmd:'conv',
op:'update',
cid:options.cid,

attr:options.data,
i:options.serialId});};



engine.convAck = function(cache,options){
engine.wsSend(cache,{
cmd:'ack',
cid:options.cid,
mid:options.mid});};



engine.convCount = function(cache,options){
engine.wsSend(cache,{
cmd:'conv',
op:'count',
i:options.serialId,
cid:options.cid});};




engine.getMediaMsg = function(cache,msg){


if(!tool.isJSONString(msg)){


if(cache.options.encodeHTML){
msg = tool.encodeHTML(msg);}

return msg;}


msg = JSON.parse(msg);


if(!msg.hasOwnProperty('_lctype')){
return msg;}


var obj={
text:msg._lctext,
attr:msg._lcattrs};



if(cache.options.encodeHTML){
obj.text = tool.encodeHTML(msg._lctext);}


if(msg._lcfile && msg._lcfile.url){
obj.url = msg._lcfile.url;}

if(msg._lcfile && msg._lcfile.metaData){
obj.metaData = msg._lcfile.metaData;}



switch(msg._lctype){
case -1:
obj.type = 'text';
break;
case -2:
obj.type = 'image';
break;
case -3:
obj.type = 'audio';
break;
case -4:
obj.type = 'video';
break;
case -5:
obj.type = 'location';
break;
case -6:
obj.type = 'file';
break;

default:
obj = msg;
break;}

return obj;};



engine.setMediaMsg = function(cache,type,data){
var obj;
if(type !== 'text' && !data.metaData){
throw new Error('Media Data must have metaData attribute.');}

switch(type){
case 'text':
obj = {
_lctype:-1,
_lctext:data.text,

_lcattrs:data.attr};

break;
case 'image':
obj = {
_lctype:-2,
_lctext:data.text,

_lcattrs:data.attr,
_lcfile:{
url:data.url,
objId:data.objectId,
metaData:{
name:data.metaData.name,

format:data.metaData.format,

height:data.metaData.height,

width:data.metaData.width,

size:data.metaData.size}}};



break;
case 'audio':
obj = {
_lctype:-3,
_lctext:data.text,

_lcattrs:data.attr,
_lcfile:{
url:data.url,
objId:data.objectId,
metaData:{
name:data.metaData.name,

format:data.metaData.format,

duration:data.metaData.duration,

size:data.metaData.size}}};



break;
case 'video':
obj = {
_lctype:-4,
_lctext:data.text,

_lcattrs:data.attr,
_lcfile:{
url:data.url,
objId:data.objectId,
metaData:{
name:data.metaData.name,

format:data.metaData.format,

duration:data.metaData.duration,

size:data.metaData.size}}};



break;
case 'location':
obj = {
_lctype:-5,
_lctext:data.text,

_lcattrs:data.attr,
_lcloc:{

longitude:data.metaData.longitude,

latitude:data.metaData.latitude}};


break;
case 'file':
obj = {
_lctype:-6,
_lctext:data.text,

_lcattrs:data.attr,
_lcfile:{
name:data.metaData.name,

size:data.metaData.size}};


break;}

obj = JSON.stringify(obj);
return obj;};



engine.getSerialId = function(cache){
cache.serialId++;
if(cache.serialId > 999999){
cache.serialId = 2015;}

return cache.serialId;};



engine.bindEvent = function(cache){


if(cache.openFlag){
return;}


cache.ec.on('session-opened',function(data){

cache.reuseFlag = false;

cache.openFlag = true;

cache.ec.emit(eNameIndex.open,data);});









cache.ec.on('session-error',function(data){
cache.ec.emit(eNameIndex.error,data);});







cache.ec.on('conv-joined',function(data){



if(data.peerId !== data.initBy){
cache.ec.emit(eNameIndex.join,data);}

cache.ec.emit(eNameIndex.invited,data);});



cache.ec.on('conv-left',function(data){
cache.ec.emit(eNameIndex.left,data);
cache.ec.emit(eNameIndex.kicked,data);});



cache.ec.on('conv-members-joined',function(data){
cache.ec.emit(eNameIndex.join,data);
cache.ec.emit(eNameIndex.membersjoined,data);});



cache.ec.on('conv-members-left',function(data){
cache.ec.emit(eNameIndex.left,data);
cache.ec.emit(eNameIndex.membersleft,data);});










cache.ec.on('conv-error',function(data){
cache.ec.emit(eNameIndex.error,data);
throw data.code + ':' + data.reason;});







cache.ec.on('direct',function(data){


data.msg = engine.getMediaMsg(cache,data.msg);


if(!data.transient){
engine.convAck(cache,{
cid:data.cid,
mid:data.id});}



cache.ec.emit(eNameIndex.message,data);});



cache.ec.on('rcp',function(data){
cache.ec.emit(eNameIndex.receipt,data);});};








if(typeof exports !== 'undefined'){

if(typeof module !== 'undefined' && module.exports){
exports = module.exports = realtime;}

exports.realtime = realtime;}else 


if(typeof define === 'function' && define.amd){

define('AV/realtime',[],function(){
return realtime;});}
});
__d('leancloud-realtime/lib/tool/index.js',function(global, require, module, exports) {  'use strict';

var tool={};

tool.ajax = require('leancloud-realtime/lib/tool/ajax.js');
tool.extend = require('leancloud-realtime/lib/tool/extend.js');

tool.eventCenter = require('leancloud-realtime/lib/tool/eventcenter.js');


tool.noop = function(){};


tool.isJSONString = function(obj){
return (/^\{.*\}$/.test(obj));};




tool.now = function(){
return new Date().getTime();};



tool.encodeHTML = function(source){
var encodeHTML=function encodeHTML(str){
if(typeof str === 'string'){
return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}else 




{

return str;}};




if(typeof source === 'object'){
for(var key in source) {
source[key] = tool.encodeHTML(source[key]);}

return source;}else 
{

return encodeHTML(source);}};



module.exports = tool;
});
__d('leancloud-realtime/lib/tool/ajax.js',function(global, require, module, exports) {  'use strict';
module.exports = function(options,callback){
if(typeof options === 'string'){
options = {
url:options};}


var url=options.url;
var method=options.method || 'get';
var XMLHttpRequest=require('leancloud-realtime/lib/tool/xmlhttprequest-browser.js').XMLHttpRequest;
var xhr=new XMLHttpRequest();


if(global.XDomainRequest){
xhr = new global.XDomainRequest();}


xhr.open(method,url);

xhr.onload = function(data){
if(xhr.status >= 200 && xhr.status < 300 || global.XDomainRequest && !xhr.status){
callback(null,JSON.parse(xhr.responseText));}else 
{
callback(JSON.parse(xhr.responseText));}};



xhr.onerror = function(data){
callback(data || {});
throw new Error('Network error.');};



xhr.onprogress = function(){};
xhr.ontimeout = function(){};
xhr.timeout = 0;

var body=JSON.stringify(options.data);

xhr.send(body);};
});
__d('leancloud-realtime/lib/tool/xmlhttprequest-browser.js',function(global, require, module, exports) {  "use strict";

exports.XMLHttpRequest = window.XMLHttpRequest || window.XDomainRequest;
});
__d('leancloud-realtime/lib/tool/extend.js',function(global, require, module, exports) {  'use strict';

var hasOwn=Object.prototype.hasOwnProperty;
var toStr=Object.prototype.toString;

var isArray=function isArray(arr){
if(typeof Array.isArray === 'function'){
return Array.isArray(arr);}


return toStr.call(arr) === '[object Array]';};


var isPlainObject=function isPlainObject(obj){
if(!obj || toStr.call(obj) !== '[object Object]'){
return false;}


var hasOwnConstructor=hasOwn.call(obj,'constructor');
var hasIsPrototypeOf=obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype,'isPrototypeOf');

if(obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf){
return false;}




var key;
for(key in obj) {}

return typeof key === 'undefined' || hasOwn.call(obj,key);};


module.exports = function extend(){
var options;
var name;
var src;
var copy;
var copyIsArray;
var clone;
var target=arguments[0];
var i=1;
var length=arguments.length;
var deep=false;


if(typeof target === 'boolean'){
deep = target;
target = arguments[1] || {};

i = 2;}else 
if(typeof target !== 'object' && typeof target !== 'function' || target === null){
target = {};}


for(;i < length;++i) {
options = arguments[i];

if(options !== null){

for(name in options) {
src = target[name];
copy = options[name];


if(target !== copy){

if(deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))){
if(copyIsArray){
copyIsArray = false;
clone = src && isArray(src)?src:[];}else 
{
clone = src && isPlainObject(src)?src:{};}



target[name] = extend(deep,clone,copy);}else 


if(typeof copy !== 'undefined'){
target[name] = copy;}}}}}







return target;};
});
__d('leancloud-realtime/lib/tool/eventcenter.js',function(global, require, module, exports) {  'use strict';

module.exports = function(){
var eventList={};
var eventOnceList={};

var _on=function _on(eventName,fun,options){
if(!eventName){
throw new Error('No event name.');}else 
if(!fun){
throw new Error('No callback function.');}

var list=eventName.split(/\s+/);
var tempList;
var isOnce;
var isSingle;
if(options){
isOnce = options.once;
isSingle = options.single;}


if(!isOnce){
tempList = eventList;}else 
{
tempList = eventOnceList;}

for(var i=0,l=list.length;i < l;i++) {
if(list[i]){
var itemEventList=tempList[list[i]];

if(!itemEventList){
itemEventList = [];


tempList[list[i]] = itemEventList;}


if(isSingle){


var flag=false;
for(var m=0,n=itemEventList.length;m < n;m++) {
if(itemEventList[m].toString() === fun.toString()){
flag = true;
break;}}



if(!flag){
itemEventList.push(fun);}}else 

{
itemEventList.push(fun);}}}};





var _off=function _off(eventName,fun,options){
var tempList;
var isOnce;
if(options){
isOnce = options.once;}

if(!isOnce){
tempList = eventList;}else 
{
tempList = eventOnceList;}

if(tempList[eventName]){
var i=0;
var l=tempList[eventName].length;
for(;i < l;i++) {
if(tempList[eventName][i] === fun){
tempList[eventName][i] = null;

break;}}}};





function cleanNull(list){
var tempList=[];
var i=0;
var l=list.length;
if(l){
for(;i < l;i++) {
if(list[i]){
tempList.push(list[i]);}}


return tempList;}else 
{
return null;}}



return {
on:function on(eventName,fun){
_on(eventName,fun);
return this;},



once:function once(eventName,fun){
_on(eventName,fun,{
once:true});

return this;},



_one:function _one(eventName,fun){
_on(eventName,fun,{
single:true});},


emit:function emit(eventName,data){
if(!eventName){
throw new Error('No emit event name.');}

var i=0;
var l=0;
if(eventList[eventName]){
i = 0;
l = eventList[eventName].length;
for(;i < l;i++) {
if(eventList[eventName][i]){
eventList[eventName][i].call(this,data);}}


eventList[eventName] = cleanNull(eventList[eventName]);}

if(eventOnceList[eventName]){
i = 0;
l = eventOnceList[eventName].length;
for(;i < l;i++) {
if(eventOnceList[eventName][i]){
eventOnceList[eventName][i].call(this,data);
_off(eventName,eventOnceList[eventName][i],{
once:true});}}



eventOnceList[eventName] = cleanNull(eventOnceList[eventName]);}

return this;},

off:function off(eventName,fun){
_off(eventName,fun);
return this;}};};
});
__d('ws/lib/browser.js',function(global, require, module, exports) {  var 




global=(function(){return this;})();





var WebSocket=global.WebSocket || global.MozWebSocket;





module.exports = WebSocket?ws:null;














function ws(uri,protocols,opts){
var instance;
if(protocols){
instance = new WebSocket(uri,protocols);}else 
{
instance = new WebSocket(uri);}

return instance;}


if(WebSocket)ws.prototype = WebSocket.prototype;
});
__d('AwesomeProject/src/RecordJourneyChoosePhoto.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

StyleSheet=



React.StyleSheet;var View=React.View;var Text=React.Text;var TouchableOpacity=React.TouchableOpacity;

var styles=StyleSheet.create({
tabView:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


subTabView:{
flex:1,
borderBottomWidth:2,
borderColor:'transparent',
paddingTop:5,
paddingBottom:7,
paddingHorizontal:8},


tab:{
color:'#fff',
fontSize:13},


activeTab:{
borderColor:'#fff'}});



var CameraRollScene=require('AwesomeProject/src/LocalSeveralPhotoPicker.js');

var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(datas){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);

this.activeTab = 0;
this.nextStepParent = datas && datas.nextStep;}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'pressTab',value:


function pressTab(index,navigator){
this.activeTab = index;
navigator.forceUpdate();}},{key:'renderTitle',value:


function renderTitle(route,navigator,index,navState){
var tab1Style=styles.subTabView;
var tab2Style=styles.subTabView;

if(this.activeTab === 0){
tab1Style = [styles.subTabView,styles.activeTab];}else 
{
tab2Style = [styles.subTabView,styles.activeTab];}


return (
React.createElement(View,{style:styles.tabView},
React.createElement(TouchableOpacity,{activeOpacity:1,
style:tab1Style,
onPress:this.pressTab.bind(this,0,navigator)},
React.createElement(Text,{style:styles.tab},'本地相册')),

React.createElement(TouchableOpacity,{activeOpacity:1,
style:tab2Style,
onPress:this.pressTab.bind(this,1,navigator)},
React.createElement(Text,{style:styles.tab},'活动相册'))));}},{key:'nextStep',value:





function nextStep(datas,navigator){
var RecordJourneyEdit=require('AwesomeProject/src/RecordJourneyEdit.js');
navigator.push(new RecordJourneyEdit(datas));}},{key:'renderScene',value:


function renderScene(navigator){
return (
React.createElement(CameraRollScene,{route:this,nextStep:this.nextStepParent || this.nextStep,nextText:'下一步'}));}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/RecordJourneyEdit.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');
var async=require('async/lib/async.js');var 


StyleSheet=








React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;var Text=React.Text;var TextInput=React.TextInput;var PixelRatio=React.PixelRatio;var Image=React.Image;var View=React.View;var Dimensions=React.Dimensions;var ListView=React.ListView;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var deviceWidth=Dimensions.get('window').width;
var RecordJourneyChoosePhoto=require('AwesomeProject/src/RecordJourneyChoosePhoto.js');
var TextInputRoute=require('AwesomeProject/src/TextInputRoute.js');

var RecordJourney=React.createClass({displayName:'RecordJourney',
getInitialState:function(){
var ds=new ListView.DataSource({rowHasChanged:function(r1,r2){return r1 !== r2;}});
var dataBlob=this.props.dataBlob || [];
var datas=[];
dataBlob.map((function(item,index){
var photo=item.photo;

datas.push({
publishDate:this._changeTimestampToDate(photo.timestamp),
location:photo.location,
imageURI:photo.image.uri});}).

bind(this));
return {
title:"",
content:"",
dataBlob:datas,
dataSource:ds.cloneWithRows(datas)};},



_transLocation:function(latitude,longitude){
return fetch('http://pelias.mapzen.com/reverse?lat=' + latitude + '&lon=' + longitude).then(function(response){
return response.text();});},



getActivity:function(){
return {
title:this.state.title,
content:this.state.content,
dataBlob:this.state.dataBlob};},



componentDidMount:function(){
var datas=_.clone(this.state.dataBlob);

datas.map((function(item,index){
if(item.location.latitude && item.location.longitude){
this._transLocation(item.location.latitude,item.location.longitude).then((function(results){
results = JSON.parse(results);
var address=results.features[0].properties.text;

var data=_.extend({},item,{
address:address});

var dataBlob=_.clone(this.state.dataBlob);
dataBlob[index] = data;

this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});}).

bind(this),function(e){
console.error(e);});}}).


bind(this));},


editContent:function(){
this.props.navigator.push(new TextInputRoute({
initValue:this.state.content,
onResult:this.setContent,
title:'编辑'}));},



setContent:function(content){
this.setState({content:content});},


_addImage:function(rowID){
this.setState({
newRowIndex:rowID});


this.props.navigator.push(new RecordJourneyChoosePhoto({nextStep:this._addImageRow}));},


_changeTimestampToDate:function(timestamp){
var date=new Date(timestamp * 1000);
var publishDate=date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate() + ' ' + date.getHours() + ':' + date.getMinutes();
return publishDate;},


_addImageRow:function(datas,navigator){
var newRowIndex=this.state.newRowIndex;

navigator.pop();
async.map(datas,(function(itemOrigin,callback){
var photo=itemOrigin.photo;

var item={
publishDate:this._changeTimestampToDate(photo.timestamp),
location:photo.location,
imageURI:photo.image.uri};


if(item.location.latitude && item.location.longitude){
this._transLocation(item.location.latitude,item.location.longitude).then((function(results){
results = JSON.parse(results);
var address=results.features[0].properties.text;

var data=_.extend({},item,{
address:address});


callback(null,data);}).
bind(this),function(e){
callback(e);});}else 

{
callback(null,item);}}).

bind(this),(function(err,results){
if(err){
return;}


var dataBlob=_.clone(this.state.dataBlob);
dataBlob.splice.apply(dataBlob,[this.state.newRowIndex,0].concat(results));
this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});}).

bind(this));},


_addText:function(rowID){
this.setState({
newRowIndex:rowID});


this.props.navigator.push(new TextInputRoute({
initValue:'',
onResult:this._addTextRow,
title:'编辑'}));},



_addTextRow:function(content){
var data={
text:content};


var dataBlob=_.clone(this.state.dataBlob);
dataBlob.splice(this.state.newRowIndex,0,data);
this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



_renderRow:function(datas,sectionID,rowID){
return React.createElement(Cell,{datas:datas,rowID:rowID,
addImage:this._addImage,
addText:this._addText,
setItemValue:this._setItemValue});},


_setItemValue:function(value,rowID,type){
var dataBlob=_.clone(this.state.dataBlob);
var item=_.clone(dataBlob[rowID]);
item[type] = value;
dataBlob[rowID] = item;

this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



_renderHeader:function(){var _this=this;
return (
React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.subItemView},
React.createElement(Text,{style:styles.subItemText},'标题'),
React.createElement(TextInput,{style:styles.subItemEdit,
onChangeText:function(title){return _this.setState({title:title});},
value:this.state.title})),

React.createElement(View,{style:[styles.subItemView,styles.separator]},
React.createElement(Text,{style:styles.subItemText},'内容'),
React.createElement(TouchableOpacity,{style:styles.subItemContentView,
onPress:this.editContent},
React.createElement(Text,{style:styles.contentText,numberOfLines:1},
this.state.content),

React.createElement(View,{style:styles.imageView},
React.createElement(Image,{source:icons.arrow,
style:styles.iconArrow}))))));},







_renderFooter:function(){var _this2=this;
return (
React.createElement(Footer,{getRowID:function(){return _this2.state.dataBlob.length;},
addImage:this._addImage,
addText:this._addText}));},



render:function(){
return (
React.createElement(View,{style:styles.background},
React.createElement(View,{style:styles.flex1View},
React.createElement(ListView,{style:styles.displayView,
dataSource:this.state.dataSource,
renderRow:this._renderRow,
renderHeader:this._renderHeader,
renderFooter:this._renderFooter,
automaticallyAdjustContentInsets:false}))));}});






var Footer=React.createClass({displayName:'Footer',
getInitialState:function(){
return {
adding:false};},



componentWillReceiveProps:function(nextProps){
this.setState({
adding:false});},



render:function(){var _this3=this;
if(this.state.adding){
return (
React.createElement(View,{style:[styles.footerView,{height:32}]},
React.createElement(TouchableOpacity,{onPress:function(){return _this3.setState({adding:false});},activeOpacity:1},
React.createElement(Image,{source:icons.dismissBg,
style:styles.plusIcon})),

React.createElement(TouchableOpacity,{activeOpacity:1},
React.createElement(Image,{source:icons.addRoute,
style:styles.editImage})),

React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:function(){return _this3.props.addImage(_this3.props.getRowID());}},
React.createElement(Image,{source:icons.addImage,
style:styles.editImage})),

React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:function(){return _this3.props.addText(_this3.props.getRowID());}},
React.createElement(Image,{source:icons.addText,style:styles.editImage}))));}else 




{
return (
React.createElement(View,{style:styles.footerView},
React.createElement(TouchableOpacity,{
activeOpacity:1,
onPress:function(){return _this3.setState({
adding:true});}},

React.createElement(Image,{source:icons.plusBlue,style:styles.plusIcon}))));}}});








var Cell=React.createClass({displayName:'Cell',
getInitialState:function(){
var datas=this.props.datas;
return {
publishDate:datas.publishDate,
address:datas.address,
imageURI:datas.imageURI,
text:datas.text,
adding:false};},



componentWillReceiveProps:function(nextProps){
var datas=nextProps.datas;
this.setState({
publishDate:datas.publishDate,
address:datas.address,
imageURI:datas.imageURI,
text:datas.text,
adding:false});},



_renderContent:function(){
if(this.state.imageURI && this.state.text){
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(Image,{source:{uri:this.state.imageURI},
style:styles.contentImage,
resizeMode:'cover'}),
React.createElement(Text,{style:styles.descriptionText},
this.state.text)));}else 



if(this.state.imageURI){
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(Image,{source:{uri:this.state.imageURI},
style:styles.contentImage,
resizeMode:'cover'})));}else 


if(this.state.text){
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(Text,{style:styles.descriptionText},
this.state.text)));}},






_changeRowStatus:function(){
if(this.state.adding){
this.setState({
adding:false});}else 

{
this.setState({
adding:true});}},




_renderAddRow:function(){var _this4=this;
if(this.state.adding){
return (
React.createElement(View,{style:[styles.flex1View,{height:32}]},
React.createElement(TouchableOpacity,{onPress:this._changeRowStatus,activeOpacity:1},
React.createElement(Image,{source:icons.dismissMid,style:styles.plusIcon})),

React.createElement(TouchableOpacity,{activeOpacity:1},
React.createElement(Image,{source:icons.addRoute,style:styles.editImage})),

React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:function(){return _this4.props.addImage(_this4.props.rowID);}},
React.createElement(Image,{source:icons.addImage,style:styles.editImage})),

React.createElement(TouchableOpacity,{activeOpacity:1,
onPress:function(){return _this4.props.addText(_this4.props.rowID);}},
React.createElement(Image,{source:icons.addText,style:styles.editImage}))));}else 



{
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(TouchableOpacity,{onPress:this._changeRowStatus,activeOpacity:1},
React.createElement(Image,{source:icons.plusBlue,style:styles.plusIcon}))));}},






render:function(){var _this5=this;
return (
React.createElement(View,{style:styles.cellView},
this._renderAddRow(),
React.createElement(View,{style:[styles.verticalLine,styles.verticalLine10]}),
React.createElement(View,{style:styles.flex1View},
React.createElement(Image,{source:icons.calendarGreen,
style:styles.calendarIcon}),
React.createElement(TextInput,{onChangeText:function(publishDate){return _this5.props.setItemValue(publishDate,_this5.props.rowID,'publishDate');},
value:this.state.publishDate,
style:styles.textInputView})),

React.createElement(View,{style:[styles.verticalLine,styles.verticalLine10]}),
React.createElement(View,{style:styles.flex1View},
React.createElement(Image,{source:icons.markBlue,style:styles.calendarIcon}),
React.createElement(TextInput,{onChangeText:function(address){return _this5.props.setItemValue(address,_this5.props.rowID,'address');},
value:this.state.address,
style:[styles.textInputView,{color:stylesVar('blue-light')}]})),

React.createElement(View,{style:[styles.verticalLine,styles.verticalLine10]}),
this._renderContent(),
React.createElement(View,{style:[styles.verticalLine,styles.verticalLine20]})));}});





var styles=StyleSheet.create({
background:{
position:'absolute',
top:64,
bottom:0,
left:0,
right:0,
backgroundColor:'#f3f5f6'},


editImage:{
width:40,
height:40,
marginLeft:36,
marginTop:-4,
marginBottom:-4},


footerView:{
flex:1,
flexDirection:'row',
marginLeft:15,
marginBottom:20},


textInputView:{
flex:1,
height:24,
fontSize:11,
color:stylesVar('dark-mid'),
marginLeft:6},


contentImage:{
width:deviceWidth - 30,
height:140},


descriptionText:{
flex:1,
color:stylesVar('dark-light-little'),
fontSize:13,
lineHeight:20,
backgroundColor:'#fff',
paddingHorizontal:20,
paddingTop:13,
paddingBottom:20},


cellView:{
flex:1,
flexDirection:'column',
marginHorizontal:15},


flex1View:{
flex:1,
flexDirection:'row'},


verticalLine:{
width:50,
marginLeft:15,
borderLeftWidth:1,
borderColor:stylesVar('dark-mid-light')},


verticalLine10:{
height:10},


verticalLine20:{
height:20},


plusIcon:{
width:32,
height:32},


calendarIcon:{
width:24,
height:24,
marginHorizontal:4},


subItemText:{
color:stylesVar('dark-mid'),
fontWeight:'300',
fontSize:13,
width:48},


subItemEdit:{
flex:1,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:13},


itemView:{
flex:1,
flexDirection:'column',
justifyContent:'center',
borderColor:stylesVar('dark-light'),
borderWidth:1 / PixelRatio.get(),
paddingLeft:10,
backgroundColor:'#fff',
marginBottom:20},


subItemView:{
flex:1,
flexDirection:'row',
height:45,
paddingRight:15,
paddingLeft:5,
justifyContent:'center',
alignItems:'center'},


separator:{
borderTopWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


subItemContentView:{
flex:1,
flexDirection:'row',
justifyContent:'center',
alignItems:'center'},


contentText:{
flex:1,
color:stylesVar('dark'),
fontWeight:'300',
fontSize:13},


imageView:{
width:20,
alignItems:'flex-end'},


iconArrow:{
width:9,
height:15},


displayView:{
flex:1,
backgroundColor:'#f3f5f6'},


topView:{
flex:1,
alignItems:'center',
justifyContent:'center',
marginHorizontal:15},


publishText:{
fontSize:14,
fontWeight:'300',
color:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(datas){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);

this.datas = datas;}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return (
React.createElement(TouchableOpacity,{style:styles.topView,
onPress:this._publishActivity.bind(this)},
React.createElement(Text,{style:styles.publishText},'发布')));}},{key:'_publishActivity',value:




function _publishActivity(){
return this._root.getActivity();}},{key:'renderScene',value:






function renderScene(navigator){var _this6=this;
return (
React.createElement(RecordJourney,{dataBlob:this.datas,ref:function(component){return _this6._root = component;}}));}},{key:'title',get:function(){return '写游记';}}]);return Route;})(BaseRouteMapper);





module.exports = Route;
});
__d('async/lib/async.js',function(global, require, module, exports) {  (






function(){

var async={};
function noop(){}
function identity(v){
return v;}

function toBool(v){
return !!v;}

function notId(v){
return !v;}



var previous_async;




var root=typeof self === 'object' && self.self === self && self || 
typeof global === 'object' && global.global === global && global || 
this;

if(root != null){
previous_async = root.async;}


async.noConflict = function(){
root.async = previous_async;
return async;};


function only_once(fn){
return function(){
if(fn === null)throw new Error("Callback was already called.");
fn.apply(this,arguments);
fn = null;};}



function _once(fn){
return function(){
if(fn === null)return;
fn.apply(this,arguments);
fn = null;};}





var _toString=Object.prototype.toString;

var _isArray=Array.isArray || function(obj){
return _toString.call(obj) === '[object Array]';};



var _isObject=function(obj){
var type=typeof obj;
return type === 'function' || type === 'object' && !!obj;};


function _isArrayLike(arr){
return _isArray(arr) || 

typeof arr.length === "number" && 
arr.length >= 0 && 
arr.length % 1 === 0;}



function _arrayEach(arr,iterator){
var index=-1,
length=arr.length;

while(++index < length) {
iterator(arr[index],index,arr);}}



function _map(arr,iterator){
var index=-1,
length=arr.length,
result=Array(length);

while(++index < length) {
result[index] = iterator(arr[index],index,arr);}

return result;}


function _range(count){
return _map(Array(count),function(v,i){return i;});}


function _reduce(arr,iterator,memo){
_arrayEach(arr,function(x,i,a){
memo = iterator(memo,x,i,a);});

return memo;}


function _forEachOf(object,iterator){
_arrayEach(_keys(object),function(key){
iterator(object[key],key);});}



function _indexOf(arr,item){
for(var i=0;i < arr.length;i++) {
if(arr[i] === item)return i;}

return -1;}


var _keys=Object.keys || function(obj){
var keys=[];
for(var k in obj) {
if(obj.hasOwnProperty(k)){
keys.push(k);}}


return keys;};


function _keyIterator(coll){
var i=-1;
var len;
var keys;
if(_isArrayLike(coll)){
len = coll.length;
return function next(){
i++;
return i < len?i:null;};}else 

{
keys = _keys(coll);
len = keys.length;
return function next(){
i++;
return i < len?keys[i]:null;};}}







function _restParam(func,startIndex){
startIndex = startIndex == null?func.length - 1:+startIndex;
return function(){
var length=Math.max(arguments.length - startIndex,0);
var rest=Array(length);
for(var index=0;index < length;index++) {
rest[index] = arguments[index + startIndex];}

switch(startIndex){
case 0:return func.call(this,rest);
case 1:return func.call(this,arguments[0],rest);}};}











function _withoutIndex(iterator){
return function(value,index,callback){
return iterator(value,callback);};}








var _setImmediate=typeof setImmediate === 'function' && setImmediate;

var _delay=_setImmediate?function(fn){

_setImmediate(fn);}:
function(fn){
setTimeout(fn,0);};


if(typeof process === 'object' && typeof process.nextTick === 'function'){
async.nextTick = process.nextTick;}else 
{
async.nextTick = _delay;}

async.setImmediate = _setImmediate?_delay:async.nextTick;


async.forEach = 
async.each = function(arr,iterator,callback){
return async.eachOf(arr,_withoutIndex(iterator),callback);};


async.forEachSeries = 
async.eachSeries = function(arr,iterator,callback){
return async.eachOfSeries(arr,_withoutIndex(iterator),callback);};



async.forEachLimit = 
async.eachLimit = function(arr,limit,iterator,callback){
return _eachOfLimit(limit)(arr,_withoutIndex(iterator),callback);};


async.forEachOf = 
async.eachOf = function(object,iterator,callback){
callback = _once(callback || noop);
object = object || [];

var iter=_keyIterator(object);
var key,completed=0;

while((key = iter()) != null) {
completed += 1;
iterator(object[key],key,only_once(done));}


if(completed === 0)callback(null);

function done(err){
completed--;
if(err){
callback(err);}else 



if(key === null && completed <= 0){
callback(null);}}};




async.forEachOfSeries = 
async.eachOfSeries = function(obj,iterator,callback){
callback = _once(callback || noop);
obj = obj || [];
var nextKey=_keyIterator(obj);
var key=nextKey();
function iterate(){
var sync=true;
if(key === null){
return callback(null);}

iterator(obj[key],key,only_once(function(err){
if(err){
callback(err);}else 

{
key = nextKey();
if(key === null){
return callback(null);}else 
{
if(sync){
async.setImmediate(iterate);}else 
{
iterate();}}}}));




sync = false;}

iterate();};




async.forEachOfLimit = 
async.eachOfLimit = function(obj,limit,iterator,callback){
_eachOfLimit(limit)(obj,iterator,callback);};


function _eachOfLimit(limit){

return function(obj,iterator,callback){
callback = _once(callback || noop);
obj = obj || [];
var nextKey=_keyIterator(obj);
if(limit <= 0){
return callback(null);}

var done=false;
var running=0;
var errored=false;

(function replenish(){
if(done && running <= 0){
return callback(null);}


while(running < limit && !errored) {
var key=nextKey();
if(key === null){
done = true;
if(running <= 0){
callback(null);}

return;}

running += 1;
iterator(obj[key],key,only_once(function(err){
running -= 1;
if(err){
callback(err);
errored = true;}else 

{
replenish();}}));}})();};}








function doParallel(fn){
return function(obj,iterator,callback){
return fn(async.eachOf,obj,iterator,callback);};}


function doParallelLimit(fn){
return function(obj,limit,iterator,callback){
return fn(_eachOfLimit(limit),obj,iterator,callback);};}


function doSeries(fn){
return function(obj,iterator,callback){
return fn(async.eachOfSeries,obj,iterator,callback);};}



function _asyncMap(eachfn,arr,iterator,callback){
callback = _once(callback || noop);
arr = arr || [];
var results=_isArrayLike(arr)?[]:{};
eachfn(arr,function(value,index,callback){
iterator(value,function(err,v){
results[index] = v;
callback(err);});},

function(err){
callback(err,results);});}



async.map = doParallel(_asyncMap);
async.mapSeries = doSeries(_asyncMap);
async.mapLimit = doParallelLimit(_asyncMap);



async.inject = 
async.foldl = 
async.reduce = function(arr,memo,iterator,callback){
async.eachOfSeries(arr,function(x,i,callback){
iterator(memo,x,function(err,v){
memo = v;
callback(err);});},

function(err){
callback(err,memo);});};



async.foldr = 
async.reduceRight = function(arr,memo,iterator,callback){
var reversed=_map(arr,identity).reverse();
async.reduce(reversed,memo,iterator,callback);};


async.transform = function(arr,memo,iterator,callback){
if(arguments.length === 3){
callback = iterator;
iterator = memo;
memo = _isArray(arr)?[]:{};}


async.eachOf(arr,function(v,k,cb){
iterator(memo,v,k,cb);},
function(err){
callback(err,memo);});};



function _filter(eachfn,arr,iterator,callback){
var results=[];
eachfn(arr,function(x,index,callback){
iterator(x,function(v){
if(v){
results.push({index:index,value:x});}

callback();});},

function(){
callback(_map(results.sort(function(a,b){
return a.index - b.index;}),
function(x){
return x.value;}));});}




async.select = 
async.filter = doParallel(_filter);

async.selectLimit = 
async.filterLimit = doParallelLimit(_filter);

async.selectSeries = 
async.filterSeries = doSeries(_filter);

function _reject(eachfn,arr,iterator,callback){
_filter(eachfn,arr,function(value,cb){
iterator(value,function(v){
cb(!v);});},

callback);}

async.reject = doParallel(_reject);
async.rejectLimit = doParallelLimit(_reject);
async.rejectSeries = doSeries(_reject);

function _createTester(eachfn,check,getResult){
return function(arr,limit,iterator,cb){
function done(){
if(cb)cb(getResult(false,void 0));}

function iteratee(x,_,callback){
if(!cb)return callback();
iterator(x,function(v){
if(cb && check(v)){
cb(getResult(true,x));
cb = iterator = false;}

callback();});}


if(arguments.length > 3){
eachfn(arr,limit,iteratee,done);}else 
{
cb = iterator;
iterator = limit;
eachfn(arr,iteratee,done);}};}




async.any = 
async.some = _createTester(async.eachOf,toBool,identity);

async.someLimit = _createTester(async.eachOfLimit,toBool,identity);

async.all = 
async.every = _createTester(async.eachOf,notId,notId);

async.everyLimit = _createTester(async.eachOfLimit,notId,notId);

function _findGetResult(v,x){
return x;}

async.detect = _createTester(async.eachOf,identity,_findGetResult);
async.detectSeries = _createTester(async.eachOfSeries,identity,_findGetResult);
async.detectLimit = _createTester(async.eachOfLimit,identity,_findGetResult);

async.sortBy = function(arr,iterator,callback){
async.map(arr,function(x,callback){
iterator(x,function(err,criteria){
if(err){
callback(err);}else 

{
callback(null,{value:x,criteria:criteria});}});},


function(err,results){
if(err){
return callback(err);}else 

{
callback(null,_map(results.sort(comparator),function(x){
return x.value;}));}});





function comparator(left,right){
var a=left.criteria,b=right.criteria;
return a < b?-1:a > b?1:0;}};



async.auto = function(tasks,concurrency,callback){
if(!callback){

callback = concurrency;
concurrency = null;}

callback = _once(callback || noop);
var keys=_keys(tasks);
var remainingTasks=keys.length;
if(!remainingTasks){
return callback(null);}

if(!concurrency){
concurrency = remainingTasks;}


var results={};
var runningTasks=0;

var listeners=[];
function addListener(fn){
listeners.unshift(fn);}

function removeListener(fn){
var idx=_indexOf(listeners,fn);
if(idx >= 0)listeners.splice(idx,1);}

function taskComplete(){
remainingTasks--;
_arrayEach(listeners.slice(0),function(fn){
fn();});}



addListener(function(){
if(!remainingTasks){
callback(null,results);}});



_arrayEach(keys,function(k){
var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];
var taskCallback=_restParam(function(err,args){
runningTasks--;
if(args.length <= 1){
args = args[0];}

if(err){
var safeResults={};
_forEachOf(results,function(val,rkey){
safeResults[rkey] = val;});

safeResults[k] = args;
callback(err,safeResults);}else 

{
results[k] = args;
async.setImmediate(taskComplete);}});


var requires=task.slice(0,task.length - 1);

var len=requires.length;
var dep;
while(len--) {
if(!(dep = tasks[requires[len]])){
throw new Error('Has inexistant dependency');}

if(_isArray(dep) && _indexOf(dep,k) >= 0){
throw new Error('Has cyclic dependencies');}}


function ready(){
return runningTasks < concurrency && _reduce(requires,function(a,x){
return a && results.hasOwnProperty(x);},
true) && !results.hasOwnProperty(k);}

if(ready()){
runningTasks++;
task[task.length - 1](taskCallback,results);}else 

{
addListener(listener);}

function listener(){
if(ready()){
runningTasks++;
removeListener(listener);
task[task.length - 1](taskCallback,results);}}});};







async.retry = function(times,task,callback){
var DEFAULT_TIMES=5;
var DEFAULT_INTERVAL=0;

var attempts=[];

var opts={
times:DEFAULT_TIMES,
interval:DEFAULT_INTERVAL};


function parseTimes(acc,t){
if(typeof t === 'number'){
acc.times = parseInt(t,10) || DEFAULT_TIMES;}else 
if(typeof t === 'object'){
acc.times = parseInt(t.times,10) || DEFAULT_TIMES;
acc.interval = parseInt(t.interval,10) || DEFAULT_INTERVAL;}else 
{
throw new Error('Unsupported argument type for \'times\': ' + typeof t);}}



var length=arguments.length;
if(length < 1 || length > 3){
throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');}else 
if(length <= 2 && typeof times === 'function'){
callback = task;
task = times;}

if(typeof times !== 'function'){
parseTimes(opts,times);}

opts.callback = callback;
opts.task = task;

function wrappedTask(wrappedCallback,wrappedResults){
function retryAttempt(task,finalAttempt){
return function(seriesCallback){
task(function(err,result){
seriesCallback(!err || finalAttempt,{err:err,result:result});},
wrappedResults);};}



function retryInterval(interval){
return function(seriesCallback){
setTimeout(function(){
seriesCallback(null);},
interval);};}



while(opts.times) {

var finalAttempt=!(opts.times -= 1);
attempts.push(retryAttempt(opts.task,finalAttempt));
if(!finalAttempt && opts.interval > 0){
attempts.push(retryInterval(opts.interval));}}



async.series(attempts,function(done,data){
data = data[data.length - 1];
(wrappedCallback || opts.callback)(data.err,data.result);});}




return opts.callback?wrappedTask():wrappedTask;};


async.waterfall = function(tasks,callback){
callback = _once(callback || noop);
if(!_isArray(tasks)){
var err=new Error('First argument to waterfall must be an array of functions');
return callback(err);}

if(!tasks.length){
return callback();}

function wrapIterator(iterator){
return _restParam(function(err,args){
if(err){
callback.apply(null,[err].concat(args));}else 

{
var next=iterator.next();
if(next){
args.push(wrapIterator(next));}else 

{
args.push(callback);}

ensureAsync(iterator).apply(null,args);}});}



wrapIterator(async.iterator(tasks))();};


function _parallel(eachfn,tasks,callback){
callback = callback || noop;
var results=_isArrayLike(tasks)?[]:{};

eachfn(tasks,function(task,key,callback){
task(_restParam(function(err,args){
if(args.length <= 1){
args = args[0];}

results[key] = args;
callback(err);}));},

function(err){
callback(err,results);});}



async.parallel = function(tasks,callback){
_parallel(async.eachOf,tasks,callback);};


async.parallelLimit = function(tasks,limit,callback){
_parallel(_eachOfLimit(limit),tasks,callback);};


async.series = function(tasks,callback){
_parallel(async.eachOfSeries,tasks,callback);};


async.iterator = function(tasks){
function makeCallback(index){
function fn(){
if(tasks.length){
tasks[index].apply(null,arguments);}

return fn.next();}

fn.next = function(){
return index < tasks.length - 1?makeCallback(index + 1):null;};

return fn;}

return makeCallback(0);};


async.apply = _restParam(function(fn,args){
return _restParam(function(callArgs){
return fn.apply(
null,args.concat(callArgs));});});




function _concat(eachfn,arr,fn,callback){
var result=[];
eachfn(arr,function(x,index,cb){
fn(x,function(err,y){
result = result.concat(y || []);
cb(err);});},

function(err){
callback(err,result);});}


async.concat = doParallel(_concat);
async.concatSeries = doSeries(_concat);

async.whilst = function(test,iterator,callback){
callback = callback || noop;
if(test()){
var next=_restParam(function(err,args){
if(err){
callback(err);}else 
if(test.apply(this,args)){
iterator(next);}else 
{
callback(null);}});


iterator(next);}else 
{
callback(null);}};



async.doWhilst = function(iterator,test,callback){
var calls=0;
return async.whilst(function(){
return ++calls <= 1 || test.apply(this,arguments);},
iterator,callback);};


async.until = function(test,iterator,callback){
return async.whilst(function(){
return !test.apply(this,arguments);},
iterator,callback);};


async.doUntil = function(iterator,test,callback){
return async.doWhilst(iterator,function(){
return !test.apply(this,arguments);},
callback);};


async.during = function(test,iterator,callback){
callback = callback || noop;

var next=_restParam(function(err,args){
if(err){
callback(err);}else 
{
args.push(check);
test.apply(this,args);}});



var check=function(err,truth){
if(err){
callback(err);}else 
if(truth){
iterator(next);}else 
{
callback(null);}};



test(check);};


async.doDuring = function(iterator,test,callback){
var calls=0;
async.during(function(next){
if(calls++ < 1){
next(null,true);}else 
{
test.apply(this,arguments);}},

iterator,callback);};


function _queue(worker,concurrency,payload){
if(concurrency == null){
concurrency = 1;}else 

if(concurrency === 0){
throw new Error('Concurrency must not be zero');}

function _insert(q,data,pos,callback){
if(callback != null && typeof callback !== "function"){
throw new Error("task callback must be a function");}

q.started = true;
if(!_isArray(data)){
data = [data];}

if(data.length === 0 && q.idle()){

return async.setImmediate(function(){
q.drain();});}


_arrayEach(data,function(task){
var item={
data:task,
callback:callback || noop};


if(pos){
q.tasks.unshift(item);}else 
{
q.tasks.push(item);}


if(q.tasks.length === q.concurrency){
q.saturated();}});


async.setImmediate(q.process);}

function _next(q,tasks){
return function(){
workers -= 1;

var removed=false;
var args=arguments;
_arrayEach(tasks,function(task){
_arrayEach(workersList,function(worker,index){
if(worker === task && !removed){
workersList.splice(index,1);
removed = true;}});



task.callback.apply(task,args);});

if(q.tasks.length + workers === 0){
q.drain();}

q.process();};}



var workers=0;
var workersList=[];
var q={
tasks:[],
concurrency:concurrency,
payload:payload,
saturated:noop,
empty:noop,
drain:noop,
started:false,
paused:false,
push:function(data,callback){
_insert(q,data,false,callback);},

kill:function(){
q.drain = noop;
q.tasks = [];},

unshift:function(data,callback){
_insert(q,data,true,callback);},

process:function(){
if(!q.paused && workers < q.concurrency && q.tasks.length){
while(workers < q.concurrency && q.tasks.length) {
var tasks=q.payload?
q.tasks.splice(0,q.payload):
q.tasks.splice(0,q.tasks.length);

var data=_map(tasks,function(task){
return task.data;});


if(q.tasks.length === 0){
q.empty();}

workers += 1;
workersList.push(tasks[0]);
var cb=only_once(_next(q,tasks));
worker(data,cb);}}},



length:function(){
return q.tasks.length;},

running:function(){
return workers;},

workersList:function(){
return workersList;},

idle:function(){
return q.tasks.length + workers === 0;},

pause:function(){
q.paused = true;},

resume:function(){
if(q.paused === false){return;}
q.paused = false;
var resumeCount=Math.min(q.concurrency,q.tasks.length);


for(var w=1;w <= resumeCount;w++) {
async.setImmediate(q.process);}}};



return q;}


async.queue = function(worker,concurrency){
var q=_queue(function(items,cb){
worker(items[0],cb);},
concurrency,1);

return q;};


async.priorityQueue = function(worker,concurrency){

function _compareTasks(a,b){
return a.priority - b.priority;}


function _binarySearch(sequence,item,compare){
var beg=-1,
end=sequence.length - 1;
while(beg < end) {
var mid=beg + (end - beg + 1 >>> 1);
if(compare(item,sequence[mid]) >= 0){
beg = mid;}else 
{
end = mid - 1;}}


return beg;}


function _insert(q,data,priority,callback){
if(callback != null && typeof callback !== "function"){
throw new Error("task callback must be a function");}

q.started = true;
if(!_isArray(data)){
data = [data];}

if(data.length === 0){

return async.setImmediate(function(){
q.drain();});}


_arrayEach(data,function(task){
var item={
data:task,
priority:priority,
callback:typeof callback === 'function'?callback:noop};


q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks) + 1,0,item);

if(q.tasks.length === q.concurrency){
q.saturated();}

async.setImmediate(q.process);});}




var q=async.queue(worker,concurrency);


q.push = function(data,priority,callback){
_insert(q,data,priority,callback);};



delete q.unshift;

return q;};


async.cargo = function(worker,payload){
return _queue(worker,1,payload);};


function _console_fn(name){
return _restParam(function(fn,args){
fn.apply(null,args.concat([_restParam(function(err,args){
if(typeof console === 'object'){
if(err){
if(console.error){
console.error(err);}}else 


if(console[name]){
_arrayEach(args,function(x){
console[name](x);});}}})]));});}






async.log = _console_fn('log');
async.dir = _console_fn('dir');




async.memoize = function(fn,hasher){
var memo={};
var queues={};
hasher = hasher || identity;
var memoized=_restParam(function memoized(args){
var callback=args.pop();
var key=hasher.apply(null,args);
if(key in memo){
async.setImmediate(function(){
callback.apply(null,memo[key]);});}else 


if(key in queues){
queues[key].push(callback);}else 

{
queues[key] = [callback];
fn.apply(null,args.concat([_restParam(function(args){
memo[key] = args;
var q=queues[key];
delete queues[key];
for(var i=0,l=q.length;i < l;i++) {
q[i].apply(null,args);}})]));}});




memoized.memo = memo;
memoized.unmemoized = fn;
return memoized;};


async.unmemoize = function(fn){
return function(){
return (fn.unmemoized || fn).apply(null,arguments);};};



function _times(mapper){
return function(count,iterator,callback){
mapper(_range(count),iterator,callback);};}



async.times = _times(async.map);
async.timesSeries = _times(async.mapSeries);
async.timesLimit = function(count,limit,iterator,callback){
return async.mapLimit(_range(count),limit,iterator,callback);};


async.seq = function(){
var fns=arguments;
return _restParam(function(args){
var that=this;

var callback=args[args.length - 1];
if(typeof callback == 'function'){
args.pop();}else 
{
callback = noop;}


async.reduce(fns,args,function(newargs,fn,cb){
fn.apply(that,newargs.concat([_restParam(function(err,nextargs){
cb(err,nextargs);})]));},


function(err,results){
callback.apply(that,[err].concat(results));});});};




async.compose = function(){
return async.seq.apply(null,Array.prototype.reverse.call(arguments));};



function _applyEach(eachfn){
return _restParam(function(fns,args){
var go=_restParam(function(args){
var that=this;
var callback=args.pop();
return eachfn(fns,function(fn,_,cb){
fn.apply(that,args.concat([cb]));},

callback);});

if(args.length){
return go.apply(this,args);}else 

{
return go;}});}




async.applyEach = _applyEach(async.eachOf);
async.applyEachSeries = _applyEach(async.eachOfSeries);


async.forever = function(fn,callback){
var done=only_once(callback || noop);
var task=ensureAsync(fn);
function next(err){
if(err){
return done(err);}

task(next);}

next();};


function ensureAsync(fn){
return _restParam(function(args){
var callback=args.pop();
args.push(function(){
var innerArgs=arguments;
if(sync){
async.setImmediate(function(){
callback.apply(null,innerArgs);});}else 

{
callback.apply(null,innerArgs);}});


var sync=true;
fn.apply(this,args);
sync = false;});}



async.ensureAsync = ensureAsync;

async.constant = _restParam(function(values){
var args=[null].concat(values);
return function(callback){
return callback.apply(this,args);};});



async.wrapSync = 
async.asyncify = function asyncify(func){
return _restParam(function(args){
var callback=args.pop();
var result;
try{
result = func.apply(this,args);}
catch(e) {
return callback(e);}


if(_isObject(result) && typeof result.then === "function"){
result.then(function(value){
callback(null,value);})[
"catch"](function(err){
callback(err.message?err:new Error(err));});}else 

{
callback(null,result);}});};





if(typeof module === 'object' && module.exports){
module.exports = async;}else 


if(typeof define === 'function' && define.amd){
define([],function(){
return async;});}else 



{
root.async = async;}})();
});
__d('AwesomeProject/src/TextInputRoute.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=





React.View;var Image=React.Image;var Text=React.Text;var TextInput=React.TextInput;var TouchableOpacity=React.TouchableOpacity;var StyleSheet=React.StyleSheet;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var TextInputScene=React.createClass({

displayName:'TextInputScene',

getInitialState:function(){
return {
value:this.props.initValue || ''};},



componentDidMount:function(){
this._subscribe = this.props.navbar.addListener('save',(function(){
this.props.onResult(this.state.value);
this.props.navigator.pop();}).
bind(this));},


componentWillUnmount:function(){
this._subscribe.remove();},


render:function(){var _this=this;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(TextInput,{
autoFocus:true,
multiline:true,
style:styles.textInput,
onChangeText:function(value){return _this.setState({value:value});},
value:this.state.value})));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('bg-gray')},


textInput:{
backgroundColor:'white',
padding:10,
height:95,
marginTop:20,
borderTopWidth:1,
borderTopColor:stylesVar('dark-lighter'),
borderBottomWidth:1,
borderBottomColor:stylesVar('dark-lighter')}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

TextInputRoute=(function(_BaseRouteMapper){_inherits(TextInputRoute,_BaseRouteMapper);

function TextInputRoute(params){_classCallCheck(this,TextInputRoute);
_get(Object.getPrototypeOf(TextInputRoute.prototype),'constructor',this).call(this);
this.params = params;
this.emitter = new EventEmitter();}_createClass(TextInputRoute,[{key:'_onSave',value:






function _onSave(){
this.emitter.emit('save');}},{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return React.cloneElement(this._renderRightButton('确认'),{
onPress:this._onSave.bind(this)});}},{key:'renderScene',value:



function renderScene(){
return (
React.createElement(TextInputScene,{
navbar:this.emitter,
initValue:this.params.initValue,
onResult:this.params.onResult}));}},{key:'title',get:function(){return this.params.title || "输入文字";}}]);return TextInputRoute;})(BaseRouteMapper);




module.exports = TextInputRoute;
});
__d('AwesomeProject/src/ActivityTags.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


View=

React.View;var StyleSheet=React.StyleSheet;var _require=



require('AwesomeProject/src/widgets/index.js');var Tag=_require.Tag;var _require2=



require('AwesomeProject/src/api/index.js');var activity=_require2.activity;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var ActivityTags=React.createClass({displayName:'ActivityTags',

getDefaultProps:function(){
return {
showState:true};},



render:function(){
var _activity=this.props.data;

var tags=[
React.createElement(Tag,{style:[styles.tag,this.props.tagStyle],
key:'tag-cars'},_activity.getCarsTag()),
React.createElement(Tag,{style:[styles.tag,this.props.tagStyle],
key:'tag-route'},_activity.getRouteTag())];


if(this.props.showState){
if(_activity.getState() === activity.PREPARING){
var stateTag=React.createElement(Tag,{key:'tag-state',style:styles.tagHot},'火热报名中');}else 
{
var stateTag=React.createElement(Tag,{key:'tag-state',style:styles.tagDue},'报名已截止');}

tags = [stateTag].concat(tags);}


return (
React.createElement(View,{style:[styles.tags,this.props.style]},tags));}});




var styles=StyleSheet.create({
tags:{
flexDirection:'row',
alignItems:'center'},


tag:{
marginRight:5},


tagHot:{
marginRight:5,
borderColor:'#f03a47',
backgroundColor:'#f03a47'},


tagDue:{
marginRight:5,
borderColor:stylesVar('green'),
backgroundColor:stylesVar('green')}});



module.exports = ActivityTags;
});
__d('AwesomeProject/src/ActivityManage.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=






React.View;var Image=React.Image;var Text=React.Text;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var TouchableOpacity=React.TouchableOpacity;var _require=



require('AwesomeProject/src/api/models.js');var Partner=_require.Partner;

var icons=require('AwesomeProject/src/icons.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var ActivityModal=require('AwesomeProject/src/ActivityModal.js');var _require2=




require('AwesomeProject/src/widgets/index.js');var Tag=_require2.Tag;var ItemInfo=_require2.ItemInfo;var UserInfo=_require2.UserInfo;

var ActivityManage=React.createClass({displayName:'ActivityManage',
getInitialState:function(){
return {
datas:[]};},



componentDidMount:function(){
this.fetchDatas();},


fetchDatas:function(){
activityApi.fetchManageInfo(this.props.activity).then((function(datas){
this.setState({
datas:datas});}).

bind(this),function(e){
console.trace(e);});},



renderItemDetail:function(item){
if(item.type === Partner.SELF_RIDE){
var datas=[{
title:'出行车辆：',
content:item.car.model},
{
title:'牌照：',
content:item.car.number},
{
title:'手机号码：',
content:item.phone},
{
title:'出行人数：',
content:'成人' + item.peopleNum + '／' + '儿童' + item.childNum},
{
title:'空余座位：',
content:item.leftSeats},
{
title:'是否愿意搭人：',
content:item.share?'是':'否'}];

return (
React.createElement(ItemInfo,{datas:datas,detailView:styles.detailView}));}else 

if(item.type === Partner.FREE_RIDE){
var datas=[{
title:'手机号码：',
content:item.phone},
{
title:'出行人数：',
content:'成人' + item.peopleNum + '／' + '儿童' + item.childNum},
{
title:'是否能驾驶车辆：',
content:item.canDrive?'是':'否'}];

return (
React.createElement(ItemInfo,{datas:datas,detailView:styles.detailView}));}else 

{
console.error('partner type error!');
return null;}},



ensurePeopleNum:function(peopleNum,childNum,id){
this._modal.setDatas(true,peopleNum,childNum,id);},


ensurePeopleHandle:function(peopleNum,childNum1,childNum2,id){
activityApi.ensureManage(id,peopleNum,childNum1,childNum2).then((function(){
this.fetchDatas();}).
bind(this),function(e){
console.error(e);});},



changeStatus:function(id,status){
activityApi.changeManageStatus(id,status).then((function(){
this.fetchDatas();}).
bind(this),function(e){
console.error(e);});},



renderBottom:function(item){
if(item.status === Partner.STATUS_APPROVAL){
return (
React.createElement(View,{style:styles.bottomView},
React.createElement(TouchableOpacity,{style:styles.leftView,
onPress:this.changeStatus.bind(this,item.id,Partner.STATUS_CANCELLED)},
React.createElement(Text,{style:styles.leftText},'取消活动资格')),

React.createElement(TouchableOpacity,{style:styles.rightView,
onPress:this.ensurePeopleNum.bind(this,item.peopleNum,item.childNum,item.id)},
React.createElement(Text,{style:styles.rightText},'确认参加人数'))));}else 



if(item.status === Partner.STATUS_IN_REVIEW){
return (
React.createElement(View,{style:styles.bottomView},
React.createElement(TouchableOpacity,{style:styles.leftView,
onPress:this.changeStatus.bind(this,item.id,Partner.STATUS_REFUSED)},
React.createElement(Text,{style:styles.leftText},'不同意参加')),

React.createElement(TouchableOpacity,{style:styles.rightView,
onPress:this.changeStatus.bind(this,item.id,Partner.STATUS_APPROVAL)},
React.createElement(Text,{style:styles.rightText},'同意参加'))));}else 



{
return (
React.createElement(View,{style:styles.lineView}));}},




renderTag:function(status){
if(status === Partner.STATUS_IN_REVIEW){
return React.createElement(Tag,{key:'status',style:styles.tagGreen},'审核中');}else 
if(status === Partner.STATUS_REFUSED){
return React.createElement(Tag,{key:'status',style:styles.tagRed},'未通过审核');}else 
if(status === Partner.STATUS_APPROVAL){
return React.createElement(Tag,{key:'status',style:styles.tagGreen},'已通过审核');}else 
if(status === Partner.STATUS_CANCELLED){
return React.createElement(Tag,{key:'status',style:styles.tagRed},'已取消活动资格');}else 
if(status === Partner.STATUS_CONFIRMED){
return React.createElement(Tag,{key:'status',style:styles.tagGreen},'确认参加');}},



render:function(){var _this=this;
var datas=this.state.datas;

return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{style:styles.contentView},
datas.map((function(item){
return (
React.createElement(View,{style:styles.itemView},
React.createElement(View,{style:styles.user},
React.createElement(UserInfo,{style:styles.info,
username:item.user && item.user.username,
publishDate:item.user && item.user.publishDate,
usernameText:styles.usernameText,
publishDateText:styles.publishDateText,
avatar:item.user && item.user.avatar?{uri:item.user.avatar}:icons.avatarPlaceholder}),
this.renderTag(item.status)),

this.renderItemDetail(item),
this.renderBottom(item),
React.createElement(View,{style:styles.separator})));}).


bind(this))),

React.createElement(ActivityModal,{ref:function(component){return _this._modal = component;},
ensurePeople:this.ensurePeopleHandle})));}});





var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


contentView:{
flex:1,
flexDirection:'column',
backgroundColor:'#f3f5f6'},


itemView:{
flex:1,
flexDirection:'column',
backgroundColor:'#fff'},


separator:{
flex:1,
height:20,
backgroundColor:'#f3f5f6'},


user:{
flex:1,
flexDirection:'row',
paddingTop:20,
paddingBottom:15,
paddingHorizontal:15,
alignItems:'center',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


info:{
flex:1,
justifyContent:'flex-start'},


tagGreen:{
color:stylesVar('green'),
borderColor:stylesVar('green')},


tagRed:{
color:stylesVar('red'),
borderColor:stylesVar('red')},


usernameText:{
color:stylesVar('dark')},


publishDateText:{
color:stylesVar('dark-mid-light')},


bottomView:{
flex:1,
flexDirection:'row',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
height:45},


lineView:{
flex:1,
flexDirection:'row',
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


leftView:{
flex:1,
borderRightWidth:1 / PixelRatio.get(),
borderRightColor:stylesVar('dark-light'),
justifyContent:'center',
alignItems:'center'},


rightView:{
flex:1,
borderRightWidth:1 / PixelRatio.get(),
borderRightColor:stylesVar('dark-light'),
justifyContent:'center',
alignItems:'center'},


leftText:{
fontSize:13,
color:stylesVar('red'),
fontWeight:'300'},


rightText:{
fontSize:13,
color:stylesVar('blue'),
fontWeight:'300'},


detailView:{
paddingBottom:20}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityManageRoute=(function(_BaseRouteMapper){_inherits(ActivityManageRoute,_BaseRouteMapper);
function ActivityManageRoute(data){_classCallCheck(this,ActivityManageRoute);
_get(Object.getPrototypeOf(ActivityManageRoute.prototype),'constructor',this).call(this);

this.activity = data.activity;}_createClass(ActivityManageRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:










function renderScene(navigator){
return React.createElement(ActivityManage,{activity:this.activity});}},{key:'style',get:function(){return this.styles.navBar;}},{key:'title',get:function(){return '报名信息';}}]);return ActivityManageRoute;})(BaseRouteMapper);



module.exports = ActivityManageRoute;
});
__d('AwesomeProject/src/ActivityModal.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


Modal=






React.Modal;var View=React.View;var Text=React.Text;var TextInput=React.TextInput;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var ActivtyModal=React.createClass({displayName:'ActivtyModal',
getInitialState:function(){
return {
peopleNum:this.props.peopleNum || '0',
childNum1:this.props.childNum || '0',
childNum2:'0',
amimated:true,
transparent:true,
modalVisible:false,
id:this.props.id};},



setDatas:function(modalVisible,peopleNum,childNum1,id){
this.setState({
modalVisible:modalVisible,
peopleNum:'' + peopleNum,
childNum1:'' + childNum1,
id:'' + id});},



ensureHandle:function(){
this.setState({
modalVisible:false},
(function(){
this.props.ensurePeople(this.state.peopleNum.trim(),this.state.childNum1.trim(),this.state.childNum2.trim(),this.state.id);}).
bind(this));},


cancelHandle:function(){
this.setState({
modalVisible:false});},



render:function(){var _this=this;
return (
React.createElement(Modal,{visible:this.state.modalVisible,
transparent:this.state.transparent,
animated:this.state.animated},
React.createElement(View,{style:styles.container},
React.createElement(View,{style:styles.contentView},
React.createElement(Text,{style:styles.titleView},'确认实际参加人数'),
React.createElement(View,{style:styles.itemView},
React.createElement(Text,{style:styles.leftText},'成人：'),
React.createElement(TextInput,{style:styles.rightText,
onChangeText:function(peopleNum){return _this.setState({peopleNum:peopleNum});},
value:this.state.peopleNum,
keyboardType:'numeric'})),

React.createElement(View,{style:styles.itemView},
React.createElement(Text,{style:styles.leftText},'儿童(1.4米以上)：'),
React.createElement(TextInput,{style:styles.rightText,
onChangeText:function(childNum1){return _this.setState({childNum1:childNum1});},
value:this.state.childNum1,
keyboardType:'numeric'})),

React.createElement(View,{style:styles.itemViewLast},
React.createElement(Text,{style:styles.leftText},'儿童(1.4米以下)：'),
React.createElement(TextInput,{style:styles.rightText,
onChangeText:function(childNum2){return _this.setState({childNum2:childNum2});},
value:this.state.childNum2,
keyboardType:'numeric'})),

React.createElement(View,{style:styles.bottomView},
React.createElement(TouchableOpacity,{style:styles.leftView,
onPress:this.cancelHandle},
React.createElement(Text,{style:styles.bottomLeftText},'取消')),

React.createElement(TouchableOpacity,{style:styles.rightView,
onPress:this.ensureHandle},
React.createElement(Text,{style:styles.bottomRightText},'确认')))))));}});









var styles=StyleSheet.create({
container:{
position:'absolute',
top:0,
bottom:0,
left:0,
right:0,
backgroundColor:'rgba(0, 0, 0, 0.8)'},


contentView:{
position:'absolute',
top:100,
left:30,
right:30,
flex:1,
flexDirection:'column',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-mid-light'),
borderRadius:2 / PixelRatio.get(),
backgroundColor:'#fff'},


titleView:{
flex:1,
textAlign:'center',
fontSize:16,
color:stylesVar('dark'),
paddingVertical:20},


itemView:{
flex:1,
flexDirection:'row',
marginHorizontal:20,
borderBottomColor:stylesVar('dark-mid-light'),
borderBottomWidth:1 / PixelRatio.get(),
paddingHorizontal:10,
paddingVertical:10},


itemViewLast:{
flex:1,
flexDirection:'row',
marginHorizontal:20,
paddingHorizontal:10,
paddingVertical:10,
marginBottom:15},


bottomView:{
flex:1,
flexDirection:'row',
borderTopWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-mid-light')},


leftView:{
flex:1,
alignItems:'center',
borderRightWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-mid-light')},


bottomLeftText:{
fontSize:16,
paddingVertical:17,
color:stylesVar('dark')},


rightView:{
flex:1,
alignItems:'center'},


bottomRightText:{
fontSize:16,
paddingVertical:17,
color:stylesVar('blue')},


leftText:{
flex:2,
textAlign:'left',
fontSize:14,
color:stylesVar('dark-mid'),
fontWeight:'300'},


rightText:{
flex:1,
textAlign:'right',
fontSize:14,
height:14,
color:stylesVar('dark'),
fontWeight:'300'}});



module.exports = ActivtyModal;
});
__d('AwesomeProject/src/activity/ActivityView.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

var debug=require('AwesomeProject/src/debug.js');
var log=debug('ActivityView:log');
var error=debug('ActivityView:error');

var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;var TouchableHighlight=React.TouchableHighlight;var PixelRatio=React.PixelRatio;var _require=




require('AwesomeProject/src/widgets/index.js');var ActivitySchedule=_require.ActivitySchedule;var BaseText=_require.BaseText;

var icons=require('AwesomeProject/src/icons.js');
var Text=BaseText;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var su=require('AwesomeProject/src/styleUtils.js');
var ActivityTags=require('AwesomeProject/src/ActivityTags.js');

var ActivityView=React.createClass({displayName:'ActivityView',

getInitialState:function(){
return {};},


render:function(){
var _activity=this.props.activity;
var creator=_activity.get('createBy');




var avatar=icons.avatarPlaceholder;

var iconStar=_activity.getStarred()?icons.star:icons.stars;

return (
React.createElement(TouchableOpacity,{activeOpacity:0.8,onPress:this.props.onPress},

React.createElement(View,{style:styles.row},
React.createElement(View,{style:styles.brief},
React.createElement(Image,{style:styles.bg,source:{uri:_activity.getCover()}},
React.createElement(View,{style:styles.info},
React.createElement(Text,{style:styles.title},_activity.get('title')),
React.createElement(ActivityTags,{data:_activity,style:styles.tags})))),




React.createElement(ActivitySchedule,{data:_activity,style:{paddingLeft:16}}),

React.createElement(View,{style:styles.user},
React.createElement(View,{style:styles.usernameView},
React.createElement(Image,{style:styles.avatar,source:avatar}),
React.createElement(Text,{style:styles.username},
creator.get('username') || ""),

React.createElement(Text,{style:[styles.publishDate]},'发布于 ',
moment(_activity.getCreatedAt()).format('YYYY-MM-DD HH:mm'))),


React.createElement(View,{style:styles.star},
React.createElement(Image,{style:styles.iconStar,source:iconStar}),
React.createElement(Text,{style:styles.stars},_activity.getStars()))))));}});









var styles=StyleSheet.create({

baseText:{
color:stylesVar('dark'),
fontWeight:'300'},


container:{
flex:1,
backgroundColor:stylesVar('dark-ligher')},


row:{
backgroundColor:'white'},


brief:{
height:180,
marginBottom:10},


bg:{
position:'absolute',
left:0,
right:0,
top:0,
bottom:0},


info:{
backgroundColor:'transparent',
paddingLeft:16,
position:'absolute',
left:0,
right:0,
bottom:0},


title:{
textAlign:'left',
fontSize:20,
color:'#fff',
marginBottom:10},


tags:{
marginBottom:15},


user:{
flex:1,
flexDirection:'row',
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
alignItems:'center',
justifyContent:'flex-start',
paddingLeft:15},


usernameView:{
flex:1,
flexDirection:'row',
height:40,
alignItems:'center',
justifyContent:'flex-start'},


avatar:_extends({},
su.size(25),{
borderRadius:12.5,
marginRight:10}),


username:{
fontSize:12,

lineHeight:15,
marginRight:10},


publishDate:{
fontSize:10,
lineHeight:15,
marginRight:10,
fontWeight:'100',
color:'#96969b'},


star:{
position:'absolute',
right:15,
flexDirection:'row',
borderLeftWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
height:40,
alignItems:'center',
justifyContent:'center'},


iconStar:_extends({},
su.size(15,14),{
marginRight:5,
marginLeft:15}),


stars:{
lineHeight:14,
fontSize:10,
color:'#96969b'}});



module.exports = ActivityView;
});
__d('AwesomeProject/img/icon-annotation.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":29,"height":39,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/icon-annotation.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"icon-annotation","type":"png"});
});
__d('AwesomeProject/src/Space.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var React=require('react-native/Libraries/react-native/react-native.js');var 


AlertIOS=








React.AlertIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var ScrollView=React.ScrollView;var TouchableHighlight=React.TouchableHighlight;var TouchableOpacity=React.TouchableOpacity;var Dimensions=React.Dimensions;


var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

console.log('device height',deviceHeight);

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');

var MyActivity=require('AwesomeProject/src/MyActivity.js');
var MyJourney=require('AwesomeProject/src/MyJourney.js');
var MyBill=require('AwesomeProject/src/MyBill.js');
var MyTrace=require('AwesomeProject/src/MyTrace.js');
var MyGallery=require('AwesomeProject/src/MyGallery.js');

var store=require('AwesomeProject/src/store.js');var _require=
require('AwesomeProject/src/actions/index.js');var updateSession=_require.updateSession;

var api=require('AwesomeProject/src/api/index.js');
var user=api.user;
var fetchInfo=api.userinfo;
var debug=require('AwesomeProject/src/debug.js');
var log=debug('SpaceTab:log');

var SystemSettings=require('AwesomeProject/src/SystemSettings.js');
var Profile=require('AwesomeProject/src/Profile.js');

var Entry=React.createClass({displayName:'Entry',
getInitialState:function(){
return {};},


render:function(){
return (
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
style:[styles.item,this.props.style],
onPress:this.props.onPress},

React.createElement(Image,{source:this.props.icon,style:styles.icon}),
React.createElement(Text,{style:styles.baseText},this.props.label),
React.createElement(View,{style:styles.entry},
React.createElement(Text,{style:styles.badge},this.props.count),
React.createElement(Image,{source:icons.arrow,style:styles.arrow}))));}});var 






SpaceRoute=(function(_BaseRouteMapper){_inherits(SpaceRoute,_BaseRouteMapper);function SpaceRoute(){_classCallCheck(this,SpaceRoute);_get(Object.getPrototypeOf(SpaceRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(SpaceRoute,[{key:'title',get:
function(){
return '个人中心';}},{key:'style',get:


function(){
return this.styles.navBarEmpty;}}]);return SpaceRoute;})(BaseRouteMapper);



var Space=React.createClass({displayName:'Space',

getInitialState:function(){
this.route = new SpaceRoute();

return {
title:0,
content:0,
info:{}};},



componentDidMount:function(){
this.fetchData();},


componentWillUnmout:function(){
log('Space tab will mount!');},


_goto:function(entry){
return (function(){
if(entry === 'activity'){
this.props.navigator.push(new MyActivity());}else 
if(entry === 'journey'){
this.props.navigator.push(new MyJourney());}else 
if(entry === 'bill'){
this.props.navigator.push(new MyBill());}else 
if(entry === 'trace'){
this.props.navigator.push(new MyTrace());}else 
if(entry === 'gallery'){
this.props.navigator.push(new MyGallery());}}).

bind(this);},


fetchData:function(){var _this=this;
fetchInfo.fetch().
then(function(response){
_this.setState({
info:response.results});}).


done();},


_systemSettings:function(){
this.props.navigator.push(new SystemSettings());},


_profile:function(){
this.props.navigator.push(new Profile());},


render:function(){
var info=this.state.info;
var avatar=info.avatar?{
uri:info.avatar}:
icons.avatarPlaceholder;

return (
React.createElement(View,{style:styles.container},
React.createElement(Image,{style:styles.banner,source:icons.spaceHeader},
React.createElement(View,{style:styles.links},
React.createElement(TouchableOpacity,{activeOpacity:0.8,style:styles.link,
onPress:this._profile},
React.createElement(Text,{style:styles.linkText},'个人资料')),

React.createElement(TouchableOpacity,{activeOpacity:0.8,style:styles.link,
onPress:this._systemSettings},
React.createElement(Text,{style:styles.linkText},'设置')))),




React.createElement(View,{style:styles.user},
React.createElement(Image,{style:styles.avatar,source:avatar}),
React.createElement(Text,{style:styles.username},info.username || ''),
React.createElement(Image,{source:icons.levelsBg,resizeMode:'contain',style:{height:16}},
React.createElement(Text,{style:styles.levels},'等级 ',info.grade))),



React.createElement(View,{style:styles.items},
React.createElement(Entry,{label:'活动',onPress:this._goto('activity'),
icon:icons.activity,count:info.activity || ''}),
React.createElement(Entry,{label:'游记',onPress:this._goto('journey'),
icon:icons.journey,count:info.journey || ''}),
React.createElement(Entry,{label:'轨迹',onPress:this._goto('trace'),
icon:icons.annotations,count:info.annotations || ''}),
React.createElement(Entry,{label:'相册',onPress:this._goto('gallery'),
icon:icons.photos,count:info.photos || ''}),
React.createElement(Entry,{label:'账单',onPress:this._goto('bill'),
icon:icons.bills,count:info.bills || '',style:styles.last}))));}});






function avatarStyle(){
var size=deviceHeight <= 568?48:64;
var border=deviceHeight <= 568?2:3;
return _extends({},
su.size(size),{
borderRadius:size / 2,
marginTop:-size / 2,
borderWidth:border,
borderColor:'#fff'});}



var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#fff'},


banner:{
width:deviceWidth,
height:deviceHeight <= 568?125:180},


links:{
backgroundColor:'transparent',
flexDirection:'row',
justifyContent:'flex-end',
marginTop:30},


link:{
backgroundColor:'transparent',
marginRight:15},


linkText:{
color:'#fff'},


user:{
alignItems:'center',
marginBottom:deviceHeight <= 568?15:25},


avatar:avatarStyle(),

username:{
fontSize:17,
marginVertical:5},


levels:{
fontSize:10,
lineHeight:13,
textAlign:'center',
backgroundColor:'transparent',
color:'#fff'},


baseText:{
color:'#303030'},


items:{
borderTopWidth:1,
borderTopColor:'#dbe0e3',
borderBottomWidth:1,
borderBottomColor:'#dbe0e3',
paddingLeft:10},


item:_extends({},
su.padding(10,10,10,5),{
flexDirection:'row',
alignItems:'center',
borderBottomWidth:1,
borderBottomColor:'#dbe0e3'}),


last:{
borderBottomWidth:0},


badge:{
fontSize:12,
backgroundColor:'#dbe0e3',
borderRadius:3,
color:'#737373',
width:25,
marginRight:15,
textAlign:'center',
paddingVertical:2},


entry:{

height:24,
flexDirection:'row',
alignItems:'center',
position:'absolute',
right:10},


icon:_extends({},
su.size(24),{
marginRight:10}),


arrow:_extends({},
su.size(8,15))});



module.exports = Space;
});
__d('AwesomeProject/src/MyActivity.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=



React.StyleSheet;var View=React.View;var Image=React.Image;var ListView=React.ListView;var _require=



require('AwesomeProject/src/widgets/index.js');var Tab=_require.Tab;

var RefreshableListView=require('react-native-refreshable-listview/index.js');
var ActivityView=require('AwesomeProject/src/activity/ActivityView.js');
var Subscribable=require('Subscribable');
var ActivityMixin=require('AwesomeProject/src/activity/ActivityMixin.js');var _require2=


require('AwesomeProject/src/api/index.js');var activity=_require2.activity;

var MyActivity=React.createClass({displayName:'MyActivity',
mixins:[
Subscribable.Mixin,
ActivityMixin],


getInitialState:function(){
this.activitiesObjects = {};

return {
activeTab:0,
activities:[],
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
this.refs.list.handleRefresh();},


_refresh:function(){
return activity.fetch({
region:this.state.region}).
then((function(activities){
var dataSource=this.state.dataSource.cloneWithRows(activities);
this.setState({
dataSource:dataSource,
activities:activities});}).

bind(this));},


_tabCallback:function(index){
this.setState({
activeTab:index},
(function(){
this.refs.list.handleRefresh();}).
bind(this));},


render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(Tab,{datas:["全部","参加","发起","收藏"],
activeTab:this.state.activeTab,
callbacks:[this._tabCallback,this._tabCallback,this._tabCallback,this._tabCallback],
styles:{tabView:styles.tabView}}),
React.createElement(RefreshableListView,{
style:{flex:1,marginTop:44},
scrollEventThrottle:16,
ref:'list',
renderHeaderWrapper:this._renderHeaderWrapper,
renderSeparator:this._renderSeparator,
dataSource:this.state.dataSource,
renderFooter:this._renderFooter,
onEndReached:this._loadMore,
renderRow:this._renderRow,
loadData:this._refresh})));}});





var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


tabView:{
position:'absolute',
top:0,
left:0,
right:0}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(MyActivity,null));}},{key:'title',get:function(){return '活动';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/activity/ActivityMixin.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=



React.StyleSheet;var View=React.View;var Text=React.Text;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('ActivityTab:log');
var warn=debug('ActivityTab:warn');
var error=debug('ActivityTab:error');
var ActivityView=require('AwesomeProject/src/activity/ActivityView.js');
var ActivityDetail=require('AwesomeProject/src/ActivityDetail.js');var _require=


require('AwesomeProject/src/api/index.js');var activity=_require.activity;

var indicatorStyles=StyleSheet.create({
wrap:{
flex:1,
paddingVertical:15,
alignItems:'center',
justifyContent:'center'},


loading:{
fontSize:9,
marginBottom:5,
color:'#777'}});



var ActivityMixin={
_renderFooter:function(){
if(!this.state.loadingMore){
return null;}


return (
React.createElement(View,{style:indicatorStyles.wrap},
React.createElement(Text,{style:indicatorStyles.loading},'加载活动'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




_toDetail:function(activity){
this.props.navigator.push(new ActivityDetail({
activity:activity},
this.props.navigator,this.refreshDetail));},


_renderHeaderWrapper:function(refreshingIndicator){
if(refreshingIndicator == null){
return null;}


return (
React.createElement(View,{style:indicatorStyles.wrap},
React.createElement(Text,{style:indicatorStyles.loading},'刷新更多'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




_renderSeparator:function(sectionID,rowID,adjacentRowHighlighted){
if(rowID == this.state.dataSource.getRowCount() - 1){
return null;}else 
{
return React.createElement(View,{style:{height:20,backgroundColor:'transparent'}});}},



_loadMore:function(){
if(this.state.loadingMore){
return error('Invalid operation, loading now');}


var region=this.state.region;
var lastActivity=this.state.activities[this.state.activities.length - 1];
if(!lastActivity){
return warn('no existed activity');}



log('load more data');
this.setState({
loadingMore:true});

return activity.fetch({
region:region?region.tag:null,
latestDate:lastActivity.getCreatedAt()}).
then((function(_activities){
if(_activities.length === 0){
return error('No more activities');}


var activities=this.state.activities.concat(_activities);
log('activities: ',activities.map(function(item){return item.id;}).join(','));
var dataSource=this.state.dataSource.cloneWithRows(activities);
this.setState({
dataSource:dataSource,
activities:activities});}).

bind(this),function(e){
console.trace(e);
error(e);}).
finally((function(){
this.setState({
loadingMore:false});}).

bind(this));},


_renderRow:function(_activity){var _this=this;
return (
React.createElement(ActivityView,{key:'activity-' + _activity.id,
activity:_activity,
ref:function(component){return _this.activitiesObjects[_activity.id] = component;},
onPress:function(){return _this._toDetail(_activity);}}));}};




module.exports = ActivityMixin;
});
__d('AwesomeProject/src/MyJourney.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


ActivityIndicatorIOS=






React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var View=React.View;var ScrollView=React.ScrollView;var ListView=React.ListView;var Dimensions=React.Dimensions;var _require=



require('AwesomeProject/src/widgets/index.js');var Tab=_require.Tab;

var JourneyView=require('AwesomeProject/src/journey/JourneyView.js');

var deviceWidth=Dimensions.get('window').width;
var journey=require('AwesomeProject/src/api/index.js').journey;

var RefreshableListView=require('react-native-refreshable-listview/index.js');

var MyJourney=React.createClass({displayName:'MyJourney',
getInitialState:function(){
return {
activeTab:0,
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
this._fetchData();},


_fetchData:function(){
return journey.fetch().then((function(data){
var dataSource=this.state.dataSource.cloneWithRows(data.results);
this.setState({
dataSource:dataSource});}).

bind(this),console.trace.bind(console));},


_renderHeaderWrapper:function(refreshingIndicator){
if(refreshingIndicator == null){
return null;}


var styles={
wrap:{
width:deviceWidth - 10,
paddingVertical:10,
alignItems:'center',
justifyContent:'center'},


loading:{
fontSize:9,
marginBottom:5,
color:'#777'}};



return (
React.createElement(View,{style:styles.wrap},
React.createElement(Text,{style:styles.loading},'刷新游记'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




_tabCallback:function(index){
this.setState({
activeTab:index},
(function(){
this._fetchData();}).
bind(this));},


render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(Tab,{datas:["全部","我的","收藏"],
activeTab:this.state.activeTab,
callbacks:[this._tabCallback,this._tabCallback,this._tabCallback],
styles:{tabView:styles.tabView}}),

React.createElement(RefreshableListView,{
style:styles.list,
contentContainerStyle:styles.grid,
dataSource:this.state.dataSource,
renderHeaderWrapper:this._renderHeaderWrapper,
renderRow:this._renderItem,
loadData:this._onRefresh})));},




_onRefresh:function(){
return this._fetchData();},


_renderItem:function(data){
return (
React.createElement(JourneyView,{style:styles.cell,key:data.id,data:data}));}});




var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


tabView:{
position:'absolute',
top:0,
left:0,
right:0},


list:{
marginTop:44,
backgroundColor:'#f3f5f6',
padding:5},


grid:{
flexDirection:'row',
flexWrap:'wrap',
alignItems:'flex-start'},


cell:{
width:(deviceWidth - 10) / 2,
padding:5}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(MyJourney,null));}},{key:'title',get:function(){return '我的游记';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/journey/JourneyView.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


TouchableHighlight=




React.TouchableHighlight;var View=React.View;var Image=React.Image;var Text=React.Text;var StyleSheet=React.StyleSheet;var _require=



require('AwesomeProject/src/widgets/index.js');var UserInfo=_require.UserInfo;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');

var JourneyView=React.createClass({displayName:'JourneyView',
getInitialState:function(){
return {};},


_onTouch:function(){},

render:function(){
var data=this.props.data;
var user=data.user;
var avatar=user.avatar?{url:user.avatar}:icons.avatarPlaceholder;

return (
React.createElement(TouchableHighlight,{onPress:this.props.gotoDetail,
style:this.props.style,underlayColor:'#f3f5f6'},
React.createElement(View,null,
React.createElement(View,{style:styles.header},
React.createElement(Image,{style:styles.image,source:{uri:data.header}},
React.createElement(UserInfo,{
style:styles.info,
avatar:avatar,
username:data.user.username,
publishDate:data.publishDate}))),



React.createElement(View,{style:styles.extra},
React.createElement(Text,{style:[styles.title,styles.baseText]},data.title),

React.createElement(View,{style:styles.data},
React.createElement(Image,{source:icons.views,style:[styles.icon,{marginRight:4}]}),
React.createElement(Text,{style:[styles.small,{marginRight:12}]},data.views),
React.createElement(Image,{source:icons.stars,style:[styles.icon,{marginRight:4}]}),
React.createElement(Text,{style:styles.small},data.stars))))));}});








var styles=StyleSheet.create({
icon:_extends({},
su.size(12),{
resizeMode:'contain'}),


baseText:{
color:'#303030',
fontWeight:'200'},


header:{
flex:1,
height:120},


image:{
position:'absolute',
left:0,
right:0,
top:0,
bottom:0},


info:{
flexDirection:'row',
alignItems:'center',
backgroundColor:'transparent',
position:'absolute',
left:10,
right:0,
bottom:10},


title:{
textAlign:'left',
fontSize:14,
marginBottom:10},


user:{
flexDirection:'column'},


avatar:_extends({},
su.size(25),{
borderWidth:1,
borderColor:'#fff',
borderRadius:12.5,
marginRight:10}),


username:{
color:'#fff',
fontSize:12,
lineHeight:12,
marginBottom:3},


publishDate:{
color:'#fff',
fontSize:9,
lineHeight:9,
marginRight:10,
fontWeight:'100'},


extra:{
padding:10,
backgroundColor:'#fff'},


data:{
alignItems:'center',
flexDirection:'row'},


small:{
color:'#96969b',
fontSize:10},


star:{
position:'absolute',
top:5,
right:15,
flexDirection:'row'},


iconStar:_extends({},
su.size(15,14),{
marginRight:5}),


stars:{
lineHeight:14,
fontSize:10,
color:'#96969b'}});



module.exports = JourneyView;
});
__d('AwesomeProject/src/MyBill.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var View=React.View;var ScrollView=React.ScrollView;var PixelRatio=React.PixelRatio;var Text=React.Text;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');var _require=


require('AwesomeProject/src/widgets/index.js');var Tag=_require.Tag;

var MyBill=React.createClass({displayName:'MyBill',
getInitialState:function(){
return {
datas:[]};},



componentDidMount:function(){
this.setState({
datas:[{
title:'云南行',
publishDate:'2015-01-01 14:00',
money:'1283.00',
status:'1'},
{
title:'云南行',
publishDate:'2015-01-01 14:00',
money:'1283.00',
status:'0'}]});},




_renderTag:function(status){
if(status === '1'){
return (
React.createElement(Tag,{style:styles.tagStyleGray},'已清帐'));}else 

if(status === '0'){
return (
React.createElement(Tag,{style:styles.tagStyleRed},'待清帐'));}},




render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,null,
this.state.datas.map((function(item,index){
return (
React.createElement(TouchableOpacity,{style:styles.itemView},
React.createElement(View,{style:styles.subitemView},
React.createElement(Text,{style:styles.titleText},item.title),
React.createElement(Text,{style:styles.dateView},item.publishDate)),

React.createElement(View,{style:styles.subitemView},
React.createElement(View,{style:styles.moneyView},
React.createElement(Text,{style:styles.moneyInfo},'共消费'),
React.createElement(Text,{style:styles.moneyText},' ¥' + item.money)),

React.createElement(View,{style:styles.moneyTabView},
this._renderTag(item.status))),


React.createElement(Image,{style:styles.arrowIcon,source:icons.arrow})));}).


bind(this)))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


tagStyleGray:{
borderColor:stylesVar('dark-mid'),
color:stylesVar('dark-mid')},


tagStyleRed:{
borderColor:'#f03a47',
color:'#f03a47'},


arrowIcon:{
marginLeft:10,
width:9,
height:15},


subitemView:{
flex:1,
flexDirection:'column',
alignItems:'stretch',
justifyContent:'space-between'},


moneyView:{
flex:1,
flexDirection:'row',
alignItems:'flex-end',
justifyContent:'flex-end',
marginBottom:5},


moneyTabView:{
flex:1,
alignItems:'flex-end'},


moneyInfo:{
fontSize:11,
color:stylesVar('dark-light-little'),
textAlign:'right',
lineHeight:13},


moneyText:{
fontSize:13,
color:stylesVar('red'),
textAlign:'right'},


titleText:{
flex:1,
textAlign:'left',
fontSize:13,
color:stylesVar('dark'),
marginBottom:5},


dateView:{
flex:1,
textAlign:'left',
fontSize:11,
color:stylesVar('dark-mid')},


itemView:{
flex:1,
height:65,
flexDirection:'row',
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
paddingVertical:15,
paddingLeft:15,
paddingRight:10,
alignItems:'center',
justifyContent:'center',
backgroundColor:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(MyBill,null));}},{key:'title',get:function(){return '我的账单';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/MyTrace.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var View=React.View;var Text=React.Text;var Image=React.Image;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;var ListView=React.ListView;var _require=



require('AwesomeProject/src/widgets/index.js');var Tab=_require.Tab;
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');

var MyTrace=React.createClass({displayName:'MyTrace',
getInitialState:function(){
return {
activeTab:0,
dataBlob:[],
dataSource:new ListView.DataSource({rowHasChanged:function(r1,r2){return r1 !== r2;}})};},



componentDidMount:function(){
var dataBlob=[{
title:'最美的时光在路上',
content:'叶子的轨迹，叶子的轨迹，叶子的轨迹，叶子的轨迹，叶子的轨迹，叶子的轨迹，叶子的轨迹'},
{
title:'最美的时光在路上',
content:'叶子的轨迹'},
{
title:'最美的时光在路上',
content:'叶子的轨迹'},
{
title:'最美的时光在路上',
content:'叶子的轨迹'}];


this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



_tabCallback:function(index){
this.setState({
activeTab:index});},



_renderRow:function(rowData,sectionID,rowID){
return (
React.createElement(TouchableOpacity,{style:styles.itemView},
React.createElement(View,{style:styles.subitemView},
React.createElement(Text,{style:styles.titleText},rowData.title),
React.createElement(Text,{style:styles.contentText},rowData.content)),

React.createElement(Image,{style:styles.arrowIcon,source:icons.arrow})));},




_renderSeparator:function(sectionID,rowID){
if(rowID == this.state.dataBlob.length - 1){
return null;}


return React.createElement(View,{style:styles.separator});},


render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(Tab,{datas:['全部','我的','收藏'],
activeTab:this.state.activeTab,
callback:[this._tabCallback,this._tabCallback,this._tabCallback],
styles:{tabView:styles.tabView}}),
React.createElement(ListView,{contentContainerStyle:styles.scrollContainer,
dataSource:this.state.dataSource,
renderRow:this._renderRow,
renderSeparator:this._renderSeparator})));}});





var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


separator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


arrowIcon:{
width:9,
height:15,
marginLeft:10},


itemView:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
paddingVertical:15,
paddingHorizontal:5},


subitemView:{
flex:1,
flexDirection:'column'},


titleText:{
flex:1,
fontSize:13,
color:stylesVar('dark'),
marginBottom:8},


contentText:{
flex:1,
fontSize:11,
lineHeight:13,
color:stylesVar('dark-light-little')},


abView:{
position:'absolute',
top:0,
left:0,
right:0},


scrollContainer:{
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
paddingLeft:10,
backgroundColor:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(MyTrace,null));}},{key:'title',get:function(){return '我的轨迹';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/MyGallery.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var View=React.View;var Image=React.Image;var ScrollView=React.ScrollView;var Dimensions=React.Dimensions;var TouchableOpacity=React.TouchableOpacity;var Text=React.Text;

var deviceWidth=Dimensions.get('window').width;
var cellWidth=(deviceWidth - 15) / 2 - 15;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');
var MyGalleryDetail=require('AwesomeProject/src/MyGalleryDetail.js');

var MyGallery=React.createClass({displayName:'MyGallery',
getInitialState:function(){
return {
datas:[]};},



componentDidMount:function(){
this.updateDatas();},


updateDatas:function(){
this.setState({
datas:[{
image:icons.page1,
title:'活动标题',
total:12},
{
image:icons.page1,
title:'活动标题',
total:112},
{
image:icons.page1,
title:'活动标题',
total:12},
{
image:icons.page1,
title:'活动标题',
total:12},
{
image:icons.page1,
title:'活动标题',
total:123},
{
image:icons.page1,
title:'活动标题',
total:234},
{
image:icons.page1,
title:'活动标题',
total:12}]});},




render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{contentContainerStyle:styles.scrollContainer},
this.state.datas.map((function(item,index){var _this=this;
return (
React.createElement(TouchableOpacity,{onPress:function(){return _this.props.navigator.push(new MyGalleryDetail());},
style:styles.itemView,
activeOpacity:0.9},
React.createElement(Image,{style:styles.imageView,source:item.image,resizeMode:'cover'},
React.createElement(Text,{style:styles.totalStyle},item.total)),

React.createElement(Text,{style:styles.titleText},item.title),
React.createElement(Image,{style:styles.decoration,source:icons.photosDecoration,resizeMode:'cover'})));}).


bind(this)))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


totalStyle:{
marginTop:10,
marginRight:10,
paddingVertical:4,
paddingHorizontal:5,
backgroundColor:'rgba(0, 0, 0, 0.3)',
fontSize:11,
color:'#fff'},


decoration:{
width:cellWidth,
height:5},


titleText:{
paddingVertical:15,
paddingLeft:10,
fontSize:13,
color:stylesVar('dark-light-little')},


imageView:{
width:cellWidth,
height:cellWidth,
flex:1,
alignItems:'flex-end'},


itemView:{
width:cellWidth,
marginRight:15,
marginBottom:15,
backgroundColor:'#fff'},


scrollContainer:{
flexDirection:'row',
paddingTop:15,
paddingLeft:15,
flexWrap:'wrap'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(MyGallery,null));}},{key:'title',get:function(){return '我的活动相册';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/MyGalleryDetail.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=







React.StyleSheet;var View=React.View;var Image=React.Image;var ListView=React.ListView;var Dimensions=React.Dimensions;var TouchableOpacity=React.TouchableOpacity;var PixelRatio=React.PixelRatio;var Text=React.Text;

var deviceWidth=Dimensions.get('window').width;
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');
var PhotoAccessSettings=require('AwesomeProject/src/PhotoAccessSettings.js');
var LocalSeveralPhotoPicker=require('AwesomeProject/src/LocalSeveralPhotoPicker.js');

var thumbMargin=5;
var thumbCols=4;
var thumbSize=(deviceWidth - (thumbCols + 1) * thumbMargin) / thumbCols;
var LightBoxOverlay=require('AwesomeProject/src/LightBoxOverlay.js');

var MyGalleryDetail=React.createClass({displayName:'MyGalleryDetail',
getInitialState:function(){
return {
dataBlob:[],
dataSource:new ListView.DataSource({rowHasChanged:function(row1,row2){return row1 !== row2;}})};},



componentDidMount:function(){
this._updateDatas();},


_updateDatas:function(){
var dataBlob=['http://localhost:8081/img/page1.png','http://localhost:8081/img/signin-bg.png','http://localhost:8081/img/space-header.png'];
this.setState({
dataBlob:dataBlob,
dataSource:this.state.dataSource.cloneWithRows(dataBlob)});},



_renderRow:function(photo,sectionID,rowID){
return React.createElement(Cell,{source:photo,onPress:this._onPressImage.bind(this,rowID)});},


_onPressImage:function(index){
this.props.navigator.push(new LightBoxOverlay({
imagesArray:this.state.dataBlob,
onClose:this._onClose,
index:index}));},



_onClose:function(){
this.props.navigator.pop();},


render:function(){var _this=this;
if(this.state.dataBlob.length === 0){
return null;}


return (
React.createElement(View,{style:styles.background},
React.createElement(ListView,{style:styles.container,
contentContainerStyle:styles.content,
dataSource:this.state.dataSource,
renderRow:this._renderRow}),
React.createElement(TouchableOpacity,{onPress:function(){return _this.props.navigator.push(new PhotoRoute(_this._updateDatas));},
style:styles.bottomView},
React.createElement(Text,{style:styles.bottomText},'添加照片'))));}});






var Cell=React.createClass({displayName:'Cell',
getInitialState:function(){
return {};},


_onLayout:function(e){
var layout=e.nativeEvent.layout;
this.setState({layout:layout});},


render:function(){
return (
React.createElement(TouchableOpacity,{
style:styles.cell,
onLayout:this._onLayout,
activeOpacity:0.9,
onPress:this.props.onPress},
this.state.layout && React.createElement(Image,{source:{uri:this.props.source},resizeMode:'cover',style:{
width:this.state.layout.width,
height:this.state.layout.height}})));}});







var styles=StyleSheet.create({
background:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:stylesVar('#f3f5f6')},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
height:50,
backgroundColor:'#fff',
alignItems:'center',
justifyContent:'center',
borderTopWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


bottomText:{
color:stylesVar('blue'),
fontSize:16},


container:{
position:'absolute',
top:0,
bottom:50,
left:0,
right:0,
backgroundColor:'#f3f5f6'},


content:{
alignItems:'flex-start',
flexDirection:'row',
flexWrap:'wrap',
margin:thumbMargin / 2},


cell:_extends({
backgroundColor:stylesVar('dark-lighter')},
su.size(thumbSize),{
margin:thumbMargin / 2}),


submitText:{
fontSize:14,
fontWeight:'300',
color:'#fff',
marginTop:15},


rightButton:{
marginRight:15}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(title){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);
this.titleValue = '活动标题';}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return (
React.createElement(TouchableOpacity,{onPress:function(){return navigator.push(new PhotoAccessSettings());},
style:styles.rightButton},
React.createElement(Text,{style:styles.submitText},'设置权限')));}},{key:'renderScene',value:








function renderScene(){
return (
React.createElement(MyGalleryDetail,null));}},{key:'title',get:function(){return this.titleValue;}}]);return Route;})(BaseRouteMapper);var 




PhotoRoute=(function(_BaseRouteMapper2){_inherits(PhotoRoute,_BaseRouteMapper2);
function PhotoRoute(updateFun){_classCallCheck(this,PhotoRoute);
_get(Object.getPrototypeOf(PhotoRoute.prototype),'constructor',this).call(this);

this.updateFun = updateFun;}_createClass(PhotoRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
function callback(){
this.updateFun && this.updateFun();
navigator.pop();}


return this._renderBackButton.apply(this,arguments,callback);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return (
React.createElement(TouchableOpacity,{
style:styles.rightButton,
onPress:this._upload.bind(this)},
React.createElement(Text,{style:styles.submitText},'上传')));}},{key:'_upload',value:








function _upload(){
var datas=this._root.getCheckedDatas();}},{key:'renderScene',value:



function renderScene(){var _this2=this;
return (
React.createElement(LocalSeveralPhotoPicker,{ref:function(component){return _this2._root = component;}}));}},{key:'title',get:function(){return '相册';}}]);return PhotoRoute;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/PhotoAccessSettings.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=






React.View;var Text=React.Text;var Image=React.Image;var ScrollView=React.ScrollView;var StyleSheet=React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;var PixelRatio=React.PixelRatio;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');

var PhotoAccessSettings=React.createClass({displayName:'PhotoAccessSettings',
getInitialState:function(){
return {
checkedIndex:this.props.checkedIndex || 0};},



_renderItem:function(index,title){
return (
React.createElement(TouchableOpacity,{style:styles.itemView,
onPress:this._press.bind(this,index),
activeOpacity:0.9},
React.createElement(Text,{style:styles.titleView},title),
index === this.state.checkedIndex && React.createElement(Image,{source:icons.ready,style:styles.imageView})));},




_press:function(index){
this.setState({
checkedIndex:index});},



render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{contentContainerStyle:styles.scrollContainer},
this._renderItem(0,'允许所有人可见'),
React.createElement(View,{style:styles.separator}),
this._renderItem(1,'只允许圈子内的人可见'),
React.createElement(View,{style:styles.separator}),
this._renderItem(2,'任何人不可见'))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


itemView:{
flex:1,
flexDirection:'row',
paddingLeft:5,
paddingRight:15,
height:45,
alignItems:'center',
justifyContent:'center'},


imageView:{
width:18,
height:12},


separator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


titleView:{
flex:1,
fontSize:13,
color:stylesVar('dark')},


scrollContainer:{
marginTop:20,
flexDirection:'column',
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
paddingLeft:10,
backgroundColor:'#fff'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(PhotoAccessSettings,null));}},{key:'title',get:function(){return '设置权限';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/store.js',function(global, require, module, exports) {  var _require=


require('redux/lib/index.js');var createStore=_require.createStore;var applyMiddleware=_require.applyMiddleware;

var thunkMiddleware=require('redux-thunk/lib/index.js');

var rootReducer=require('AwesomeProject/src/reducers/index.js');

var createStoreWithMiddleware=applyMiddleware(
thunkMiddleware)(

createStore);

function configureStore(initialState){
return createStoreWithMiddleware(rootReducer,initialState);}


var store=configureStore({
session:{
user:null,
userstamp:null}});



module.exports = store;
});
__d('redux/lib/index.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _createStore=require('redux/lib/createStore.js');

var _createStore2=_interopRequireDefault(_createStore);

var _utilsCombineReducers=require('redux/lib/utils/combineReducers.js');

var _utilsCombineReducers2=_interopRequireDefault(_utilsCombineReducers);

var _utilsBindActionCreators=require('redux/lib/utils/bindActionCreators.js');

var _utilsBindActionCreators2=_interopRequireDefault(_utilsBindActionCreators);

var _utilsApplyMiddleware=require('redux/lib/utils/applyMiddleware.js');

var _utilsApplyMiddleware2=_interopRequireDefault(_utilsApplyMiddleware);

var _utilsCompose=require('redux/lib/utils/compose.js');

var _utilsCompose2=_interopRequireDefault(_utilsCompose);

exports.createStore = _createStore2['default'];
exports.combineReducers = _utilsCombineReducers2['default'];
exports.bindActionCreators = _utilsBindActionCreators2['default'];
exports.applyMiddleware = _utilsApplyMiddleware2['default'];
exports.compose = _utilsCompose2['default'];
});
__d('redux/lib/createStore.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;
exports['default'] = createStore;

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _utilsIsPlainObject=require('redux/lib/utils/isPlainObject.js');

var _utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject);







var ActionTypes={
INIT:'@@redux/INIT'};


exports.ActionTypes = ActionTypes;





















function createStore(reducer,initialState){
if(typeof reducer !== 'function'){
throw new Error('Expected the reducer to be a function.');}


var currentReducer=reducer;
var currentState=initialState;
var listeners=[];
var isDispatching=false;






function getState(){
return currentState;}










function subscribe(listener){
listeners.push(listener);
var isSubscribed=true;

return function unsubscribe(){
if(!isSubscribed){
return;}


isSubscribed = false;
var index=listeners.indexOf(listener);
listeners.splice(index,1);};}




























function dispatch(action){
if(!_utilsIsPlainObject2['default'](action)){
throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');}


if(typeof action.type === 'undefined'){
throw new Error('Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant?');}


if(isDispatching){
throw new Error('Reducers may not dispatch actions.');}


try{
isDispatching = true;
currentState = currentReducer(currentState,action);}finally 
{
isDispatching = false;}


listeners.slice().forEach(function(listener){
return listener();});

return action;}












function replaceReducer(nextReducer){
currentReducer = nextReducer;
dispatch({type:ActionTypes.INIT});}





dispatch({type:ActionTypes.INIT});

return {
dispatch:dispatch,
subscribe:subscribe,
getState:getState,
replaceReducer:replaceReducer};}
});
__d('redux/lib/utils/isPlainObject.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;
exports['default'] = isPlainObject;
var fnToString=function fnToString(fn){
return Function.prototype.toString.call(fn);};







function isPlainObject(obj){
if(!obj || typeof obj !== 'object'){
return false;}


var proto=typeof obj.constructor === 'function'?Object.getPrototypeOf(obj):Object.prototype;

if(proto === null){
return true;}


var constructor=proto.constructor;

return typeof constructor === 'function' && constructor instanceof constructor && fnToString(constructor) === fnToString(Object);}


module.exports = exports['default'];
});
__d('redux/lib/utils/combineReducers.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;
exports['default'] = combineReducers;

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _createStore=require('redux/lib/createStore.js');

var _utilsIsPlainObject=require('redux/lib/utils/isPlainObject.js');

var _utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject);

var _utilsMapValues=require('redux/lib/utils/mapValues.js');

var _utilsMapValues2=_interopRequireDefault(_utilsMapValues);

var _utilsPick=require('redux/lib/utils/pick.js');

var _utilsPick2=_interopRequireDefault(_utilsPick);



function getUndefinedStateErrorMessage(key,action){
var actionType=action && action.type;
var actionName=actionType && '"' + actionType.toString() + '"' || 'an action';

return 'Reducer "' + key + '" returned undefined handling ' + actionName + '. ' + 'To ignore an action, you must explicitly return the previous state.';}


function getUnexpectedStateKeyWarningMessage(inputState,outputState,action){
var reducerKeys=Object.keys(outputState);
var argumentName=action && action.type === _createStore.ActionTypes.INIT?'initialState argument passed to createStore':'previous state received by the reducer';

if(reducerKeys.length === 0){
return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';}


if(!_utilsIsPlainObject2['default'](inputState)){
return 'The ' + argumentName + ' has unexpected type of "' + ({}).toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] + '". Expected argument to be an object with the following ' + ('keys: "' + reducerKeys.join('", "') + '"');}


var unexpectedKeys=Object.keys(inputState).filter(function(key){
return reducerKeys.indexOf(key) < 0;});


if(unexpectedKeys.length > 0){
return 'Unexpected ' + (unexpectedKeys.length > 1?'keys':'key') + ' ' + ('"' + unexpectedKeys.join('", "') + '" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('"' + reducerKeys.join('", "') + '". Unexpected keys will be ignored.');}}



function assertReducerSanity(reducers){
Object.keys(reducers).forEach(function(key){
var reducer=reducers[key];
var initialState=reducer(undefined,{type:_createStore.ActionTypes.INIT});

if(typeof initialState === 'undefined'){
throw new Error('Reducer "' + key + '" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined.');}


var type='@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');
if(typeof reducer(undefined,{type:type}) === 'undefined'){
throw new Error('Reducer "' + key + '" returned undefined when probed with a random type. ' + ('Don\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in "redux/*" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined.');}});}





















function combineReducers(reducers){
var finalReducers=_utilsPick2['default'](reducers,function(val){
return typeof val === 'function';});

var sanityError;

try{
assertReducerSanity(finalReducers);}
catch(e) {
sanityError = e;}


var defaultState=_utilsMapValues2['default'](finalReducers,function(){
return undefined;});


return function combination(state,action){
if(state === undefined)state = defaultState;

if(sanityError){
throw sanityError;}


var hasChanged=false;
var finalState=_utilsMapValues2['default'](finalReducers,function(reducer,key){
var previousStateForKey=state[key];
var nextStateForKey=reducer(previousStateForKey,action);
if(typeof nextStateForKey === 'undefined'){
var errorMessage=getUndefinedStateErrorMessage(key,action);
throw new Error(errorMessage);}

hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
return nextStateForKey;});


if(process.env.NODE_ENV !== 'production'){
var warningMessage=getUnexpectedStateKeyWarningMessage(state,finalState,action);
if(warningMessage){
console.error(warningMessage);}}



return hasChanged?finalState:state;};}



module.exports = exports['default'];
});
__d('redux/lib/utils/mapValues.js',function(global, require, module, exports) {  "use strict";








exports.__esModule = true;
exports["default"] = mapValues;

function mapValues(obj,fn){
return Object.keys(obj).reduce(function(result,key){
result[key] = fn(obj[key],key);
return result;},
{});}


module.exports = exports["default"];
});
__d('redux/lib/utils/pick.js',function(global, require, module, exports) {  "use strict";








exports.__esModule = true;
exports["default"] = pick;

function pick(obj,fn){
return Object.keys(obj).reduce(function(result,key){
if(fn(obj[key])){
result[key] = obj[key];}

return result;},
{});}


module.exports = exports["default"];
});
__d('redux/lib/utils/bindActionCreators.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;
exports['default'] = bindActionCreators;

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _utilsMapValues=require('redux/lib/utils/mapValues.js');

var _utilsMapValues2=_interopRequireDefault(_utilsMapValues);

function bindActionCreator(actionCreator,dispatch){
return function(){
return dispatch(actionCreator.apply(undefined,arguments));};}

























function bindActionCreators(actionCreators,dispatch){
if(typeof actionCreators === 'function'){
return bindActionCreator(actionCreators,dispatch);}


if(typeof actionCreators !== 'object' || actionCreators === null || actionCreators === undefined){

throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null?'null':typeof actionCreators) + '. ' + 'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');}


return _utilsMapValues2['default'](actionCreators,function(actionCreator){
return bindActionCreator(actionCreator,dispatch);});}



module.exports = exports['default'];
});
__d('redux/lib/utils/applyMiddleware.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;

var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

exports['default'] = applyMiddleware;

function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{'default':obj};}

var _compose=require('redux/lib/utils/compose.js');

var _compose2=_interopRequireDefault(_compose);


















function applyMiddleware(){
for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key < _len;_key++) {
middlewares[_key] = arguments[_key];}


return function(next){
return function(reducer,initialState){
var store=next(reducer,initialState);
var _dispatch=store.dispatch;
var chain=[];

var middlewareAPI={
getState:store.getState,
dispatch:function dispatch(action){
return _dispatch(action);}};


chain = middlewares.map(function(middleware){
return middleware(middlewareAPI);});

_dispatch = _compose2['default'].apply(undefined,chain)(store.dispatch);

return _extends({},store,{
dispatch:_dispatch});};};}





module.exports = exports['default'];
});
__d('redux/lib/utils/compose.js',function(global, require, module, exports) {  "use strict";








exports.__esModule = true;
exports["default"] = compose;

function compose(){
for(var _len=arguments.length,funcs=Array(_len),_key=0;_key < _len;_key++) {
funcs[_key] = arguments[_key];}


return function(arg){
return funcs.reduceRight(function(composed,f){
return f(composed);},
arg);};}



module.exports = exports["default"];
});
__d('redux-thunk/lib/index.js',function(global, require, module, exports) {  'use strict';

exports.__esModule = true;
exports['default'] = thunkMiddleware;

function thunkMiddleware(_ref){
var dispatch=_ref.dispatch;
var getState=_ref.getState;

return function(next){
return function(action){
return typeof action === 'function'?action(dispatch,getState):next(action);};};}




module.exports = exports['default'];
});
__d('AwesomeProject/src/reducers/index.js',function(global, require, module, exports) {  function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else {obj[key] = value;}return obj;}var _require=require('redux/lib/index.js');var combineReducers=_require.combineReducers;var createStore=_require.createStore;
var ActionTypes=createStore.ActionTypes;var _require2=













require('AwesomeProject/src/actions/index.js');var SELECT_REGION=_require2.SELECT_REGION;var INVALIDATE_REGION=_require2.INVALIDATE_REGION;var REQUEST_ACTIVITIES=_require2.REQUEST_ACTIVITIES;var RECEIVE_ACTIVITIES=_require2.RECEIVE_ACTIVITIES;var REQUEST_MORE_ACTIVITIES=_require2.REQUEST_MORE_ACTIVITIES;var RECEIVE_MORE_ACTIVITIES=_require2.RECEIVE_MORE_ACTIVITIES;var UPDATE_SESSION=_require2.UPDATE_SESSION;var BUILD_SESSION=_require2.BUILD_SESSION;

function selectedRegion(state,action){
state = state || null;

switch(action.type){
case SELECT_REGION:
return action.region;
default:
return state;}}



function activities(state,action){
state = {
isFetching:false,
didInvalidate:false,
items:[]};


switch(action.type){
case INVALIDATE_REGION:
return Object.assign({},state,{
didInvalidate:true});

case REQUEST_ACTIVITIES:
return Object.assign({},state,{
isFetching:true,
didInvalidate:false});


case RECEIVE_ACTIVITIES:
return Object.assign({},state,{
isFetching:false,
didInvalidate:false,
items:action.activities,
lastUpdated:action.receivedAt});

default:
return state;}}



function activitiesByRegion(state,action){
state = state || {};

switch(action.type){
case INVALIDATE_REGION:
case REQUEST_ACTIVITIES:
case RECEIVE_ACTIVITIES:
try{
return Object.assign({},state,_defineProperty({},
action.region.id,activities(state[action.region],action)));}

catch(e) {
console.trace(e);
throw e;}


default:
return state;}}



function regions(regions,action){
regions = regions || [];
return regions;}


function session(session,action){
session = session || {};

switch(action.type){
case BUILD_SESSION:
return Object.assign({},session,{
user:action.user,
userstamp:action.userstamp});

case UPDATE_SESSION:
return Object.assign({},session,action.session);
default:
return session;}}



var rootReducer=combineReducers({
activitiesByRegion:activitiesByRegion,
selectedRegion:selectedRegion,
regions:regions,
session:session});


module.exports = rootReducer;
});
__d('AwesomeProject/src/actions/index.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _require=


require('AwesomeProject/src/api/index.js');var activity=_require.activity;var AV=_require.AV;

var SELECT_REGION='SELECT_REGION';
var INVALIDATE_REGION='INVALIDATE_REGION';

var REQUEST_ACTIVITIES='REQUEST_ACTIVITIES';
var RECEIVE_ACTIVITIES='RECEIVE_ACTIVITIES';

var REQUEST_MORE_ACTIVITIES='REQUEST_MORE_ACTIVITIES';
var RECEIVE_MORE_ACTIVITIES='RECEIVE_MORE_ACTIVITIES';

function selectedRegion(region){
return {
type:SELECT_REGION,
region:region};}



function invalidateRegion(region){
return {
type:INVALIDATE_REGION,
region:region};}



function requestActivities(region){
return {
type:REQUEST_ACTIVITIES,
region:region};}




function receiveActivities(region,activities){
return {
type:RECEIVE_ACTIVITIES,
region:region,
activities:activities,
receivedAt:Date.now()};}



function fetchActivities(region){
return function(dispatch){
dispatch(requestActivities(region));

var activities,user;
return AV.User.currentAsync().then(function(_user){
user = _user;
return activity.fetch({
region:region});}).

then(function(_activities){
activities = _activities;
return Promise.all(activities.map(function(activity){
var creator=activity.get('createBy');
return creator.fetch();}));}).

then(function(){

return Promise.all(activities.map(function(activity){
return activity.fetchStars().then(function(stars){
activity.setStars(stars);
return activity;});}));}).


then(function(){

return Promise.all(activities.map(function(activity){
return activity.isUserStarred(user).then(function(starred){
activity.setStarred(starred);
return activity;});}));}).


then(function(){
setTimeout(function(){
dispatch(receiveActivities(region,activities));},
2000);},
function(e){
console.trace(e);
dispatch(receiveActivities(region,[]));});};}





function shouldFetchActivities(state,region){
var activities=state.activitiesByRegion[region.id];

if(!activities){
return true;}


if(activities.isFetching){
return false;}


return posts.didInvalidate;}



function fetchActivitiesIfNeeded(region){
return function(dispatch,getState){
if(shouldFetchActivities(getState(),region)){
return dispatch(fetchActivities(region));}};}






function requestMoreActivities(region,lastActivity){
return {
type:REQUEST_MORE_ACTIVITIES,
region:region,
lastActivity:lastActivity};}



function receiveMoreActivities(region,moreActivities){
return {
type:RECEIVE_MORE_ACTIVITIES,
region:region,
moreActivities:moreActivities};}



function fetchMoreActivities(region,lastActivity){
return function(dispatch){
dispatch(requestMoreActivities(region,lastActivity));
activity.fetch({
region:region,
lastActivity:lastActivity}).
then(function(activities){
dispatch(receiveMoreActivities(region,activities));});};}




function shouldFetchMoreActivities(state,region){
var activities=state.activitiesByRegion[region.id];

if(!activities){
return false;}


if(activities.isFetching){
return false;}


if(activities.isFetchingMore){
return false;}


return true;}


function fetchMoreActivitiesIfNeeded(region,lastActivity){
return function(dispatch,getState){
if(shouldFetchMoreActivities(getState(),region)){
return dispatch(fetchMoreActivities(region,lastActivity));}};}




module.exports = _extends({
SELECT_REGION:SELECT_REGION,
INVALIDATE_REGION:INVALIDATE_REGION,

REQUEST_ACTIVITIES:REQUEST_ACTIVITIES,
RECEIVE_ACTIVITIES:RECEIVE_ACTIVITIES,
REQUEST_MORE_ACTIVITIES:REQUEST_MORE_ACTIVITIES,
RECEIVE_MORE_ACTIVITIES:RECEIVE_MORE_ACTIVITIES,

selectedRegion:selectedRegion,
invalidateRegion:invalidateRegion,
fetchActivitiesIfNeeded:fetchActivitiesIfNeeded,
fetchMoreActivitiesIfNeeded:fetchMoreActivitiesIfNeeded},

require('AwesomeProject/src/actions/session.js'));
});
__d('AwesomeProject/src/actions/session.js',function(global, require, module, exports) {  var BUILD_SESSION='BUILD_SESSION';
var UPDATE_SESSION='UPDATE_SESSION';

function buildSession(userstamp,user){
return {
type:BUILD_SESSION,
userstamp:userstamp,
user:user};}



function updateSession(session){
return {
type:UPDATE_SESSION,
session:session};}



module.exports = {
BUILD_SESSION:BUILD_SESSION,
UPDATE_SESSION:UPDATE_SESSION,

buildSession:buildSession,
updateSession:updateSession};
});
__d('AwesomeProject/src/SystemSettings.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=







React.View;var Text=React.Text;var Image=React.Image;var ScrollView=React.ScrollView;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var TouchableOpacity=React.TouchableOpacity;var AlertIOS=React.AlertIOS;

var api=require('AwesomeProject/src/api/index.js');
var user=api.user;
var store=require('AwesomeProject/src/store.js');var _require=
require('AwesomeProject/src/actions/index.js');var updateSession=_require.updateSession;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var icons=require('AwesomeProject/src/icons.js');
var itemStyles=require('AwesomeProject/src/styles/ItemStyles.js');
var itemViewMixins=require('AwesomeProject/src/mixins/ItemViewMixins.js');

var SystemSettings=React.createClass({displayName:'SystemSettings',
mixins:[
itemViewMixins],


_logout:function(){
user.logout().then(function(){
store.dispatch(updateSession({
user:null}));},

function(e){
console.trace(e);
return AlertIOS.alert(e.reason);});},



render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,null,
React.createElement(View,{style:itemStyles.separatorBlock}),
React.createElement(View,{style:itemStyles.itemView},
this._renderItemWithText('新消息通知','已开启')),

React.createElement(Text,{style:styles.infoView},'如果你要关闭或开启新消息通知，请在iphone的“设置” - “通知”功能中，找到应用程序“XXX”修改'),



React.createElement(View,{style:itemStyles.itemView},
this._renderItemWithArrowText('意见反馈')),

React.createElement(View,{style:itemStyles.separatorBlock}),
React.createElement(View,{style:itemStyles.itemView},
this._renderItemWithText('版本更新','已是最新版本'),
React.createElement(View,{style:itemStyles.separator}),

this._renderItemWithArrowText('喜欢城外？去打分吧'),
React.createElement(View,{style:itemStyles.separator}),

this._renderItemWithArrowText('关于城外','1.3.4'),
React.createElement(View,{style:itemStyles.separator}),

this._renderItemWithArrowText('特别说明'))),


React.createElement(View,{style:styles.bottomView},
React.createElement(TouchableOpacity,{style:styles.bottomBar,
activeOpacity:0.9,
onPress:this._logout},
React.createElement(Text,{style:styles.exitText},'退出登录')))));}});







var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


bottomBar:{
flex:1,
height:50,
borderColor:stylesVar('dark-light'),
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
alignItems:'center',
justifyContent:'center'},


infoView:{
flex:1,
marginHorizontal:15,
marginTop:12,
marginBottom:20,
fontSize:11,
color:stylesVar('dark-mid')},


bottomView:{
position:'absolute',
left:0,
right:0,
bottom:0,
backgroundColor:'#fff'},


exitText:{
color:stylesVar('red'),
fontSize:16}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(SystemSettings,null));}},{key:'title',get:function(){return '设置';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/styles/ItemStyles.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=

React.StyleSheet;var PixelRatio=React.PixelRatio;

var stylesVar=require('AwesomeProject/src/stylesVar.js');

var styles=StyleSheet.create({
itemView:{
flex:1,
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
backgroundColor:'#fff'},


subItemView:{
flex:1,
flexDirection:'row',
marginLeft:15,
height:45,
justifyContent:'center',
alignItems:'center'},


leftText:{
flex:1,
color:stylesVar('dark'),
fontSize:13},


rightText:{
flex:1,
marginRight:15,
textAlign:'right',
fontSize:11,
alignItems:'center',
justifyContent:'center',
color:stylesVar('dark-light-little')},


separator:{
flex:1,
marginLeft:10,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


separatorBlock:{
flex:1,
height:20,
backgroundColor:'#f3f5f6'},


arrowIcon:{
width:9,
height:15},


marginRight10:{
marginRight:10},


rightView:{
flex:1,
height:45,
flexDirection:'row',
alignItems:'center',
justifyContent:'flex-end',
marginRight:10}});



module.exports = styles;
});
__d('AwesomeProject/src/mixins/ItemViewMixins.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 

View=



React.View;var Text=React.Text;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;

var itemStyles=require('AwesomeProject/src/styles/ItemStyles.js');
var icons=require('AwesomeProject/src/icons.js');

var mixins={
_renderItemWithText:function(name,text){
return (
React.createElement(View,{style:itemStyles.subItemView},
React.createElement(Text,{style:itemStyles.leftText},name),
React.createElement(Text,{style:itemStyles.rightText},text || '')));},




_renderItemWithArrowText:function(name,text,callback){
if(callback){
return (
React.createElement(View,{style:itemStyles.subItemView},
React.createElement(Text,{style:itemStyles.leftText},name),
React.createElement(TouchableOpacity,{style:itemStyles.rightView,
onPress:callback},
React.createElement(Text,{style:[itemStyles.rightText,itemStyles.marginRight10]},text || ''),
React.createElement(Image,{style:itemStyles.arrowIcon,source:icons.arrow}))));}else 



{
return (
React.createElement(View,{style:itemStyles.subItemView},
React.createElement(Text,{style:itemStyles.leftText},name),
React.createElement(View,{style:itemStyles.rightView},
React.createElement(Text,{style:[itemStyles.rightText,itemStyles.marginRight10]},text || ''),
React.createElement(Image,{style:itemStyles.arrowIcon,source:icons.arrow}))));}}};







module.exports = mixins;
});
__d('AwesomeProject/src/Profile.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');
var _=require('underscore/underscore.js');var 


View=






React.View;var Text=React.Text;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;var ScrollView=React.ScrollView;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;

var itemStyles=require('AwesomeProject/src/styles/ItemStyles.js');
var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var itemViewMixins=require('AwesomeProject/src/mixins/ItemViewMixins.js');
var AddOrEditCar=require('AwesomeProject/src/AddOrEditCar.js');

var Profile=React.createClass({displayName:'Profile',
mixins:[
itemViewMixins],


getInitialState:function(){
return {
carArray:[]};},




componentDidMount:function(){
this.setState({
carArray:[{
carType:'牧马人／2014款',
carNumber:'京PN8S88'},
{
carType:'牧马人／2014款',
carNumber:'京PN8S88'},
{
carType:'牧马人／2014款',
carNumber:'京PN8S88'}]});},




_addCarCallback:function(car){
var carArray=_.clone(this.state.carArray);
carArray.push(car);
this.setState({
carArray:carArray});},



_addCar:function(){
this.props.navigator.push(new AddOrEditCar({
addCar:this._addCarCallback}));},



_editCarCallback:function(index,car){
var carArray=_.clone(this.state.carArray);
carArray[index] = car;
this.setState({
carArray:carArray});},



_editCar:function(car,index){
this.props.navigator.push(new AddOrEditCar({
car:car,
addCar:this._editCarCallback.bind(this,index)}));},



_renderCar:function(){
var lastIndex=this.state.carArray.length - 1;

return (
React.createElement(View,{style:itemStyles.itemView},
this.state.carArray.map((function(item,index){
if(index !== lastIndex){
return (
React.createElement(View,null,
this._renderItemWithArrowText(item.carType,item.carNumber,this._editCar.bind(this,item,index)),
React.createElement(View,{style:itemStyles.separator})));}else 


{
return this._renderItemWithArrowText(item.carType,item.carNumber,this._editCar.bind(this,item,index));}}).

bind(this)),
React.createElement(TouchableOpacity,{style:styles.addCarView,
onPress:this._addCar},
React.createElement(Text,{style:styles.addCarText},'添加车辆'))));},





render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,null,
React.createElement(View,{style:itemStyles.separatorBlock}),
React.createElement(View,{style:itemStyles.itemView},
React.createElement(View,{style:[itemStyles.subItemView,styles.avatarView]},
React.createElement(Text,{style:itemStyles.leftText},'头像'),
React.createElement(View,{style:itemStyles.rightView},
React.createElement(Image,{style:[styles.avatar,itemStyles.marginRight10],source:icons.avatar}),
React.createElement(Image,{style:itemStyles.arrowIcon,source:icons.arrow}))),


React.createElement(View,{style:itemStyles.separator}),
this._renderItemWithArrowText('昵称','叶子'),
React.createElement(View,{style:itemStyles.separator}),
React.createElement(View,{style:itemStyles.subItemView},
React.createElement(Text,{style:itemStyles.leftText},'我的二维码'),
React.createElement(View,{style:itemStyles.rightView},
React.createElement(Image,{style:[styles.codeIcon,itemStyles.marginRight10],source:icons.code}),
React.createElement(Image,{style:itemStyles.arrowIcon,source:icons.arrow}))),


React.createElement(View,{style:itemStyles.separator}),
this._renderItemWithArrowText('性别','女'),

React.createElement(View,{style:itemStyles.separator}),
this._renderItemWithArrowText('年龄','35'),

React.createElement(View,{style:itemStyles.separator}),
this._renderItemWithArrowText('手机号','152 1050 8888'),

React.createElement(View,{style:itemStyles.separator}),
this._renderItemWithText('我的等级','等级1')),

React.createElement(View,{style:itemStyles.separatorBlock}),
React.createElement(View,{style:itemStyles.itemView},
this._renderItemWithArrowText('取得驾照时间','2010年10月')),

React.createElement(View,{style:itemStyles.separatorBlock}),
this._renderCar(),
React.createElement(View,{style:itemStyles.separatorBlock}))));}});






var styles=StyleSheet.create({
container:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


avatarView:{
height:90},


avatar:{
width:60,
height:60,
borderRadius:2},


codeIcon:{
width:18,
height:18},


addCarView:{
flex:1,
height:45,
alignItems:'center',
justifyContent:'center',
borderTopWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light')},


addCarText:{
fontSize:16,
color:stylesVar('blue')}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:






function renderScene(){
return (
React.createElement(Profile,null));}},{key:'title',get:function(){return '个人资料';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/JourneyTab.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 

ActivityIndicatorIOS=









React.ActivityIndicatorIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var Navigator=React.Navigator;var ScrollView=React.ScrollView;var TouchableHighlight=React.TouchableHighlight;var ListView=React.ListView;var Dimensions=React.Dimensions;

var RefreshableListView=require('react-native-refreshable-listview/index.js');
var Navbars=require('AwesomeProject/src/Navbars.js');var _require=


require('AwesomeProject/src/widgets/index.js');var UserInfo=_require.UserInfo;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var api=require('AwesomeProject/src/api/index.js');
var journey=api.journey;

var deviceWidth=Dimensions.get('window').width;
var JourneyView=require('AwesomeProject/src/journey/JourneyView.js');

var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var JourneyDetail=require('AwesomeProject/src/JourneyDetail.js');var 

JourneyRoute=(function(_BaseRouteMapper){_inherits(JourneyRoute,_BaseRouteMapper);function JourneyRoute(){_classCallCheck(this,JourneyRoute);_get(Object.getPrototypeOf(JourneyRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(JourneyRoute,[{key:'title',get:
function(){
return '游记';}}]);return JourneyRoute;})(BaseRouteMapper);




var JourneyTab=React.createClass({displayName:'JourneyTab',
getInitialState:function(){
this.route = new JourneyRoute();

return {
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
this._fetchData();},


_gotoDetail:function(){
this.props.navigator.push(new JourneyDetail());},


_navbar:function(title){
var routeMapper=Object.assign({},Navbars.NormalRouteMapper);
var _Title=routeMapper.Title;
routeMapper.Title = function(route,navigator,index,navState){
var _route=Object.assign({},route);
_route.title = title;
return _Title(_route,navigator,index,navState);};

var navbar=React.cloneElement(Navbars.Normal,{
routeMapper:routeMapper});

return navbar;},


_fetchData:function(){
return journey.fetch().then((function(data){
var dataSource=this.state.dataSource.cloneWithRows(data.results);
this.setState({
dataSource:dataSource});}).

bind(this),console.trace.bind(console));},


_renderHeaderWrapper:function(refreshingIndicator){
if(refreshingIndicator == null){
return null;}


var styles={
wrap:{
width:deviceWidth - 10,
paddingVertical:10,
alignItems:'center',
justifyContent:'center'},


loading:{
fontSize:9,
marginBottom:5,
color:'#777'}};



return (
React.createElement(View,{style:styles.wrap},
React.createElement(Text,{style:styles.loading},'刷新游记'),
React.createElement(ActivityIndicatorIOS,{size:'small'})));},




render:function(){
return (
React.createElement(View,{style:[{flex:1},this.props.style]},
React.createElement(RefreshableListView,{
style:styles.list,
contentContainerStyle:styles.grid,
dataSource:this.state.dataSource,
renderHeaderWrapper:this._renderHeaderWrapper,
renderRow:this._renderItem,
loadData:this._onRefresh})));},




_onRefresh:function(){
return this._fetchData();},


_renderItem:function(data){
return (
React.createElement(JourneyView,{style:styles.cell,key:data.id,data:data,gotoDetail:this._gotoDetail}));}});




var styles=StyleSheet.create({
icon:_extends({},
su.size(12),{
resizeMode:'contain'}),


baseText:{
color:'#303030',
fontWeight:'200'},


list:{
backgroundColor:'#f3f5f6',
padding:5},


grid:{
flexDirection:'row',
flexWrap:'wrap',
alignItems:'flex-start'},


cell:{
width:(deviceWidth - 10) / 2,
padding:5}});



module.exports = JourneyTab;
});
__d('AwesomeProject/src/JourneyDetail.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var View=React.View;var Image=React.Image;var Text=React.Text;var ScrollView=React.ScrollView;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;

var deviceWidth=Dimensions.get('window').width;
var cellStyles=require('AwesomeProject/src/journey/JourneyDetailCellStyle.js');

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');var _require=




require('AwesomeProject/src/widgets/index.js');var UserInfo=_require.UserInfo;
var icons=require('AwesomeProject/src/icons.js');

var JourneyDetail=React.createClass({displayName:'JourneyDetail',
getInitialState:function(){
return {
datas:[{
publishDate:'2015-08-02 13:48',
address:'北京',
imageURI:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
text:''},
{
publishDate:'2015-08-02 13:48',
address:'北京',
imageURI:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg',
text:'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来。'}]};},




_renderContent:function(imageURI,text){
if(imageURI && text){
return (
React.createElement(View,{style:[cellStyles.flex1View,{flexDirection:'column'}]},
React.createElement(Image,{source:{uri:imageURI},
style:cellStyles.contentImage,
resizeMode:'cover'}),
React.createElement(Text,{style:cellStyles.descriptionText},text)));}else 


if(imageURI){
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(Image,{source:{uri:imageURI},
style:cellStyles.contentImage,
resizeMode:'cover'})));}else 


if(text){
return (
React.createElement(View,{style:styles.flex1View},
React.createElement(Text,{style:cellStyles.descriptionText},text)));}},





render:function(){
return (
React.createElement(ScrollView,{style:styles.scrollContainer},
React.createElement(Image,{source:{uri:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg'},
style:styles.banner},
React.createElement(Image,{style:styles.bgGray,source:icons.bgGray},
React.createElement(Text,{style:styles.titleView},'背景图片标题'),
React.createElement(View,{style:styles.userView},
React.createElement(UserInfo,{
style:styles.info,
username:'Komi',
publishDate:'2015-09-09 11:12',
avatar:icons.avatar}),
React.createElement(View,{style:styles.numberView},
React.createElement(Image,{style:styles.viewIcon,source:icons.viewWhite}),
React.createElement(Text,{style:styles.viewText},'3219'),
React.createElement(Image,{style:styles.starIcon,source:icons.starWhite}),
React.createElement(Text,{style:styles.viewText},'19'))))),




React.createElement(Image,{source:{uri:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg'},
style:styles.traceImage}),
React.createElement(View,{style:styles.traceView},
React.createElement(View,{style:styles.traceSubView},
React.createElement(Image,{source:icons.calendarGray,style:styles.traceIcon}),
React.createElement(View,{style:styles.traceInfoView},
React.createElement(Text,{style:styles.traceInfoTitle},'时间：12天'),
React.createElement(Text,{style:styles.traceInfoContent},'09月01日 - 09月12日'))),


React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.traceSubView},
React.createElement(Image,{source:icons.traceGray,style:styles.traceIcon}),
React.createElement(View,{style:styles.traceInfoView},
React.createElement(View,{style:styles.traceInfoKMView},
React.createElement(Text,{style:styles.traceInfoTitle},'历程：1568'),
React.createElement(Text,{style:styles.KMstyle},'KM')),

React.createElement(Text,{style:styles.traceInfoContent},'北京 - 丽江 - 雪山')))),



React.createElement(Text,{style:styles.contentView},'当离开这个荒芜的社会，进入繁华的沙漠时，一个人的思想就变了。只有在这里，你才能感受到自己的真实，而不是被社会被世俗所束缚的自己，你的思想才能变得丰富起来。'),


React.createElement(View,{style:styles.separator}),
React.createElement(View,{style:styles.height20}),
this.state.datas.map((function(item,index){
return (
React.createElement(View,{style:cellStyles.cellView},
React.createElement(View,{style:cellStyles.flex1View},
React.createElement(Image,{source:icons.calendarGreen,
style:cellStyles.calendarIcon}),
React.createElement(Text,{style:styles.textViewGray},item.publishDate)),

React.createElement(View,{style:[cellStyles.verticalLine,cellStyles.verticalLine10]}),
React.createElement(View,{style:cellStyles.flex1View},
React.createElement(Image,{source:icons.markBlue,style:cellStyles.calendarIcon}),
React.createElement(Text,{style:styles.textViewBlue},item.address)),

React.createElement(View,{style:[cellStyles.verticalLine,cellStyles.verticalLine10]}),
this._renderContent(item.imageURI,item.text),
React.createElement(View,{style:[cellStyles.verticalLine,cellStyles.verticalLine20]})));}).


bind(this))));}});





var styles=StyleSheet.create({
contentView:{
flex:1,
paddingHorizontal:15,
paddingVertical:10,
fontSize:13,
lineHeight:20,
color:stylesVar('dark-light-little'),
backgroundColor:'#fff'},


textViewGray:{
flex:1,
fontSize:11,
color:stylesVar('dark-mid'),
marginLeft:6},


textViewBlue:{
flex:1,
fontSize:11,
color:stylesVar('blue'),
marginLeft:6},


height20:{
height:20,
flex:1},


separator:{
flex:1,
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


KMstyle:{
color:stylesVar('blue'),
fontSize:10},


traceInfoKMView:{
flex:1,
flexDirection:'row'},


traceInfoTitle:{
flexDirection:'row',
color:stylesVar('blue'),
fontSize:15,
marginBottom:5},


traceInfoContent:{
flex:1,
color:stylesVar('dark-mid'),
fontSize:11},


traceSubView:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center',
paddingVertical:13},


traceInfoView:{
flex:1,
flexDirection:'column'},


traceIcon:{
width:32,
height:32,
marginLeft:5,
marginRight:10},


traceImage:{
width:deviceWidth,
height:120},


traceView:{
flex:1,
flexDirection:'column',
borderTopWidth:1 / PixelRatio.get(),
borderBottomWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
paddingLeft:10,
backgroundColor:'#fff'},


viewIcon:{
width:20,
height:12},


starIcon:{
width:18,
height:18,
marginLeft:15},


viewText:{
fontSize:10,
color:'#fff',
marginLeft:5},


bgGray:{
justifyContent:'flex-end',
width:deviceWidth,
height:80,
paddingHorizontal:15},


scrollContainer:{
backgroundColor:'#f3f5f6'},


banner:{
height:180,
width:deviceWidth,
justifyContent:'flex-end',
backgroundColor:'rgba(0,0,0,0.3)'},


titleView:{
height:25,
fontSize:25,
color:'#fff'},


userView:{
height:45,
flexDirection:'row'},


info:{
flex:1},


numberView:{
flex:1,
alignItems:'center',
flexDirection:'row',
justifyContent:'flex-end'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
function callback(){
this.refreshDetail && this.refreshDetail(this.activity.id);
navigator.pop();}

return this._renderBackButton(route,navigator,index,navState,callback.bind(this));}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){var _styles=



this.styles;var wrap=_styles.wrap;var navBarRightButton=_styles.navBarRightButton;

var styles=StyleSheet.create({
iconShare:_extends({},
su.size(14,20)),


navbarRight:{
height:44,
flexDirection:'row',
justifyContent:'flex-end',
alignItems:'center'},


navbarText:{
fontSize:10,
color:stylesVar('white'),
marginRight:15,
marginLeft:5}});



var starIcon=this.starred?icons.star:icons.starsOpposite;

return (
React.createElement(View,{style:[wrap,navBarRightButton]},
React.createElement(View,{style:styles.navbarRight},
React.createElement(Image,{style:styles.iconShare,source:icons.share}))));}},{key:'renderScene',value:









function renderScene(navigator){
return React.createElement(JourneyDetail,null);}},{key:'style',get:function(){return this.styles.navBarTransparent;}}]);return Route;})(BaseRouteMapper);



module.exports = Route;
});
__d('AwesomeProject/src/journey/JourneyDetailCellStyle.js',function(global, require, module, exports) {  var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=

React.StyleSheet;var Dimensions=React.Dimensions;

var deviceWidth=Dimensions.get('window').width;
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var styles=StyleSheet.create({
cellView:{
flex:1,
flexDirection:'column',
marginHorizontal:15},


verticalLine:{
width:50,
marginLeft:15,
borderLeftWidth:1,
borderColor:stylesVar('dark-mid-light')},


verticalLine10:{
height:10},


verticalLine20:{
height:20},


flex1View:{
flex:1,
flexDirection:'row',
alignItems:'center',
justifyContent:'center'},


calendarIcon:{
width:24,
height:24,
marginHorizontal:4},


textInputView:{
flex:1,
height:24,
fontSize:11,
color:stylesVar('dark-mid'),
marginLeft:6},


descriptionText:{
flex:1,
color:stylesVar('dark-light-little'),
fontSize:13,
lineHeight:20,
backgroundColor:'#fff',
paddingHorizontal:20,
paddingTop:13,
paddingBottom:20},


contentImage:{
width:deviceWidth - 30,
height:140}});



module.exports = styles;
});
__d('AwesomeProject/src/PlusMenu.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 

StyleSheet=







React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var ScrollView=React.ScrollView;var TouchableHighlight=React.TouchableHighlight;var TouchableOpacity=React.TouchableOpacity;var Dimensions=React.Dimensions;var _require=

require('react-native-blur/index.js');var BlurView=_require.BlurView;
var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');

var PlusMenu=React.createClass({displayName:'PlusMenu',
getInitialState:function(){
return {
title:0,
content:0};},



_dismiss:function(){
this.props.closeModal();
this.props.onDismiss();},


_setResult:function(result){
return (function(){
this.props.closeModal();
this.props.onResult(result);}).
bind(this);},


render:function(){
return (
React.createElement(BlurView,{style:styles.container,blurType:'light'},
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:this._dismiss,style:styles.dismiss},
React.createElement(Image,{source:icons.dismiss,style:styles.button})),


React.createElement(View,{style:styles.options},
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:this._setResult('route'),
style:styles.option},
React.createElement(Image,{source:icons.addRoute,style:styles.button}),
React.createElement(Text,{style:styles.baseText},'记录轨迹')),


React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:this._setResult('activity'),
style:styles.option},
React.createElement(Image,{source:icons.newActivity,style:styles.button}),
React.createElement(Text,{style:styles.baseText},'发起活动')),


React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:this._setResult('journey'),
style:styles.option},
React.createElement(Image,{source:icons.newJourneyNote,style:styles.button}),
React.createElement(Text,{style:styles.baseText},'写游记')))));}});







var styles=StyleSheet.create({
container:{
flex:1},


baseText:{
color:'#030303'},


dismiss:{
position:'absolute',
bottom:20,
left:0,
right:0,
alignItems:'center'},


options:{
position:'absolute',
bottom:110,
left:0,
right:0,
flexDirection:'row',
justifyContent:'center'},


option:{
marginHorizontal:20},


button:_extends({},
su.size(48),{
marginBottom:10})});



module.exports = PlusMenu;
});
__d('AwesomeProject/src/FillActivityBrief.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var _=require('underscore/underscore.js');
var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


AlertIOS=







React.AlertIOS;var StyleSheet=React.StyleSheet;var PixelRatio=React.PixelRatio;var Text=React.Text;var TextInput=React.TextInput;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;

var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var ActivityCoverInput=require('AwesomeProject/src/ActivityCoverInput.js');
var FillActivityDetailRoute=require('AwesomeProject/src/FillActivityDetail.js');var _require=






require('AwesomeProject/src/createActivity/index.js');var briefLabels=_require.briefLabels;var BaseMixin=_require.BaseMixin;var BriefMixin=_require.BriefMixin;var SimpleField=_require.SimpleField;

var FillActivityBrief=React.createClass({displayName:'FillActivityBrief',

mixins:[BaseMixin,BriefMixin],

getInitialState:function(){
return {};},


componentDidMount:function(){
this.props.events.addListener('next',this._next);},


_next:function(){
try{
this._validateBrief();
var brief=_.pick(this.state,_.keys(briefLabels));
this.props.navigator.push(new FillActivityDetailRoute(brief));}
catch(e) {
AlertIOS.alert(e.message);}},



render:function(){var _this=this;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(ActivityCoverInput,{
style:styles.section,
navigator:this.props.navigator,
value:this.state.cover,
onChange:function(cover){return _this.setState({cover:cover});}}),

React.createElement(View,{style:styles.formGroup},
React.createElement(SimpleField,{
label:briefLabels.title,
value:this.state.title,
labelStyle:styles.label,
onChange:this._save('title')}),

React.createElement(SimpleField,{
label:briefLabels.route,
value:this.state.route,
labelStyle:styles.label,
onChange:this._save('route')}),

React.createElement(SimpleField,{
label:briefLabels.startDate,
value:this._formatDate(this.state.startDate),
labelStyle:styles.label,
onPress:this._showDatePickerForStartDate}),

React.createElement(SimpleField,{
label:briefLabels.endDate,
value:this._formatDate(this.state.endDate),
labelStyle:styles.label,
style:styles.last,
onPress:this._showDatePickerForEndDate}))));}});






var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


label:{
width:60},


last:{
borderBottomWidth:0},


section:{
marginBottom:20},


formGroup:{
backgroundColor:'#fff',
paddingLeft:8,

borderBottomWidth:1 / PixelRatio.get(),
borderBottomColor:stylesVar('dark-light'),
borderTopWidth:1 / PixelRatio.get(),
borderTopColor:stylesVar('dark-light')}});



var EventEmitter=require('EventEmitter');
var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

FillActivityBriefRoute=(function(_BaseRouteMapper){_inherits(FillActivityBriefRoute,_BaseRouteMapper);_createClass(FillActivityBriefRoute,[{key:'style',get:

function(){
return this.styles.navBar;}},{key:'title',get:


function(){
return '发布活动(1/2)';}}]);


function FillActivityBriefRoute(){_classCallCheck(this,FillActivityBriefRoute);
_get(Object.getPrototypeOf(FillActivityBriefRoute.prototype),'constructor',this).call(this);
this.emitter = new EventEmitter();}_createClass(FillActivityBriefRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return React.cloneElement(this._renderRightButton('下一步'),{
onPress:this._next.bind(this)});}},{key:'renderScene',value:



function renderScene(){
return React.createElement(FillActivityBrief,{events:this.emitter});}},{key:'_next',value:


function _next(){
this.emitter.emit('next');}}]);return FillActivityBriefRoute;})(BaseRouteMapper);



module.exports = FillActivityBriefRoute;
});
__d('AwesomeProject/src/ActivityCoverInput.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var React=require('react-native/Libraries/react-native/react-native.js');var 


View=




React.View;var Image=React.Image;var Dimensions=React.Dimensions;var TouchableOpacity=React.TouchableOpacity;var StyleSheet=React.StyleSheet;

var LocalPhotoPicker=require('AwesomeProject/src/LocalPhotoPicker.js');

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');var _require=


require('AwesomeProject/src/widgets/index.js');var PenIcon=_require.PenIcon;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;
var placeholder=icons.coverPlaceholder;
var placeholderSize={
width:722,
height:332};

var placeholderMargin=5;
var placeholderSizeIndeed={
width:deviceWidth - placeholderMargin * 2,
height:(deviceWidth - placeholderMargin * 2) / placeholderSize.width * placeholderSize.height};


var ActivityCoverInput=React.createClass({

displayName:"ActivityCoverInput",

_renderCover:function(){
if(!this.props.value){
return (
React.createElement(Image,{source:placeholder,style:styles.placeholder}));}else 

{
var photo=this.props.value;
return (
React.createElement(Image,{source:{uri:photo.uri},style:styles.cover},
React.createElement(PenIcon,null)));}},





_showImagePicker:function(){var _this=this;
this.props.navigator.push(new LocalPhotoPicker({
onResult:function(photo){
_this.props.onChange(photo);}}));},




render:function(){
return (
React.createElement(TouchableOpacity,{
style:[styles.container,this.props.style],
activeOpacity:0.9,
onPress:this._showImagePicker},
this._renderCover()));}});





var styles={
container:{
backgroundColor:'#fff'},


placeholder:_extends({
margin:placeholderMargin,
resizeMode:'stretch'},
placeholderSizeIndeed),


cover:{
alignItems:'center',
justifyContent:'center',
width:deviceWidth,
height:deviceWidth * 9 / 16,
resizeMode:'cover'}};



module.exports = ActivityCoverInput;
});
__d('AwesomeProject/src/LocalPhotoPicker.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var _=require('underscore/underscore.js');
var shortid=require('shortid/index.js');

var React=require('react-native/Libraries/react-native/react-native.js');var 


View=








React.View;var Dimensions=React.Dimensions;var DatePickerIOS=React.DatePickerIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var CameraRoll=React.CameraRoll;var ListView=React.ListView;var TouchableOpacity=React.TouchableOpacity;

var AV=require('avoscloud-sdk/lib/av.js');
var Photo=AV.Object.extend("Photo");

var deviceWidth=Dimensions.get('window').width;
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var thumbMargin=5;
var thumbCols=4;
var thumbSize=(deviceWidth - (thumbCols + 1) * thumbMargin) / thumbCols;

var CameraRollScene=React.createClass({displayName:'CameraRollScene',

getInitialState:function(){
return {};},


componentDidMount:function(){
CameraRoll.getPhotos({
first:65535},
(function(data){
console.log(data);
var photos=data.edges.map(function(item){
return item.node.image;});

var dataSource=new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}});

this.setState({
dataSource:dataSource.cloneWithRows(photos)});}).

bind(this),function(e){
console.trace(e);});},



_upload:function(photo){
var image=photo.node.image;
var ext=image.uri.split(/ext=/)[1];
var name=shortid.generate() + '.' + ext;
var file=new AV.File(name,{
blob:image});


file.save().then(console.log.bind(console),console.trace.bind(console));},


_renderRow:function(photo){var _this=this;
return React.createElement(Cell,{source:{uri:photo.uri},
onPress:function(){
_this.props.onResult(photo);
_this.props.navigator.pop();}});},



render:function(){
if(!this.state.dataSource){
return null;}


return (
React.createElement(ListView,{style:[styles.container,this.props.style],
contentContainerStyle:styles.content,
dataSource:this.state.dataSource,
renderRow:this._renderRow}));}});




var Cell=React.createClass({displayName:'Cell',
getInitialState:function(){
return {};},


_onLayout:function(e){
var layout=e.nativeEvent.layout;
this.setState({layout:layout});},


render:function(){
return (
React.createElement(TouchableOpacity,{
style:styles.cell,
onPress:this.props.onPress,
onLayout:this._onLayout,
activeOpacity:0.8},
this.state.layout && 
React.createElement(Image,{source:this.props.source,resizeMode:'cover',style:{
width:this.state.layout.width,
height:this.state.layout.height}})));}});







var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#fff'},


content:{
alignItems:'flex-start',
flexDirection:'row',
flexWrap:'wrap',
margin:thumbMargin / 2},


cell:_extends({
backgroundColor:stylesVar('dark-lighter')},
su.size(thumbSize),{
margin:thumbMargin / 2})});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);

function Route(params){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);
this.title = params.title || "本地相册";
this._onResult = params.onResult;}_createClass(Route,[{key:'emit',value:


function emit(){
this.emitter.apply(this.emitter,arguments);}},{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderScene',value:


function renderScene(){
return (
React.createElement(CameraRollScene,{route:this,onResult:this._onResult}));}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/FillActivityDetail.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var _=require('underscore/underscore.js');
var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 

AlertIOS=









React.AlertIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Text=React.Text;var TextInput=React.TextInput;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');var _require=





require('AwesomeProject/src/createActivity/index.js');var detailLabels=_require.detailLabels;var SimpleField=_require.SimpleField;var BaseMixin=_require.BaseMixin;var DetailMixin=_require.DetailMixin;

var deviceWidth=Dimensions.get('window').width;
var ActivityFormSummary=require('AwesomeProject/src/ActivityFormSummary.js');

var DetailEntry=React.createClass({displayName:'DetailEntry',

render:function(){
var icon=this.props.ready?icons.ready:icons.iconAddDetail;

var style=this.props.ready?[styles.detailEntry,styles.detailEntryReady]:
styles.detailEntry;
return (
React.createElement(TouchableOpacity,{
onPress:this.props.onPress,
activeOpacity:0.6,
style:style},
React.createElement(Image,{style:styles.detailEntryIcon,source:icon}),
React.createElement(Text,{style:styles.detailEntryText},this.props.label)));}});





var FillActivityDetail=React.createClass({displayName:'FillActivityDetail',

mixins:[BaseMixin,DetailMixin],

getInitialState:function(){
return {
startDate:this.props.data.startDate};},



componentDidMount:function(){
this.props.events.addListener('next',this._next);},


_next:function(){
try{
this._validateDetail();
var detail=_.extend({},this.props.data,this.state);
this.props.navigator.push(new ActivityFormSummary(detail));}
catch(e) {
AlertIOS.alert(e.message);}},



render:function(){var _state=




this.state;var minCars=_state.minCars;var maxCars=_state.maxCars;var entryDeadline=_state.entryDeadline;

return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(View,{style:styles.section},
React.createElement(SimpleField,{
label:detailLabels.entryDeadline,
value:this._formatDate(entryDeadline),
onPress:this._showDatePickerForEntryDeadline}),
React.createElement(SimpleField,{
label:detailLabels.minCars,
value:minCars?minCars + "辆":"",
onPress:this._showMinCarsPicker}),
React.createElement(SimpleField,{
label:detailLabels.maxCars,
style:styles.last,
value:maxCars?maxCars + "辆":"",
onPress:this._showMaxCarsPicker})),


React.createElement(View,{style:styles.details},
React.createElement(DetailEntry,{
onPress:this._editRouteMap,
label:"选择" + detailLabels.routeMap,
ready:!!this.state.routeMap}),
React.createElement(DetailEntry,{
onPress:this._editText('routeDesc'),
label:detailLabels.routeDesc,
ready:!!this.state.routeDesc}),
React.createElement(DetailEntry,{
onPress:this._editText('partnerRequirements'),
label:detailLabels.partnerRequirements,
ready:!!this.state.partnerRequirements}),
React.createElement(DetailEntry,{
onPress:this._editText('equipementRequirements'),
label:detailLabels.equipementRequirements,
ready:!!this.state.equipementRequirements}),
React.createElement(DetailEntry,{
onPress:this._editText('costDesc'),
label:detailLabels.costDesc,
ready:!!this.state.costDesc}),
React.createElement(DetailEntry,{
onPress:this._editText('riskPrompt'),
label:detailLabels.riskPrompt,
ready:!!this.state.riskPrompt}))));}});






var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


last:{
borderBottomWidth:0},


section:{
marginTop:20,
marginBottom:20,
borderTopWidth:1 / PixelRatio.get(),
borderTopColor:stylesVar('dark-light'),
borderBottomWidth:1 / PixelRatio.get(),
borderBottomColor:stylesVar('dark-light'),
backgroundColor:'#fff',
paddingLeft:15},


details:{
flexDirection:'row',
flexWrap:'wrap',
marginHorizontal:10},


detailEntry:_extends({
width:(deviceWidth - 60) / 2},
su.margin(0,10,10),{
backgroundColor:'#fff',
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('dark-light'),
paddingVertical:20,
paddingLeft:15,
flexDirection:'row',
alignItems:'center'}),


detailEntryReady:{
borderWidth:1 / PixelRatio.get(),
borderColor:stylesVar('brand-primary')},


detailEntryIcon:_extends({},
su.size(18),{
resizeMode:'contain',
marginRight:9}),


detailEntryText:{
color:stylesVar('dark-mid')}});



var EventEmitter=require('EventEmitter');
var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

FillActivityDetailRoute=(function(_BaseRouteMapper){_inherits(FillActivityDetailRoute,_BaseRouteMapper);_createClass(FillActivityDetailRoute,[{key:'style',get:

function(){
return this.styles.navBar;}},{key:'title',get:


function(){
return '发布活动(2/2)';}}]);


function FillActivityDetailRoute(data){_classCallCheck(this,FillActivityDetailRoute);
_get(Object.getPrototypeOf(FillActivityDetailRoute.prototype),'constructor',this).call(this);
this.data = data;
this.emitter = new EventEmitter();}_createClass(FillActivityDetailRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return React.cloneElement(this._renderRightButton('下一步'),{
onPress:this._next.bind(this)});}},{key:'renderScene',value:



function renderScene(){
return React.createElement(FillActivityDetail,{data:this.data,events:this.emitter});}},{key:'_next',value:


function _next(){
this.emitter.emit('next');}}]);return FillActivityDetailRoute;})(BaseRouteMapper);



module.exports = FillActivityDetailRoute;
});
__d('AwesomeProject/src/createActivity/index.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var labels=require('AwesomeProject/src/createActivity/labels.js');
var BaseMixin=require('AwesomeProject/src/createActivity/BaseMixin.js');
var BriefMixin=require('AwesomeProject/src/createActivity/BriefMixin.js');
var DetailMixin=require('AwesomeProject/src/createActivity/DetailMixin.js');
var fields=require('AwesomeProject/src/createActivity/Fields.js');

module.exports = _extends({},
labels,
fields,{
BaseMixin:BaseMixin,
BriefMixin:BriefMixin,
DetailMixin:DetailMixin});
});
__d('AwesomeProject/src/createActivity/labels.js',function(global, require, module, exports) {  var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};var briefLabels={
cover:'封面',
title:'标题',
route:'路线',
startDate:'出发时间',
endDate:'结束时间'};


var detailLabels={
entryDeadline:'报名截止日期',
minCars:'最少车辆数量',
maxCars:'最大车辆数量',
routeMap:'轨迹图',
routeDesc:'路线说明',
partnerRequirements:'参与者要求',
equipementRequirements:'装备要求',
costDesc:'费用说明',
riskPrompt:'风险提示'};


var labels=_extends({},
briefLabels,
detailLabels);


module.exports = {
briefLabels:briefLabels,
detailLabels:detailLabels,
labels:labels};
});
__d('AwesomeProject/src/createActivity/BaseMixin.js',function(global, require, module, exports) {  var moment=require('moment/moment.js');

var BaseMixin={
_formatDate:function(date){
return date?moment(date).format('YYYY-MM-DD'):'';},


_save:function(key){
return (function(value){
var partial={};
partial[key] = value;
this.setState(partial);}).
bind(this);}};



module.exports = BaseMixin;
});
__d('AwesomeProject/src/createActivity/BriefMixin.js',function(global, require, module, exports) {  var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 

AlertIOS=
React.AlertIOS;

var DatePickerRoute=require('AwesomeProject/src/DatePickerRoute.js');
var briefLabels=require('AwesomeProject/src/createActivity/labels.js').briefLabels;

var BriefMixin={
_validateBrief:function(){
var prop=_.find(_.keys(briefLabels),function(key){
return !this.state[key];},
this);

if(prop){
throw new Error(briefLabels[prop] + '没有填写');}


if(this.state.title.length > 50){
throw new Error('标题不能超50个字');}


if(this.state.route.length > 100){
throw new Error('路线不能超过100个字');}},



_showDatePickerForStartDate:function(){
this.props.navigator.push(new DatePickerRoute({
onResult:this._save('startDate'),
current:this.state.startDate,
maximumDate:this.state.endDate,
minimumDate:this.state.entryDeadline}));},



_showDatePickerForEndDate:function(){
this.props.navigator.push(new DatePickerRoute({
onResult:this._save('endDate'),
current:this.state.endDate,
minimumDate:this.state.startDate}));}};




module.exports = BriefMixin;
});
__d('AwesomeProject/src/DatePickerRoute.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


View=





React.View;var DatePickerIOS=React.DatePickerIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var TouchableOpacity=React.TouchableOpacity;

var DatepickerScene=React.createClass({displayName:'DatepickerScene',

propTypes:{
minimumDate:React.PropTypes.instanceOf(Date),
maximumDate:React.PropTypes.instanceOf(Date),
current:React.PropTypes.instanceOf(Date)},


statics:{
getInitialDate:function(min,max,current){
var date=current || new Date();
if(min && date < min){
date = min;}else 
if(max && date > max){
date = max;}

return date;}},



getInitialState:function(){
var min=this.props.minimumDate;
var max=this.props.maximumDate;
var current=this.props.current;

return {
date:DatepickerScene.getInitialDate(min,max,current)};},



componentDidMount:function(){
this.props.navbar.addListener('save',this._handleSave);},


_handleSave:function(){
this.props.onResult(this.state.date);
this.props.navigator.pop();},


render:function(){var _this=this;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(DatePickerIOS,{
date:this.state.date,
mode:'date',
minimumDate:this.props.minimumDate,
maximumDate:this.props.maximumDate,
timeZoneOffsetInMinutes:this.state.timeZoneOffsetInHours * 60,
onDateChange:function(date){_this.setState({date:date});},
minuteInterval:10})));}});






var styles=StyleSheet.create({
container:{
flex:1,
alignItems:'center',
backgroundColor:'#fff'},


save:{
margin:10,
borderRadius:6,
backgroundColor:'transparent',
overflow:'hidden'},


saveText:{
paddingVertical:10,
backgroundColor:'#0087fa',
color:'#fff',
textAlign:'center'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

DatePickerRoute=(function(_BaseRouteMapper){_inherits(DatePickerRoute,_BaseRouteMapper);

function DatePickerRoute(params){_classCallCheck(this,DatePickerRoute);
_get(Object.getPrototypeOf(DatePickerRoute.prototype),'constructor',this).call(this);
this.params = params;
this.emitter = new EventEmitter();}_createClass(DatePickerRoute,[{key:'_onSave',value:






function _onSave(){
this.emitter.emit('save');}},{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
return React.cloneElement(this._renderRightButton('确认'),{
onPress:this._onSave.bind(this)});}},{key:'renderScene',value:



function renderScene(){
return (
React.createElement(DatepickerScene,{
navbar:this.emitter,
maximumDate:this.params.maximumDate,
minimumDate:this.params.minimumDate,
current:this.params.current,
onResult:this.params.onResult}));}},{key:'title',get:function(){return this.params.title || "选择时间";}}]);return DatePickerRoute;})(BaseRouteMapper);




module.exports = DatePickerRoute;
});
__d('AwesomeProject/src/createActivity/DetailMixin.js',function(global, require, module, exports) {  'use strict';var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');
var DatePickerRoute=require('AwesomeProject/src/DatePickerRoute.js');
var TextInputRoute=require('AwesomeProject/src/TextInputRoute.js');
var RoutePicker=require('AwesomeProject/src/RoutePicker.js');

var Labels=require('AwesomeProject/src/createActivity/labels.js').detailLabels;
var ActivityCarsPicker=require('AwesomeProject/src/createActivity/ActivityCarsPicker.js');

var DetailMixin={
_showDatePickerForEntryDeadline:function(){
this.props.navigator.push(new DatePickerRoute({
title:Labels.entryDeadline,
onResult:this._saveEntryDeadline,
current:this.state.entryDeadline,
maximumDate:this.state.startDate}));},



_saveEntryDeadline:function(date){
this.setState({
entryDeadline:date});},



_showMinCarsPicker:function(){
var modal=React.createElement(ActivityCarsPicker,{onResult:this._save('minCars')});
this.props.openModal(modal);},


_showMaxCarsPicker:function(){
var modal=React.createElement(ActivityCarsPicker,{onResult:this._save('maxCars')});
this.props.openModal(modal);},


_editText:function(entry){
return (function(){
this.props.navigator.push(new TextInputRoute({
title:Labels[entry],
initValue:this.state[entry],
onResult:this._save(entry)}));}).

bind(this);},


_editRouteMap:function(){var _this=this;
this.props.navigator.push(new RoutePicker({
onResult:function(){
var routeMap={
type:'placeholder'};


_this.setState({
routeMap:routeMap});}}));},





_validateDetail:function(){
var prop=_.find(_.keys(Labels),function(key){
return !this.state[key];},
this);

if(prop){
throw new Error(Labels[prop] + '没有填写');}


if(this.state.maxCars < this.state.minCars){
throw new Error('最大车辆数太小');}}};




module.exports = DetailMixin;
});
__d('AwesomeProject/src/RoutePicker.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


Image=




React.Image;var Text=React.Text;var View=React.View;var StyleSheet=React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;

var BaseText=require('AwesomeProject/src/widgets/index.js').BaseText;

var Tabs=require('react-native-tabs/index.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var StaticPage=React.createClass({displayName:'StaticPage',
render:function(){
return React.createElement(View,{style:{flex:1}});}});



var RoutePickerScene=React.createClass({displayName:'RoutePickerScene',
_onTabSelect:function(){
console.log(arguments);},


_onResult:function(){
this.props.onResult();
this.props.navigator.pop();},


render:function(){
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(TouchableOpacity,{
onPress:this._onResult,
activeOpacity:0.8,
style:styles.button},
React.createElement(BaseText,{style:styles.buttonText},'选择轨迹'))));}});






var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

RoutePickerRoute=(function(_BaseRouteMapper){_inherits(RoutePickerRoute,_BaseRouteMapper);

function RoutePickerRoute(params){_classCallCheck(this,RoutePickerRoute);
_get(Object.getPrototypeOf(RoutePickerRoute.prototype),'constructor',this).call(this);
this.params = params;}_createClass(RoutePickerRoute,[{key:'renderLeftButton',value:






function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:


function renderScene(){
return React.createElement(RoutePickerScene,{onResult:this.params.onResult});}},{key:'title',get:function(){return '轨迹';}}]);return RoutePickerRoute;})(BaseRouteMapper);



var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#fff'},


button:{
backgroundColor:stylesVar('brand-primary'),
height:45,
margin:20,
borderRadius:6,
overflow:'hidden',
justifyContent:'center',
alignItems:'center'},


buttonText:{
color:'white'}});



module.exports = RoutePickerRoute;
});
__d('react-native-tabs/index.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var React=require('react-native/Libraries/react-native/react-native.js');var 

Component=




React.Component;var StyleSheet=React.StyleSheet;var View=React.View;var Text=React.Text;var TouchableOpacity=React.TouchableOpacity;var 

Tabs=(function(_Component){_inherits(Tabs,_Component);
function Tabs(props){_classCallCheck(this,Tabs);
_get(Object.getPrototypeOf(Tabs.prototype),'constructor',this).call(this,props);
this.state = {};
this.children = {};
this.selected = null;}_createClass(Tabs,[{key:'onSelect',value:

function onSelect(el){
this.setState(this.children);
var func=el.props.onSelect || this.props.onSelect;
var props={selected:true};
if(func){
props = Object.assign(props,func(el) || {});}

props = Object.assign(props,el.props);
var map={};
map[el.props.name] = props;
map[el.props.name].key = el.props.name;
this.setState(map);}},{key:'_updateState',value:


function _updateState(props){var _this=this;
var selected=null;
React.Children.forEach(props.children,function(el){

if(!selected && !props.noFirstSelect){
selected = el;}

_this.children[el.props.name] = Object.assign({},el.props);
_this.children[el.props.name].key = el.props.name;
if(props.selected == el.props.name){
selected = el;}});



this.setState(this.children);
if(!this.selected && selected){
this.onSelect(selected);}

this.selected = selected;}},{key:'componentWillReceiveProps',value:


function componentWillReceiveProps(props){
this._updateState(props);}},{key:'componentDidMount',value:


function componentDidMount(){
this._updateState(this.props);}},{key:'render',value:

function render(){var _this2=this;
var self=this;
return (
React.createElement(View,{style:[styles.tabbarView,this.props.style]},
this.props.children.map(function(el,index){return (
React.createElement(TouchableOpacity,{key:el.props.name + "touch",style:[styles.iconView,index == _this2.props.children.length - 1?self.props.lastIconStyle:self.props.iconStyle],onPress:function(){return self.onSelect(el);}},
React.cloneElement(el,self.state[el.props.name])));})));}}]);return Tabs;})(Component);






var styles=StyleSheet.create({
container:{
flex:1},

tabbarView:{
position:'absolute',
bottom:0,
right:0,
left:0,
height:50,
opacity:1,
backgroundColor:'transparent',
flexDirection:'row',
justifyContent:'center',
alignItems:'center'},

iconView:{
flex:1,
alignItems:'center'},

contentView:{
flex:1}});



module.exports = Tabs;
});
__d('AwesomeProject/src/createActivity/ActivityCarsPicker.js',function(global, require, module, exports) {  'use strict';

var _=require('underscore/underscore.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 

PickerIOS=








React.PickerIOS;var StyleSheet=React.StyleSheet;var Text=React.Text;var Image=React.Image;var View=React.View;var ScrollView=React.ScrollView;var TouchableHighlight=React.TouchableHighlight;var TouchableOpacity=React.TouchableOpacity;var Dimensions=React.Dimensions;

var stylesVar=require('AwesomeProject/src/stylesVar.js');
var su=require('AwesomeProject/src/styleUtils.js');

var RANGE=_.range(5).map(function(n){return n + 1;});

var ActivityCarsPicker=React.createClass({displayName:'ActivityCarsPicker',
getInitialState:function(){
return {
value:1};},



_dismiss:function(){
this.props.closeModal();
this.props.onDismiss && this.props.onDismiss();},


_setResult:function(result){
this.props.closeModal();
this.props.onResult(result);},


_onValueChange:function(value){
this.setState({
value:value});},



_onPress:function(e){
if(e.currentTarget !== e.target){
return;}


this._dismiss();},


render:function(){var _this=this;
return (
React.createElement(TouchableOpacity,{
onPress:this._onPress,
activeOpacity:0.8,
style:styles.container},

React.createElement(View,{style:styles.wrap},
React.createElement(View,{style:styles.buttons},
React.createElement(TouchableOpacity,{
onPress:function(){return _this._dismiss();},
activeOpacity:0.8,
style:styles.btnLink},
React.createElement(Text,{style:styles.cancelText},'取消')),

React.createElement(TouchableOpacity,{
onPress:function(){return _this._setResult(_this.state.value);},
activeOpacity:0.8,
style:styles.btnLink},
React.createElement(Text,{style:styles.confirmText},'确认'))),



React.createElement(PickerIOS,{
style:styles.picker,
onValueChange:function(value){return _this.setState({value:value});},
selectedValue:this.state.value},
RANGE.map(function(count){
return (
React.createElement(PickerIOS.Item,{
style:{flex:1,width:100},
key:'cars_' + count,
value:count,
label:count + '辆'}));})))));}});










var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'transparent'},


wrap:{
backgroundColor:'#fff',
position:'absolute',
left:0,
right:0,
bottom:0,
shadowColor:'#000',
shadowOpacity:0.2,
shadowOffset:{
height:3,
width:0}},



buttons:{
borderBottomWidth:1,
borderBottomColor:stylesVar('dark-lighter'),
flexDirection:'row',
justifyContent:'space-between',
paddingHorizontal:8},


btnLink:{
height:45,
paddingHorizontal:6,
justifyContent:'center',
alignItems:'center'},


cancelText:{
color:stylesVar('dark-mid')},


confirmText:{
color:stylesVar('brand-primary')},


picker:{
flex:1,
flexDirection:'column'}});



module.exports = ActivityCarsPicker;
});
__d('AwesomeProject/src/createActivity/Fields.js',function(global, require, module, exports) {  'use strict';var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};

var React=require('react-native/Libraries/react-native/react-native.js');var 


Image=




React.Image;var PixelRatio=React.PixelRatio;var StyleSheet=React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;var View=React.View;var _require=





require('AwesomeProject/src/widgets/index.js');var ArrowIcon=_require.ArrowIcon;var BaseText=_require.BaseText;var BaseTextInput=_require.BaseTextInput;

var Text=BaseText;
var TextInput=BaseTextInput;

var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');

var SimpleField=React.createClass({displayName:'SimpleField',
propTypes:{
onPress:React.PropTypes.func,
onChange:React.PropTypes.func,
multiline:React.PropTypes.bool,
label:React.PropTypes.string.isRequired,
value:React.PropTypes.string.isRequired},


getDefaultProps:function(){
return {
multiline:false};},



render:function(){
var activeOpacity=this.props.onPress?0.8:null;
var Container=this.props.onPress?TouchableOpacity:View;
var editable=!this.props.onPress;
var fieldStyle=this.props.multiline?styles.multiField:styles.field;
var labelStyle=this.props.multiline?styles.multiLabel:styles.label;

var arrowStyle=this.props.multiline?{marginTop:6}:{};

return (
React.createElement(Container,{
activeOpacity:activeOpacity,
onPress:this.props.onPress,
style:[fieldStyle,this.props.style]},
React.createElement(Text,{style:[labelStyle,this.props.labelStyle]},
this.props.label),

React.createElement(TextInput,{
value:this.props.value,
multiline:this.props.multiline,
editable:editable,
onChangeText:this.props.onChange,
style:this.props.multiline?styles.multiInput:styles.input}),
React.createElement(ArrowIcon,{style:arrowStyle})));}});





var fieldBase={
flexDirection:'row',
paddingRight:8,
paddingLeft:8,
borderBottomWidth:1 / PixelRatio.get(),
borderBottomColor:stylesVar('dark-light')};


var labelBase={
width:90,
color:stylesVar('dark-mid')};


var styles=StyleSheet.create({
label:_extends({},
labelBase),


multiLabel:_extends({},
labelBase,{
lineHeight:20}),


field:_extends({},
fieldBase,{
alignItems:'center'}),


multiField:_extends({},
fieldBase,{
paddingTop:10,
paddingBottom:10}),


input:{
flex:1,
fontSize:14,
lineHeight:20,
paddingHorizontal:8,
height:45},


multiInput:{
flex:1,
fontSize:14,
paddingHorizontal:8,
height:60}});



module.exports = {
SimpleField:SimpleField};
});
__d('AwesomeProject/src/ActivityFormSummary.js',function(global, require, module, exports) {  'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}

var _=require('underscore/underscore.js');
var moment=require('moment/moment.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


AlertIOS=











React.AlertIOS;var PickerIOS=React.PickerIOS;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var DatePickerIOS=React.DatePickerIOS;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Text=React.Text;var TextInput=React.TextInput;var Image=React.Image;var View=React.View;var TouchableOpacity=React.TouchableOpacity;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var TextInputRoute=require('AwesomeProject/src/TextInputRoute.js');
var ActivityCoverInput=require('AwesomeProject/src/ActivityCoverInput.js');
var RoutePicker=require('AwesomeProject/src/RoutePicker.js');
var DatePickerRoute=require('AwesomeProject/src/DatePickerRoute.js');var _require=






require('AwesomeProject/src/createActivity/index.js');var labels=_require.labels;var BaseMixin=_require.BaseMixin;var BriefMixin=_require.BriefMixin;var DetailMixin=_require.DetailMixin;var SimpleField=_require.SimpleField;var _require2=






require('AwesomeProject/src/widgets/index.js');var ArrowIcon=_require2.ArrowIcon;var PenIcon=_require2.PenIcon;var BaseText=_require2.BaseText;var BaseTextInput=_require2.BaseTextInput;

var Dispatcher=require('AwesomeProject/src/Dispatcher.js');var _require3=





require('AwesomeProject/src/api/index.js');var user=_require3.user;var uploadPhoto=_require3.uploadPhoto;var activity=_require3.activity;

Text = BaseText;
TextInput = BaseTextInput;

var RouteField=React.createClass({displayName:'RouteField',
statics:{
styles:StyleSheet.create({
label:{
color:stylesVar('dark-mid'),
flex:1},


bar:{
height:45,
paddingLeft:16,
paddingRight:8,
flexDirection:'row',
alignItems:'center'},


routeMap:_extends({},
su.size(deviceWidth,135),{
resizeMode:'cover',
justifyContent:'center',
alignItems:'center'})})},




render:function(){
return (
React.createElement(TouchableOpacity,{activeOpacity:0.8,
onPress:this.props.onPress,
style:this.props.style},
React.createElement(View,{style:RouteField.styles.bar},
React.createElement(Text,{style:RouteField.styles.label},'选择',
labels.routeMap),

React.createElement(ArrowIcon,null)),


React.createElement(Image,{style:RouteField.styles.routeMap,
source:icons.spaceHeader},
React.createElement(PenIcon,null))));}});






var ActivityFormSummaryScene=React.createClass({displayName:'ActivityFormSummaryScene',

mixins:[BaseMixin,BriefMixin,DetailMixin],

getInitialState:function(){
return _extends({},
this.props.data);},



componentDidMount:function(){
this._publishSub = this.props.events.addListener('publish',this._publish);
this._cancelSub = this.props.events.addListener('cancel',this._cancel);},


componentWillUnmount:function(){
this._publishSub.remove();
this._cancelSub.remove();},


_publish:function(){
try{
this._validateBrief();
this._validateDetail();
var _activity=_.extend({},this.state);

delete _activity.routeMap;

console.log(_activity);
activity.publish(_activity).then(function(){
AlertIOS.alert('发布成功');
Dispatcher.emit('publish-activity:done');},
function(e){
AlertIOS.alert(e.message);});}

catch(e) {
console.trace(e);
AlertIOS.alert(e.message);}},



_cancel:function(){
Dispatcher.emit('publish-activity:cancel');},


render:function(){var _this=this;
return (
React.createElement(ScrollView,{style:[styles.container,this.props.style]},
React.createElement(ActivityCoverInput,{
style:styles.section,
navigator:this.props.navigator,
value:this.state.cover,
onChange:function(cover){return _this.setState({cover:cover});}}),

React.createElement(View,{style:[styles.section,styles.formGroup]},
React.createElement(SimpleField,{
label:labels.title,
value:this.state.title,
onChange:this._save('title')}),

React.createElement(SimpleField,{
value:this.state.route,
label:labels.route,
onChange:this._save('route')}),

React.createElement(SimpleField,{
label:labels.startDate,
value:this._formatDate(this.state.startDate),
onPress:this._showDatePickerForStartDate}),

React.createElement(SimpleField,{
label:labels.endDate,
value:this._formatDate(this.state.endDate),
style:styles.lastField,
onPress:this._showDatePickerForEndDate})),


React.createElement(View,{style:[styles.section,styles.formGroup]},
React.createElement(SimpleField,{
label:labels.entryDeadline,
value:this._formatDate(this.state.entryDeadline),
onPress:this._showDatePickerForEntryDeadline}),
React.createElement(SimpleField,{
label:labels.minCars,
value:this.state.minCars && String(this.state.minCars) + '辆',
onPress:this._showMinCarsPicker}),
React.createElement(SimpleField,{
label:labels.maxCars,
value:this.state.maxCars && String(this.state.maxCars) + '辆',
style:styles.lastField,
onPress:this._showMaxCarsPicker})),


React.createElement(View,{style:[styles.section,styles.formGroup,{paddingLeft:0}]},
React.createElement(RouteField,{onPress:this._editRouteMap}),
React.createElement(SimpleField,{
multiline:true,
label:labels.routeDesc,
style:[styles.lastField,{paddingLeft:16}],
value:this.state.routeDesc,
onPress:this._editText('routeDesc')})),


React.createElement(View,{style:[styles.section,styles.formGroup]},
this._renderMultilineField('partnerRequirements'),
this._renderMultilineField('equipementRequirements'),
this._renderMultilineField('costDesc'),
this._renderMultilineField('riskPrompt',true))));},





_renderMultilineField:function(key,last){
return (
React.createElement(SimpleField,{
multiline:true,
label:labels[key],
style:last?styles.lastField:null,
value:this.state[key],
onPress:this._editText(key)}));}});




var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


row:{
flexDirection:'row',
alignItems:'center'},


section:{
marginBottom:20},


formGroup:{
backgroundColor:'white',
paddingLeft:8,
borderTopWidth:1,
borderTopColor:stylesVar('dark-light'),
borderBottomWidth:1,
borderBottomColor:stylesVar('dark-light')},


label:{
width:90,
color:stylesVar('dark-mid')},


lastField:{
borderBottomWidth:0}});



var EventEmitter=require('EventEmitter');
var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

ActivityFormSummaryRoute=(function(_BaseRouteMapper){_inherits(ActivityFormSummaryRoute,_BaseRouteMapper);_createClass(ActivityFormSummaryRoute,[{key:'style',get:

function(){
return {
backgroundColor:stylesVar('brand-primary')};}},{key:'title',get:



function(){
return '活动信息确认';}}]);


function ActivityFormSummaryRoute(data){_classCallCheck(this,ActivityFormSummaryRoute);
_get(Object.getPrototypeOf(ActivityFormSummaryRoute.prototype),'constructor',this).call(this);
this.data = data;
this.emitter = new EventEmitter();}_createClass(ActivityFormSummaryRoute,[{key:'renderLeftButton',value:


function renderLeftButton(route,navigator,index,navState){var _this2=this;
var styles=this.styles;
return (
React.createElement(View,{style:styles.wrap},
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:function(){return navigator.pop();}},
React.createElement(Image,{style:[styles.navBarLeftButton,{margin:0}],
source:icons.back})),

React.createElement(TouchableOpacity,{
style:{marginLeft:5},
onPress:function(){return _this2.emitter.emit('cancel');},
activeOpacity:0.8},
React.createElement(Text,{style:[styles.navBarText,{height:16,margin:0}]},'取消'))));}},{key:'renderRightButton',value:






function renderRightButton(route,navigator,index,navState){
return React.cloneElement(this._renderRightButton('发布'),{
onPress:this._publish.bind(this)});}},{key:'renderScene',value:



function renderScene(){
return React.createElement(ActivityFormSummaryScene,{data:this.data,events:this.emitter});}},{key:'_publish',value:


function _publish(){
this.emitter.emit('publish');}}]);return ActivityFormSummaryRoute;})(BaseRouteMapper);



module.exports = ActivityFormSummaryRoute;
});
__d('AwesomeProject/src/Dispatcher.js',function(global, require, module, exports) {  var EventEmitter=require('EventEmitter');

module.exports = new EventEmitter();
});
__d('AwesomeProject/src/FriendsTab.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var moment=require('moment/moment.js');
var shortid=require('shortid/index.js');
var React=require('react-native/Libraries/react-native/react-native.js');var 


View=







React.View;var Image=React.Image;var ListView=React.ListView;var PixelRatio=React.PixelRatio;var Text=React.Text;var TextInput=React.TextInput;var TouchableOpacity=React.TouchableOpacity;var StyleSheet=React.StyleSheet;var _require=



require('AwesomeProject/src/widgets/index.js');var BaseText=_require.BaseText;


var Text=BaseText;

var icons=require('AwesomeProject/src/icons.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var su=require('AwesomeProject/src/styleUtils.js');

var clientId='hello';

var ConversationListView=React.createClass({

displayName:'ConversationListView',

getInitialState:function(){
return {
dataSource:new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}})};},




componentDidMount:function(){
var dataSource=this.state.dataSource.cloneWithRows([{
nickname:'hello',
message:'Anywhere you are, I am near. Anytime you whisper my name, you\'ll see. How every single promise I keep.',
time:new Date(),
avatar:icons.avatarPlaceholder},
{
nickname:'hello',
message:'what?',
time:new Date(2015,10,11),
avatar:icons.avatarPlaceholder},
{
nickname:'hello',
message:'what?',
time:new Date(2015,9,10),
avatar:icons.avatarPlaceholder}]);


this.setState({
dataSource:dataSource});},



_isToday:function(date){
var today=moment().startOf('day');
var messageDay=moment(date).startOf('day');
return today.diff(messageDay) === 0;},


_isYesterday:function(date){
var yesterday=moment().startOf('day').subtract(1,'days');
var messageDay=moment(date).startOf('day');
return yesterday.diff(messageDay) === 0;},


_getMessageDate:function(date){
if(this._isToday(date)){
return moment(date).format('HH:mm');}else 
if(this._isYesterday(date)){
return '昨天 ' + moment(date).format('HH:mm');}else 
{
return moment(date).format('YY/MM/DD');}},



_renderItem:function(conv){
return (
React.createElement(View,{style:[styles.row,styles.conv]},
React.createElement(Image,{style:styles.avatar,source:conv.avatar}),
React.createElement(View,null,
React.createElement(Text,null,conv.nickname),
React.createElement(Text,{numberOfLines:1,
style:styles.message},
conv.message)),


React.createElement(Text,{style:styles.time},this._getMessageDate(conv.time))));},




_renderSeparator:function(sectionID,rowID,adjacentRowHighlighted){
return (
React.createElement(View,{style:styles.separator}));},



render:function(){
return (
React.createElement(ListView,{
dataSource:this.state.dataSource,
renderSeparator:this._renderSeparator,
renderRow:this._renderItem}));}});




var FriendsTab=React.createClass({

displayName:'FriendsTab',

getInitialState:function(){
this.route = new Route();
return {};},


componentDidMount:function(){},



render:function(){
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(ConversationListView,null)));}});





var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('bg-gray')},


avatar:_extends({},
su.size(40),{
marginRight:16,
borderRadius:16}),


separator:{
height:1 / PixelRatio.get(),
backgroundColor:stylesVar('dark-light')},


conv:{
padding:16},


row:{
flexDirection:'row'},


message:{
overflow:'hidden',
color:stylesVar('dark-mid')},


time:{
fontSize:10,
color:stylesVar('dark-mid'),
position:'absolute',
top:18,
right:10}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var EventEmitter=require('EventEmitter');var 

Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);function Route(){_classCallCheck(this,Route);_get(Object.getPrototypeOf(Route.prototype),'constructor',this).apply(this,arguments);}_createClass(Route,[{key:'renderScene',value:





function renderScene(){
return (
React.createElement(FriendsTab,null));}},{key:'renderLeftButton',value:



function renderLeftButton(route,navigator,index,navState){
var styles=this.styles;
var icon=_extends({},
su.size(17,22));


var ContactRoute=require('AwesomeProject/src/friends/ContactScene.js');

return (
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
onPress:function(){return navigator.push(new ContactRoute());},
style:[styles.wrap,styles.left]},
React.createElement(Image,{style:icon,source:icons.contact})));}},{key:'renderRightButton',value:




function renderRightButton(route,navigator,index,navState){
var styles=this.styles;
var icon=_extends({},
su.size(18,18));


return (
React.createElement(TouchableOpacity,{
activeOpacity:0.8,
style:[styles.wrap,styles.right]},
React.createElement(Image,{style:icon,source:icons.plusConv})));}},{key:'title',get:function(){return '朋友';}}]);return Route;})(BaseRouteMapper);



;

module.exports = FriendsTab;
});
__d('AwesomeProject/src/friends/ContactScene.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


Animated=








React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var ListView=React.ListView;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Image=React.Image;var View=React.View;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var userApi=require('AwesomeProject/src/api/index.js').user;var _require=






require('AwesomeProject/src/widgets/index.js');var Line=_require.Line;var LettersView=_require.LettersView;var BaseText=_require.BaseText;var BaseTextInput=_require.BaseTextInput;var BaseTouchableOpacity=_require.BaseTouchableOpacity;


var Text=BaseText;
var TextInput=BaseTextInput;
var TouchableOpacity=BaseTouchableOpacity;

var ContactItem=require('AwesomeProject/src/friends/ContactItem.js');
var GroupContact=require('AwesomeProject/src/friends/GroupContactScene.js');

var debug=require('AwesomeProject/src/debug.js');
var log=debug('Contact:log');
var warn=debug('Contact:warn');
var error=debug('Contact:error');

var DATA={
'top':[{
name:'search'},
{
name:'circle'},
{
name:'group'}],


'A':[{
name:'Allen'},
{
name:'Allen'},
{
name:'Allen'},
{
name:'Allen'},
{
name:'Allen'}],


'B':[{
name:'Byron'}],


'C':[{
name:'Chris'}],


'D':[{
name:'Dante'}],


'E':[{
name:'Elina'}],


'F':[{
name:'Franky'}],


'G':[{
name:'GameBoy'}],


'H':[{
name:'Hitler'}],


'I':[{
name:'Ivy'}],


'J':[{
name:'Jack'}],


'K':[{
name:'Kitty'}],


'L':[{
name:'Lucky'}],


'M':[{
name:'Moledy'}],


'N':[{
name:'Nancy'}]};



var ContactScene=React.createClass({displayName:'ContactScene',

getInitialState:function(){
var dataSource=new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;},
sectionHeaderHasChanged:function(section1,section2){return section1 !== section2;}});


return {
dataSource:dataSource};},



componentDidMount:function(){
var dataSource=this.state.dataSource;
dataSource = dataSource.cloneWithRowsAndSections(DATA,Object.keys(DATA),null);

this.setState({
data:DATA,
dataSource:dataSource});},



_renderSearchBar:function(){
return (
React.createElement(View,{style:styles.item},
React.createElement(Image,{
source:icons.search,
resizeMode:'contain',
style:_extends({},su.size(24,18))}),
React.createElement(TextInput,{
style:[styles.searchInput,styles.name],
placeholder:'搜索'})));},




_toCircleContacts:function(){
this.props.navigator.push(new GroupContact({
circle:true}));},



_toGroupContacts:function(){
this.props.navigator.push(new GroupContact());},


_renderCircleItem:function(){
return (
React.createElement(TouchableOpacity,{
onPress:this._toCircleContacts,
style:styles.item},
React.createElement(Image,{
source:icons.circle,
style:_extends({},su.size(24))}),
React.createElement(Text,{style:styles.name},'圈子')));},




_renderGroupItem:function(){
return (
React.createElement(TouchableOpacity,{
onPress:this._toGroupContacts,
style:styles.item},
React.createElement(Image,{
source:icons.group,
style:_extends({},su.size(24))}),
React.createElement(Text,{style:styles.name},'群聊')));},




_renderRow:function(item,sectionID,rowID,highlightRow){
if(sectionID !== 'top'){
return React.createElement(ContactItem,{item:item});}


if(item.name === 'search'){
return this._renderSearchBar();}else 
if(item.name === 'circle'){
return this._renderCircleItem();}else 
if(item.name === 'group'){
return this._renderGroupItem();}},



_renderSectionHeader:function(sectionData,sectionID){
if(sectionID === 'top'){
return null;}


return (
React.createElement(View,{style:styles.sectionHeader},
React.createElement(Text,null,sectionID)));},




_renderSeparator:function(sectionID){
return (
React.createElement(View,{style:{paddingLeft:sectionID === 'top'?0:8}},
React.createElement(Line,null)));},




_handleLetterPress:function(letter){var _this=this;

var data=this.state.data;

console.log(letter);
var index=LettersView.LETTERS.indexOf(letter);
var dataByLetter=this.state.data[letter];
while(index >= 0 && !dataByLetter) {
index--;
letter = LettersView.LETTERS[index];
dataByLetter = this.state.data[letter];}


if(!dataByLetter){
return warn('no data of letter');}


var offsetY=0;
for(var i=0;i < index;i++) {

offsetY += 30;
var letter=LettersView.LETTERS[i];
var dataByLetter=data[letter];
offsetY += dataByLetter.length * 45 + (dataByLetter.length - 1) * Line.HEIGHT;}


offsetY += 3 * (45 + Line.HEIGHT);

console.log(letter,index,offsetY);
this.refs.content.measure(function(fx,fy,width,height,px,py){
console.log(fx,fy,width,height,px,py);
var scrollHeight=_this._getScrollHeight();
offsetY = Math.min(scrollHeight - height,offsetY);
_this.refs.listview.getScrollResponder().scrollWithoutAnimationTo(offsetY);});},



_getScrollHeight:function(){
var data=this.state.data;
var height=0;
for(var i=0;i < LettersView.LETTERS.length;i++) {
var letter=LettersView.LETTERS[i];
var dataByLetter=data[letter];
if(dataByLetter){
height += 30;
height += dataByLetter.length * 45 + (dataByLetter.length - 1) * Line.HEIGHT;}}



return height + 3 * 45 + 2 * Line.HEIGHT;},


render:function(){var _this2=this;
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(View,{ref:'content',style:styles.container},
React.createElement(ListView,{
ref:'listview',
renderSectionHeader:this._renderSectionHeader,
renderSeparator:this._renderSeparator,
renderRow:this._renderRow,
dataSource:this.state.dataSource}),

React.createElement(View,{style:styles.letters},
React.createElement(LettersView,{
ref:function(v){return _this2.lettersView = v;},
onLetterPress:this._handleLetterPress})))));}});







var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:stylesVar('dark-lighter')},


avatar:_extends({
borderRadius:12.5},
su.size(25)),


name:{
marginLeft:5},


item:{
backgroundColor:'white',
flexDirection:'row',
alignItems:'center',
paddingLeft:16,
height:45},


searchInput:{
flex:1},


sectionHeader:{
flexDirection:'row',
alignItems:'center',
backgroundColor:stylesVar('dark-lighter'),
paddingLeft:16,
height:30},


letters:{
position:'absolute',
backgroundColor:'transparent',
justifyContent:'center',
top:0,
right:0,
bottom:0}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);function Route(){_classCallCheck(this,Route);_get(Object.getPrototypeOf(Route.prototype),'constructor',this).apply(this,arguments);}_createClass(Route,[{key:'renderLeftButton',value:





function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderScene',value:


function renderScene(){
return (
React.createElement(ContactScene,null));}},{key:'renderRightButton',value:



function renderRightButton(route,navigator,index,navState){
var styles=this.styles;
var icon=_extends({},
su.size(18,18));


return (
React.createElement(TouchableOpacity,{
style:[styles.wrap,styles.right]},
React.createElement(Image,{
style:icon,
source:icons.plusConv})));}},{key:'title',get:function(){return '通讯录';}}]);return Route;})(BaseRouteMapper);





module.exports = Route;
});
__d('AwesomeProject/src/friends/GroupContactScene.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};var _extends=Object.assign || function(target){for(var i=1;i < arguments.length;i++) {var source=arguments[i];for(var key in source) {if(Object.prototype.hasOwnProperty.call(source,key)){target[key] = source[key];}}}return target;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

Animated=








React.Animated;var ActivityIndicatorIOS=React.ActivityIndicatorIOS;var ListView=React.ListView;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var PixelRatio=React.PixelRatio;var ScrollView=React.ScrollView;var Image=React.Image;var View=React.View;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;

var icons=require('AwesomeProject/src/icons.js');
var su=require('AwesomeProject/src/styleUtils.js');
var stylesVar=require('AwesomeProject/src/stylesVar.js');
var activityApi=require('AwesomeProject/src/api/index.js').activity;
var userApi=require('AwesomeProject/src/api/index.js').user;var _require=






require('AwesomeProject/src/widgets/index.js');var Line=_require.Line;var LettersView=_require.LettersView;var BaseText=_require.BaseText;var BaseTextInput=_require.BaseTextInput;var BaseTouchableOpacity=_require.BaseTouchableOpacity;

var ContactItem=require('AwesomeProject/src/friends/ContactItem.js');


var Text=BaseText;
var TextInput=BaseTextInput;
var TouchableOpacity=BaseTouchableOpacity;

var debug=require('AwesomeProject/src/debug.js');
var log=debug('Contact:log');
var warn=debug('Contact:warn');
var error=debug('Contact:error');

var data=[{
name:'云南行圈子'},
{
name:'四川行圈子'}];


var GroupContactScene=React.createClass({displayName:'GroupContactScene',

getInitialState:function(){
var dataSource=new ListView.DataSource({
rowHasChanged:function(row1,row2){return row1 !== row2;}});


return {
dataSource:dataSource};},



componentDidMount:function(){
var dataSource=this.state.dataSource;
dataSource = dataSource.cloneWithRows(data);
this.setState({
dataSource:dataSource});},



_renderRow:function(item,sectionID,rowID,highlightRow){
return React.createElement(ContactItem,{item:item});},


_renderSeparator:function(){
return (
React.createElement(View,{style:{paddingLeft:8}},
React.createElement(Line,null)));},




render:function(){
return (
React.createElement(View,{style:[styles.container,this.props.style]},
React.createElement(View,{ref:'content',style:styles.container},
React.createElement(ListView,{
ref:'listview',
renderSeparator:this._renderSeparator,
renderRow:this._renderRow,
dataSource:this.state.dataSource}))));}});






var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#fff'},


avatar:_extends({
borderRadius:12.5},
su.size(25)),


name:{
marginLeft:5},


item:{
flexDirection:'row',
alignItems:'center',
paddingLeft:16,
height:45},


icon:_extends({},
su.size(18))});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 

Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);

function Route(params){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);
params = params || {};
this.params = params;}_createClass(Route,[{key:'renderLeftButton',value:






function renderLeftButton(route,navigator,index,navState){
return this._renderBackButton(route,navigator,index,navState);}},{key:'renderRightButton',value:


function renderRightButton(route,navigator,index,navState){
var styles=this.styles;
var icon=_extends({},
su.size(18,18));


return (
React.createElement(TouchableOpacity,{
style:[styles.wrap,styles.right]},
React.createElement(Image,{style:icon,source:icons.plusConv})));}},{key:'renderScene',value:




function renderScene(){
return (
React.createElement(GroupContactScene,null));}},{key:'title',get:function(){return this.params.circle?'圈子':'群聊';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/src/RecordJourneyChooseActivity.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=






React.StyleSheet;var TouchableOpacity=React.TouchableOpacity;var View=React.View;var Text=React.Text;var Image=React.Image;var ScrollView=React.ScrollView;var Dimensions=React.Dimensions;

var deviceWidth=Dimensions.get('window').width;
var RecordJourneyChoosePhoto=require('AwesomeProject/src/RecordJourneyChoosePhoto.js');

var RecordJourneyChooseActivity=React.createClass({displayName:'RecordJourneyChooseActivity',
getInitialState:function(){
return {
datas:[]};},



_gotoNext:function(){
this.props.navigator.push(new RecordJourneyChoosePhoto());},


componentDidMount:function(){
this.setState({
datas:[{
title:'GO!一起去草原撒野',
date:'9月1日-9月12日'},
{
title:'GO!一起去草原撒野',
date:'9月1日-9月12日'},
{
title:'GO!一起去草原撒野',
date:'9月1日-9月12日'}]});},




render:function(){
return (
React.createElement(View,{style:styles.container},
React.createElement(ScrollView,{style:styles.scrollContainer},
this.state.datas.map((function(item,index){
return (
React.createElement(TouchableOpacity,{activeOpacity:0.9,
onPress:this._gotoNext},
React.createElement(Image,{source:{uri:'http://f.hiphotos.baidu.com/image/pic/item/b64543a98226cffc9b70f24dba014a90f703eaf3.jpg'},
style:styles.imageBg},
React.createElement(Text,{style:styles.titleText},item.title),
React.createElement(Text,{style:styles.dateText},item.date))));}).



bind(this)))));}});






var styles=StyleSheet.create({
container:{
flex:1,
backgroundColor:'#f3f5f6'},


scrollContainer:{
position:'absolute',
top:64,
left:0,
right:0,
bottom:0,
backgroundColor:'#f3f5f6'},


imageBg:{
width:deviceWidth,
height:180,
flex:1,
flexDirection:'column',
alignItems:'center',
justifyContent:'center'},


titleText:{
color:'#fff',
fontSize:22,
marginBottom:11,
backgroundColor:'transparent'},


dateText:{
color:'#fff',
fontSize:13,
backgroundColor:'transparent'}});



var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');var 
Route=(function(_BaseRouteMapper){_inherits(Route,_BaseRouteMapper);
function Route(){_classCallCheck(this,Route);
_get(Object.getPrototypeOf(Route.prototype),'constructor',this).call(this);}_createClass(Route,[{key:'renderLeftButton',value:


function renderLeftButton(){
return this._renderBackButton.apply(this,arguments);}},{key:'renderRightButton',value:






function renderRightButton(route,navigator,index,navState){
var styles=StyleSheet.create({
rightView:{
flex:1,
justifyContent:'center',
alignItems:'center'},


rightText:{
fontSize:13,
color:'#fff',
marginRight:15}});



return (
React.createElement(TouchableOpacity,{style:styles.rightView,onPress:function(){return navigator.push(new RecordJourneyChoosePhoto());}},
React.createElement(Text,{style:styles.rightText},'跳过')));}},{key:'renderScene',value:




function renderScene(){
return (
React.createElement(RecordJourneyChooseActivity,null));}},{key:'title',get:function(){return '选择一次活动';}}]);return Route;})(BaseRouteMapper);




module.exports = Route;
});
__d('AwesomeProject/img/signin-bg.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":750,"height":1334,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/signin-bg.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"signin-bg","type":"png"});
});
__d('AwesomeProject/img/user-icon.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":30,"height":30,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/user-icon.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"user-icon","type":"png"});
});
__d('AwesomeProject/img/password-icon.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":24,"height":35,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/password-icon.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"password-icon","type":"png"});
});
__d('AwesomeProject/img/wechat-icon.png',function(global, require, module, exports) {  module.exports = require("AssetRegistry").registerAsset({"__packager_asset":true,"fileSystemLocation":"/Users/yangchen/Labs/travelling-app/img","httpServerLocation":"/assets/img","width":120,"height":120,"scales":[1],"files":["/Users/yangchen/Labs/travelling-app/img/wechat-icon.png"],"hash":"e77d1cdc13ba016b4cc79d7f29fa0532","name":"wechat-icon","type":"png"});
});
__d('AwesomeProject/ModalExample.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');var 

Modal=





React.Modal;var StyleSheet=React.StyleSheet;var SwitchIOS=React.SwitchIOS;var Text=React.Text;var TouchableHighlight=React.TouchableHighlight;var View=React.View;

var Button=React.createClass({displayName:'Button',
getInitialState:function(){
return {
active:false};},



_onHighlight:function(){
this.setState({active:true});},


_onUnhighlight:function(){
this.setState({active:false});},


render:function(){
var colorStyle={
color:this.state.active?'#fff':'#000'};

return (
React.createElement(TouchableHighlight,{
onHideUnderlay:this._onUnhighlight,
onPress:this.props.onPress,
onShowUnderlay:this._onHighlight,
style:[styles.button,this.props.style],
underlayColor:'#a9d9d4'},
React.createElement(Text,{style:[styles.buttonText,colorStyle]},this.props.children)));}});





var ModalExample=React.createClass({displayName:'ModalExample',
getInitialState:function(){
return {
animated:true,
modalVisible:false,
transparent:true};},



_setModalVisible:function(visible){
this.setState({modalVisible:visible});},


_toggleAnimated:function(){
this.setState({animated:!this.state.animated});},


_toggleTransparent:function(){
this.setState({transparent:!this.state.transparent});},


render:function(){
var modalBackgroundStyle={
backgroundColor:this.state.transparent?'rgba(0, 0, 0, 0.5)':'#f5fcff'};

var innerContainerTransparentStyle=this.state.transparent?
{backgroundColor:'#fff',padding:20}:
null;

return (
React.createElement(View,null,
React.createElement(Modal,{
animated:this.state.animated,
transparent:this.state.transparent,
visible:this.state.modalVisible},
React.createElement(View,{style:[styles.container,modalBackgroundStyle]},
React.createElement(View,{style:[styles.innerContainer,innerContainerTransparentStyle]},
React.createElement(Text,null,'This modal was presented ',this.state.animated?'with':'without',' animation.'),
React.createElement(Button,{
onPress:this._setModalVisible.bind(this,false),
style:styles.modalButton},'Close')))),






React.createElement(View,{style:styles.row},
React.createElement(Text,{style:styles.rowTitle},'Animated'),
React.createElement(SwitchIOS,{value:this.state.animated,onValueChange:this._toggleAnimated})),


React.createElement(View,{style:styles.row},
React.createElement(Text,{style:styles.rowTitle},'Transparent'),
React.createElement(SwitchIOS,{value:this.state.transparent,onValueChange:this._toggleTransparent})),


React.createElement(Button,{onPress:this._setModalVisible.bind(this,true)},'Present')));}});







var styles=StyleSheet.create({
container:{
flex:1,
justifyContent:'center',
padding:20},

innerContainer:{
borderRadius:10},

row:{
alignItems:'center',
flex:1,
flexDirection:'row',
marginBottom:20},

rowTitle:{
flex:1,
fontWeight:'bold'},

button:{
borderRadius:5,
flex:1,
height:44,
justifyContent:'center',
overflow:'hidden'},

buttonText:{
fontSize:18,
margin:5,
textAlign:'center'},

modalButton:{
marginTop:10}});




module.exports = ModalExample;
});
__d('AwesomeProject/src/Onboarding.js',function(global, require, module, exports) {  var _createClass=(function(){function defineProperties(target,props){for(var i=0;i < props.length;i++) {var descriptor=props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if('value' in descriptor)descriptor.writable = true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _get=function get(object,property,receiver){if(object === null)object = Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc === undefined){var parent=Object.getPrototypeOf(object);if(parent === null){return undefined;}else {return get(parent,property,receiver);}}else if('value' in desc){return desc.value;}else {var getter=desc.get;if(getter === undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}function _inherits(subClass,superClass){if(typeof superClass !== 'function' && superClass !== null){throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__ = superClass;}var React=require('react-native/Libraries/react-native/react-native.js');var 

AsyncStorage=




React.AsyncStorage;var StyleSheet=React.StyleSheet;var Dimensions=React.Dimensions;var View=React.View;var Image=React.Image;

var deviceWidth=Dimensions.get('window').width;
var deviceHeight=Dimensions.get('window').height;
var BaseRouteMapper=require('AwesomeProject/src/BaseRouteMapper.js');
var ViewPager=require('react-native-viewpager/ViewPager.js');
var Button=require('AwesomeProject/src/widgets/index.js').Button;
var HomePage=require('AwesomeProject/src/HomePage.js');

var icons=require('AwesomeProject/src/icons.js');
var store=require('AwesomeProject/src/store.js');var _require=


require('AwesomeProject/src/actions/index.js');var updateSession=_require.updateSession;

var IMGS=[
icons.page1,
icons.page2,
icons.page3];


var Onboarding=React.createClass({displayName:'Onboarding',
render:function(){

var dataSource=new ViewPager.DataSource({
pageHasChanged:function(p1,p2){return p1 !== p2;}});


return (
React.createElement(ViewPager,{
dataSource:dataSource.cloneWithPages(IMGS),
renderPage:this._renderPage}));},



_onStart:function(){
var userstamp=Date.now();
AsyncStorage.setItem('userstamp',String(userstamp)).catch(function(e){
console.trace(e);});


store.dispatch(updateSession({
userstamp:userstamp}));},



_renderPage:function(data,pageID){
return (
React.createElement(Image,{source:data,style:styles.page},
pageID == IMGS.length - 1 && 
React.createElement(View,{style:styles.buttonWrap},
React.createElement(Button,{style:styles.button,onPress:this._onStart},'马上出发'))));}});






var styles=StyleSheet.create({
page:{
width:deviceWidth,
height:deviceHeight},

buttonWrap:{
backgroundColor:'transparent',
position:'absolute',
bottom:40,
left:0,
right:0,
justifyContent:'center',
flexDirection:'row'},

button:{
borderWidth:1,
borderColor:'#fff',
width:200,
textAlign:'center',
borderRadius:6}});var 



OnboardingRoute=(function(_BaseRouteMapper){_inherits(OnboardingRoute,_BaseRouteMapper);function OnboardingRoute(){_classCallCheck(this,OnboardingRoute);_get(Object.getPrototypeOf(OnboardingRoute.prototype),'constructor',this).apply(this,arguments);}_createClass(OnboardingRoute,[{key:'renderScene',value:






function renderScene(navigator){
return React.createElement(Onboarding,null);}},{key:'style',get:function(){return {opacity:0};}}]);return OnboardingRoute;})(BaseRouteMapper);



module.exports = OnboardingRoute;
});
__d('AwesomeProject/src/config.js',function(global, require, module, exports) {  module.exports = {};
});
__d('CustomNavBar',function(global, require, module, exports) {  'use strict';



























var React=require('React');
var NavigatorNavigationBarStyles=require('CustomNavigatorNavigationBarStyles');
var StaticContainer=require('StaticContainer.react');
var StyleSheet=require('StyleSheet');
var View=require('View');var _require=

require('immutable/dist/immutable.js');var Map=_require.Map;

var COMPONENT_NAMES=['Title','LeftButton','RightButton'];

var navStatePresentedIndex=function(navState){
if(navState.presentedIndex !== undefined){
return navState.presentedIndex;}


return navState.observedTopOfStack;};


var NavBar=React.createClass({displayName:'NavBar',

propTypes:{
navigator:React.PropTypes.object,
routeMapper:React.PropTypes.shape({
Title:React.PropTypes.func.isRequired,
LeftButton:React.PropTypes.func.isRequired,
RightButton:React.PropTypes.func.isRequired}).
isRequired,
navState:React.PropTypes.shape({
routeStack:React.PropTypes.arrayOf(React.PropTypes.object),
presentedIndex:React.PropTypes.number}),

style:View.propTypes.style},


statics:{
Styles:NavigatorNavigationBarStyles},


componentWillMount:function(){var _this=this;
this._components = {};
this._descriptors = {};

COMPONENT_NAMES.forEach(function(componentName){
_this._components[componentName] = new Map();
_this._descriptors[componentName] = new Map();});},



_getReusableProps:function(
componentName,
index)
{
if(!this._reusableProps){
this._reusableProps = {};}

var propStack=this._reusableProps[componentName];
if(!propStack){
propStack = this._reusableProps[componentName] = [];}

var props=propStack[index];
if(!props){
props = propStack[index] = {style:{}};}

return props;},


_updateIndexProgress:function(
progress,
index,
fromIndex,
toIndex)
{
var amount=toIndex > fromIndex?progress:1 - progress;
var oldDistToCenter=index - fromIndex;
var newDistToCenter=index - toIndex;
var interpolate;
if(oldDistToCenter > 0 && newDistToCenter === 0 || 
newDistToCenter > 0 && oldDistToCenter === 0){
interpolate = NavigatorNavigationBarStyles.Interpolators.RightToCenter;}else 
if(oldDistToCenter < 0 && newDistToCenter === 0 || 
newDistToCenter < 0 && oldDistToCenter === 0){
interpolate = NavigatorNavigationBarStyles.Interpolators.CenterToLeft;}else 
if(oldDistToCenter === newDistToCenter){
interpolate = NavigatorNavigationBarStyles.Interpolators.RightToCenter;}else 
{
interpolate = NavigatorNavigationBarStyles.Interpolators.RightToLeft;}


COMPONENT_NAMES.forEach(function(componentName){
var component=this._components[componentName].get(this.props.navState.routeStack[index]);
var props=this._getReusableProps(componentName,index);
if(component && interpolate[componentName](props.style,amount)){
component.setNativeProps(props);}},

this);},


updateProgress:function(
progress,
fromIndex,
toIndex)
{
var max=Math.max(fromIndex,toIndex);
var min=Math.min(fromIndex,toIndex);
for(var index=min;index <= max;index++) {
this._updateIndexProgress(progress,index,fromIndex,toIndex);}},



render:function(){
var navState=this.props.navState;
var components=COMPONENT_NAMES.map(function(componentName){
return navState.routeStack.map(
this._getComponent.bind(this,componentName));},

this);

var routeMapper=this.props.routeMapper;

var routeStack=this.props.navState.routeStack;
var style=routeMapper.Style(routeStack[routeStack.length - 1]);
return (
React.createElement(View,{style:[styles.navBarContainer,this.props.style,style]},
components));},




_getComponent:function(
componentName,
route,
index)
{var _this2=this;
if(this._descriptors[componentName].includes(route)){
return this._descriptors[componentName].get(route);}


var rendered=null;

var content=this.props.routeMapper[componentName](
this.props.navState.routeStack[index],
this.props.navigator,
index,
this.props.navState);

if(!content){
return null;}


var initialStage=index === navStatePresentedIndex(this.props.navState)?
NavigatorNavigationBarStyles.Stages.Center:NavigatorNavigationBarStyles.Stages.Left;
rendered = 
React.createElement(View,{
ref:function(ref){
_this2._components[componentName] = _this2._components[componentName].set(route,ref);},

style:initialStage[componentName]},
content);



this._descriptors[componentName] = this._descriptors[componentName].set(route,rendered);
return rendered;}});



var styles=StyleSheet.create({
navBarContainer:{
position:'absolute',
height:NavigatorNavigationBarStyles.General.TotalNavHeight,
top:0,
left:0,
right:0,
backgroundColor:'transparent'}});



module.exports = NavBar;
});
__d('CustomNavigatorNavigationBarStyles',function(global, require, module, exports) {  'use strict';



























var Dimensions=require('Dimensions');

var buildStyleInterpolator=require('buildStyleInterpolator');
var merge=require('merge');

var SCREEN_WIDTH=Dimensions.get('window').width;
var NAV_BAR_HEIGHT=44;
var STATUS_BAR_HEIGHT=20;
var NAV_HEIGHT=NAV_BAR_HEIGHT + STATUS_BAR_HEIGHT;

var BASE_STYLES={
Title:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
right:0,
alignItems:'center',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

LeftButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
left:0,
overflow:'hidden',
opacity:1,
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'},

RightButton:{
position:'absolute',
top:STATUS_BAR_HEIGHT,
right:0,
overflow:'hidden',
opacity:1,
alignItems:'flex-end',
height:NAV_BAR_HEIGHT,
backgroundColor:'transparent'}};










var Stages={
Left:{
Title:merge(BASE_STYLES.Title,{opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:0}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:0})},

Center:{
Title:merge(BASE_STYLES.Title,{opacity:1}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:1}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:1})},

Right:{
Title:merge(BASE_STYLES.Title,{opacity:0}),
LeftButton:merge(BASE_STYLES.LeftButton,{opacity:0}),
RightButton:merge(BASE_STYLES.RightButton,{opacity:0})}};




var opacityRatio=100;

function buildSceneInterpolators(startStyles,endStyles){
return {
Title:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.Title.opacity,
to:endStyles.Title.opacity,
min:0,
max:1},

left:{
type:'linear',
from:startStyles.Title.left,
to:endStyles.Title.left,
min:0,
max:1,
extrapolate:true}}),


LeftButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.LeftButton.opacity,
to:endStyles.LeftButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.LeftButton.left,
to:endStyles.LeftButton.left,
min:0,
max:1}}),


RightButton:buildStyleInterpolator({
opacity:{
type:'linear',
from:startStyles.RightButton.opacity,
to:endStyles.RightButton.opacity,
min:0,
max:1,
round:opacityRatio},

left:{
type:'linear',
from:startStyles.RightButton.left,
to:endStyles.RightButton.left,
min:0,
max:1,
extrapolate:true}})};}





var Interpolators={

RightToCenter:buildSceneInterpolators(Stages.Right,Stages.Center),

CenterToLeft:buildSceneInterpolators(Stages.Center,Stages.Left),

RightToLeft:buildSceneInterpolators(Stages.Right,Stages.Left)};



module.exports = {
General:{
NavBarHeight:NAV_BAR_HEIGHT,
StatusBarHeight:STATUS_BAR_HEIGHT,
TotalNavHeight:NAV_HEIGHT},

Interpolators:Interpolators,
Stages:Stages};
});
__d('immutable/dist/immutable.js',function(global, require, module, exports) {  (







function(global,factory){
typeof exports === 'object' && typeof module !== 'undefined'?module.exports = factory():
typeof define === 'function' && define.amd?define(factory):
global.Immutable = factory();})(
this,function(){'use strict';var SLICE$0=Array.prototype.slice;

function createClass(ctor,superClass){
if(superClass){
ctor.prototype = Object.create(superClass.prototype);}

ctor.prototype.constructor = ctor;}



var DELETE='delete';


var SHIFT=5;
var SIZE=1 << SHIFT;
var MASK=SIZE - 1;



var NOT_SET={};


var CHANGE_LENGTH={value:false};
var DID_ALTER={value:false};

function MakeRef(ref){
ref.value = false;
return ref;}


function SetRef(ref){
ref && (ref.value = true);}





function OwnerID(){}


function arrCopy(arr,offset){
offset = offset || 0;
var len=Math.max(0,arr.length - offset);
var newArr=new Array(len);
for(var ii=0;ii < len;ii++) {
newArr[ii] = arr[ii + offset];}

return newArr;}


function ensureSize(iter){
if(iter.size === undefined){
iter.size = iter.__iterate(returnTrue);}

return iter.size;}


function wrapIndex(iter,index){







if(typeof index !== 'number'){
var numIndex=+index;
if('' + numIndex !== index){
return NaN;}

index = numIndex;}

return index < 0?ensureSize(iter) + index:index;}


function returnTrue(){
return true;}


function wholeSlice(begin,end,size){
return (begin === 0 || size !== undefined && begin <= -size) && (
end === undefined || size !== undefined && end >= size);}


function resolveBegin(begin,size){
return resolveIndex(begin,size,0);}


function resolveEnd(end,size){
return resolveIndex(end,size,size);}


function resolveIndex(index,size,defaultIndex){
return index === undefined?
defaultIndex:
index < 0?
Math.max(0,size + index):
size === undefined?
index:
Math.min(size,index);}


function Iterable(value){
return isIterable(value)?value:Seq(value);}



createClass(KeyedIterable,Iterable);
function KeyedIterable(value){
return isKeyed(value)?value:KeyedSeq(value);}



createClass(IndexedIterable,Iterable);
function IndexedIterable(value){
return isIndexed(value)?value:IndexedSeq(value);}



createClass(SetIterable,Iterable);
function SetIterable(value){
return isIterable(value) && !isAssociative(value)?value:SetSeq(value);}




function isIterable(maybeIterable){
return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);}


function isKeyed(maybeKeyed){
return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);}


function isIndexed(maybeIndexed){
return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);}


function isAssociative(maybeAssociative){
return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);}


function isOrdered(maybeOrdered){
return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);}


Iterable.isIterable = isIterable;
Iterable.isKeyed = isKeyed;
Iterable.isIndexed = isIndexed;
Iterable.isAssociative = isAssociative;
Iterable.isOrdered = isOrdered;

Iterable.Keyed = KeyedIterable;
Iterable.Indexed = IndexedIterable;
Iterable.Set = SetIterable;


var IS_ITERABLE_SENTINEL='@@__IMMUTABLE_ITERABLE__@@';
var IS_KEYED_SENTINEL='@@__IMMUTABLE_KEYED__@@';
var IS_INDEXED_SENTINEL='@@__IMMUTABLE_INDEXED__@@';
var IS_ORDERED_SENTINEL='@@__IMMUTABLE_ORDERED__@@';



var ITERATE_KEYS=0;
var ITERATE_VALUES=1;
var ITERATE_ENTRIES=2;

var REAL_ITERATOR_SYMBOL=typeof Symbol === 'function' && Symbol.iterator;
var FAUX_ITERATOR_SYMBOL='@@iterator';

var ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;


function src_Iterator__Iterator(next){
this.next = next;}


src_Iterator__Iterator.prototype.toString = function(){
return '[Iterator]';};



src_Iterator__Iterator.KEYS = ITERATE_KEYS;
src_Iterator__Iterator.VALUES = ITERATE_VALUES;
src_Iterator__Iterator.ENTRIES = ITERATE_ENTRIES;

src_Iterator__Iterator.prototype.inspect = 
src_Iterator__Iterator.prototype.toSource = function(){return this.toString();};
src_Iterator__Iterator.prototype[ITERATOR_SYMBOL] = function(){
return this;};



function iteratorValue(type,k,v,iteratorResult){
var value=type === 0?k:type === 1?v:[k,v];
iteratorResult?iteratorResult.value = value:iteratorResult = {
value:value,done:false};

return iteratorResult;}


function iteratorDone(){
return {value:undefined,done:true};}


function hasIterator(maybeIterable){
return !!getIteratorFn(maybeIterable);}


function isIterator(maybeIterator){
return maybeIterator && typeof maybeIterator.next === 'function';}


function getIterator(iterable){
var iteratorFn=getIteratorFn(iterable);
return iteratorFn && iteratorFn.call(iterable);}


function getIteratorFn(iterable){
var iteratorFn=iterable && (
REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || 
iterable[FAUX_ITERATOR_SYMBOL]);

if(typeof iteratorFn === 'function'){
return iteratorFn;}}



function isArrayLike(value){
return value && typeof value.length === 'number';}


createClass(Seq,Iterable);
function Seq(value){
return value === null || value === undefined?emptySequence():
isIterable(value)?value.toSeq():seqFromValue(value);}


Seq.of = function(){
return Seq(arguments);};


Seq.prototype.toSeq = function(){
return this;};


Seq.prototype.toString = function(){
return this.__toString('Seq {','}');};


Seq.prototype.cacheResult = function(){
if(!this._cache && this.__iterateUncached){
this._cache = this.entrySeq().toArray();
this.size = this._cache.length;}

return this;};




Seq.prototype.__iterate = function(fn,reverse){
return seqIterate(this,fn,reverse,true);};




Seq.prototype.__iterator = function(type,reverse){
return seqIterator(this,type,reverse,true);};




createClass(KeyedSeq,Seq);
function KeyedSeq(value){
return value === null || value === undefined?
emptySequence().toKeyedSeq():
isIterable(value)?
isKeyed(value)?value.toSeq():value.fromEntrySeq():
keyedSeqFromValue(value);}


KeyedSeq.prototype.toKeyedSeq = function(){
return this;};




createClass(IndexedSeq,Seq);
function IndexedSeq(value){
return value === null || value === undefined?emptySequence():
!isIterable(value)?indexedSeqFromValue(value):
isKeyed(value)?value.entrySeq():value.toIndexedSeq();}


IndexedSeq.of = function(){
return IndexedSeq(arguments);};


IndexedSeq.prototype.toIndexedSeq = function(){
return this;};


IndexedSeq.prototype.toString = function(){
return this.__toString('Seq [',']');};


IndexedSeq.prototype.__iterate = function(fn,reverse){
return seqIterate(this,fn,reverse,false);};


IndexedSeq.prototype.__iterator = function(type,reverse){
return seqIterator(this,type,reverse,false);};




createClass(SetSeq,Seq);
function SetSeq(value){
return (
value === null || value === undefined?emptySequence():
!isIterable(value)?indexedSeqFromValue(value):
isKeyed(value)?value.entrySeq():value).
toSetSeq();}


SetSeq.of = function(){
return SetSeq(arguments);};


SetSeq.prototype.toSetSeq = function(){
return this;};




Seq.isSeq = isSeq;
Seq.Keyed = KeyedSeq;
Seq.Set = SetSeq;
Seq.Indexed = IndexedSeq;

var IS_SEQ_SENTINEL='@@__IMMUTABLE_SEQ__@@';

Seq.prototype[IS_SEQ_SENTINEL] = true;





createClass(ArraySeq,IndexedSeq);
function ArraySeq(array){
this._array = array;
this.size = array.length;}


ArraySeq.prototype.get = function(index,notSetValue){
return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue;};


ArraySeq.prototype.__iterate = function(fn,reverse){
var array=this._array;
var maxIndex=array.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
if(fn(array[reverse?maxIndex - ii:ii],ii,this) === false){
return ii + 1;}}


return ii;};


ArraySeq.prototype.__iterator = function(type,reverse){
var array=this._array;
var maxIndex=array.length - 1;
var ii=0;
return new src_Iterator__Iterator(function()
{return ii > maxIndex?
iteratorDone():
iteratorValue(type,ii,array[reverse?maxIndex - ii++:ii++]);});};





createClass(ObjectSeq,KeyedSeq);
function ObjectSeq(object){
var keys=Object.keys(object);
this._object = object;
this._keys = keys;
this.size = keys.length;}


ObjectSeq.prototype.get = function(key,notSetValue){
if(notSetValue !== undefined && !this.has(key)){
return notSetValue;}

return this._object[key];};


ObjectSeq.prototype.has = function(key){
return this._object.hasOwnProperty(key);};


ObjectSeq.prototype.__iterate = function(fn,reverse){
var object=this._object;
var keys=this._keys;
var maxIndex=keys.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
var key=keys[reverse?maxIndex - ii:ii];
if(fn(object[key],key,this) === false){
return ii + 1;}}


return ii;};


ObjectSeq.prototype.__iterator = function(type,reverse){
var object=this._object;
var keys=this._keys;
var maxIndex=keys.length - 1;
var ii=0;
return new src_Iterator__Iterator(function(){
var key=keys[reverse?maxIndex - ii:ii];
return ii++ > maxIndex?
iteratorDone():
iteratorValue(type,key,object[key]);});};



ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;


createClass(IterableSeq,IndexedSeq);
function IterableSeq(iterable){
this._iterable = iterable;
this.size = iterable.length || iterable.size;}


IterableSeq.prototype.__iterateUncached = function(fn,reverse){
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterable=this._iterable;
var iterator=getIterator(iterable);
var iterations=0;
if(isIterator(iterator)){
var step;
while(!(step = iterator.next()).done) {
if(fn(step.value,iterations++,this) === false){
break;}}}



return iterations;};


IterableSeq.prototype.__iteratorUncached = function(type,reverse){
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterable=this._iterable;
var iterator=getIterator(iterable);
if(!isIterator(iterator)){
return new src_Iterator__Iterator(iteratorDone);}

var iterations=0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:iteratorValue(type,iterations++,step.value);});};





createClass(IteratorSeq,IndexedSeq);
function IteratorSeq(iterator){
this._iterator = iterator;
this._iteratorCache = [];}


IteratorSeq.prototype.__iterateUncached = function(fn,reverse){
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterator=this._iterator;
var cache=this._iteratorCache;
var iterations=0;
while(iterations < cache.length) {
if(fn(cache[iterations],iterations++,this) === false){
return iterations;}}


var step;
while(!(step = iterator.next()).done) {
var val=step.value;
cache[iterations] = val;
if(fn(val,iterations++,this) === false){
break;}}


return iterations;};


IteratorSeq.prototype.__iteratorUncached = function(type,reverse){
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=this._iterator;
var cache=this._iteratorCache;
var iterations=0;
return new src_Iterator__Iterator(function(){
if(iterations >= cache.length){
var step=iterator.next();
if(step.done){
return step;}

cache[iterations] = step.value;}

return iteratorValue(type,iterations,cache[iterations++]);});};








function isSeq(maybeSeq){
return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);}


var EMPTY_SEQ;

function emptySequence(){
return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));}


function keyedSeqFromValue(value){
var seq=
Array.isArray(value)?new ArraySeq(value).fromEntrySeq():
isIterator(value)?new IteratorSeq(value).fromEntrySeq():
hasIterator(value)?new IterableSeq(value).fromEntrySeq():
typeof value === 'object'?new ObjectSeq(value):
undefined;
if(!seq){
throw new TypeError(
'Expected Array or iterable object of [k, v] entries, ' + 
'or keyed object: ' + value);}


return seq;}


function indexedSeqFromValue(value){
var seq=maybeIndexedSeqFromValue(value);
if(!seq){
throw new TypeError(
'Expected Array or iterable object of values: ' + value);}


return seq;}


function seqFromValue(value){
var seq=maybeIndexedSeqFromValue(value) || 
typeof value === 'object' && new ObjectSeq(value);
if(!seq){
throw new TypeError(
'Expected Array or iterable object of values, or keyed object: ' + value);}


return seq;}


function maybeIndexedSeqFromValue(value){
return (
isArrayLike(value)?new ArraySeq(value):
isIterator(value)?new IteratorSeq(value):
hasIterator(value)?new IterableSeq(value):
undefined);}



function seqIterate(seq,fn,reverse,useKeys){
var cache=seq._cache;
if(cache){
var maxIndex=cache.length - 1;
for(var ii=0;ii <= maxIndex;ii++) {
var entry=cache[reverse?maxIndex - ii:ii];
if(fn(entry[1],useKeys?entry[0]:ii,seq) === false){
return ii + 1;}}


return ii;}

return seq.__iterateUncached(fn,reverse);}


function seqIterator(seq,type,reverse,useKeys){
var cache=seq._cache;
if(cache){
var maxIndex=cache.length - 1;
var ii=0;
return new src_Iterator__Iterator(function(){
var entry=cache[reverse?maxIndex - ii:ii];
return ii++ > maxIndex?
iteratorDone():
iteratorValue(type,useKeys?entry[0]:ii - 1,entry[1]);});}


return seq.__iteratorUncached(type,reverse);}


createClass(Collection,Iterable);
function Collection(){
throw TypeError('Abstract');}



createClass(KeyedCollection,Collection);function KeyedCollection(){}

createClass(IndexedCollection,Collection);function IndexedCollection(){}

createClass(SetCollection,Collection);function SetCollection(){}


Collection.Keyed = KeyedCollection;
Collection.Indexed = IndexedCollection;
Collection.Set = SetCollection;























































function is(valueA,valueB){
if(valueA === valueB || valueA !== valueA && valueB !== valueB){
return true;}

if(!valueA || !valueB){
return false;}

if(typeof valueA.valueOf === 'function' && 
typeof valueB.valueOf === 'function'){
valueA = valueA.valueOf();
valueB = valueB.valueOf();
if(valueA === valueB || valueA !== valueA && valueB !== valueB){
return true;}

if(!valueA || !valueB){
return false;}}


if(typeof valueA.equals === 'function' && 
typeof valueB.equals === 'function' && 
valueA.equals(valueB)){
return true;}

return false;}


function fromJS(json,converter){
return converter?
fromJSWith(converter,json,'',{'':json}):
fromJSDefault(json);}


function fromJSWith(converter,json,key,parentJSON){
if(Array.isArray(json)){
return converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json);}));}

if(isPlainObj(json)){
return converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json);}));}

return json;}


function fromJSDefault(json){
if(Array.isArray(json)){
return IndexedSeq(json).map(fromJSDefault).toList();}

if(isPlainObj(json)){
return KeyedSeq(json).map(fromJSDefault).toMap();}

return json;}


function isPlainObj(value){
return value && (value.constructor === Object || value.constructor === undefined);}


var src_Math__imul=
typeof Math.imul === 'function' && Math.imul(0xffffffff,2) === -2?
Math.imul:
function imul(a,b){
a = a | 0;
b = b | 0;
var c=a & 0xffff;
var d=b & 0xffff;

return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0;};






function smi(i32){
return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;}


function hash(o){
if(o === false || o === null || o === undefined){
return 0;}

if(typeof o.valueOf === 'function'){
o = o.valueOf();
if(o === false || o === null || o === undefined){
return 0;}}


if(o === true){
return 1;}

var type=typeof o;
if(type === 'number'){
var h=o | 0;
if(h !== o){
h ^= o * 0xFFFFFFFF;}

while(o > 0xFFFFFFFF) {
o /= 0xFFFFFFFF;
h ^= o;}

return smi(h);}

if(type === 'string'){
return o.length > STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o);}

if(typeof o.hashCode === 'function'){
return o.hashCode();}

return hashJSObj(o);}


function cachedHashString(string){
var hash=stringHashCache[string];
if(hash === undefined){
hash = hashString(string);
if(STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE){
STRING_HASH_CACHE_SIZE = 0;
stringHashCache = {};}

STRING_HASH_CACHE_SIZE++;
stringHashCache[string] = hash;}

return hash;}



function hashString(string){






var hash=0;
for(var ii=0;ii < string.length;ii++) {
hash = 31 * hash + string.charCodeAt(ii) | 0;}

return smi(hash);}


function hashJSObj(obj){
var hash;
if(usingWeakMap){
hash = weakMap.get(obj);
if(hash !== undefined){
return hash;}}



hash = obj[UID_HASH_KEY];
if(hash !== undefined){
return hash;}


if(!canDefineProperty){
hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];
if(hash !== undefined){
return hash;}


hash = getIENodeHash(obj);
if(hash !== undefined){
return hash;}}



hash = ++objHashUID;
if(objHashUID & 0x40000000){
objHashUID = 0;}


if(usingWeakMap){
weakMap.set(obj,hash);}else 
if(isExtensible !== undefined && isExtensible(obj) === false){
throw new Error('Non-extensible objects are not allowed as keys.');}else 
if(canDefineProperty){
Object.defineProperty(obj,UID_HASH_KEY,{
'enumerable':false,
'configurable':false,
'writable':false,
'value':hash});}else 

if(obj.propertyIsEnumerable !== undefined && 
obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable){




obj.propertyIsEnumerable = function(){
return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};

obj.propertyIsEnumerable[UID_HASH_KEY] = hash;}else 
if(obj.nodeType !== undefined){




obj[UID_HASH_KEY] = hash;}else 
{
throw new Error('Unable to set a non-enumerable property on object.');}


return hash;}



var isExtensible=Object.isExtensible;


var canDefineProperty=(function(){
try{
Object.defineProperty({},'@',{});
return true;}
catch(e) {
return false;}})();





function getIENodeHash(node){
if(node && node.nodeType > 0){
switch(node.nodeType){
case 1:
return node.uniqueID;
case 9:
return node.documentElement && node.documentElement.uniqueID;}}}





var usingWeakMap=typeof WeakMap === 'function';
var weakMap;
if(usingWeakMap){
weakMap = new WeakMap();}


var objHashUID=0;

var UID_HASH_KEY='__immutablehash__';
if(typeof Symbol === 'function'){
UID_HASH_KEY = Symbol(UID_HASH_KEY);}


var STRING_HASH_CACHE_MIN_STRLEN=16;
var STRING_HASH_CACHE_MAX_SIZE=255;
var STRING_HASH_CACHE_SIZE=0;
var stringHashCache={};

function invariant(condition,error){
if(!condition)throw new Error(error);}


function assertNotInfinite(size){
invariant(
size !== Infinity,
'Cannot perform this action with an infinite size.');}



createClass(ToKeyedSequence,KeyedSeq);
function ToKeyedSequence(indexed,useKeys){
this._iter = indexed;
this._useKeys = useKeys;
this.size = indexed.size;}


ToKeyedSequence.prototype.get = function(key,notSetValue){
return this._iter.get(key,notSetValue);};


ToKeyedSequence.prototype.has = function(key){
return this._iter.has(key);};


ToKeyedSequence.prototype.valueSeq = function(){
return this._iter.valueSeq();};


ToKeyedSequence.prototype.reverse = function(){var this$0=this;
var reversedSequence=reverseFactory(this,true);
if(!this._useKeys){
reversedSequence.valueSeq = function(){return this$0._iter.toSeq().reverse();};}

return reversedSequence;};


ToKeyedSequence.prototype.map = function(mapper,context){var this$0=this;
var mappedSequence=mapFactory(this,mapper,context);
if(!this._useKeys){
mappedSequence.valueSeq = function(){return this$0._iter.toSeq().map(mapper,context);};}

return mappedSequence;};


ToKeyedSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
var ii;
return this._iter.__iterate(
this._useKeys?
function(v,k){return fn(v,k,this$0);}:(
ii = reverse?resolveSize(this):0,
function(v){return fn(v,reverse?--ii:ii++,this$0);}),
reverse);};



ToKeyedSequence.prototype.__iterator = function(type,reverse){
if(this._useKeys){
return this._iter.__iterator(type,reverse);}

var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
var ii=reverse?resolveSize(this):0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,reverse?--ii:ii++,step.value,step);});};



ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;


createClass(ToIndexedSequence,IndexedSeq);
function ToIndexedSequence(iter){
this._iter = iter;
this.size = iter.size;}


ToIndexedSequence.prototype.includes = function(value){
return this._iter.includes(value);};


ToIndexedSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
var iterations=0;
return this._iter.__iterate(function(v){return fn(v,iterations++,this$0);},reverse);};


ToIndexedSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
var iterations=0;
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,iterations++,step.value,step);});};





createClass(ToSetSequence,SetSeq);
function ToSetSequence(iter){
this._iter = iter;
this.size = iter.size;}


ToSetSequence.prototype.has = function(key){
return this._iter.includes(key);};


ToSetSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._iter.__iterate(function(v){return fn(v,v,this$0);},reverse);};


ToSetSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
return step.done?step:
iteratorValue(type,step.value,step.value,step);});};





createClass(FromEntriesSequence,KeyedSeq);
function FromEntriesSequence(entries){
this._iter = entries;
this.size = entries.size;}


FromEntriesSequence.prototype.entrySeq = function(){
return this._iter.toSeq();};


FromEntriesSequence.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._iter.__iterate(function(entry){


if(entry){
validateEntry(entry);
var indexedIterable=isIterable(entry);
return fn(
indexedIterable?entry.get(1):entry[1],
indexedIterable?entry.get(0):entry[0],
this$0);}},


reverse);};


FromEntriesSequence.prototype.__iterator = function(type,reverse){
var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);
return new src_Iterator__Iterator(function(){
while(true) {
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;


if(entry){
validateEntry(entry);
var indexedIterable=isIterable(entry);
return iteratorValue(
type,
indexedIterable?entry.get(0):entry[0],
indexedIterable?entry.get(1):entry[1],
step);}}});};







ToIndexedSequence.prototype.cacheResult = 
ToKeyedSequence.prototype.cacheResult = 
ToSetSequence.prototype.cacheResult = 
FromEntriesSequence.prototype.cacheResult = 
cacheResultThrough;


function flipFactory(iterable){
var flipSequence=makeSequence(iterable);
flipSequence._iter = iterable;
flipSequence.size = iterable.size;
flipSequence.flip = function(){return iterable;};
flipSequence.reverse = function(){
var reversedSequence=iterable.reverse.apply(this);
reversedSequence.flip = function(){return iterable.reverse();};
return reversedSequence;};

flipSequence.has = function(key){return iterable.includes(key);};
flipSequence.includes = function(key){return iterable.has(key);};
flipSequence.cacheResult = cacheResultThrough;
flipSequence.__iterateUncached = function(fn,reverse){var this$0=this;
return iterable.__iterate(function(v,k){return fn(k,v,this$0) !== false;},reverse);};

flipSequence.__iteratorUncached = function(type,reverse){
if(type === ITERATE_ENTRIES){
var iterator=iterable.__iterator(type,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
if(!step.done){
var k=step.value[0];
step.value[0] = step.value[1];
step.value[1] = k;}

return step;});}


return iterable.__iterator(
type === ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,
reverse);};


return flipSequence;}



function mapFactory(iterable,mapper,context){
var mappedSequence=makeSequence(iterable);
mappedSequence.size = iterable.size;
mappedSequence.has = function(key){return iterable.has(key);};
mappedSequence.get = function(key,notSetValue){
var v=iterable.get(key,NOT_SET);
return v === NOT_SET?
notSetValue:
mapper.call(context,v,key,iterable);};

mappedSequence.__iterateUncached = function(fn,reverse){var this$0=this;
return iterable.__iterate(
function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0) !== false;},
reverse);};


mappedSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
return new src_Iterator__Iterator(function(){
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var key=entry[0];
return iteratorValue(
type,
key,
mapper.call(context,entry[1],key,iterable),
step);});};



return mappedSequence;}



function reverseFactory(iterable,useKeys){
var reversedSequence=makeSequence(iterable);
reversedSequence._iter = iterable;
reversedSequence.size = iterable.size;
reversedSequence.reverse = function(){return iterable;};
if(iterable.flip){
reversedSequence.flip = function(){
var flipSequence=flipFactory(iterable);
flipSequence.reverse = function(){return iterable.flip();};
return flipSequence;};}


reversedSequence.get = function(key,notSetValue)
{return iterable.get(useKeys?key:-1 - key,notSetValue);};
reversedSequence.has = function(key)
{return iterable.has(useKeys?key:-1 - key);};
reversedSequence.includes = function(value){return iterable.includes(value);};
reversedSequence.cacheResult = cacheResultThrough;
reversedSequence.__iterate = function(fn,reverse){var this$0=this;
return iterable.__iterate(function(v,k){return fn(v,k,this$0);},!reverse);};

reversedSequence.__iterator = 
function(type,reverse){return iterable.__iterator(type,!reverse);};
return reversedSequence;}



function filterFactory(iterable,predicate,context,useKeys){
var filterSequence=makeSequence(iterable);
if(useKeys){
filterSequence.has = function(key){
var v=iterable.get(key,NOT_SET);
return v !== NOT_SET && !!predicate.call(context,v,key,iterable);};

filterSequence.get = function(key,notSetValue){
var v=iterable.get(key,NOT_SET);
return v !== NOT_SET && predicate.call(context,v,key,iterable)?
v:notSetValue;};}


filterSequence.__iterateUncached = function(fn,reverse){var this$0=this;
var iterations=0;
iterable.__iterate(function(v,k,c){
if(predicate.call(context,v,k,c)){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0);}},

reverse);
return iterations;};

filterSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var iterations=0;
return new src_Iterator__Iterator(function(){
while(true) {
var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var key=entry[0];
var value=entry[1];
if(predicate.call(context,value,key,iterable)){
return iteratorValue(type,useKeys?key:iterations++,value,step);}}});};




return filterSequence;}



function countByFactory(iterable,grouper,context){
var groups=src_Map__Map().asMutable();
iterable.__iterate(function(v,k){
groups.update(
grouper.call(context,v,k,iterable),
0,
function(a){return a + 1;});});


return groups.asImmutable();}



function groupByFactory(iterable,grouper,context){
var isKeyedIter=isKeyed(iterable);
var groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();
iterable.__iterate(function(v,k){
groups.update(
grouper.call(context,v,k,iterable),
function(a){return a = a || [],a.push(isKeyedIter?[k,v]:v),a;});});


var coerce=iterableClass(iterable);
return groups.map(function(arr){return reify(iterable,coerce(arr));});}



function sliceFactory(iterable,begin,end,useKeys){
var originalSize=iterable.size;



if(begin !== undefined){
begin = begin | 0;}

if(end !== undefined){
end = end | 0;}


if(wholeSlice(begin,end,originalSize)){
return iterable;}


var resolvedBegin=resolveBegin(begin,originalSize);
var resolvedEnd=resolveEnd(end,originalSize);




if(resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd){
return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);}






var resolvedSize=resolvedEnd - resolvedBegin;
var sliceSize;
if(resolvedSize === resolvedSize){
sliceSize = resolvedSize < 0?0:resolvedSize;}


var sliceSeq=makeSequence(iterable);



sliceSeq.size = sliceSize === 0?sliceSize:iterable.size && sliceSize || undefined;

if(!useKeys && isSeq(iterable) && sliceSize >= 0){
sliceSeq.get = function(index,notSetValue){
index = wrapIndex(this,index);
return index >= 0 && index < sliceSize?
iterable.get(index + resolvedBegin,notSetValue):
notSetValue;};}



sliceSeq.__iterateUncached = function(fn,reverse){var this$0=this;
if(sliceSize === 0){
return 0;}

if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var skipped=0;
var isSkipping=true;
var iterations=0;
iterable.__iterate(function(v,k){
if(!(isSkipping && (isSkipping = skipped++ < resolvedBegin))){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0) !== false && 
iterations !== sliceSize;}});


return iterations;};


sliceSeq.__iteratorUncached = function(type,reverse){
if(sliceSize !== 0 && reverse){
return this.cacheResult().__iterator(type,reverse);}


var iterator=sliceSize !== 0 && iterable.__iterator(type,reverse);
var skipped=0;
var iterations=0;
return new src_Iterator__Iterator(function(){
while(skipped++ < resolvedBegin) {
iterator.next();}

if(++iterations > sliceSize){
return iteratorDone();}

var step=iterator.next();
if(useKeys || type === ITERATE_VALUES){
return step;}else 
if(type === ITERATE_KEYS){
return iteratorValue(type,iterations - 1,undefined,step);}else 
{
return iteratorValue(type,iterations - 1,step.value[1],step);}});};




return sliceSeq;}



function takeWhileFactory(iterable,predicate,context){
var takeSequence=makeSequence(iterable);
takeSequence.__iterateUncached = function(fn,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var iterations=0;
iterable.__iterate(function(v,k,c)
{return predicate.call(context,v,k,c) && ++iterations && fn(v,k,this$0);});

return iterations;};

takeSequence.__iteratorUncached = function(type,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var iterating=true;
return new src_Iterator__Iterator(function(){
if(!iterating){
return iteratorDone();}

var step=iterator.next();
if(step.done){
return step;}

var entry=step.value;
var k=entry[0];
var v=entry[1];
if(!predicate.call(context,v,k,this$0)){
iterating = false;
return iteratorDone();}

return type === ITERATE_ENTRIES?step:
iteratorValue(type,k,v,step);});};


return takeSequence;}



function skipWhileFactory(iterable,predicate,context,useKeys){
var skipSequence=makeSequence(iterable);
skipSequence.__iterateUncached = function(fn,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterate(fn,reverse);}

var isSkipping=true;
var iterations=0;
iterable.__iterate(function(v,k,c){
if(!(isSkipping && (isSkipping = predicate.call(context,v,k,c)))){
iterations++;
return fn(v,useKeys?k:iterations - 1,this$0);}});


return iterations;};

skipSequence.__iteratorUncached = function(type,reverse){var this$0=this;
if(reverse){
return this.cacheResult().__iterator(type,reverse);}

var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);
var skipping=true;
var iterations=0;
return new src_Iterator__Iterator(function(){
var step,k,v;
do {
step = iterator.next();
if(step.done){
if(useKeys || type === ITERATE_VALUES){
return step;}else 
if(type === ITERATE_KEYS){
return iteratorValue(type,iterations++,undefined,step);}else 
{
return iteratorValue(type,iterations++,step.value[1],step);}}


var entry=step.value;
k = entry[0];
v = entry[1];
skipping && (skipping = predicate.call(context,v,k,this$0));}while(
skipping);
return type === ITERATE_ENTRIES?step:
iteratorValue(type,k,v,step);});};


return skipSequence;}



function concatFactory(iterable,values){
var isKeyedIterable=isKeyed(iterable);
var iters=[iterable].concat(values).map(function(v){
if(!isIterable(v)){
v = isKeyedIterable?
keyedSeqFromValue(v):
indexedSeqFromValue(Array.isArray(v)?v:[v]);}else 
if(isKeyedIterable){
v = KeyedIterable(v);}

return v;}).
filter(function(v){return v.size !== 0;});

if(iters.length === 0){
return iterable;}


if(iters.length === 1){
var singleton=iters[0];
if(singleton === iterable || 
isKeyedIterable && isKeyed(singleton) || 
isIndexed(iterable) && isIndexed(singleton)){
return singleton;}}



var concatSeq=new ArraySeq(iters);
if(isKeyedIterable){
concatSeq = concatSeq.toKeyedSeq();}else 
if(!isIndexed(iterable)){
concatSeq = concatSeq.toSetSeq();}

concatSeq = concatSeq.flatten(true);
concatSeq.size = iters.reduce(
function(sum,seq){
if(sum !== undefined){
var size=seq.size;
if(size !== undefined){
return sum + size;}}},



0);

return concatSeq;}



function flattenFactory(iterable,depth,useKeys){
var flatSequence=makeSequence(iterable);
flatSequence.__iterateUncached = function(fn,reverse){
var iterations=0;
var stopped=false;
function flatDeep(iter,currentDepth){var this$0=this;
iter.__iterate(function(v,k){
if((!depth || currentDepth < depth) && isIterable(v)){
flatDeep(v,currentDepth + 1);}else 
if(fn(v,useKeys?k:iterations++,this$0) === false){
stopped = true;}

return !stopped;},
reverse);}

flatDeep(iterable,0);
return iterations;};

flatSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(type,reverse);
var stack=[];
var iterations=0;
return new src_Iterator__Iterator(function(){
while(iterator) {
var step=iterator.next();
if(step.done !== false){
iterator = stack.pop();
continue;}

var v=step.value;
if(type === ITERATE_ENTRIES){
v = v[1];}

if((!depth || stack.length < depth) && isIterable(v)){
stack.push(iterator);
iterator = v.__iterator(type,reverse);}else 
{
return useKeys?step:iteratorValue(type,iterations++,v,step);}}


return iteratorDone();});};


return flatSequence;}



function flatMapFactory(iterable,mapper,context){
var coerce=iterableClass(iterable);
return iterable.toSeq().map(
function(v,k){return coerce(mapper.call(context,v,k,iterable));}).
flatten(true);}



function interposeFactory(iterable,separator){
var interposedSequence=makeSequence(iterable);
interposedSequence.size = iterable.size && iterable.size * 2 - 1;
interposedSequence.__iterateUncached = function(fn,reverse){var this$0=this;
var iterations=0;
iterable.__iterate(function(v,k)
{return (!iterations || fn(separator,iterations++,this$0) !== false) && 
fn(v,iterations++,this$0) !== false;},
reverse);

return iterations;};

interposedSequence.__iteratorUncached = function(type,reverse){
var iterator=iterable.__iterator(ITERATE_VALUES,reverse);
var iterations=0;
var step;
return new src_Iterator__Iterator(function(){
if(!step || iterations % 2){
step = iterator.next();
if(step.done){
return step;}}


return iterations % 2?
iteratorValue(type,iterations++,separator):
iteratorValue(type,iterations++,step.value,step);});};


return interposedSequence;}



function sortFactory(iterable,comparator,mapper){
if(!comparator){
comparator = defaultComparator;}

var isKeyedIterable=isKeyed(iterable);
var index=0;
var entries=iterable.toSeq().map(
function(v,k){return [k,v,index++,mapper?mapper(v,k,iterable):v];}).
toArray();
entries.sort(function(a,b){return comparator(a[3],b[3]) || a[2] - b[2];}).forEach(
isKeyedIterable?
function(v,i){entries[i].length = 2;}:
function(v,i){entries[i] = v[1];});

return isKeyedIterable?KeyedSeq(entries):
isIndexed(iterable)?IndexedSeq(entries):
SetSeq(entries);}



function maxFactory(iterable,comparator,mapper){
if(!comparator){
comparator = defaultComparator;}

if(mapper){
var entry=iterable.toSeq().
map(function(v,k){return [v,mapper(v,k,iterable)];}).
reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a;});
return entry && entry[0];}else 
{
return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a;});}}



function maxCompare(comparator,a,b){
var comp=comparator(b,a);


return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;}



function zipWithFactory(keyIter,zipper,iters){
var zipSequence=makeSequence(keyIter);
zipSequence.size = new ArraySeq(iters).map(function(i){return i.size;}).min();


zipSequence.__iterate = function(fn,reverse){













var iterator=this.__iterator(ITERATE_VALUES,reverse);
var step;
var iterations=0;
while(!(step = iterator.next()).done) {
if(fn(step.value,iterations++,this) === false){
break;}}


return iterations;};

zipSequence.__iteratorUncached = function(type,reverse){
var iterators=iters.map(function(i)
{return i = Iterable(i),getIterator(reverse?i.reverse():i);});

var iterations=0;
var isDone=false;
return new src_Iterator__Iterator(function(){
var steps;
if(!isDone){
steps = iterators.map(function(i){return i.next();});
isDone = steps.some(function(s){return s.done;});}

if(isDone){
return iteratorDone();}

return iteratorValue(
type,
iterations++,
zipper.apply(null,steps.map(function(s){return s.value;})));});};



return zipSequence;}





function reify(iter,seq){
return isSeq(iter)?seq:iter.constructor(seq);}


function validateEntry(entry){
if(entry !== Object(entry)){
throw new TypeError('Expected [K, V] tuple: ' + entry);}}



function resolveSize(iter){
assertNotInfinite(iter.size);
return ensureSize(iter);}


function iterableClass(iterable){
return isKeyed(iterable)?KeyedIterable:
isIndexed(iterable)?IndexedIterable:
SetIterable;}


function makeSequence(iterable){
return Object.create(
(
isKeyed(iterable)?KeyedSeq:
isIndexed(iterable)?IndexedSeq:
SetSeq).
prototype);}



function cacheResultThrough(){
if(this._iter.cacheResult){
this._iter.cacheResult();
this.size = this._iter.size;
return this;}else 
{
return Seq.prototype.cacheResult.call(this);}}



function defaultComparator(a,b){
return a > b?1:a < b?-1:0;}


function forceIterator(keyPath){
var iter=getIterator(keyPath);
if(!iter){


if(!isArrayLike(keyPath)){
throw new TypeError('Expected iterable or array-like: ' + keyPath);}

iter = getIterator(Iterable(keyPath));}

return iter;}


createClass(src_Map__Map,KeyedCollection);



function src_Map__Map(value){
return value === null || value === undefined?emptyMap():
isMap(value) && !isOrdered(value)?value:
emptyMap().withMutations(function(map){
var iter=KeyedIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v,k){return map.set(k,v);});});}



src_Map__Map.prototype.toString = function(){
return this.__toString('Map {','}');};




src_Map__Map.prototype.get = function(k,notSetValue){
return this._root?
this._root.get(0,undefined,k,notSetValue):
notSetValue;};




src_Map__Map.prototype.set = function(k,v){
return updateMap(this,k,v);};


src_Map__Map.prototype.setIn = function(keyPath,v){
return this.updateIn(keyPath,NOT_SET,function(){return v;});};


src_Map__Map.prototype.remove = function(k){
return updateMap(this,k,NOT_SET);};


src_Map__Map.prototype.deleteIn = function(keyPath){
return this.updateIn(keyPath,function(){return NOT_SET;});};


src_Map__Map.prototype.update = function(k,notSetValue,updater){
return arguments.length === 1?
k(this):
this.updateIn([k],notSetValue,updater);};


src_Map__Map.prototype.updateIn = function(keyPath,notSetValue,updater){
if(!updater){
updater = notSetValue;
notSetValue = undefined;}

var updatedValue=updateInDeepMap(
this,
forceIterator(keyPath),
notSetValue,
updater);

return updatedValue === NOT_SET?undefined:updatedValue;};


src_Map__Map.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._root = null;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyMap();};




src_Map__Map.prototype.merge = function(){
return mergeIntoMapWith(this,undefined,arguments);};


src_Map__Map.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoMapWith(this,merger,iters);};


src_Map__Map.prototype.mergeIn = function(keyPath){var iters=SLICE$0.call(arguments,1);
return this.updateIn(
keyPath,
emptyMap(),
function(m){return typeof m.merge === 'function'?
m.merge.apply(m,iters):
iters[iters.length - 1];});};



src_Map__Map.prototype.mergeDeep = function(){
return mergeIntoMapWith(this,deepMerger(undefined),arguments);};


src_Map__Map.prototype.mergeDeepWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoMapWith(this,deepMerger(merger),iters);};


src_Map__Map.prototype.mergeDeepIn = function(keyPath){var iters=SLICE$0.call(arguments,1);
return this.updateIn(
keyPath,
emptyMap(),
function(m){return typeof m.mergeDeep === 'function'?
m.mergeDeep.apply(m,iters):
iters[iters.length - 1];});};



src_Map__Map.prototype.sort = function(comparator){

return OrderedMap(sortFactory(this,comparator));};


src_Map__Map.prototype.sortBy = function(mapper,comparator){

return OrderedMap(sortFactory(this,comparator,mapper));};




src_Map__Map.prototype.withMutations = function(fn){
var mutable=this.asMutable();
fn(mutable);
return mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this;};


src_Map__Map.prototype.asMutable = function(){
return this.__ownerID?this:this.__ensureOwner(new OwnerID());};


src_Map__Map.prototype.asImmutable = function(){
return this.__ensureOwner();};


src_Map__Map.prototype.wasAltered = function(){
return this.__altered;};


src_Map__Map.prototype.__iterator = function(type,reverse){
return new MapIterator(this,type,reverse);};


src_Map__Map.prototype.__iterate = function(fn,reverse){var this$0=this;
var iterations=0;
this._root && this._root.iterate(function(entry){
iterations++;
return fn(entry[1],entry[0],this$0);},
reverse);
return iterations;};


src_Map__Map.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
this.__altered = false;
return this;}

return makeMap(this.size,this._root,ownerID,this.__hash);};



function isMap(maybeMap){
return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);}


src_Map__Map.isMap = isMap;

var IS_MAP_SENTINEL='@@__IMMUTABLE_MAP__@@';

var MapPrototype=src_Map__Map.prototype;
MapPrototype[IS_MAP_SENTINEL] = true;
MapPrototype[DELETE] = MapPrototype.remove;
MapPrototype.removeIn = MapPrototype.deleteIn;






function ArrayMapNode(ownerID,entries){
this.ownerID = ownerID;
this.entries = entries;}


ArrayMapNode.prototype.get = function(shift,keyHash,key,notSetValue){
var entries=this.entries;
for(var ii=0,len=entries.length;ii < len;ii++) {
if(is(key,entries[ii][0])){
return entries[ii][1];}}


return notSetValue;};


ArrayMapNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
var removed=value === NOT_SET;

var entries=this.entries;
var idx=0;
for(var len=entries.length;idx < len;idx++) {
if(is(key,entries[idx][0])){
break;}}


var exists=idx < len;

if(exists?entries[idx][1] === value:removed){
return this;}


SetRef(didAlter);
(removed || !exists) && SetRef(didChangeSize);

if(removed && entries.length === 1){
return;}


if(!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE){
return createNodes(ownerID,entries,key,value);}


var isEditable=ownerID && ownerID === this.ownerID;
var newEntries=isEditable?entries:arrCopy(entries);

if(exists){
if(removed){
idx === len - 1?newEntries.pop():newEntries[idx] = newEntries.pop();}else 
{
newEntries[idx] = [key,value];}}else 

{
newEntries.push([key,value]);}


if(isEditable){
this.entries = newEntries;
return this;}


return new ArrayMapNode(ownerID,newEntries);};





function BitmapIndexedNode(ownerID,bitmap,nodes){
this.ownerID = ownerID;
this.bitmap = bitmap;
this.nodes = nodes;}


BitmapIndexedNode.prototype.get = function(shift,keyHash,key,notSetValue){
if(keyHash === undefined){
keyHash = hash(key);}

var bit=1 << ((shift === 0?keyHash:keyHash >>> shift) & MASK);
var bitmap=this.bitmap;
return (bitmap & bit) === 0?notSetValue:
this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT,keyHash,key,notSetValue);};


BitmapIndexedNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}

var keyHashFrag=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var bit=1 << keyHashFrag;
var bitmap=this.bitmap;
var exists=(bitmap & bit) !== 0;

if(!exists && value === NOT_SET){
return this;}


var idx=popCount(bitmap & bit - 1);
var nodes=this.nodes;
var node=exists?nodes[idx]:undefined;
var newNode=updateNode(node,ownerID,shift + SHIFT,keyHash,key,value,didChangeSize,didAlter);

if(newNode === node){
return this;}


if(!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE){
return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);}


if(exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])){
return nodes[idx ^ 1];}


if(exists && newNode && nodes.length === 1 && isLeafNode(newNode)){
return newNode;}


var isEditable=ownerID && ownerID === this.ownerID;
var newBitmap=exists?newNode?bitmap:bitmap ^ bit:bitmap | bit;
var newNodes=exists?newNode?
setIn(nodes,idx,newNode,isEditable):
spliceOut(nodes,idx,isEditable):
spliceIn(nodes,idx,newNode,isEditable);

if(isEditable){
this.bitmap = newBitmap;
this.nodes = newNodes;
return this;}


return new BitmapIndexedNode(ownerID,newBitmap,newNodes);};





function HashArrayMapNode(ownerID,count,nodes){
this.ownerID = ownerID;
this.count = count;
this.nodes = nodes;}


HashArrayMapNode.prototype.get = function(shift,keyHash,key,notSetValue){
if(keyHash === undefined){
keyHash = hash(key);}

var idx=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var node=this.nodes[idx];
return node?node.get(shift + SHIFT,keyHash,key,notSetValue):notSetValue;};


HashArrayMapNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}

var idx=(shift === 0?keyHash:keyHash >>> shift) & MASK;
var removed=value === NOT_SET;
var nodes=this.nodes;
var node=nodes[idx];

if(removed && !node){
return this;}


var newNode=updateNode(node,ownerID,shift + SHIFT,keyHash,key,value,didChangeSize,didAlter);
if(newNode === node){
return this;}


var newCount=this.count;
if(!node){
newCount++;}else 
if(!newNode){
newCount--;
if(newCount < MIN_HASH_ARRAY_MAP_SIZE){
return packNodes(ownerID,nodes,newCount,idx);}}



var isEditable=ownerID && ownerID === this.ownerID;
var newNodes=setIn(nodes,idx,newNode,isEditable);

if(isEditable){
this.count = newCount;
this.nodes = newNodes;
return this;}


return new HashArrayMapNode(ownerID,newCount,newNodes);};





function HashCollisionNode(ownerID,keyHash,entries){
this.ownerID = ownerID;
this.keyHash = keyHash;
this.entries = entries;}


HashCollisionNode.prototype.get = function(shift,keyHash,key,notSetValue){
var entries=this.entries;
for(var ii=0,len=entries.length;ii < len;ii++) {
if(is(key,entries[ii][0])){
return entries[ii][1];}}


return notSetValue;};


HashCollisionNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(keyHash === undefined){
keyHash = hash(key);}


var removed=value === NOT_SET;

if(keyHash !== this.keyHash){
if(removed){
return this;}

SetRef(didAlter);
SetRef(didChangeSize);
return mergeIntoNode(this,ownerID,shift,keyHash,[key,value]);}


var entries=this.entries;
var idx=0;
for(var len=entries.length;idx < len;idx++) {
if(is(key,entries[idx][0])){
break;}}


var exists=idx < len;

if(exists?entries[idx][1] === value:removed){
return this;}


SetRef(didAlter);
(removed || !exists) && SetRef(didChangeSize);

if(removed && len === 2){
return new ValueNode(ownerID,this.keyHash,entries[idx ^ 1]);}


var isEditable=ownerID && ownerID === this.ownerID;
var newEntries=isEditable?entries:arrCopy(entries);

if(exists){
if(removed){
idx === len - 1?newEntries.pop():newEntries[idx] = newEntries.pop();}else 
{
newEntries[idx] = [key,value];}}else 

{
newEntries.push([key,value]);}


if(isEditable){
this.entries = newEntries;
return this;}


return new HashCollisionNode(ownerID,this.keyHash,newEntries);};





function ValueNode(ownerID,keyHash,entry){
this.ownerID = ownerID;
this.keyHash = keyHash;
this.entry = entry;}


ValueNode.prototype.get = function(shift,keyHash,key,notSetValue){
return is(key,this.entry[0])?this.entry[1]:notSetValue;};


ValueNode.prototype.update = function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
var removed=value === NOT_SET;
var keyMatch=is(key,this.entry[0]);
if(keyMatch?value === this.entry[1]:removed){
return this;}


SetRef(didAlter);

if(removed){
SetRef(didChangeSize);
return;}


if(keyMatch){
if(ownerID && ownerID === this.ownerID){
this.entry[1] = value;
return this;}

return new ValueNode(ownerID,this.keyHash,[key,value]);}


SetRef(didChangeSize);
return mergeIntoNode(this,ownerID,shift,hash(key),[key,value]);};






ArrayMapNode.prototype.iterate = 
HashCollisionNode.prototype.iterate = function(fn,reverse){
var entries=this.entries;
for(var ii=0,maxIndex=entries.length - 1;ii <= maxIndex;ii++) {
if(fn(entries[reverse?maxIndex - ii:ii]) === false){
return false;}}};




BitmapIndexedNode.prototype.iterate = 
HashArrayMapNode.prototype.iterate = function(fn,reverse){
var nodes=this.nodes;
for(var ii=0,maxIndex=nodes.length - 1;ii <= maxIndex;ii++) {
var node=nodes[reverse?maxIndex - ii:ii];
if(node && node.iterate(fn,reverse) === false){
return false;}}};




ValueNode.prototype.iterate = function(fn,reverse){
return fn(this.entry);};


createClass(MapIterator,src_Iterator__Iterator);

function MapIterator(map,type,reverse){
this._type = type;
this._reverse = reverse;
this._stack = map._root && mapIteratorFrame(map._root);}


MapIterator.prototype.next = function(){
var type=this._type;
var stack=this._stack;
while(stack) {
var node=stack.node;
var index=stack.index++;
var maxIndex;
if(node.entry){
if(index === 0){
return mapIteratorValue(type,node.entry);}}else 

if(node.entries){
maxIndex = node.entries.length - 1;
if(index <= maxIndex){
return mapIteratorValue(type,node.entries[this._reverse?maxIndex - index:index]);}}else 

{
maxIndex = node.nodes.length - 1;
if(index <= maxIndex){
var subNode=node.nodes[this._reverse?maxIndex - index:index];
if(subNode){
if(subNode.entry){
return mapIteratorValue(type,subNode.entry);}

stack = this._stack = mapIteratorFrame(subNode,stack);}

continue;}}


stack = this._stack = this._stack.__prev;}

return iteratorDone();};



function mapIteratorValue(type,entry){
return iteratorValue(type,entry[0],entry[1]);}


function mapIteratorFrame(node,prev){
return {
node:node,
index:0,
__prev:prev};}



function makeMap(size,root,ownerID,hash){
var map=Object.create(MapPrototype);
map.size = size;
map._root = root;
map.__ownerID = ownerID;
map.__hash = hash;
map.__altered = false;
return map;}


var EMPTY_MAP;
function emptyMap(){
return EMPTY_MAP || (EMPTY_MAP = makeMap(0));}


function updateMap(map,k,v){
var newRoot;
var newSize;
if(!map._root){
if(v === NOT_SET){
return map;}

newSize = 1;
newRoot = new ArrayMapNode(map.__ownerID,[[k,v]]);}else 
{
var didChangeSize=MakeRef(CHANGE_LENGTH);
var didAlter=MakeRef(DID_ALTER);
newRoot = updateNode(map._root,map.__ownerID,0,undefined,k,v,didChangeSize,didAlter);
if(!didAlter.value){
return map;}

newSize = map.size + (didChangeSize.value?v === NOT_SET?-1:1:0);}

if(map.__ownerID){
map.size = newSize;
map._root = newRoot;
map.__hash = undefined;
map.__altered = true;
return map;}

return newRoot?makeMap(newSize,newRoot):emptyMap();}


function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){
if(!node){
if(value === NOT_SET){
return node;}

SetRef(didAlter);
SetRef(didChangeSize);
return new ValueNode(ownerID,keyHash,[key,value]);}

return node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter);}


function isLeafNode(node){
return node.constructor === ValueNode || node.constructor === HashCollisionNode;}


function mergeIntoNode(node,ownerID,shift,keyHash,entry){
if(node.keyHash === keyHash){
return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);}


var idx1=(shift === 0?node.keyHash:node.keyHash >>> shift) & MASK;
var idx2=(shift === 0?keyHash:keyHash >>> shift) & MASK;

var newNode;
var nodes=idx1 === idx2?
[mergeIntoNode(node,ownerID,shift + SHIFT,keyHash,entry)]:(
newNode = new ValueNode(ownerID,keyHash,entry),idx1 < idx2?[node,newNode]:[newNode,node]);

return new BitmapIndexedNode(ownerID,1 << idx1 | 1 << idx2,nodes);}


function createNodes(ownerID,entries,key,value){
if(!ownerID){
ownerID = new OwnerID();}

var node=new ValueNode(ownerID,hash(key),[key,value]);
for(var ii=0;ii < entries.length;ii++) {
var entry=entries[ii];
node = node.update(ownerID,0,undefined,entry[0],entry[1]);}

return node;}


function packNodes(ownerID,nodes,count,excluding){
var bitmap=0;
var packedII=0;
var packedNodes=new Array(count);
for(var ii=0,bit=1,len=nodes.length;ii < len;ii++,bit <<= 1) {
var node=nodes[ii];
if(node !== undefined && ii !== excluding){
bitmap |= bit;
packedNodes[packedII++] = node;}}


return new BitmapIndexedNode(ownerID,bitmap,packedNodes);}


function expandNodes(ownerID,nodes,bitmap,including,node){
var count=0;
var expandedNodes=new Array(SIZE);
for(var ii=0;bitmap !== 0;ii++,bitmap >>>= 1) {
expandedNodes[ii] = bitmap & 1?nodes[count++]:undefined;}

expandedNodes[including] = node;
return new HashArrayMapNode(ownerID,count + 1,expandedNodes);}


function mergeIntoMapWith(map,merger,iterables){
var iters=[];
for(var ii=0;ii < iterables.length;ii++) {
var value=iterables[ii];
var iter=KeyedIterable(value);
if(!isIterable(value)){
iter = iter.map(function(v){return fromJS(v);});}

iters.push(iter);}

return mergeIntoCollectionWith(map,merger,iters);}


function deepMerger(merger){
return function(existing,value,key)
{return existing && existing.mergeDeepWith && isIterable(value)?
existing.mergeDeepWith(merger,value):
merger?merger(existing,value,key):value;};}


function mergeIntoCollectionWith(collection,merger,iters){
iters = iters.filter(function(x){return x.size !== 0;});
if(iters.length === 0){
return collection;}

if(collection.size === 0 && !collection.__ownerID && iters.length === 1){
return collection.constructor(iters[0]);}

return collection.withMutations(function(collection){
var mergeIntoMap=merger?
function(value,key){
collection.update(key,NOT_SET,function(existing)
{return existing === NOT_SET?value:merger(existing,value,key);});}:


function(value,key){
collection.set(key,value);};

for(var ii=0;ii < iters.length;ii++) {
iters[ii].forEach(mergeIntoMap);}});}




function updateInDeepMap(existing,keyPathIter,notSetValue,updater){
var isNotSet=existing === NOT_SET;
var step=keyPathIter.next();
if(step.done){
var existingValue=isNotSet?notSetValue:existing;
var newValue=updater(existingValue);
return newValue === existingValue?existing:newValue;}

invariant(
isNotSet || existing && existing.set,
'invalid keyPath');

var key=step.value;
var nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET);
var nextUpdated=updateInDeepMap(
nextExisting,
keyPathIter,
notSetValue,
updater);

return nextUpdated === nextExisting?existing:
nextUpdated === NOT_SET?existing.remove(key):
(isNotSet?emptyMap():existing).set(key,nextUpdated);}


function popCount(x){
x = x - (x >> 1 & 0x55555555);
x = (x & 0x33333333) + (x >> 2 & 0x33333333);
x = x + (x >> 4) & 0x0f0f0f0f;
x = x + (x >> 8);
x = x + (x >> 16);
return x & 0x7f;}


function setIn(array,idx,val,canEdit){
var newArray=canEdit?array:arrCopy(array);
newArray[idx] = val;
return newArray;}


function spliceIn(array,idx,val,canEdit){
var newLen=array.length + 1;
if(canEdit && idx + 1 === newLen){
array[idx] = val;
return array;}

var newArray=new Array(newLen);
var after=0;
for(var ii=0;ii < newLen;ii++) {
if(ii === idx){
newArray[ii] = val;
after = -1;}else 
{
newArray[ii] = array[ii + after];}}


return newArray;}


function spliceOut(array,idx,canEdit){
var newLen=array.length - 1;
if(canEdit && idx === newLen){
array.pop();
return array;}

var newArray=new Array(newLen);
var after=0;
for(var ii=0;ii < newLen;ii++) {
if(ii === idx){
after = 1;}

newArray[ii] = array[ii + after];}

return newArray;}


var MAX_ARRAY_MAP_SIZE=SIZE / 4;
var MAX_BITMAP_INDEXED_SIZE=SIZE / 2;
var MIN_HASH_ARRAY_MAP_SIZE=SIZE / 4;

createClass(List,IndexedCollection);



function List(value){
var empty=emptyList();
if(value === null || value === undefined){
return empty;}

if(isList(value)){
return value;}

var iter=IndexedIterable(value);
var size=iter.size;
if(size === 0){
return empty;}

assertNotInfinite(size);
if(size > 0 && size < SIZE){
return makeList(0,size,SHIFT,null,new VNode(iter.toArray()));}

return empty.withMutations(function(list){
list.setSize(size);
iter.forEach(function(v,i){return list.set(i,v);});});}



List.of = function(){
return this(arguments);};


List.prototype.toString = function(){
return this.__toString('List [',']');};




List.prototype.get = function(index,notSetValue){
index = wrapIndex(this,index);
if(index >= 0 && index < this.size){
index += this._origin;
var node=listNodeFor(this,index);
return node && node.array[index & MASK];}

return notSetValue;};




List.prototype.set = function(index,value){
return updateList(this,index,value);};


List.prototype.remove = function(index){
return !this.has(index)?this:
index === 0?this.shift():
index === this.size - 1?this.pop():
this.splice(index,1);};


List.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = this._origin = this._capacity = 0;
this._level = SHIFT;
this._root = this._tail = null;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyList();};


List.prototype.push = function(){
var values=arguments;
var oldSize=this.size;
return this.withMutations(function(list){
setListBounds(list,0,oldSize + values.length);
for(var ii=0;ii < values.length;ii++) {
list.set(oldSize + ii,values[ii]);}});};




List.prototype.pop = function(){
return setListBounds(this,0,-1);};


List.prototype.unshift = function(){
var values=arguments;
return this.withMutations(function(list){
setListBounds(list,-values.length);
for(var ii=0;ii < values.length;ii++) {
list.set(ii,values[ii]);}});};




List.prototype.shift = function(){
return setListBounds(this,1);};




List.prototype.merge = function(){
return mergeIntoListWith(this,undefined,arguments);};


List.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoListWith(this,merger,iters);};


List.prototype.mergeDeep = function(){
return mergeIntoListWith(this,deepMerger(undefined),arguments);};


List.prototype.mergeDeepWith = function(merger){var iters=SLICE$0.call(arguments,1);
return mergeIntoListWith(this,deepMerger(merger),iters);};


List.prototype.setSize = function(size){
return setListBounds(this,0,size);};




List.prototype.slice = function(begin,end){
var size=this.size;
if(wholeSlice(begin,end,size)){
return this;}

return setListBounds(
this,
resolveBegin(begin,size),
resolveEnd(end,size));};



List.prototype.__iterator = function(type,reverse){
var index=0;
var values=iterateList(this,reverse);
return new src_Iterator__Iterator(function(){
var value=values();
return value === DONE?
iteratorDone():
iteratorValue(type,index++,value);});};



List.prototype.__iterate = function(fn,reverse){
var index=0;
var values=iterateList(this,reverse);
var value;
while((value = values()) !== DONE) {
if(fn(value,index++,this) === false){
break;}}


return index;};


List.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
return this;}

return makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash);};



function isList(maybeList){
return !!(maybeList && maybeList[IS_LIST_SENTINEL]);}


List.isList = isList;

var IS_LIST_SENTINEL='@@__IMMUTABLE_LIST__@@';

var ListPrototype=List.prototype;
ListPrototype[IS_LIST_SENTINEL] = true;
ListPrototype[DELETE] = ListPrototype.remove;
ListPrototype.setIn = MapPrototype.setIn;
ListPrototype.deleteIn = 
ListPrototype.removeIn = MapPrototype.removeIn;
ListPrototype.update = MapPrototype.update;
ListPrototype.updateIn = MapPrototype.updateIn;
ListPrototype.mergeIn = MapPrototype.mergeIn;
ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
ListPrototype.withMutations = MapPrototype.withMutations;
ListPrototype.asMutable = MapPrototype.asMutable;
ListPrototype.asImmutable = MapPrototype.asImmutable;
ListPrototype.wasAltered = MapPrototype.wasAltered;



function VNode(array,ownerID){
this.array = array;
this.ownerID = ownerID;}




VNode.prototype.removeBefore = function(ownerID,level,index){
if(index === level?1 << level:0 || this.array.length === 0){
return this;}

var originIndex=index >>> level & MASK;
if(originIndex >= this.array.length){
return new VNode([],ownerID);}

var removingFirst=originIndex === 0;
var newChild;
if(level > 0){
var oldChild=this.array[originIndex];
newChild = oldChild && oldChild.removeBefore(ownerID,level - SHIFT,index);
if(newChild === oldChild && removingFirst){
return this;}}


if(removingFirst && !newChild){
return this;}

var editable=editableVNode(this,ownerID);
if(!removingFirst){
for(var ii=0;ii < originIndex;ii++) {
editable.array[ii] = undefined;}}


if(newChild){
editable.array[originIndex] = newChild;}

return editable;};


VNode.prototype.removeAfter = function(ownerID,level,index){
if(index === (level?1 << level:0) || this.array.length === 0){
return this;}

var sizeIndex=index - 1 >>> level & MASK;
if(sizeIndex >= this.array.length){
return this;}


var newChild;
if(level > 0){
var oldChild=this.array[sizeIndex];
newChild = oldChild && oldChild.removeAfter(ownerID,level - SHIFT,index);
if(newChild === oldChild && sizeIndex === this.array.length - 1){
return this;}}



var editable=editableVNode(this,ownerID);
editable.array.splice(sizeIndex + 1);
if(newChild){
editable.array[sizeIndex] = newChild;}

return editable;};




var DONE={};

function iterateList(list,reverse){
var left=list._origin;
var right=list._capacity;
var tailPos=getTailOffset(right);
var tail=list._tail;

return iterateNodeOrLeaf(list._root,list._level,0);

function iterateNodeOrLeaf(node,level,offset){
return level === 0?
iterateLeaf(node,offset):
iterateNode(node,level,offset);}


function iterateLeaf(node,offset){
var array=offset === tailPos?tail && tail.array:node && node.array;
var from=offset > left?0:left - offset;
var to=right - offset;
if(to > SIZE){
to = SIZE;}

return function(){
if(from === to){
return DONE;}

var idx=reverse?--to:from++;
return array && array[idx];};}



function iterateNode(node,level,offset){
var values;
var array=node && node.array;
var from=offset > left?0:left - offset >> level;
var to=(right - offset >> level) + 1;
if(to > SIZE){
to = SIZE;}

return function(){
do {
if(values){
var value=values();
if(value !== DONE){
return value;}

values = null;}

if(from === to){
return DONE;}

var idx=reverse?--to:from++;
values = iterateNodeOrLeaf(
array && array[idx],level - SHIFT,offset + (idx << level));}while(

true);};}}




function makeList(origin,capacity,level,root,tail,ownerID,hash){
var list=Object.create(ListPrototype);
list.size = capacity - origin;
list._origin = origin;
list._capacity = capacity;
list._level = level;
list._root = root;
list._tail = tail;
list.__ownerID = ownerID;
list.__hash = hash;
list.__altered = false;
return list;}


var EMPTY_LIST;
function emptyList(){
return EMPTY_LIST || (EMPTY_LIST = makeList(0,0,SHIFT));}


function updateList(list,index,value){
index = wrapIndex(list,index);

if(index !== index){
return list;}


if(index >= list.size || index < 0){
return list.withMutations(function(list){
index < 0?
setListBounds(list,index).set(0,value):
setListBounds(list,0,index + 1).set(index,value);});}



index += list._origin;

var newTail=list._tail;
var newRoot=list._root;
var didAlter=MakeRef(DID_ALTER);
if(index >= getTailOffset(list._capacity)){
newTail = updateVNode(newTail,list.__ownerID,0,index,value,didAlter);}else 
{
newRoot = updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter);}


if(!didAlter.value){
return list;}


if(list.__ownerID){
list._root = newRoot;
list._tail = newTail;
list.__hash = undefined;
list.__altered = true;
return list;}

return makeList(list._origin,list._capacity,list._level,newRoot,newTail);}


function updateVNode(node,ownerID,level,index,value,didAlter){
var idx=index >>> level & MASK;
var nodeHas=node && idx < node.array.length;
if(!nodeHas && value === undefined){
return node;}


var newNode;

if(level > 0){
var lowerNode=node && node.array[idx];
var newLowerNode=updateVNode(lowerNode,ownerID,level - SHIFT,index,value,didAlter);
if(newLowerNode === lowerNode){
return node;}

newNode = editableVNode(node,ownerID);
newNode.array[idx] = newLowerNode;
return newNode;}


if(nodeHas && node.array[idx] === value){
return node;}


SetRef(didAlter);

newNode = editableVNode(node,ownerID);
if(value === undefined && idx === newNode.array.length - 1){
newNode.array.pop();}else 
{
newNode.array[idx] = value;}

return newNode;}


function editableVNode(node,ownerID){
if(ownerID && node && ownerID === node.ownerID){
return node;}

return new VNode(node?node.array.slice():[],ownerID);}


function listNodeFor(list,rawIndex){
if(rawIndex >= getTailOffset(list._capacity)){
return list._tail;}

if(rawIndex < 1 << list._level + SHIFT){
var node=list._root;
var level=list._level;
while(node && level > 0) {
node = node.array[rawIndex >>> level & MASK];
level -= SHIFT;}

return node;}}



function setListBounds(list,begin,end){


if(begin !== undefined){
begin = begin | 0;}

if(end !== undefined){
end = end | 0;}

var owner=list.__ownerID || new OwnerID();
var oldOrigin=list._origin;
var oldCapacity=list._capacity;
var newOrigin=oldOrigin + begin;
var newCapacity=end === undefined?oldCapacity:end < 0?oldCapacity + end:oldOrigin + end;
if(newOrigin === oldOrigin && newCapacity === oldCapacity){
return list;}



if(newOrigin >= newCapacity){
return list.clear();}


var newLevel=list._level;
var newRoot=list._root;


var offsetShift=0;
while(newOrigin + offsetShift < 0) {
newRoot = new VNode(newRoot && newRoot.array.length?[undefined,newRoot]:[],owner);
newLevel += SHIFT;
offsetShift += 1 << newLevel;}

if(offsetShift){
newOrigin += offsetShift;
oldOrigin += offsetShift;
newCapacity += offsetShift;
oldCapacity += offsetShift;}


var oldTailOffset=getTailOffset(oldCapacity);
var newTailOffset=getTailOffset(newCapacity);


while(newTailOffset >= 1 << newLevel + SHIFT) {
newRoot = new VNode(newRoot && newRoot.array.length?[newRoot]:[],owner);
newLevel += SHIFT;}



var oldTail=list._tail;
var newTail=newTailOffset < oldTailOffset?
listNodeFor(list,newCapacity - 1):
newTailOffset > oldTailOffset?new VNode([],owner):oldTail;


if(oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length){
newRoot = editableVNode(newRoot,owner);
var node=newRoot;
for(var level=newLevel;level > SHIFT;level -= SHIFT) {
var idx=oldTailOffset >>> level & MASK;
node = node.array[idx] = editableVNode(node.array[idx],owner);}

node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;}



if(newCapacity < oldCapacity){
newTail = newTail && newTail.removeAfter(owner,0,newCapacity);}



if(newOrigin >= newTailOffset){
newOrigin -= newTailOffset;
newCapacity -= newTailOffset;
newLevel = SHIFT;
newRoot = null;
newTail = newTail && newTail.removeBefore(owner,0,newOrigin);}else 


if(newOrigin > oldOrigin || newTailOffset < oldTailOffset){
offsetShift = 0;


while(newRoot) {
var beginIndex=newOrigin >>> newLevel & MASK;
if(beginIndex !== newTailOffset >>> newLevel & MASK){
break;}

if(beginIndex){
offsetShift += (1 << newLevel) * beginIndex;}

newLevel -= SHIFT;
newRoot = newRoot.array[beginIndex];}



if(newRoot && newOrigin > oldOrigin){
newRoot = newRoot.removeBefore(owner,newLevel,newOrigin - offsetShift);}

if(newRoot && newTailOffset < oldTailOffset){
newRoot = newRoot.removeAfter(owner,newLevel,newTailOffset - offsetShift);}

if(offsetShift){
newOrigin -= offsetShift;
newCapacity -= offsetShift;}}



if(list.__ownerID){
list.size = newCapacity - newOrigin;
list._origin = newOrigin;
list._capacity = newCapacity;
list._level = newLevel;
list._root = newRoot;
list._tail = newTail;
list.__hash = undefined;
list.__altered = true;
return list;}

return makeList(newOrigin,newCapacity,newLevel,newRoot,newTail);}


function mergeIntoListWith(list,merger,iterables){
var iters=[];
var maxSize=0;
for(var ii=0;ii < iterables.length;ii++) {
var value=iterables[ii];
var iter=IndexedIterable(value);
if(iter.size > maxSize){
maxSize = iter.size;}

if(!isIterable(value)){
iter = iter.map(function(v){return fromJS(v);});}

iters.push(iter);}

if(maxSize > list.size){
list = list.setSize(maxSize);}

return mergeIntoCollectionWith(list,merger,iters);}


function getTailOffset(size){
return size < SIZE?0:size - 1 >>> SHIFT << SHIFT;}


createClass(OrderedMap,src_Map__Map);



function OrderedMap(value){
return value === null || value === undefined?emptyOrderedMap():
isOrderedMap(value)?value:
emptyOrderedMap().withMutations(function(map){
var iter=KeyedIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v,k){return map.set(k,v);});});}



OrderedMap.of = function(){
return this(arguments);};


OrderedMap.prototype.toString = function(){
return this.__toString('OrderedMap {','}');};




OrderedMap.prototype.get = function(k,notSetValue){
var index=this._map.get(k);
return index !== undefined?this._list.get(index)[1]:notSetValue;};




OrderedMap.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._map.clear();
this._list.clear();
return this;}

return emptyOrderedMap();};


OrderedMap.prototype.set = function(k,v){
return updateOrderedMap(this,k,v);};


OrderedMap.prototype.remove = function(k){
return updateOrderedMap(this,k,NOT_SET);};


OrderedMap.prototype.wasAltered = function(){
return this._map.wasAltered() || this._list.wasAltered();};


OrderedMap.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._list.__iterate(
function(entry){return entry && fn(entry[1],entry[0],this$0);},
reverse);};



OrderedMap.prototype.__iterator = function(type,reverse){
return this._list.fromEntrySeq().__iterator(type,reverse);};


OrderedMap.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map.__ensureOwner(ownerID);
var newList=this._list.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
this._list = newList;
return this;}

return makeOrderedMap(newMap,newList,ownerID,this.__hash);};



function isOrderedMap(maybeOrderedMap){
return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);}


OrderedMap.isOrderedMap = isOrderedMap;

OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;
OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;



function makeOrderedMap(map,list,ownerID,hash){
var omap=Object.create(OrderedMap.prototype);
omap.size = map?map.size:0;
omap._map = map;
omap._list = list;
omap.__ownerID = ownerID;
omap.__hash = hash;
return omap;}


var EMPTY_ORDERED_MAP;
function emptyOrderedMap(){
return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(),emptyList()));}


function updateOrderedMap(omap,k,v){
var map=omap._map;
var list=omap._list;
var i=map.get(k);
var has=i !== undefined;
var newMap;
var newList;
if(v === NOT_SET){
if(!has){
return omap;}

if(list.size >= SIZE && list.size >= map.size * 2){
newList = list.filter(function(entry,idx){return entry !== undefined && i !== idx;});
newMap = newList.toKeyedSeq().map(function(entry){return entry[0];}).flip().toMap();
if(omap.__ownerID){
newMap.__ownerID = newList.__ownerID = omap.__ownerID;}}else 

{
newMap = map.remove(k);
newList = i === list.size - 1?list.pop():list.set(i,undefined);}}else 

{
if(has){
if(v === list.get(i)[1]){
return omap;}

newMap = map;
newList = list.set(i,[k,v]);}else 
{
newMap = map.set(k,list.size);
newList = list.set(list.size,[k,v]);}}


if(omap.__ownerID){
omap.size = newMap.size;
omap._map = newMap;
omap._list = newList;
omap.__hash = undefined;
return omap;}

return makeOrderedMap(newMap,newList);}


createClass(Stack,IndexedCollection);



function Stack(value){
return value === null || value === undefined?emptyStack():
isStack(value)?value:
emptyStack().unshiftAll(value);}


Stack.of = function(){
return this(arguments);};


Stack.prototype.toString = function(){
return this.__toString('Stack [',']');};




Stack.prototype.get = function(index,notSetValue){
var head=this._head;
index = wrapIndex(this,index);
while(head && index--) {
head = head.next;}

return head?head.value:notSetValue;};


Stack.prototype.peek = function(){
return this._head && this._head.value;};




Stack.prototype.push = function(){
if(arguments.length === 0){
return this;}

var newSize=this.size + arguments.length;
var head=this._head;
for(var ii=arguments.length - 1;ii >= 0;ii--) {
head = {
value:arguments[ii],
next:head};}


if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};


Stack.prototype.pushAll = function(iter){
iter = IndexedIterable(iter);
if(iter.size === 0){
return this;}

assertNotInfinite(iter.size);
var newSize=this.size;
var head=this._head;
iter.reverse().forEach(function(value){
newSize++;
head = {
value:value,
next:head};});


if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};


Stack.prototype.pop = function(){
return this.slice(1);};


Stack.prototype.unshift = function(){
return this.push.apply(this,arguments);};


Stack.prototype.unshiftAll = function(iter){
return this.pushAll(iter);};


Stack.prototype.shift = function(){
return this.pop.apply(this,arguments);};


Stack.prototype.clear = function(){
if(this.size === 0){
return this;}

if(this.__ownerID){
this.size = 0;
this._head = undefined;
this.__hash = undefined;
this.__altered = true;
return this;}

return emptyStack();};


Stack.prototype.slice = function(begin,end){
if(wholeSlice(begin,end,this.size)){
return this;}

var resolvedBegin=resolveBegin(begin,this.size);
var resolvedEnd=resolveEnd(end,this.size);
if(resolvedEnd !== this.size){

return IndexedCollection.prototype.slice.call(this,begin,end);}

var newSize=this.size - resolvedBegin;
var head=this._head;
while(resolvedBegin--) {
head = head.next;}

if(this.__ownerID){
this.size = newSize;
this._head = head;
this.__hash = undefined;
this.__altered = true;
return this;}

return makeStack(newSize,head);};




Stack.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

if(!ownerID){
this.__ownerID = ownerID;
this.__altered = false;
return this;}

return makeStack(this.size,this._head,ownerID,this.__hash);};




Stack.prototype.__iterate = function(fn,reverse){
if(reverse){
return this.reverse().__iterate(fn);}

var iterations=0;
var node=this._head;
while(node) {
if(fn(node.value,iterations++,this) === false){
break;}

node = node.next;}

return iterations;};


Stack.prototype.__iterator = function(type,reverse){
if(reverse){
return this.reverse().__iterator(type);}

var iterations=0;
var node=this._head;
return new src_Iterator__Iterator(function(){
if(node){
var value=node.value;
node = node.next;
return iteratorValue(type,iterations++,value);}

return iteratorDone();});};




function isStack(maybeStack){
return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);}


Stack.isStack = isStack;

var IS_STACK_SENTINEL='@@__IMMUTABLE_STACK__@@';

var StackPrototype=Stack.prototype;
StackPrototype[IS_STACK_SENTINEL] = true;
StackPrototype.withMutations = MapPrototype.withMutations;
StackPrototype.asMutable = MapPrototype.asMutable;
StackPrototype.asImmutable = MapPrototype.asImmutable;
StackPrototype.wasAltered = MapPrototype.wasAltered;


function makeStack(size,head,ownerID,hash){
var map=Object.create(StackPrototype);
map.size = size;
map._head = head;
map.__ownerID = ownerID;
map.__hash = hash;
map.__altered = false;
return map;}


var EMPTY_STACK;
function emptyStack(){
return EMPTY_STACK || (EMPTY_STACK = makeStack(0));}


createClass(src_Set__Set,SetCollection);



function src_Set__Set(value){
return value === null || value === undefined?emptySet():
isSet(value) && !isOrdered(value)?value:
emptySet().withMutations(function(set){
var iter=SetIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v){return set.add(v);});});}



src_Set__Set.of = function(){
return this(arguments);};


src_Set__Set.fromKeys = function(value){
return this(KeyedIterable(value).keySeq());};


src_Set__Set.prototype.toString = function(){
return this.__toString('Set {','}');};




src_Set__Set.prototype.has = function(value){
return this._map.has(value);};




src_Set__Set.prototype.add = function(value){
return updateSet(this,this._map.set(value,true));};


src_Set__Set.prototype.remove = function(value){
return updateSet(this,this._map.remove(value));};


src_Set__Set.prototype.clear = function(){
return updateSet(this,this._map.clear());};




src_Set__Set.prototype.union = function(){var iters=SLICE$0.call(arguments,0);
iters = iters.filter(function(x){return x.size !== 0;});
if(iters.length === 0){
return this;}

if(this.size === 0 && !this.__ownerID && iters.length === 1){
return this.constructor(iters[0]);}

return this.withMutations(function(set){
for(var ii=0;ii < iters.length;ii++) {
SetIterable(iters[ii]).forEach(function(value){return set.add(value);});}});};




src_Set__Set.prototype.intersect = function(){var iters=SLICE$0.call(arguments,0);
if(iters.length === 0){
return this;}

iters = iters.map(function(iter){return SetIterable(iter);});
var originalSet=this;
return this.withMutations(function(set){
originalSet.forEach(function(value){
if(!iters.every(function(iter){return iter.includes(value);})){
set.remove(value);}});});};





src_Set__Set.prototype.subtract = function(){var iters=SLICE$0.call(arguments,0);
if(iters.length === 0){
return this;}

iters = iters.map(function(iter){return SetIterable(iter);});
var originalSet=this;
return this.withMutations(function(set){
originalSet.forEach(function(value){
if(iters.some(function(iter){return iter.includes(value);})){
set.remove(value);}});});};





src_Set__Set.prototype.merge = function(){
return this.union.apply(this,arguments);};


src_Set__Set.prototype.mergeWith = function(merger){var iters=SLICE$0.call(arguments,1);
return this.union.apply(this,iters);};


src_Set__Set.prototype.sort = function(comparator){

return OrderedSet(sortFactory(this,comparator));};


src_Set__Set.prototype.sortBy = function(mapper,comparator){

return OrderedSet(sortFactory(this,comparator,mapper));};


src_Set__Set.prototype.wasAltered = function(){
return this._map.wasAltered();};


src_Set__Set.prototype.__iterate = function(fn,reverse){var this$0=this;
return this._map.__iterate(function(_,k){return fn(k,k,this$0);},reverse);};


src_Set__Set.prototype.__iterator = function(type,reverse){
return this._map.map(function(_,k){return k;}).__iterator(type,reverse);};


src_Set__Set.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
return this;}

return this.__make(newMap,ownerID);};



function isSet(maybeSet){
return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);}


src_Set__Set.isSet = isSet;

var IS_SET_SENTINEL='@@__IMMUTABLE_SET__@@';

var SetPrototype=src_Set__Set.prototype;
SetPrototype[IS_SET_SENTINEL] = true;
SetPrototype[DELETE] = SetPrototype.remove;
SetPrototype.mergeDeep = SetPrototype.merge;
SetPrototype.mergeDeepWith = SetPrototype.mergeWith;
SetPrototype.withMutations = MapPrototype.withMutations;
SetPrototype.asMutable = MapPrototype.asMutable;
SetPrototype.asImmutable = MapPrototype.asImmutable;

SetPrototype.__empty = emptySet;
SetPrototype.__make = makeSet;

function updateSet(set,newMap){
if(set.__ownerID){
set.size = newMap.size;
set._map = newMap;
return set;}

return newMap === set._map?set:
newMap.size === 0?set.__empty():
set.__make(newMap);}


function makeSet(map,ownerID){
var set=Object.create(SetPrototype);
set.size = map?map.size:0;
set._map = map;
set.__ownerID = ownerID;
return set;}


var EMPTY_SET;
function emptySet(){
return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));}


createClass(OrderedSet,src_Set__Set);



function OrderedSet(value){
return value === null || value === undefined?emptyOrderedSet():
isOrderedSet(value)?value:
emptyOrderedSet().withMutations(function(set){
var iter=SetIterable(value);
assertNotInfinite(iter.size);
iter.forEach(function(v){return set.add(v);});});}



OrderedSet.of = function(){
return this(arguments);};


OrderedSet.fromKeys = function(value){
return this(KeyedIterable(value).keySeq());};


OrderedSet.prototype.toString = function(){
return this.__toString('OrderedSet {','}');};



function isOrderedSet(maybeOrderedSet){
return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);}


OrderedSet.isOrderedSet = isOrderedSet;

var OrderedSetPrototype=OrderedSet.prototype;
OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;

OrderedSetPrototype.__empty = emptyOrderedSet;
OrderedSetPrototype.__make = makeOrderedSet;

function makeOrderedSet(map,ownerID){
var set=Object.create(OrderedSetPrototype);
set.size = map?map.size:0;
set._map = map;
set.__ownerID = ownerID;
return set;}


var EMPTY_ORDERED_SET;
function emptyOrderedSet(){
return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));}


createClass(Record,KeyedCollection);

function Record(defaultValues,name){
var hasInitialized;

var RecordType=function Record(values){
if(values instanceof RecordType){
return values;}

if(!(this instanceof RecordType)){
return new RecordType(values);}

if(!hasInitialized){
hasInitialized = true;
var keys=Object.keys(defaultValues);
setProps(RecordTypePrototype,keys);
RecordTypePrototype.size = keys.length;
RecordTypePrototype._name = name;
RecordTypePrototype._keys = keys;
RecordTypePrototype._defaultValues = defaultValues;}

this._map = src_Map__Map(values);};


var RecordTypePrototype=RecordType.prototype = Object.create(RecordPrototype);
RecordTypePrototype.constructor = RecordType;

return RecordType;}


Record.prototype.toString = function(){
return this.__toString(recordName(this) + ' {','}');};




Record.prototype.has = function(k){
return this._defaultValues.hasOwnProperty(k);};


Record.prototype.get = function(k,notSetValue){
if(!this.has(k)){
return notSetValue;}

var defaultVal=this._defaultValues[k];
return this._map?this._map.get(k,defaultVal):defaultVal;};




Record.prototype.clear = function(){
if(this.__ownerID){
this._map && this._map.clear();
return this;}

var RecordType=this.constructor;
return RecordType._empty || (RecordType._empty = makeRecord(this,emptyMap()));};


Record.prototype.set = function(k,v){
if(!this.has(k)){
throw new Error('Cannot set unknown key "' + k + '" on ' + recordName(this));}

var newMap=this._map && this._map.set(k,v);
if(this.__ownerID || newMap === this._map){
return this;}

return makeRecord(this,newMap);};


Record.prototype.remove = function(k){
if(!this.has(k)){
return this;}

var newMap=this._map && this._map.remove(k);
if(this.__ownerID || newMap === this._map){
return this;}

return makeRecord(this,newMap);};


Record.prototype.wasAltered = function(){
return this._map.wasAltered();};


Record.prototype.__iterator = function(type,reverse){var this$0=this;
return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k);}).__iterator(type,reverse);};


Record.prototype.__iterate = function(fn,reverse){var this$0=this;
return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k);}).__iterate(fn,reverse);};


Record.prototype.__ensureOwner = function(ownerID){
if(ownerID === this.__ownerID){
return this;}

var newMap=this._map && this._map.__ensureOwner(ownerID);
if(!ownerID){
this.__ownerID = ownerID;
this._map = newMap;
return this;}

return makeRecord(this,newMap,ownerID);};



var RecordPrototype=Record.prototype;
RecordPrototype[DELETE] = RecordPrototype.remove;
RecordPrototype.deleteIn = 
RecordPrototype.removeIn = MapPrototype.removeIn;
RecordPrototype.merge = MapPrototype.merge;
RecordPrototype.mergeWith = MapPrototype.mergeWith;
RecordPrototype.mergeIn = MapPrototype.mergeIn;
RecordPrototype.mergeDeep = MapPrototype.mergeDeep;
RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;
RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
RecordPrototype.setIn = MapPrototype.setIn;
RecordPrototype.update = MapPrototype.update;
RecordPrototype.updateIn = MapPrototype.updateIn;
RecordPrototype.withMutations = MapPrototype.withMutations;
RecordPrototype.asMutable = MapPrototype.asMutable;
RecordPrototype.asImmutable = MapPrototype.asImmutable;


function makeRecord(likeRecord,map,ownerID){
var record=Object.create(Object.getPrototypeOf(likeRecord));
record._map = map;
record.__ownerID = ownerID;
return record;}


function recordName(record){
return record._name || record.constructor.name || 'Record';}


function setProps(prototype,names){
try{
names.forEach(setProp.bind(undefined,prototype));}
catch(error) {}}




function setProp(prototype,name){
Object.defineProperty(prototype,name,{
get:function(){
return this.get(name);},

set:function(value){
invariant(this.__ownerID,'Cannot set on an immutable record.');
this.set(name,value);}});}




function deepEqual(a,b){
if(a === b){
return true;}


if(
!isIterable(b) || 
a.size !== undefined && b.size !== undefined && a.size !== b.size || 
a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || 
isKeyed(a) !== isKeyed(b) || 
isIndexed(a) !== isIndexed(b) || 
isOrdered(a) !== isOrdered(b))
{
return false;}


if(a.size === 0 && b.size === 0){
return true;}


var notAssociative=!isAssociative(a);

if(isOrdered(a)){
var entries=a.entries();
return b.every(function(v,k){
var entry=entries.next().value;
return entry && is(entry[1],v) && (notAssociative || is(entry[0],k));}) && 
entries.next().done;}


var flipped=false;

if(a.size === undefined){
if(b.size === undefined){
if(typeof a.cacheResult === 'function'){
a.cacheResult();}}else 

{
flipped = true;
var _=a;
a = b;
b = _;}}



var allEqual=true;
var bSize=b.__iterate(function(v,k){
if(notAssociative?!a.has(v):
flipped?!is(v,a.get(k,NOT_SET)):!is(a.get(k,NOT_SET),v)){
allEqual = false;
return false;}});



return allEqual && a.size === bSize;}


createClass(Range,IndexedSeq);

function Range(start,end,step){
if(!(this instanceof Range)){
return new Range(start,end,step);}

invariant(step !== 0,'Cannot step a Range by 0');
start = start || 0;
if(end === undefined){
end = Infinity;}

step = step === undefined?1:Math.abs(step);
if(end < start){
step = -step;}

this._start = start;
this._end = end;
this._step = step;
this.size = Math.max(0,Math.ceil((end - start) / step - 1) + 1);
if(this.size === 0){
if(EMPTY_RANGE){
return EMPTY_RANGE;}

EMPTY_RANGE = this;}}



Range.prototype.toString = function(){
if(this.size === 0){
return 'Range []';}

return 'Range [ ' + 
this._start + '...' + this._end + (
this._step > 1?' by ' + this._step:'') + 
' ]';};


Range.prototype.get = function(index,notSetValue){
return this.has(index)?
this._start + wrapIndex(this,index) * this._step:
notSetValue;};


Range.prototype.includes = function(searchValue){
var possibleIndex=(searchValue - this._start) / this._step;
return possibleIndex >= 0 && 
possibleIndex < this.size && 
possibleIndex === Math.floor(possibleIndex);};


Range.prototype.slice = function(begin,end){
if(wholeSlice(begin,end,this.size)){
return this;}

begin = resolveBegin(begin,this.size);
end = resolveEnd(end,this.size);
if(end <= begin){
return new Range(0,0);}

return new Range(this.get(begin,this._end),this.get(end,this._end),this._step);};


Range.prototype.indexOf = function(searchValue){
var offsetValue=searchValue - this._start;
if(offsetValue % this._step === 0){
var index=offsetValue / this._step;
if(index >= 0 && index < this.size){
return index;}}


return -1;};


Range.prototype.lastIndexOf = function(searchValue){
return this.indexOf(searchValue);};


Range.prototype.__iterate = function(fn,reverse){
var maxIndex=this.size - 1;
var step=this._step;
var value=reverse?this._start + maxIndex * step:this._start;
for(var ii=0;ii <= maxIndex;ii++) {
if(fn(value,ii,this) === false){
return ii + 1;}

value += reverse?-step:step;}

return ii;};


Range.prototype.__iterator = function(type,reverse){
var maxIndex=this.size - 1;
var step=this._step;
var value=reverse?this._start + maxIndex * step:this._start;
var ii=0;
return new src_Iterator__Iterator(function(){
var v=value;
value += reverse?-step:step;
return ii > maxIndex?iteratorDone():iteratorValue(type,ii++,v);});};



Range.prototype.equals = function(other){
return other instanceof Range?
this._start === other._start && 
this._end === other._end && 
this._step === other._step:
deepEqual(this,other);};



var EMPTY_RANGE;

createClass(Repeat,IndexedSeq);

function Repeat(value,times){
if(!(this instanceof Repeat)){
return new Repeat(value,times);}

this._value = value;
this.size = times === undefined?Infinity:Math.max(0,times);
if(this.size === 0){
if(EMPTY_REPEAT){
return EMPTY_REPEAT;}

EMPTY_REPEAT = this;}}



Repeat.prototype.toString = function(){
if(this.size === 0){
return 'Repeat []';}

return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';};


Repeat.prototype.get = function(index,notSetValue){
return this.has(index)?this._value:notSetValue;};


Repeat.prototype.includes = function(searchValue){
return is(this._value,searchValue);};


Repeat.prototype.slice = function(begin,end){
var size=this.size;
return wholeSlice(begin,end,size)?this:
new Repeat(this._value,resolveEnd(end,size) - resolveBegin(begin,size));};


Repeat.prototype.reverse = function(){
return this;};


Repeat.prototype.indexOf = function(searchValue){
if(is(this._value,searchValue)){
return 0;}

return -1;};


Repeat.prototype.lastIndexOf = function(searchValue){
if(is(this._value,searchValue)){
return this.size;}

return -1;};


Repeat.prototype.__iterate = function(fn,reverse){
for(var ii=0;ii < this.size;ii++) {
if(fn(this._value,ii,this) === false){
return ii + 1;}}


return ii;};


Repeat.prototype.__iterator = function(type,reverse){var this$0=this;
var ii=0;
return new src_Iterator__Iterator(function()
{return ii < this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone();});};



Repeat.prototype.equals = function(other){
return other instanceof Repeat?
is(this._value,other._value):
deepEqual(other);};



var EMPTY_REPEAT;




function mixin(ctor,methods){
var keyCopier=function(key){ctor.prototype[key] = methods[key];};
Object.keys(methods).forEach(keyCopier);
Object.getOwnPropertySymbols && 
Object.getOwnPropertySymbols(methods).forEach(keyCopier);
return ctor;}


Iterable.Iterator = src_Iterator__Iterator;

mixin(Iterable,{



toArray:function(){
assertNotInfinite(this.size);
var array=new Array(this.size || 0);
this.valueSeq().__iterate(function(v,i){array[i] = v;});
return array;},


toIndexedSeq:function(){
return new ToIndexedSequence(this);},


toJS:function(){
return this.toSeq().map(
function(value){return value && typeof value.toJS === 'function'?value.toJS():value;}).
__toJS();},


toJSON:function(){
return this.toSeq().map(
function(value){return value && typeof value.toJSON === 'function'?value.toJSON():value;}).
__toJS();},


toKeyedSeq:function(){
return new ToKeyedSequence(this,true);},


toMap:function(){

return src_Map__Map(this.toKeyedSeq());},


toObject:function(){
assertNotInfinite(this.size);
var object={};
this.__iterate(function(v,k){object[k] = v;});
return object;},


toOrderedMap:function(){

return OrderedMap(this.toKeyedSeq());},


toOrderedSet:function(){

return OrderedSet(isKeyed(this)?this.valueSeq():this);},


toSet:function(){

return src_Set__Set(isKeyed(this)?this.valueSeq():this);},


toSetSeq:function(){
return new ToSetSequence(this);},


toSeq:function(){
return isIndexed(this)?this.toIndexedSeq():
isKeyed(this)?this.toKeyedSeq():
this.toSetSeq();},


toStack:function(){

return Stack(isKeyed(this)?this.valueSeq():this);},


toList:function(){

return List(isKeyed(this)?this.valueSeq():this);},





toString:function(){
return '[Iterable]';},


__toString:function(head,tail){
if(this.size === 0){
return head + tail;}

return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;},





concat:function(){var values=SLICE$0.call(arguments,0);
return reify(this,concatFactory(this,values));},


includes:function(searchValue){
return this.some(function(value){return is(value,searchValue);});},


entries:function(){
return this.__iterator(ITERATE_ENTRIES);},


every:function(predicate,context){
assertNotInfinite(this.size);
var returnValue=true;
this.__iterate(function(v,k,c){
if(!predicate.call(context,v,k,c)){
returnValue = false;
return false;}});


return returnValue;},


filter:function(predicate,context){
return reify(this,filterFactory(this,predicate,context,true));},


find:function(predicate,context,notSetValue){
var entry=this.findEntry(predicate,context);
return entry?entry[1]:notSetValue;},


findEntry:function(predicate,context){
var found;
this.__iterate(function(v,k,c){
if(predicate.call(context,v,k,c)){
found = [k,v];
return false;}});


return found;},


findLastEntry:function(predicate,context){
return this.toSeq().reverse().findEntry(predicate,context);},


forEach:function(sideEffect,context){
assertNotInfinite(this.size);
return this.__iterate(context?sideEffect.bind(context):sideEffect);},


join:function(separator){
assertNotInfinite(this.size);
separator = separator !== undefined?'' + separator:',';
var joined='';
var isFirst=true;
this.__iterate(function(v){
isFirst?isFirst = false:joined += separator;
joined += v !== null && v !== undefined?v.toString():'';});

return joined;},


keys:function(){
return this.__iterator(ITERATE_KEYS);},


map:function(mapper,context){
return reify(this,mapFactory(this,mapper,context));},


reduce:function(reducer,initialReduction,context){
assertNotInfinite(this.size);
var reduction;
var useFirst;
if(arguments.length < 2){
useFirst = true;}else 
{
reduction = initialReduction;}

this.__iterate(function(v,k,c){
if(useFirst){
useFirst = false;
reduction = v;}else 
{
reduction = reducer.call(context,reduction,v,k,c);}});


return reduction;},


reduceRight:function(reducer,initialReduction,context){
var reversed=this.toKeyedSeq().reverse();
return reversed.reduce.apply(reversed,arguments);},


reverse:function(){
return reify(this,reverseFactory(this,true));},


slice:function(begin,end){
return reify(this,sliceFactory(this,begin,end,true));},


some:function(predicate,context){
return !this.every(not(predicate),context);},


sort:function(comparator){
return reify(this,sortFactory(this,comparator));},


values:function(){
return this.__iterator(ITERATE_VALUES);},





butLast:function(){
return this.slice(0,-1);},


isEmpty:function(){
return this.size !== undefined?this.size === 0:!this.some(function(){return true;});},


count:function(predicate,context){
return ensureSize(
predicate?this.toSeq().filter(predicate,context):this);},



countBy:function(grouper,context){
return countByFactory(this,grouper,context);},


equals:function(other){
return deepEqual(this,other);},


entrySeq:function(){
var iterable=this;
if(iterable._cache){

return new ArraySeq(iterable._cache);}

var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();
entriesSequence.fromEntrySeq = function(){return iterable.toSeq();};
return entriesSequence;},


filterNot:function(predicate,context){
return this.filter(not(predicate),context);},


findLast:function(predicate,context,notSetValue){
return this.toKeyedSeq().reverse().find(predicate,context,notSetValue);},


first:function(){
return this.find(returnTrue);},


flatMap:function(mapper,context){
return reify(this,flatMapFactory(this,mapper,context));},


flatten:function(depth){
return reify(this,flattenFactory(this,depth,true));},


fromEntrySeq:function(){
return new FromEntriesSequence(this);},


get:function(searchKey,notSetValue){
return this.find(function(_,key){return is(key,searchKey);},undefined,notSetValue);},


getIn:function(searchKeyPath,notSetValue){
var nested=this;


var iter=forceIterator(searchKeyPath);
var step;
while(!(step = iter.next()).done) {
var key=step.value;
nested = nested && nested.get?nested.get(key,NOT_SET):NOT_SET;
if(nested === NOT_SET){
return notSetValue;}}


return nested;},


groupBy:function(grouper,context){
return groupByFactory(this,grouper,context);},


has:function(searchKey){
return this.get(searchKey,NOT_SET) !== NOT_SET;},


hasIn:function(searchKeyPath){
return this.getIn(searchKeyPath,NOT_SET) !== NOT_SET;},


isSubset:function(iter){
iter = typeof iter.includes === 'function'?iter:Iterable(iter);
return this.every(function(value){return iter.includes(value);});},


isSuperset:function(iter){
iter = typeof iter.isSubset === 'function'?iter:Iterable(iter);
return iter.isSubset(this);},


keySeq:function(){
return this.toSeq().map(keyMapper).toIndexedSeq();},


last:function(){
return this.toSeq().reverse().first();},


max:function(comparator){
return maxFactory(this,comparator);},


maxBy:function(mapper,comparator){
return maxFactory(this,comparator,mapper);},


min:function(comparator){
return maxFactory(this,comparator?neg(comparator):defaultNegComparator);},


minBy:function(mapper,comparator){
return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper);},


rest:function(){
return this.slice(1);},


skip:function(amount){
return this.slice(Math.max(0,amount));},


skipLast:function(amount){
return reify(this,this.toSeq().reverse().skip(amount).reverse());},


skipWhile:function(predicate,context){
return reify(this,skipWhileFactory(this,predicate,context,true));},


skipUntil:function(predicate,context){
return this.skipWhile(not(predicate),context);},


sortBy:function(mapper,comparator){
return reify(this,sortFactory(this,comparator,mapper));},


take:function(amount){
return this.slice(0,Math.max(0,amount));},


takeLast:function(amount){
return reify(this,this.toSeq().reverse().take(amount).reverse());},


takeWhile:function(predicate,context){
return reify(this,takeWhileFactory(this,predicate,context));},


takeUntil:function(predicate,context){
return this.takeWhile(not(predicate),context);},


valueSeq:function(){
return this.toIndexedSeq();},





hashCode:function(){
return this.__hash || (this.__hash = hashIterable(this));}});















var IterablePrototype=Iterable.prototype;
IterablePrototype[IS_ITERABLE_SENTINEL] = true;
IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;
IterablePrototype.__toJS = IterablePrototype.toArray;
IterablePrototype.__toStringMapper = quoteString;
IterablePrototype.inspect = 
IterablePrototype.toSource = function(){return this.toString();};
IterablePrototype.chain = IterablePrototype.flatMap;
IterablePrototype.contains = IterablePrototype.includes;


(function(){
try{
Object.defineProperty(IterablePrototype,'length',{
get:function(){
if(!Iterable.noLengthWarning){
var stack;
try{
throw new Error();}
catch(error) {
stack = error.stack;}

if(stack.indexOf('_wrapObject') === -1){
console && console.warn && console.warn(
'iterable.length has been deprecated, ' + 
'use iterable.size or iterable.count(). ' + 
'This warning will become a silent error in a future version. ' + 
stack);

return this.size;}}}});}




catch(e) {}})();




mixin(KeyedIterable,{



flip:function(){
return reify(this,flipFactory(this));},


findKey:function(predicate,context){
var entry=this.findEntry(predicate,context);
return entry && entry[0];},


findLastKey:function(predicate,context){
return this.toSeq().reverse().findKey(predicate,context);},


keyOf:function(searchValue){
return this.findKey(function(value){return is(value,searchValue);});},


lastKeyOf:function(searchValue){
return this.findLastKey(function(value){return is(value,searchValue);});},


mapEntries:function(mapper,context){var this$0=this;
var iterations=0;
return reify(this,
this.toSeq().map(
function(v,k){return mapper.call(context,[k,v],iterations++,this$0);}).
fromEntrySeq());},



mapKeys:function(mapper,context){var this$0=this;
return reify(this,
this.toSeq().flip().map(
function(k,v){return mapper.call(context,k,v,this$0);}).
flip());}});





var KeyedIterablePrototype=KeyedIterable.prototype;
KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;
KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;
KeyedIterablePrototype.__toJS = IterablePrototype.toObject;
KeyedIterablePrototype.__toStringMapper = function(v,k){return JSON.stringify(k) + ': ' + quoteString(v);};



mixin(IndexedIterable,{



toKeyedSeq:function(){
return new ToKeyedSequence(this,false);},





filter:function(predicate,context){
return reify(this,filterFactory(this,predicate,context,false));},


findIndex:function(predicate,context){
var entry=this.findEntry(predicate,context);
return entry?entry[0]:-1;},


indexOf:function(searchValue){
var key=this.toKeyedSeq().keyOf(searchValue);
return key === undefined?-1:key;},


lastIndexOf:function(searchValue){
return this.toSeq().reverse().indexOf(searchValue);},


reverse:function(){
return reify(this,reverseFactory(this,false));},


slice:function(begin,end){
return reify(this,sliceFactory(this,begin,end,false));},


splice:function(index,removeNum){
var numArgs=arguments.length;
removeNum = Math.max(removeNum | 0,0);
if(numArgs === 0 || numArgs === 2 && !removeNum){
return this;}




index = resolveBegin(index,index < 0?this.count():this.size);
var spliced=this.slice(0,index);
return reify(
this,
numArgs === 1?
spliced:
spliced.concat(arrCopy(arguments,2),this.slice(index + removeNum)));},






findLastIndex:function(predicate,context){
var key=this.toKeyedSeq().findLastKey(predicate,context);
return key === undefined?-1:key;},


first:function(){
return this.get(0);},


flatten:function(depth){
return reify(this,flattenFactory(this,depth,false));},


get:function(index,notSetValue){
index = wrapIndex(this,index);
return index < 0 || this.size === Infinity || 
this.size !== undefined && index > this.size?
notSetValue:
this.find(function(_,key){return key === index;},undefined,notSetValue);},


has:function(index){
index = wrapIndex(this,index);
return index >= 0 && (this.size !== undefined?
this.size === Infinity || index < this.size:
this.indexOf(index) !== -1);},



interpose:function(separator){
return reify(this,interposeFactory(this,separator));},


interleave:function(){
var iterables=[this].concat(arrCopy(arguments));
var zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables);
var interleaved=zipped.flatten(true);
if(zipped.size){
interleaved.size = zipped.size * iterables.length;}

return reify(this,interleaved);},


last:function(){
return this.get(-1);},


skipWhile:function(predicate,context){
return reify(this,skipWhileFactory(this,predicate,context,false));},


zip:function(){
var iterables=[this].concat(arrCopy(arguments));
return reify(this,zipWithFactory(this,defaultZipper,iterables));},


zipWith:function(zipper){
var iterables=arrCopy(arguments);
iterables[0] = this;
return reify(this,zipWithFactory(this,zipper,iterables));}});




IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;
IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;



mixin(SetIterable,{



get:function(value,notSetValue){
return this.has(value)?value:notSetValue;},


includes:function(value){
return this.has(value);},





keySeq:function(){
return this.valueSeq();}});




SetIterable.prototype.has = IterablePrototype.includes;




mixin(KeyedSeq,KeyedIterable.prototype);
mixin(IndexedSeq,IndexedIterable.prototype);
mixin(SetSeq,SetIterable.prototype);

mixin(KeyedCollection,KeyedIterable.prototype);
mixin(IndexedCollection,IndexedIterable.prototype);
mixin(SetCollection,SetIterable.prototype);




function keyMapper(v,k){
return k;}


function entryMapper(v,k){
return [k,v];}


function not(predicate){
return function(){
return !predicate.apply(this,arguments);};}



function neg(predicate){
return function(){
return -predicate.apply(this,arguments);};}



function quoteString(value){
return typeof value === 'string'?JSON.stringify(value):value;}


function defaultZipper(){
return arrCopy(arguments);}


function defaultNegComparator(a,b){
return a < b?1:a > b?-1:0;}


function hashIterable(iterable){
if(iterable.size === Infinity){
return 0;}

var ordered=isOrdered(iterable);
var keyed=isKeyed(iterable);
var h=ordered?1:0;
var size=iterable.__iterate(
keyed?
ordered?
function(v,k){h = 31 * h + hashMerge(hash(v),hash(k)) | 0;}:
function(v,k){h = h + hashMerge(hash(v),hash(k)) | 0;}:
ordered?
function(v){h = 31 * h + hash(v) | 0;}:
function(v){h = h + hash(v) | 0;});

return murmurHashOfSize(size,h);}


function murmurHashOfSize(size,h){
h = src_Math__imul(h,0xCC9E2D51);
h = src_Math__imul(h << 15 | h >>> -15,0x1B873593);
h = src_Math__imul(h << 13 | h >>> -13,5);
h = (h + 0xE6546B64 | 0) ^ size;
h = src_Math__imul(h ^ h >>> 16,0x85EBCA6B);
h = src_Math__imul(h ^ h >>> 13,0xC2B2AE35);
h = smi(h ^ h >>> 16);
return h;}


function hashMerge(a,b){
return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0;}


var Immutable={

Iterable:Iterable,

Seq:Seq,
Collection:Collection,
Map:src_Map__Map,
OrderedMap:OrderedMap,
List:List,
Stack:Stack,
Set:src_Set__Set,
OrderedSet:OrderedSet,

Record:Record,
Range:Range,
Repeat:Repeat,

is:is,
fromJS:fromJS};



return Immutable;});
});
__d('AwesomeProject/style.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=
React.StyleSheet;

module.exports = StyleSheet.create({
rootContainer:{
flex:1,
backgroundColor:'white'},


headerContainer:{
paddingTop:20,
height:64,
backgroundColor:'#0087fa',
alignItems:'center',
justifyContent:'center',
flexDirection:'row'},


header:{
color:'white',
fontSize:20},


text:{
color:'black',
fontSize:30},

button:{
borderColor:'#696969',
borderRadius:8,
borderWidth:1,
padding:10,
margin:5,
alignItems:'center',
justifyContent:'center'},

container:{
flex:1}});
});
__d('AwesomeProject/styleListView.js',function(global, require, module, exports) {  'use strict';

var React=require('react-native/Libraries/react-native/react-native.js');var 


StyleSheet=
React.StyleSheet;

module.exports = StyleSheet.create({
container:{
flex:1,
flexDirection:'row',
justifyContent:'center',
alignItems:'center',
height:50,
borderBottomWidth:0.5},

title:{
fontSize:20,
textAlign:'center'},

listView:{
backgroundColor:'#white'}});
});
;require("AwesomeProject/index.ios.js");
__SSTOKENSTRING = "@generated SignedSource<<979866e067648be48f0142c350e54046>>";
